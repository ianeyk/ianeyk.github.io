var Ga=Object.defineProperty;var Ka=(e,t,s)=>t in e?Ga(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var m=(e,t,s)=>(Ka(e,typeof t!="symbol"?t+"":t,s),s),fi=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var c=(e,t,s)=>(fi(e,t,"read from private field"),s?s.call(e):t.get(e)),Z=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},G=(e,t,s,n)=>(fi(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s);var bn=(e,t,s,n)=>({set _(i){G(e,t,i,s)},get _(){return c(e,t,n)}}),F=(e,t,s)=>(fi(e,t,"access private method"),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function eo(e,t){const s=new Set(e.split(","));return n=>s.has(n)}const Me={},Es=[],ct=()=>{},qa=()=>!1,Kn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),to=e=>e.startsWith("onUpdate:"),Pe=Object.assign,so=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Ya=Object.prototype.hasOwnProperty,le=(e,t)=>Ya.call(e,t),Y=Array.isArray,Ds=e=>qn(e)==="[object Map]",wr=e=>qn(e)==="[object Set]",ee=e=>typeof e=="function",Le=e=>typeof e=="string",Vs=e=>typeof e=="symbol",_e=e=>e!==null&&typeof e=="object",Mr=e=>(_e(e)||ee(e))&&ee(e.then)&&ee(e.catch),_r=Object.prototype.toString,qn=e=>_r.call(e),Xa=e=>qn(e).slice(8,-1),Vr=e=>qn(e)==="[object Object]",no=e=>Le(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Xs=eo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Yn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Ja=/-(\w)/g,zs=Yn(e=>e.replace(Ja,(t,s)=>s?s.toUpperCase():"")),Za=/\B([A-Z])/g,Bs=Yn(e=>e.replace(Za,"-$1").toLowerCase()),Sr=Yn(e=>e.charAt(0).toUpperCase()+e.slice(1)),ui=Yn(e=>e?`on${Sr(e)}`:""),os=(e,t)=>!Object.is(e,t),Pn=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},Tr=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Vi=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Qa=e=>{const t=Le(e)?Number(e):NaN;return isNaN(t)?e:t};let Do;const Ar=()=>Do||(Do=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qe(e){if(Y(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=Le(n)?nl(n):qe(n);if(i)for(const o in i)t[o]=i[o]}return t}else if(Le(e)||_e(e))return e}const el=/;(?![^(]*\))/g,tl=/:([^]+)/,sl=/\/\*[^]*?\*\//g;function nl(e){const t={};return e.replace(sl,"").split(el).forEach(s=>{if(s){const n=s.split(tl);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function io(e){let t="";if(Le(e))t=e;else if(Y(e))for(let s=0;s<e.length;s++){const n=io(e[s]);n&&(t+=n+" ")}else if(_e(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const il="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ol=eo(il);function Cr(e){return!!e||e===""}const ss=e=>Le(e)?e:e==null?"":Y(e)||_e(e)&&(e.toString===_r||!ee(e.toString))?JSON.stringify(e,Pr,2):String(e),Pr=(e,t)=>t&&t.__v_isRef?Pr(e,t.value):Ds(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,i],o)=>(s[hi(n,o)+" =>"]=i,s),{})}:wr(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>hi(s))}:Vs(t)?hi(t):_e(t)&&!Y(t)&&!Vr(t)?String(t):t,hi=(e,t="")=>{var s;return Vs(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gt;class rl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=gt,!t&&gt&&(this.index=(gt.scopes||(gt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=gt;try{return gt=this,t()}finally{gt=s}}}on(){gt=this}off(){gt=this.parent}stop(t){if(this._active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function al(e,t=gt){t&&t.active&&t.effects.push(e)}function ll(){return gt}let Ms;class oo{constructor(t,s,n,i){this.fn=t,this.trigger=s,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,al(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,as();for(let t=0;t<this._depsLength;t++){const s=this.deps[t];if(s.computed&&(cl(s.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ls()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=ns,s=Ms;try{return ns=!0,Ms=this,this._runnings++,Oo(this),this.fn()}finally{Wo(this),this._runnings--,Ms=s,ns=t}}stop(){this.active&&(Oo(this),Wo(this),this.onStop&&this.onStop(),this.active=!1)}}function cl(e){return e.value}function Oo(e){e._trackId++,e._depsLength=0}function Wo(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Lr(e.deps[t],e);e.deps.length=e._depsLength}}function Lr(e,t){const s=e.get(t);s!==void 0&&t._trackId!==s&&(e.delete(t),e.size===0&&e.cleanup())}let ns=!0,Si=0;const Er=[];function as(){Er.push(ns),ns=!1}function ls(){const e=Er.pop();ns=e===void 0?!0:e}function ro(){Si++}function ao(){for(Si--;!Si&&Ti.length;)Ti.shift()()}function Dr(e,t,s){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&Lr(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Ti=[];function Or(e,t,s){ro();for(const n of e.keys()){let i;n._dirtyLevel<t&&(i??(i=e.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=t),n._shouldSchedule&&(i??(i=e.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&Ti.push(n.scheduler)))}ao()}const Wr=(e,t)=>{const s=new Map;return s.cleanup=e,s.computed=t,s},Ai=new WeakMap,_s=Symbol(""),Ci=Symbol("");function Qe(e,t,s){if(ns&&Ms){let n=Ai.get(e);n||Ai.set(e,n=new Map);let i=n.get(s);i||n.set(s,i=Wr(()=>n.delete(s))),Dr(Ms,i)}}function Nt(e,t,s,n,i,o){const r=Ai.get(e);if(!r)return;let a=[];if(t==="clear")a=[...r.values()];else if(s==="length"&&Y(e)){const l=Number(n);r.forEach((f,h)=>{(h==="length"||!Vs(h)&&h>=l)&&a.push(f)})}else switch(s!==void 0&&a.push(r.get(s)),t){case"add":Y(e)?no(s)&&a.push(r.get("length")):(a.push(r.get(_s)),Ds(e)&&a.push(r.get(Ci)));break;case"delete":Y(e)||(a.push(r.get(_s)),Ds(e)&&a.push(r.get(Ci)));break;case"set":Ds(e)&&a.push(r.get(_s));break}ro();for(const l of a)l&&Or(l,4);ao()}const fl=eo("__proto__,__v_isRef,__isVue"),Fr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Vs)),Fo=ul();function ul(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const n=ge(this);for(let o=0,r=this.length;o<r;o++)Qe(n,"get",o+"");const i=n[t](...s);return i===-1||i===!1?n[t](...s.map(ge)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){as(),ro();const n=ge(this)[t].apply(this,s);return ao(),ls(),n}}),e}function hl(e){Vs(e)||(e=String(e));const t=ge(this);return Qe(t,"has",e),t.hasOwnProperty(e)}class kr{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){const i=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(i?o?Sl:zr:o?Nr:Ir).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const r=Y(t);if(!i){if(r&&le(Fo,s))return Reflect.get(Fo,s,n);if(s==="hasOwnProperty")return hl}const a=Reflect.get(t,s,n);return(Vs(s)?Fr.has(s):fl(s))||(i||Qe(t,"get",s),o)?a:ze(a)?r&&no(s)?a:a.value:_e(a)?i?Br(a):fo(a):a}}class Rr extends kr{constructor(t=!1){super(!1,t)}set(t,s,n,i){let o=t[s];if(!this._isShallow){const l=nn(o);if(!Nn(n)&&!nn(n)&&(o=ge(o),n=ge(n)),!Y(t)&&ze(o)&&!ze(n))return l?!1:(o.value=n,!0)}const r=Y(t)&&no(s)?Number(s)<t.length:le(t,s),a=Reflect.set(t,s,n,i);return t===ge(i)&&(r?os(n,o)&&Nt(t,"set",s,n):Nt(t,"add",s,n)),a}deleteProperty(t,s){const n=le(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&n&&Nt(t,"delete",s,void 0),i}has(t,s){const n=Reflect.has(t,s);return(!Vs(s)||!Fr.has(s))&&Qe(t,"has",s),n}ownKeys(t){return Qe(t,"iterate",Y(t)?"length":_s),Reflect.ownKeys(t)}}class dl extends kr{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const gl=new Rr,ml=new dl,pl=new Rr(!0);const lo=e=>e,Xn=e=>Reflect.getPrototypeOf(e);function xn(e,t,s=!1,n=!1){e=e.__v_raw;const i=ge(e),o=ge(t);s||(os(t,o)&&Qe(i,"get",t),Qe(i,"get",o));const{has:r}=Xn(i),a=n?lo:s?ho:on;if(r.call(i,t))return a(e.get(t));if(r.call(i,o))return a(e.get(o));e!==i&&e.get(t)}function wn(e,t=!1){const s=this.__v_raw,n=ge(s),i=ge(e);return t||(os(e,i)&&Qe(n,"has",e),Qe(n,"has",i)),e===i?s.has(e):s.has(e)||s.has(i)}function Mn(e,t=!1){return e=e.__v_raw,!t&&Qe(ge(e),"iterate",_s),Reflect.get(e,"size",e)}function ko(e){e=ge(e);const t=ge(this);return Xn(t).has.call(t,e)||(t.add(e),Nt(t,"add",e,e)),this}function Ro(e,t){t=ge(t);const s=ge(this),{has:n,get:i}=Xn(s);let o=n.call(s,e);o||(e=ge(e),o=n.call(s,e));const r=i.call(s,e);return s.set(e,t),o?os(t,r)&&Nt(s,"set",e,t):Nt(s,"add",e,t),this}function Io(e){const t=ge(this),{has:s,get:n}=Xn(t);let i=s.call(t,e);i||(e=ge(e),i=s.call(t,e)),n&&n.call(t,e);const o=t.delete(e);return i&&Nt(t,"delete",e,void 0),o}function No(){const e=ge(this),t=e.size!==0,s=e.clear();return t&&Nt(e,"clear",void 0,void 0),s}function _n(e,t){return function(n,i){const o=this,r=o.__v_raw,a=ge(r),l=t?lo:e?ho:on;return!e&&Qe(a,"iterate",_s),r.forEach((f,h)=>n.call(i,l(f),l(h),o))}}function Vn(e,t,s){return function(...n){const i=this.__v_raw,o=ge(i),r=Ds(o),a=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,f=i[e](...n),h=s?lo:t?ho:on;return!t&&Qe(o,"iterate",l?Ci:_s),{next(){const{value:d,done:p}=f.next();return p?{value:d,done:p}:{value:a?[h(d[0]),h(d[1])]:h(d),done:p}},[Symbol.iterator](){return this}}}}function jt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function vl(){const e={get(o){return xn(this,o)},get size(){return Mn(this)},has:wn,add:ko,set:Ro,delete:Io,clear:No,forEach:_n(!1,!1)},t={get(o){return xn(this,o,!1,!0)},get size(){return Mn(this)},has:wn,add:ko,set:Ro,delete:Io,clear:No,forEach:_n(!1,!0)},s={get(o){return xn(this,o,!0)},get size(){return Mn(this,!0)},has(o){return wn.call(this,o,!0)},add:jt("add"),set:jt("set"),delete:jt("delete"),clear:jt("clear"),forEach:_n(!0,!1)},n={get(o){return xn(this,o,!0,!0)},get size(){return Mn(this,!0)},has(o){return wn.call(this,o,!0)},add:jt("add"),set:jt("set"),delete:jt("delete"),clear:jt("clear"),forEach:_n(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Vn(o,!1,!1),s[o]=Vn(o,!0,!1),t[o]=Vn(o,!1,!0),n[o]=Vn(o,!0,!0)}),[e,s,t,n]}const[yl,bl,xl,wl]=vl();function co(e,t){const s=t?e?wl:xl:e?bl:yl;return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(le(s,i)&&i in n?s:n,i,o)}const Ml={get:co(!1,!1)},_l={get:co(!1,!0)},Vl={get:co(!0,!1)};const Ir=new WeakMap,Nr=new WeakMap,zr=new WeakMap,Sl=new WeakMap;function Tl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Al(e){return e.__v_skip||!Object.isExtensible(e)?0:Tl(Xa(e))}function fo(e){return nn(e)?e:uo(e,!1,gl,Ml,Ir)}function Cl(e){return uo(e,!1,pl,_l,Nr)}function Br(e){return uo(e,!0,ml,Vl,zr)}function uo(e,t,s,n,i){if(!_e(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const r=Al(e);if(r===0)return e;const a=new Proxy(e,r===2?n:s);return i.set(e,a),a}function Js(e){return nn(e)?Js(e.__v_raw):!!(e&&e.__v_isReactive)}function nn(e){return!!(e&&e.__v_isReadonly)}function Nn(e){return!!(e&&e.__v_isShallow)}function jr(e){return e?!!e.__v_raw:!1}function ge(e){const t=e&&e.__v_raw;return t?ge(t):e}function Pl(e){return Object.isExtensible(e)&&Tr(e,"__v_skip",!0),e}const on=e=>_e(e)?fo(e):e,ho=e=>_e(e)?Br(e):e;class $r{constructor(t,s,n,i){this.getter=t,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new oo(()=>t(this._value),()=>Ln(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=ge(this);return(!t._cacheable||t.effect.dirty)&&os(t._value,t._value=t.effect.run())&&Ln(t,4),Hr(t),t.effect._dirtyLevel>=2&&Ln(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Ll(e,t,s=!1){let n,i;const o=ee(e);return o?(n=e,i=ct):(n=e.get,i=e.set),new $r(n,i,o||!i,s)}function Hr(e){var t;ns&&Ms&&(e=ge(e),Dr(Ms,(t=e.dep)!=null?t:e.dep=Wr(()=>e.dep=void 0,e instanceof $r?e:void 0)))}function Ln(e,t=4,s){e=ge(e);const n=e.dep;n&&Or(n,t)}function ze(e){return!!(e&&e.__v_isRef===!0)}function L(e){return Ur(e,!1)}function El(e){return Ur(e,!0)}function Ur(e,t){return ze(e)?e:new Dl(e,t)}class Dl{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:ge(t),this._value=s?t:on(t)}get value(){return Hr(this),this._value}set value(t){const s=this.__v_isShallow||Nn(t)||nn(t);t=s?t:ge(t),os(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:on(t),Ln(this,4))}}function Ut(e){return ze(e)?e.value:e}const Ol={get:(e,t,s)=>Ut(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return ze(i)&&!ze(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function Gr(e){return Js(e)?e:new Proxy(e,Ol)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function is(e,t,s,n){try{return n?e(...n):e()}catch(i){Jn(i,t,s)}}function ht(e,t,s,n){if(ee(e)){const i=is(e,t,s,n);return i&&Mr(i)&&i.catch(o=>{Jn(o,t,s)}),i}if(Y(e)){const i=[];for(let o=0;o<e.length;o++)i.push(ht(e[o],t,s,n));return i}}function Jn(e,t,s,n=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const r=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${s}`;for(;o;){const f=o.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](e,r,a)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){as(),is(l,null,10,[e,r,a]),ls();return}}Wl(e,s,i,n)}function Wl(e,t,s,n=!0){console.error(e)}let rn=!1,Pi=!1;const $e=[];let Ot=0;const Os=[];let Xt=null,gs=0;const Kr=Promise.resolve();let go=null;function Fl(e){const t=go||Kr;return e?t.then(this?e.bind(this):e):t}function kl(e){let t=Ot+1,s=$e.length;for(;t<s;){const n=t+s>>>1,i=$e[n],o=an(i);o<e||o===e&&i.pre?t=n+1:s=n}return t}function mo(e){(!$e.length||!$e.includes(e,rn&&e.allowRecurse?Ot+1:Ot))&&(e.id==null?$e.push(e):$e.splice(kl(e.id),0,e),qr())}function qr(){!rn&&!Pi&&(Pi=!0,go=Kr.then(Xr))}function Rl(e){const t=$e.indexOf(e);t>Ot&&$e.splice(t,1)}function Il(e){Y(e)?Os.push(...e):(!Xt||!Xt.includes(e,e.allowRecurse?gs+1:gs))&&Os.push(e),qr()}function zo(e,t,s=rn?Ot+1:0){for(;s<$e.length;s++){const n=$e[s];if(n&&n.pre){if(e&&n.id!==e.uid)continue;$e.splice(s,1),s--,n()}}}function Yr(e){if(Os.length){const t=[...new Set(Os)].sort((s,n)=>an(s)-an(n));if(Os.length=0,Xt){Xt.push(...t);return}for(Xt=t,gs=0;gs<Xt.length;gs++)Xt[gs]();Xt=null,gs=0}}const an=e=>e.id==null?1/0:e.id,Nl=(e,t)=>{const s=an(e)-an(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function Xr(e){Pi=!1,rn=!0,$e.sort(Nl);try{for(Ot=0;Ot<$e.length;Ot++){const t=$e[Ot];t&&t.active!==!1&&is(t,null,14)}}finally{Ot=0,$e.length=0,Yr(),rn=!1,go=null,($e.length||Os.length)&&Xr()}}function zl(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Me;let i=s;const o=t.startsWith("update:"),r=o&&t.slice(7);if(r&&r in n){const h=`${r==="modelValue"?"model":r}Modifiers`,{number:d,trim:p}=n[h]||Me;p&&(i=s.map(y=>Le(y)?y.trim():y)),d&&(i=s.map(Vi))}let a,l=n[a=ui(t)]||n[a=ui(zs(t))];!l&&o&&(l=n[a=ui(Bs(t))]),l&&ht(l,e,6,i);const f=n[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ht(f,e,6,i)}}function Jr(e,t,s=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let r={},a=!1;if(!ee(e)){const l=f=>{const h=Jr(f,t,!0);h&&(a=!0,Pe(r,h))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(_e(e)&&n.set(e,null),null):(Y(o)?o.forEach(l=>r[l]=null):Pe(r,o),_e(e)&&n.set(e,r),r)}function Zn(e,t){return!e||!Kn(t)?!1:(t=t.slice(2).replace(/Once$/,""),le(e,t[0].toLowerCase()+t.slice(1))||le(e,Bs(t))||le(e,t))}let Xe=null,Qn=null;function zn(e){const t=Xe;return Xe=e,Qn=e&&e.type.__scopeId||null,t}function Zr(e){Qn=e}function Qr(){Qn=null}function ea(e,t=Xe,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&Zo(-1);const o=zn(t);let r;try{r=e(...i)}finally{zn(o),n._d&&Zo(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function di(e){const{type:t,vnode:s,proxy:n,withProxy:i,propsOptions:[o],slots:r,attrs:a,emit:l,render:f,renderCache:h,props:d,data:p,setupState:y,ctx:_,inheritAttrs:E}=e,k=zn(e);let S,T;try{if(s.shapeFlag&4){const K=i||n,te=K;S=Dt(f.call(te,K,h,d,y,p,_)),T=a}else{const K=t;S=Dt(K.length>1?K(d,{attrs:a,slots:r,emit:l}):K(d,null)),T=t.props?a:Bl(a)}}catch(K){en.length=0,Jn(K,e,1),S=Ne(ft)}let $=S;if(T&&E!==!1){const K=Object.keys(T),{shapeFlag:te}=$;K.length&&te&7&&(o&&K.some(to)&&(T=jl(T,o)),$=rs($,T,!1,!0))}return s.dirs&&($=rs($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(s.dirs):s.dirs),s.transition&&($.transition=s.transition),S=$,zn(k),S}const Bl=e=>{let t;for(const s in e)(s==="class"||s==="style"||Kn(s))&&((t||(t={}))[s]=e[s]);return t},jl=(e,t)=>{const s={};for(const n in e)(!to(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function $l(e,t,s){const{props:n,children:i,component:o}=e,{props:r,children:a,patchFlag:l}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Bo(n,r,f):!!r;if(l&8){const h=t.dynamicProps;for(let d=0;d<h.length;d++){const p=h[d];if(r[p]!==n[p]&&!Zn(f,p))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===r?!1:n?r?Bo(n,r,f):!0:!!r;return!1}function Bo(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!Zn(s,o))return!0}return!1}function Hl({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Ul=Symbol.for("v-ndc"),Gl=e=>e.__isSuspense;function Kl(e,t){t&&t.pendingBranch?Y(e)?t.effects.push(...e):t.effects.push(e):Il(e)}const ql=Symbol.for("v-scx"),Yl=()=>Dn(ql);function Xl(e,t){return po(e,null,t)}const Sn={};function gi(e,t,s){return po(e,t,s)}function po(e,t,{immediate:s,deep:n,flush:i,once:o,onTrack:r,onTrigger:a}=Me){if(t&&o){const X=t;t=(...me)=>{X(...me),te()}}const l=He,f=X=>n===!0?X:vs(X,n===!1?1:void 0);let h,d=!1,p=!1;if(ze(e)?(h=()=>e.value,d=Nn(e)):Js(e)?(h=()=>f(e),d=!0):Y(e)?(p=!0,d=e.some(X=>Js(X)||Nn(X)),h=()=>e.map(X=>{if(ze(X))return X.value;if(Js(X))return f(X);if(ee(X))return is(X,l,2)})):ee(e)?t?h=()=>is(e,l,2):h=()=>(y&&y(),ht(e,l,3,[_])):h=ct,t&&n){const X=h;h=()=>vs(X())}let y,_=X=>{y=$.onStop=()=>{is(X,l,4),y=$.onStop=void 0}},E;if(oi)if(_=ct,t?s&&ht(t,l,3,[h(),p?[]:void 0,_]):h(),i==="sync"){const X=Yl();E=X.__watcherHandles||(X.__watcherHandles=[])}else return ct;let k=p?new Array(e.length).fill(Sn):Sn;const S=()=>{if(!(!$.active||!$.dirty))if(t){const X=$.run();(n||d||(p?X.some((me,H)=>os(me,k[H])):os(X,k)))&&(y&&y(),ht(t,l,3,[X,k===Sn?void 0:p&&k[0]===Sn?[]:k,_]),k=X)}else $.run()};S.allowRecurse=!!t;let T;i==="sync"?T=S:i==="post"?T=()=>Ye(S,l&&l.suspense):(S.pre=!0,l&&(S.id=l.uid),T=()=>mo(S));const $=new oo(h,ct,T),K=ll(),te=()=>{$.stop(),K&&so(K.effects,$)};return t?s?S():k=$.run():i==="post"?Ye($.run.bind($),l&&l.suspense):$.run(),E&&E.push(te),te}function Jl(e,t,s){const n=this.proxy,i=Le(e)?e.includes(".")?ta(n,e):()=>n[e]:e.bind(n,n);let o;ee(t)?o=t:(o=t.handler,s=t);const r=pn(this),a=po(i,o.bind(n),s);return r(),a}function ta(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}function vs(e,t=1/0,s){if(t<=0||!_e(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,ze(e))vs(e.value,t,s);else if(Y(e))for(let n=0;n<e.length;n++)vs(e[n],t,s);else if(wr(e)||Ds(e))e.forEach(n=>{vs(n,t,s)});else if(Vr(e))for(const n in e)vs(e[n],t,s);return e}function jo(e,t){if(Xe===null)return e;const s=ri(Xe)||Xe.proxy,n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,r,a,l=Me]=t[i];o&&(ee(o)&&(o={mounted:o,updated:o}),o.deep&&vs(r),n.push({dir:o,instance:s,value:r,oldValue:void 0,arg:a,modifiers:l}))}return e}function fs(e,t,s,n){const i=e.dirs,o=t&&t.dirs;for(let r=0;r<i.length;r++){const a=i[r];o&&(a.oldValue=o[r].value);let l=a.dir[n];l&&(as(),ht(l,s,8,[e.el,a,e,t]),ls())}}const Jt=Symbol("_leaveCb"),Tn=Symbol("_enterCb");function Zl(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ni(()=>{e.isMounted=!0}),vo(()=>{e.isUnmounting=!0}),e}const at=[Function,Array],sa={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:at,onEnter:at,onAfterEnter:at,onEnterCancelled:at,onBeforeLeave:at,onLeave:at,onAfterLeave:at,onLeaveCancelled:at,onBeforeAppear:at,onAppear:at,onAfterAppear:at,onAppearCancelled:at},Ql={name:"BaseTransition",props:sa,setup(e,{slots:t}){const s=Nc(),n=Zl();return()=>{const i=t.default&&ia(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const p of i)if(p.type!==ft){o=p;break}}const r=ge(e),{mode:a}=r;if(n.isLeaving)return mi(o);const l=$o(o);if(!l)return mi(o);const f=Li(l,r,n,s);Ei(l,f);const h=s.subTree,d=h&&$o(h);if(d&&d.type!==ft&&!ms(l,d)){const p=Li(d,r,n,s);if(Ei(d,p),a==="out-in"&&l.type!==ft)return n.isLeaving=!0,p.afterLeave=()=>{n.isLeaving=!1,s.update.active!==!1&&(s.effect.dirty=!0,s.update())},mi(o);a==="in-out"&&l.type!==ft&&(p.delayLeave=(y,_,E)=>{const k=na(n,d);k[String(d.key)]=d,y[Jt]=()=>{_(),y[Jt]=void 0,delete f.delayedLeave},f.delayedLeave=E})}return o}}},ec=Ql;function na(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function Li(e,t,s,n){const{appear:i,mode:o,persisted:r=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:d,onLeave:p,onAfterLeave:y,onLeaveCancelled:_,onBeforeAppear:E,onAppear:k,onAfterAppear:S,onAppearCancelled:T}=t,$=String(e.key),K=na(s,e),te=(H,he)=>{H&&ht(H,n,9,he)},X=(H,he)=>{const de=he[1];te(H,he),Y(H)?H.every(Ae=>Ae.length<=1)&&de():H.length<=1&&de()},me={mode:o,persisted:r,beforeEnter(H){let he=a;if(!s.isMounted)if(i)he=E||a;else return;H[Jt]&&H[Jt](!0);const de=K[$];de&&ms(e,de)&&de.el[Jt]&&de.el[Jt](),te(he,[H])},enter(H){let he=l,de=f,Ae=h;if(!s.isMounted)if(i)he=k||l,de=S||f,Ae=T||h;else return;let z=!1;const be=H[Tn]=I=>{z||(z=!0,I?te(Ae,[H]):te(de,[H]),me.delayedLeave&&me.delayedLeave(),H[Tn]=void 0)};he?X(he,[H,be]):be()},leave(H,he){const de=String(e.key);if(H[Tn]&&H[Tn](!0),s.isUnmounting)return he();te(d,[H]);let Ae=!1;const z=H[Jt]=be=>{Ae||(Ae=!0,he(),be?te(_,[H]):te(y,[H]),H[Jt]=void 0,K[de]===e&&delete K[de])};K[de]=e,p?X(p,[H,z]):z()},clone(H){return Li(H,t,s,n)}};return me}function mi(e){if(ti(e))return e=rs(e),e.children=null,e}function $o(e){if(!ti(e))return e;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&ee(s.default))return s.default()}}function Ei(e,t){e.shapeFlag&6&&e.component?Ei(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ia(e,t=!1,s){let n=[],i=0;for(let o=0;o<e.length;o++){let r=e[o];const a=s==null?r.key:String(s)+String(r.key!=null?r.key:o);r.type===lt?(r.patchFlag&128&&i++,n=n.concat(ia(r.children,t,a))):(t||r.type!==ft)&&n.push(a!=null?rs(r,{key:a}):r)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function ei(e,t){return ee(e)?Pe({name:e.name},t,{setup:e}):e}const En=e=>!!e.type.__asyncLoader,ti=e=>e.type.__isKeepAlive;function tc(e,t){oa(e,"a",t)}function sc(e,t){oa(e,"da",t)}function oa(e,t,s=He){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(si(t,n,s),s){let i=s.parent;for(;i&&i.parent;)ti(i.parent.vnode)&&nc(n,t,s,i),i=i.parent}}function nc(e,t,s,n){const i=si(t,e,n,!0);ra(()=>{so(n[t],i)},s)}function si(e,t,s=He,n=!1){if(s){const i=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(s.isUnmounted)return;as();const a=pn(s),l=ht(t,s,e,r);return a(),ls(),l});return n?i.unshift(o):i.push(o),o}}const Bt=e=>(t,s=He)=>(!oi||e==="sp")&&si(e,(...n)=>t(...n),s),ic=Bt("bm"),ni=Bt("m"),oc=Bt("bu"),rc=Bt("u"),vo=Bt("bum"),ra=Bt("um"),ac=Bt("sp"),lc=Bt("rtg"),cc=Bt("rtc");function fc(e,t=He){si("ec",e,t)}function uc(e,t,s,n){let i;const o=s;if(Y(e)||Le(e)){i=new Array(e.length);for(let r=0,a=e.length;r<a;r++)i[r]=t(e[r],r,void 0,o)}else if(typeof e=="number"){i=new Array(e);for(let r=0;r<e;r++)i[r]=t(r+1,r,void 0,o)}else if(_e(e))if(e[Symbol.iterator])i=Array.from(e,(r,a)=>t(r,a,void 0,o));else{const r=Object.keys(e);i=new Array(r.length);for(let a=0,l=r.length;a<l;a++){const f=r[a];i[a]=t(e[f],f,a,o)}}else i=[];return i}const Di=e=>e?_a(e)?ri(e)||e.proxy:Di(e.parent):null,Zs=Pe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Di(e.parent),$root:e=>Di(e.root),$emit:e=>e.emit,$options:e=>yo(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,mo(e.update)}),$nextTick:e=>e.n||(e.n=Fl.bind(e.proxy)),$watch:e=>Jl.bind(e)}),pi=(e,t)=>e!==Me&&!e.__isScriptSetup&&le(e,t),hc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:o,accessCache:r,type:a,appContext:l}=e;let f;if(t[0]!=="$"){const y=r[t];if(y!==void 0)switch(y){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return o[t]}else{if(pi(n,t))return r[t]=1,n[t];if(i!==Me&&le(i,t))return r[t]=2,i[t];if((f=e.propsOptions[0])&&le(f,t))return r[t]=3,o[t];if(s!==Me&&le(s,t))return r[t]=4,s[t];Oi&&(r[t]=0)}}const h=Zs[t];let d,p;if(h)return t==="$attrs"&&Qe(e.attrs,"get",""),h(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(s!==Me&&le(s,t))return r[t]=4,s[t];if(p=l.config.globalProperties,le(p,t))return p[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:o}=e;return pi(i,t)?(i[t]=s,!0):n!==Me&&le(n,t)?(n[t]=s,!0):le(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,propsOptions:o}},r){let a;return!!s[r]||e!==Me&&le(e,r)||pi(t,r)||(a=o[0])&&le(a,r)||le(n,r)||le(Zs,r)||le(i.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:le(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Ho(e){return Y(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Oi=!0;function dc(e){const t=yo(e),s=e.proxy,n=e.ctx;Oi=!1,t.beforeCreate&&Uo(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:r,watch:a,provide:l,inject:f,created:h,beforeMount:d,mounted:p,beforeUpdate:y,updated:_,activated:E,deactivated:k,beforeDestroy:S,beforeUnmount:T,destroyed:$,unmounted:K,render:te,renderTracked:X,renderTriggered:me,errorCaptured:H,serverPrefetch:he,expose:de,inheritAttrs:Ae,components:z,directives:be,filters:I}=t;if(f&&gc(f,n,null),r)for(const D in r){const ae=r[D];ee(ae)&&(n[D]=ae.bind(s))}if(i){const D=i.call(s,s);_e(D)&&(e.data=fo(D))}if(Oi=!0,o)for(const D in o){const ae=o[D],kt=ee(ae)?ae.bind(s,s):ee(ae.get)?ae.get.bind(s,s):ct,Ss=!ee(ae)&&ee(ae.set)?ae.set.bind(s):ct,cs=se({get:kt,set:Ss});Object.defineProperty(n,D,{enumerable:!0,configurable:!0,get:()=>cs.value,set:Tt=>cs.value=Tt})}if(a)for(const D in a)aa(a[D],n,s,D);if(l){const D=ee(l)?l.call(s):l;Reflect.ownKeys(D).forEach(ae=>{xc(ae,D[ae])})}h&&Uo(h,e,"c");function W(D,ae){Y(ae)?ae.forEach(kt=>D(kt.bind(s))):ae&&D(ae.bind(s))}if(W(ic,d),W(ni,p),W(oc,y),W(rc,_),W(tc,E),W(sc,k),W(fc,H),W(cc,X),W(lc,me),W(vo,T),W(ra,K),W(ac,he),Y(de))if(de.length){const D=e.exposed||(e.exposed={});de.forEach(ae=>{Object.defineProperty(D,ae,{get:()=>s[ae],set:kt=>s[ae]=kt})})}else e.exposed||(e.exposed={});te&&e.render===ct&&(e.render=te),Ae!=null&&(e.inheritAttrs=Ae),z&&(e.components=z),be&&(e.directives=be)}function gc(e,t,s=ct){Y(e)&&(e=Wi(e));for(const n in e){const i=e[n];let o;_e(i)?"default"in i?o=Dn(i.from||n,i.default,!0):o=Dn(i.from||n):o=Dn(i),ze(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[n]=o}}function Uo(e,t,s){ht(Y(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function aa(e,t,s,n){const i=n.includes(".")?ta(s,n):()=>s[n];if(Le(e)){const o=t[e];ee(o)&&gi(i,o)}else if(ee(e))gi(i,e.bind(s));else if(_e(e))if(Y(e))e.forEach(o=>aa(o,t,s,n));else{const o=ee(e.handler)?e.handler.bind(s):t[e.handler];ee(o)&&gi(i,o,e)}}function yo(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,a=o.get(t);let l;return a?l=a:!i.length&&!s&&!n?l=t:(l={},i.length&&i.forEach(f=>Bn(l,f,r,!0)),Bn(l,t,r)),_e(t)&&o.set(t,l),l}function Bn(e,t,s,n=!1){const{mixins:i,extends:o}=t;o&&Bn(e,o,s,!0),i&&i.forEach(r=>Bn(e,r,s,!0));for(const r in t)if(!(n&&r==="expose")){const a=mc[r]||s&&s[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const mc={data:Go,props:Ko,emits:Ko,methods:Ks,computed:Ks,beforeCreate:Ue,created:Ue,beforeMount:Ue,mounted:Ue,beforeUpdate:Ue,updated:Ue,beforeDestroy:Ue,beforeUnmount:Ue,destroyed:Ue,unmounted:Ue,activated:Ue,deactivated:Ue,errorCaptured:Ue,serverPrefetch:Ue,components:Ks,directives:Ks,watch:vc,provide:Go,inject:pc};function Go(e,t){return t?e?function(){return Pe(ee(e)?e.call(this,this):e,ee(t)?t.call(this,this):t)}:t:e}function pc(e,t){return Ks(Wi(e),Wi(t))}function Wi(e){if(Y(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ue(e,t){return e?[...new Set([].concat(e,t))]:t}function Ks(e,t){return e?Pe(Object.create(null),e,t):t}function Ko(e,t){return e?Y(e)&&Y(t)?[...new Set([...e,...t])]:Pe(Object.create(null),Ho(e),Ho(t??{})):t}function vc(e,t){if(!e)return t;if(!t)return e;const s=Pe(Object.create(null),e);for(const n in t)s[n]=Ue(e[n],t[n]);return s}function la(){return{app:null,config:{isNativeTag:qa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yc=0;function bc(e,t){return function(n,i=null){ee(n)||(n=Pe({},n)),i!=null&&!_e(i)&&(i=null);const o=la(),r=new WeakSet;let a=!1;const l=o.app={_uid:yc++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:Gc,get config(){return o.config},set config(f){},use(f,...h){return r.has(f)||(f&&ee(f.install)?(r.add(f),f.install(l,...h)):ee(f)&&(r.add(f),f(l,...h))),l},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),l},component(f,h){return h?(o.components[f]=h,l):o.components[f]},directive(f,h){return h?(o.directives[f]=h,l):o.directives[f]},mount(f,h,d){if(!a){const p=Ne(n,i);return p.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),h&&t?t(p,f):e(p,f,d),a=!0,l._container=f,f.__vue_app__=l,ri(p.component)||p.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(f,h){return o.provides[f]=h,l},runWithContext(f){const h=Qs;Qs=l;try{return f()}finally{Qs=h}}};return l}}let Qs=null;function xc(e,t){if(He){let s=He.provides;const n=He.parent&&He.parent.provides;n===s&&(s=He.provides=Object.create(n)),s[e]=t}}function Dn(e,t,s=!1){const n=He||Xe;if(n||Qs){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Qs._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return s&&ee(t)?t.call(n&&n.proxy):t}}const ca={},fa=()=>Object.create(ca),ua=e=>Object.getPrototypeOf(e)===ca;function wc(e,t,s,n=!1){const i={},o=fa();e.propsDefaults=Object.create(null),ha(e,t,i,o);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);s?e.props=n?i:Cl(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function Mc(e,t,s,n){const{props:i,attrs:o,vnode:{patchFlag:r}}=e,a=ge(i),[l]=e.propsOptions;let f=!1;if((n||r>0)&&!(r&16)){if(r&8){const h=e.vnode.dynamicProps;for(let d=0;d<h.length;d++){let p=h[d];if(Zn(e.emitsOptions,p))continue;const y=t[p];if(l)if(le(o,p))y!==o[p]&&(o[p]=y,f=!0);else{const _=zs(p);i[_]=Fi(l,a,_,y,e,!1)}else y!==o[p]&&(o[p]=y,f=!0)}}}else{ha(e,t,i,o)&&(f=!0);let h;for(const d in a)(!t||!le(t,d)&&((h=Bs(d))===d||!le(t,h)))&&(l?s&&(s[d]!==void 0||s[h]!==void 0)&&(i[d]=Fi(l,a,d,void 0,e,!0)):delete i[d]);if(o!==a)for(const d in o)(!t||!le(t,d))&&(delete o[d],f=!0)}f&&Nt(e.attrs,"set","")}function ha(e,t,s,n){const[i,o]=e.propsOptions;let r=!1,a;if(t)for(let l in t){if(Xs(l))continue;const f=t[l];let h;i&&le(i,h=zs(l))?!o||!o.includes(h)?s[h]=f:(a||(a={}))[h]=f:Zn(e.emitsOptions,l)||(!(l in n)||f!==n[l])&&(n[l]=f,r=!0)}if(o){const l=ge(s),f=a||Me;for(let h=0;h<o.length;h++){const d=o[h];s[d]=Fi(i,l,d,f[d],e,!le(f,d))}}return r}function Fi(e,t,s,n,i,o){const r=e[s];if(r!=null){const a=le(r,"default");if(a&&n===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&ee(l)){const{propsDefaults:f}=i;if(s in f)n=f[s];else{const h=pn(i);n=f[s]=l.call(null,t),h()}}else n=l}r[0]&&(o&&!a?n=!1:r[1]&&(n===""||n===Bs(s))&&(n=!0))}return n}function da(e,t,s=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const o=e.props,r={},a=[];let l=!1;if(!ee(e)){const h=d=>{l=!0;const[p,y]=da(d,t,!0);Pe(r,p),y&&a.push(...y)};!s&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!o&&!l)return _e(e)&&n.set(e,Es),Es;if(Y(o))for(let h=0;h<o.length;h++){const d=zs(o[h]);qo(d)&&(r[d]=Me)}else if(o)for(const h in o){const d=zs(h);if(qo(d)){const p=o[h],y=r[d]=Y(p)||ee(p)?{type:p}:Pe({},p);if(y){const _=Jo(Boolean,y.type),E=Jo(String,y.type);y[0]=_>-1,y[1]=E<0||_<E,(_>-1||le(y,"default"))&&a.push(d)}}}const f=[r,a];return _e(e)&&n.set(e,f),f}function qo(e){return e[0]!=="$"&&!Xs(e)}function Yo(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Xo(e,t){return Yo(e)===Yo(t)}function Jo(e,t){return Y(t)?t.findIndex(s=>Xo(s,e)):ee(t)&&Xo(t,e)?0:-1}const ga=e=>e[0]==="_"||e==="$stable",bo=e=>Y(e)?e.map(Dt):[Dt(e)],_c=(e,t,s)=>{if(t._n)return t;const n=ea((...i)=>bo(t(...i)),s);return n._c=!1,n},ma=(e,t,s)=>{const n=e._ctx;for(const i in e){if(ga(i))continue;const o=e[i];if(ee(o))t[i]=_c(i,o,n);else if(o!=null){const r=bo(o);t[i]=()=>r}}},pa=(e,t)=>{const s=bo(t);e.slots.default=()=>s},Vc=(e,t)=>{const s=e.slots=fa();if(e.vnode.shapeFlag&32){const n=t._;n?(Pe(s,t),Tr(s,"_",n,!0)):ma(t,s)}else t&&pa(e,t)},Sc=(e,t,s)=>{const{vnode:n,slots:i}=e;let o=!0,r=Me;if(n.shapeFlag&32){const a=t._;a?s&&a===1?o=!1:(Pe(i,t),!s&&a===1&&delete i._):(o=!t.$stable,ma(t,i)),r=t}else t&&(pa(e,t),r={default:1});if(o)for(const a in i)!ga(a)&&r[a]==null&&delete i[a]};function ki(e,t,s,n,i=!1){if(Y(e)){e.forEach((p,y)=>ki(p,t&&(Y(t)?t[y]:t),s,n,i));return}if(En(n)&&!i)return;const o=n.shapeFlag&4?ri(n.component)||n.component.proxy:n.el,r=i?null:o,{i:a,r:l}=e,f=t&&t.r,h=a.refs===Me?a.refs={}:a.refs,d=a.setupState;if(f!=null&&f!==l&&(Le(f)?(h[f]=null,le(d,f)&&(d[f]=null)):ze(f)&&(f.value=null)),ee(l))is(l,a,12,[r,h]);else{const p=Le(l),y=ze(l);if(p||y){const _=()=>{if(e.f){const E=p?le(d,l)?d[l]:h[l]:l.value;i?Y(E)&&so(E,o):Y(E)?E.includes(o)||E.push(o):p?(h[l]=[o],le(d,l)&&(d[l]=h[l])):(l.value=[o],e.k&&(h[e.k]=l.value))}else p?(h[l]=r,le(d,l)&&(d[l]=r)):y&&(l.value=r,e.k&&(h[e.k]=r))};r?(_.id=-1,Ye(_,s)):_()}}}const Ye=Kl;function Tc(e){return Ac(e)}function Ac(e,t){const s=Ar();s.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:r,createText:a,createComment:l,setText:f,setElementText:h,parentNode:d,nextSibling:p,setScopeId:y=ct,insertStaticContent:_}=e,E=(u,g,v,b=null,x=null,V=null,P=void 0,M=null,A=!!g.dynamicChildren)=>{if(u===g)return;u&&!ms(u,g)&&(b=yn(u),Tt(u,x,V,!0),u=null),g.patchFlag===-2&&(A=!1,g.dynamicChildren=null);const{type:w,ref:O,shapeFlag:U}=g;switch(w){case ii:k(u,g,v,b);break;case ft:S(u,g,v,b);break;case yi:u==null&&T(g,v,b,P);break;case lt:z(u,g,v,b,x,V,P,M,A);break;default:U&1?te(u,g,v,b,x,V,P,M,A):U&6?be(u,g,v,b,x,V,P,M,A):(U&64||U&128)&&w.process(u,g,v,b,x,V,P,M,A,$s)}O!=null&&x&&ki(O,u&&u.ref,V,g||u,!g)},k=(u,g,v,b)=>{if(u==null)n(g.el=a(g.children),v,b);else{const x=g.el=u.el;g.children!==u.children&&f(x,g.children)}},S=(u,g,v,b)=>{u==null?n(g.el=l(g.children||""),v,b):g.el=u.el},T=(u,g,v,b)=>{[u.el,u.anchor]=_(u.children,g,v,b,u.el,u.anchor)},$=({el:u,anchor:g},v,b)=>{let x;for(;u&&u!==g;)x=p(u),n(u,v,b),u=x;n(g,v,b)},K=({el:u,anchor:g})=>{let v;for(;u&&u!==g;)v=p(u),i(u),u=v;i(g)},te=(u,g,v,b,x,V,P,M,A)=>{g.type==="svg"?P="svg":g.type==="math"&&(P="mathml"),u==null?X(g,v,b,x,V,P,M,A):he(u,g,x,V,P,M,A)},X=(u,g,v,b,x,V,P,M)=>{let A,w;const{props:O,shapeFlag:U,transition:j,dirs:J}=u;if(A=u.el=r(u.type,V,O&&O.is,O),U&8?h(A,u.children):U&16&&H(u.children,A,null,b,x,vi(u,V),P,M),J&&fs(u,null,b,"created"),me(A,u,u.scopeId,P,b),O){for(const pe in O)pe!=="value"&&!Xs(pe)&&o(A,pe,null,O[pe],V,u.children,b,x,Rt);"value"in O&&o(A,"value",null,O.value,V),(w=O.onVnodeBeforeMount)&&Ct(w,b,u)}J&&fs(u,null,b,"beforeMount");const ie=Cc(x,j);ie&&j.beforeEnter(A),n(A,g,v),((w=O&&O.onVnodeMounted)||ie||J)&&Ye(()=>{w&&Ct(w,b,u),ie&&j.enter(A),J&&fs(u,null,b,"mounted")},x)},me=(u,g,v,b,x)=>{if(v&&y(u,v),b)for(let V=0;V<b.length;V++)y(u,b[V]);if(x){let V=x.subTree;if(g===V){const P=x.vnode;me(u,P,P.scopeId,P.slotScopeIds,x.parent)}}},H=(u,g,v,b,x,V,P,M,A=0)=>{for(let w=A;w<u.length;w++){const O=u[w]=M?Zt(u[w]):Dt(u[w]);E(null,O,g,v,b,x,V,P,M)}},he=(u,g,v,b,x,V,P)=>{const M=g.el=u.el;let{patchFlag:A,dynamicChildren:w,dirs:O}=g;A|=u.patchFlag&16;const U=u.props||Me,j=g.props||Me;let J;if(v&&us(v,!1),(J=j.onVnodeBeforeUpdate)&&Ct(J,v,g,u),O&&fs(g,u,v,"beforeUpdate"),v&&us(v,!0),w?de(u.dynamicChildren,w,M,v,b,vi(g,x),V):P||ae(u,g,M,null,v,b,vi(g,x),V,!1),A>0){if(A&16)Ae(M,g,U,j,v,b,x);else if(A&2&&U.class!==j.class&&o(M,"class",null,j.class,x),A&4&&o(M,"style",U.style,j.style,x),A&8){const ie=g.dynamicProps;for(let pe=0;pe<ie.length;pe++){const Ve=ie[pe],Fe=U[Ve],dt=j[Ve];(dt!==Fe||Ve==="value")&&o(M,Ve,Fe,dt,x,u.children,v,b,Rt)}}A&1&&u.children!==g.children&&h(M,g.children)}else!P&&w==null&&Ae(M,g,U,j,v,b,x);((J=j.onVnodeUpdated)||O)&&Ye(()=>{J&&Ct(J,v,g,u),O&&fs(g,u,v,"updated")},b)},de=(u,g,v,b,x,V,P)=>{for(let M=0;M<g.length;M++){const A=u[M],w=g[M],O=A.el&&(A.type===lt||!ms(A,w)||A.shapeFlag&70)?d(A.el):v;E(A,w,O,null,b,x,V,P,!0)}},Ae=(u,g,v,b,x,V,P)=>{if(v!==b){if(v!==Me)for(const M in v)!Xs(M)&&!(M in b)&&o(u,M,v[M],null,P,g.children,x,V,Rt);for(const M in b){if(Xs(M))continue;const A=b[M],w=v[M];A!==w&&M!=="value"&&o(u,M,w,A,P,g.children,x,V,Rt)}"value"in b&&o(u,"value",v.value,b.value,P)}},z=(u,g,v,b,x,V,P,M,A)=>{const w=g.el=u?u.el:a(""),O=g.anchor=u?u.anchor:a("");let{patchFlag:U,dynamicChildren:j,slotScopeIds:J}=g;J&&(M=M?M.concat(J):J),u==null?(n(w,v,b),n(O,v,b),H(g.children||[],v,O,x,V,P,M,A)):U>0&&U&64&&j&&u.dynamicChildren?(de(u.dynamicChildren,j,v,x,V,P,M),(g.key!=null||x&&g===x.subTree)&&va(u,g,!0)):ae(u,g,v,O,x,V,P,M,A)},be=(u,g,v,b,x,V,P,M,A)=>{g.slotScopeIds=M,u==null?g.shapeFlag&512?x.ctx.activate(g,v,b,P,A):I(g,v,b,x,V,P,A):q(u,g,A)},I=(u,g,v,b,x,V,P)=>{const M=u.component=Ic(u,b,x);if(ti(u)&&(M.ctx.renderer=$s),zc(M),M.asyncDep){if(x&&x.registerDep(M,W),!u.el){const A=M.subTree=Ne(ft);S(null,A,g,v)}}else W(M,u,g,v,x,V,P)},q=(u,g,v)=>{const b=g.component=u.component;if($l(u,g,v))if(b.asyncDep&&!b.asyncResolved){D(b,g,v);return}else b.next=g,Rl(b.update),b.effect.dirty=!0,b.update();else g.el=u.el,b.vnode=g},W=(u,g,v,b,x,V,P)=>{const M=()=>{if(u.isMounted){let{next:O,bu:U,u:j,parent:J,vnode:ie}=u;{const Ts=ya(u);if(Ts){O&&(O.el=ie.el,D(u,O,P)),Ts.asyncDep.then(()=>{u.isUnmounted||M()});return}}let pe=O,Ve;us(u,!1),O?(O.el=ie.el,D(u,O,P)):O=ie,U&&Pn(U),(Ve=O.props&&O.props.onVnodeBeforeUpdate)&&Ct(Ve,J,O,ie),us(u,!0);const Fe=di(u),dt=u.subTree;u.subTree=Fe,E(dt,Fe,d(dt.el),yn(dt),u,x,V),O.el=Fe.el,pe===null&&Hl(u,Fe.el),j&&Ye(j,x),(Ve=O.props&&O.props.onVnodeUpdated)&&Ye(()=>Ct(Ve,J,O,ie),x)}else{let O;const{el:U,props:j}=g,{bm:J,m:ie,parent:pe}=u,Ve=En(g);if(us(u,!1),J&&Pn(J),!Ve&&(O=j&&j.onVnodeBeforeMount)&&Ct(O,pe,g),us(u,!0),U&&Co){const Fe=()=>{u.subTree=di(u),Co(U,u.subTree,u,x,null)};Ve?g.type.__asyncLoader().then(()=>!u.isUnmounted&&Fe()):Fe()}else{const Fe=u.subTree=di(u);E(null,Fe,v,b,u,x,V),g.el=Fe.el}if(ie&&Ye(ie,x),!Ve&&(O=j&&j.onVnodeMounted)){const Fe=g;Ye(()=>Ct(O,pe,Fe),x)}(g.shapeFlag&256||pe&&En(pe.vnode)&&pe.vnode.shapeFlag&256)&&u.a&&Ye(u.a,x),u.isMounted=!0,g=v=b=null}},A=u.effect=new oo(M,ct,()=>mo(w),u.scope),w=u.update=()=>{A.dirty&&A.run()};w.id=u.uid,us(u,!0),w()},D=(u,g,v)=>{g.component=u;const b=u.vnode.props;u.vnode=g,u.next=null,Mc(u,g.props,b,v),Sc(u,g.children,v),as(),zo(u),ls()},ae=(u,g,v,b,x,V,P,M,A=!1)=>{const w=u&&u.children,O=u?u.shapeFlag:0,U=g.children,{patchFlag:j,shapeFlag:J}=g;if(j>0){if(j&128){Ss(w,U,v,b,x,V,P,M,A);return}else if(j&256){kt(w,U,v,b,x,V,P,M,A);return}}J&8?(O&16&&Rt(w,x,V),U!==w&&h(v,U)):O&16?J&16?Ss(w,U,v,b,x,V,P,M,A):Rt(w,x,V,!0):(O&8&&h(v,""),J&16&&H(U,v,b,x,V,P,M,A))},kt=(u,g,v,b,x,V,P,M,A)=>{u=u||Es,g=g||Es;const w=u.length,O=g.length,U=Math.min(w,O);let j;for(j=0;j<U;j++){const J=g[j]=A?Zt(g[j]):Dt(g[j]);E(u[j],J,v,null,x,V,P,M,A)}w>O?Rt(u,x,V,!0,!1,U):H(g,v,b,x,V,P,M,A,U)},Ss=(u,g,v,b,x,V,P,M,A)=>{let w=0;const O=g.length;let U=u.length-1,j=O-1;for(;w<=U&&w<=j;){const J=u[w],ie=g[w]=A?Zt(g[w]):Dt(g[w]);if(ms(J,ie))E(J,ie,v,null,x,V,P,M,A);else break;w++}for(;w<=U&&w<=j;){const J=u[U],ie=g[j]=A?Zt(g[j]):Dt(g[j]);if(ms(J,ie))E(J,ie,v,null,x,V,P,M,A);else break;U--,j--}if(w>U){if(w<=j){const J=j+1,ie=J<O?g[J].el:b;for(;w<=j;)E(null,g[w]=A?Zt(g[w]):Dt(g[w]),v,ie,x,V,P,M,A),w++}}else if(w>j)for(;w<=U;)Tt(u[w],x,V,!0),w++;else{const J=w,ie=w,pe=new Map;for(w=ie;w<=j;w++){const et=g[w]=A?Zt(g[w]):Dt(g[w]);et.key!=null&&pe.set(et.key,w)}let Ve,Fe=0;const dt=j-ie+1;let Ts=!1,Po=0;const Hs=new Array(dt);for(w=0;w<dt;w++)Hs[w]=0;for(w=J;w<=U;w++){const et=u[w];if(Fe>=dt){Tt(et,x,V,!0);continue}let At;if(et.key!=null)At=pe.get(et.key);else for(Ve=ie;Ve<=j;Ve++)if(Hs[Ve-ie]===0&&ms(et,g[Ve])){At=Ve;break}At===void 0?Tt(et,x,V,!0):(Hs[At-ie]=w+1,At>=Po?Po=At:Ts=!0,E(et,g[At],v,null,x,V,P,M,A),Fe++)}const Lo=Ts?Pc(Hs):Es;for(Ve=Lo.length-1,w=dt-1;w>=0;w--){const et=ie+w,At=g[et],Eo=et+1<O?g[et+1].el:b;Hs[w]===0?E(null,At,v,Eo,x,V,P,M,A):Ts&&(Ve<0||w!==Lo[Ve]?cs(At,v,Eo,2):Ve--)}}},cs=(u,g,v,b,x=null)=>{const{el:V,type:P,transition:M,children:A,shapeFlag:w}=u;if(w&6){cs(u.component.subTree,g,v,b);return}if(w&128){u.suspense.move(g,v,b);return}if(w&64){P.move(u,g,v,$s);return}if(P===lt){n(V,g,v);for(let U=0;U<A.length;U++)cs(A[U],g,v,b);n(u.anchor,g,v);return}if(P===yi){$(u,g,v);return}if(b!==2&&w&1&&M)if(b===0)M.beforeEnter(V),n(V,g,v),Ye(()=>M.enter(V),x);else{const{leave:U,delayLeave:j,afterLeave:J}=M,ie=()=>n(V,g,v),pe=()=>{U(V,()=>{ie(),J&&J()})};j?j(V,ie,pe):pe()}else n(V,g,v)},Tt=(u,g,v,b=!1,x=!1)=>{const{type:V,props:P,ref:M,children:A,dynamicChildren:w,shapeFlag:O,patchFlag:U,dirs:j}=u;if(M!=null&&ki(M,null,v,u,!0),O&256){g.ctx.deactivate(u);return}const J=O&1&&j,ie=!En(u);let pe;if(ie&&(pe=P&&P.onVnodeBeforeUnmount)&&Ct(pe,g,u),O&6)Ua(u.component,v,b);else{if(O&128){u.suspense.unmount(v,b);return}J&&fs(u,null,g,"beforeUnmount"),O&64?u.type.remove(u,g,v,x,$s,b):w&&(V!==lt||U>0&&U&64)?Rt(w,g,v,!1,!0):(V===lt&&U&384||!x&&O&16)&&Rt(A,g,v),b&&So(u)}(ie&&(pe=P&&P.onVnodeUnmounted)||J)&&Ye(()=>{pe&&Ct(pe,g,u),J&&fs(u,null,g,"unmounted")},v)},So=u=>{const{type:g,el:v,anchor:b,transition:x}=u;if(g===lt){Ha(v,b);return}if(g===yi){K(u);return}const V=()=>{i(v),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(u.shapeFlag&1&&x&&!x.persisted){const{leave:P,delayLeave:M}=x,A=()=>P(v,V);M?M(u.el,V,A):A()}else V()},Ha=(u,g)=>{let v;for(;u!==g;)v=p(u),i(u),u=v;i(g)},Ua=(u,g,v)=>{const{bum:b,scope:x,update:V,subTree:P,um:M}=u;b&&Pn(b),x.stop(),V&&(V.active=!1,Tt(P,u,g,v)),M&&Ye(M,g),Ye(()=>{u.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Rt=(u,g,v,b=!1,x=!1,V=0)=>{for(let P=V;P<u.length;P++)Tt(u[P],g,v,b,x)},yn=u=>u.shapeFlag&6?yn(u.component.subTree):u.shapeFlag&128?u.suspense.next():p(u.anchor||u.el);let ci=!1;const To=(u,g,v)=>{u==null?g._vnode&&Tt(g._vnode,null,null,!0):E(g._vnode||null,u,g,null,null,null,v),ci||(ci=!0,zo(),Yr(),ci=!1),g._vnode=u},$s={p:E,um:Tt,m:cs,r:So,mt:I,mc:H,pc:ae,pbc:de,n:yn,o:e};let Ao,Co;return{render:To,hydrate:Ao,createApp:bc(To,Ao)}}function vi({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function us({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function Cc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function va(e,t,s=!1){const n=e.children,i=t.children;if(Y(n)&&Y(i))for(let o=0;o<n.length;o++){const r=n[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Zt(i[o]),a.el=r.el),s||va(r,a)),a.type===ii&&(a.el=r.el)}}function Pc(e){const t=e.slice(),s=[0];let n,i,o,r,a;const l=e.length;for(n=0;n<l;n++){const f=e[n];if(f!==0){if(i=s[s.length-1],e[i]<f){t[n]=i,s.push(n);continue}for(o=0,r=s.length-1;o<r;)a=o+r>>1,e[s[a]]<f?o=a+1:r=a;f<e[s[o]]&&(o>0&&(t[n]=s[o-1]),s[o]=n)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}function ya(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ya(t)}const Lc=e=>e.__isTeleport,lt=Symbol.for("v-fgt"),ii=Symbol.for("v-txt"),ft=Symbol.for("v-cmt"),yi=Symbol.for("v-stc"),en=[];let St=null;function Wt(e=!1){en.push(St=e?null:[])}function Ec(){en.pop(),St=en[en.length-1]||null}let ln=1;function Zo(e){ln+=e}function ba(e){return e.dynamicChildren=ln>0?St||Es:null,Ec(),ln>0&&St&&St.push(e),e}function es(e,t,s,n,i,o){return ba(re(e,t,s,n,i,o,!0))}function xa(e,t,s,n,i){return ba(Ne(e,t,s,n,i,!0))}function Ri(e){return e?e.__v_isVNode===!0:!1}function ms(e,t){return e.type===t.type&&e.key===t.key}const wa=({key:e})=>e??null,On=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Le(e)||ze(e)||ee(e)?{i:Xe,r:e,k:t,f:!!s}:e:null);function re(e,t=null,s=null,n=0,i=null,o=e===lt?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wa(t),ref:t&&On(t),scopeId:Qn,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Xe};return a?(xo(l,s),o&128&&e.normalize(l)):s&&(l.shapeFlag|=Le(s)?8:16),ln>0&&!r&&St&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&St.push(l),l}const Ne=Dc;function Dc(e,t=null,s=null,n=0,i=null,o=!1){if((!e||e===Ul)&&(e=ft),Ri(e)){const a=rs(e,t,!0);return s&&xo(a,s),ln>0&&!o&&St&&(a.shapeFlag&6?St[St.indexOf(e)]=a:St.push(a)),a.patchFlag|=-2,a}if(Hc(e)&&(e=e.__vccOpts),t){t=Oc(t);let{class:a,style:l}=t;a&&!Le(a)&&(t.class=io(a)),_e(l)&&(jr(l)&&!Y(l)&&(l=Pe({},l)),t.style=qe(l))}const r=Le(e)?1:Gl(e)?128:Lc(e)?64:_e(e)?4:ee(e)?2:0;return re(e,t,s,n,i,r,o,!0)}function Oc(e){return e?jr(e)||ua(e)?Pe({},e):e:null}function rs(e,t,s=!1,n=!1){const{props:i,ref:o,patchFlag:r,children:a,transition:l}=e,f=t?Fc(i||{},t):i,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&wa(f),ref:t&&t.ref?s&&o?Y(o)?o.concat(On(t)):[o,On(t)]:On(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==lt?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rs(e.ssContent),ssFallback:e.ssFallback&&rs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&(h.transition=l.clone(h)),h}function Wc(e=" ",t=0){return Ne(ii,null,e,t)}function Ma(e="",t=!1){return t?(Wt(),xa(ft,null,e)):Ne(ft,null,e)}function Dt(e){return e==null||typeof e=="boolean"?Ne(ft):Y(e)?Ne(lt,null,e.slice()):typeof e=="object"?Zt(e):Ne(ii,null,String(e))}function Zt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:rs(e)}function xo(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Y(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),xo(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!ua(t)?t._ctx=Xe:i===3&&Xe&&(Xe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ee(t)?(t={default:t,_ctx:Xe},s=32):(t=String(t),n&64?(s=16,t=[Wc(t)]):s=8);e.children=t,e.shapeFlag|=s}function Fc(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=io([t.class,n.class]));else if(i==="style")t.style=qe([t.style,n.style]);else if(Kn(i)){const o=t[i],r=n[i];r&&o!==r&&!(Y(o)&&o.includes(r))&&(t[i]=o?[].concat(o,r):r)}else i!==""&&(t[i]=n[i])}return t}function Ct(e,t,s,n=null){ht(e,t,7,[s,n])}const kc=la();let Rc=0;function Ic(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||kc,o={uid:Rc++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new rl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:da(n,i),emitsOptions:Jr(n,i),emit:null,emitted:null,propsDefaults:Me,inheritAttrs:n.inheritAttrs,ctx:Me,data:Me,props:Me,attrs:Me,slots:Me,refs:Me,setupState:Me,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=zl.bind(null,o),e.ce&&e.ce(o),o}let He=null;const Nc=()=>He||Xe;let jn,Ii;{const e=Ar(),t=(s,n)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(n),o=>{i.length>1?i.forEach(r=>r(o)):i[0](o)}};jn=t("__VUE_INSTANCE_SETTERS__",s=>He=s),Ii=t("__VUE_SSR_SETTERS__",s=>oi=s)}const pn=e=>{const t=He;return jn(e),e.scope.on(),()=>{e.scope.off(),jn(t)}},Qo=()=>{He&&He.scope.off(),jn(null)};function _a(e){return e.vnode.shapeFlag&4}let oi=!1;function zc(e,t=!1){t&&Ii(t);const{props:s,children:n}=e.vnode,i=_a(e);wc(e,s,i,t),Vc(e,n);const o=i?Bc(e,t):void 0;return t&&Ii(!1),o}function Bc(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,hc);const{setup:n}=s;if(n){const i=e.setupContext=n.length>1?$c(e):null,o=pn(e);as();const r=is(n,e,0,[e.props,i]);if(ls(),o(),Mr(r)){if(r.then(Qo,Qo),t)return r.then(a=>{er(e,a,t)}).catch(a=>{Jn(a,e,0)});e.asyncDep=r}else er(e,r,t)}else Va(e,t)}function er(e,t,s){ee(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:_e(t)&&(e.setupState=Gr(t)),Va(e,s)}let tr;function Va(e,t,s){const n=e.type;if(!e.render){if(!t&&tr&&!n.render){const i=n.template||yo(e).template;if(i){const{isCustomElement:o,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:l}=n,f=Pe(Pe({isCustomElement:o,delimiters:a},r),l);n.render=tr(i,f)}}e.render=n.render||ct}{const i=pn(e);as();try{dc(e)}finally{ls(),i()}}}const jc={get(e,t){return Qe(e,"get",""),e[t]}};function $c(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,jc),slots:e.slots,emit:e.emit,expose:t}}function ri(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Gr(Pl(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Zs)return Zs[s](e)},has(t,s){return s in t||s in Zs}}))}function Hc(e){return ee(e)&&"__vccOpts"in e}const se=(e,t)=>Ll(e,t,oi);function Uc(e,t,s){const n=arguments.length;return n===2?_e(t)&&!Y(t)?Ri(t)?Ne(e,null,[t]):Ne(e,t):Ne(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Ri(s)&&(s=[s]),Ne(e,t,s))}const Gc="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Kc="http://www.w3.org/2000/svg",qc="http://www.w3.org/1998/Math/MathML",Qt=typeof document<"u"?document:null,sr=Qt&&Qt.createElement("template"),Yc={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t==="svg"?Qt.createElementNS(Kc,e):t==="mathml"?Qt.createElementNS(qc,e):Qt.createElement(e,s?{is:s}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>Qt.createTextNode(e),createComment:e=>Qt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Qt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,i,o){const r=s?s.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===o||!(i=i.nextSibling)););else{sr.innerHTML=n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e;const a=sr.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},$t="transition",Us="animation",cn=Symbol("_vtc"),wo=(e,{slots:t})=>Uc(ec,Xc(e),t);wo.displayName="Transition";const Sa={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};wo.props=Pe({},sa,Sa);const hs=(e,t=[])=>{Y(e)?e.forEach(s=>s(...t)):e&&e(...t)},nr=e=>e?Y(e)?e.some(t=>t.length>1):e.length>1:!1;function Xc(e){const t={};for(const z in e)z in Sa||(t[z]=e[z]);if(e.css===!1)return t;const{name:s="v",type:n,duration:i,enterFromClass:o=`${s}-enter-from`,enterActiveClass:r=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=o,appearActiveClass:f=r,appearToClass:h=a,leaveFromClass:d=`${s}-leave-from`,leaveActiveClass:p=`${s}-leave-active`,leaveToClass:y=`${s}-leave-to`}=e,_=Jc(i),E=_&&_[0],k=_&&_[1],{onBeforeEnter:S,onEnter:T,onEnterCancelled:$,onLeave:K,onLeaveCancelled:te,onBeforeAppear:X=S,onAppear:me=T,onAppearCancelled:H=$}=t,he=(z,be,I)=>{ds(z,be?h:a),ds(z,be?f:r),I&&I()},de=(z,be)=>{z._isLeaving=!1,ds(z,d),ds(z,y),ds(z,p),be&&be()},Ae=z=>(be,I)=>{const q=z?me:T,W=()=>he(be,z,I);hs(q,[be,W]),ir(()=>{ds(be,z?l:o),Ht(be,z?h:a),nr(q)||or(be,n,E,W)})};return Pe(t,{onBeforeEnter(z){hs(S,[z]),Ht(z,o),Ht(z,r)},onBeforeAppear(z){hs(X,[z]),Ht(z,l),Ht(z,f)},onEnter:Ae(!1),onAppear:Ae(!0),onLeave(z,be){z._isLeaving=!0;const I=()=>de(z,be);Ht(z,d),Ht(z,p),ef(),ir(()=>{z._isLeaving&&(ds(z,d),Ht(z,y),nr(K)||or(z,n,k,I))}),hs(K,[z,I])},onEnterCancelled(z){he(z,!1),hs($,[z])},onAppearCancelled(z){he(z,!0),hs(H,[z])},onLeaveCancelled(z){de(z),hs(te,[z])}})}function Jc(e){if(e==null)return null;if(_e(e))return[bi(e.enter),bi(e.leave)];{const t=bi(e);return[t,t]}}function bi(e){return Qa(e)}function Ht(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[cn]||(e[cn]=new Set)).add(t)}function ds(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const s=e[cn];s&&(s.delete(t),s.size||(e[cn]=void 0))}function ir(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Zc=0;function or(e,t,s,n){const i=e._endId=++Zc,o=()=>{i===e._endId&&n()};if(s)return setTimeout(o,s);const{type:r,timeout:a,propCount:l}=Qc(e,t);if(!r)return n();const f=r+"end";let h=0;const d=()=>{e.removeEventListener(f,p),o()},p=y=>{y.target===e&&++h>=l&&d()};setTimeout(()=>{h<l&&d()},a+1),e.addEventListener(f,p)}function Qc(e,t){const s=window.getComputedStyle(e),n=_=>(s[_]||"").split(", "),i=n(`${$t}Delay`),o=n(`${$t}Duration`),r=rr(i,o),a=n(`${Us}Delay`),l=n(`${Us}Duration`),f=rr(a,l);let h=null,d=0,p=0;t===$t?r>0&&(h=$t,d=r,p=o.length):t===Us?f>0&&(h=Us,d=f,p=l.length):(d=Math.max(r,f),h=d>0?r>f?$t:Us:null,p=h?h===$t?o.length:l.length:0);const y=h===$t&&/\b(transform|all)(,|$)/.test(n(`${$t}Property`).toString());return{type:h,timeout:d,propCount:p,hasTransform:y}}function rr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>ar(s)+ar(e[n])))}function ar(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ef(){return document.body.offsetHeight}function tf(e,t,s){const n=e[cn];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const $n=Symbol("_vod"),Ta=Symbol("_vsh"),sf={beforeMount(e,{value:t},{transition:s}){e[$n]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Gs(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),Gs(e,!0),n.enter(e)):n.leave(e,()=>{Gs(e,!1)}):Gs(e,t))},beforeUnmount(e,{value:t}){Gs(e,t)}};function Gs(e,t){e.style.display=t?e[$n]:"none",e[Ta]=!t}const nf=Symbol(""),of=/(^|;)\s*display\s*:/;function rf(e,t,s){const n=e.style,i=Le(s);let o=!1;if(s&&!i){if(t)if(Le(t))for(const r of t.split(";")){const a=r.slice(0,r.indexOf(":")).trim();s[a]==null&&Wn(n,a,"")}else for(const r in t)s[r]==null&&Wn(n,r,"");for(const r in s)r==="display"&&(o=!0),Wn(n,r,s[r])}else if(i){if(t!==s){const r=n[nf];r&&(s+=";"+r),n.cssText=s,o=of.test(s)}}else t&&e.removeAttribute("style");$n in e&&(e[$n]=o?n.display:"",e[Ta]&&(n.display="none"))}const lr=/\s*!important$/;function Wn(e,t,s){if(Y(s))s.forEach(n=>Wn(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=af(e,t);lr.test(s)?e.setProperty(Bs(n),s.replace(lr,""),"important"):e[n]=s}}const cr=["Webkit","Moz","ms"],xi={};function af(e,t){const s=xi[t];if(s)return s;let n=zs(t);if(n!=="filter"&&n in e)return xi[t]=n;n=Sr(n);for(let i=0;i<cr.length;i++){const o=cr[i]+n;if(o in e)return xi[t]=o}return t}const fr="http://www.w3.org/1999/xlink";function lf(e,t,s,n,i){if(n&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(fr,t.slice(6,t.length)):e.setAttributeNS(fr,t,s);else{const o=ol(t);s==null||o&&!Cr(s)?e.removeAttribute(t):e.setAttribute(t,o?"":s)}}function cf(e,t,s,n,i,o,r){if(t==="innerHTML"||t==="textContent"){n&&r(n,i,o),e[t]=s??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const f=a==="OPTION"?e.getAttribute("value")||"":e.value,h=s??"";(f!==h||!("_value"in e))&&(e.value=h),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const f=typeof e[t];f==="boolean"?s=Cr(s):s==null&&f==="string"?(s="",l=!0):f==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(t)}function Cs(e,t,s,n){e.addEventListener(t,s,n)}function ff(e,t,s,n){e.removeEventListener(t,s,n)}const ur=Symbol("_vei");function uf(e,t,s,n,i=null){const o=e[ur]||(e[ur]={}),r=o[t];if(n&&r)r.value=n;else{const[a,l]=hf(t);if(n){const f=o[t]=mf(n,i);Cs(e,a,f,l)}else r&&(ff(e,a,r,l),o[t]=void 0)}}const hr=/(?:Once|Passive|Capture)$/;function hf(e){let t;if(hr.test(e)){t={};let n;for(;n=e.match(hr);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Bs(e.slice(2)),t]}let wi=0;const df=Promise.resolve(),gf=()=>wi||(df.then(()=>wi=0),wi=Date.now());function mf(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;ht(pf(n,s.value),t,5,[n])};return s.value=e,s.attached=gf(),s}function pf(e,t){if(Y(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const dr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,vf=(e,t,s,n,i,o,r,a,l)=>{const f=i==="svg";t==="class"?tf(e,n,f):t==="style"?rf(e,s,n):Kn(t)?to(t)||uf(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yf(e,t,n,f))?cf(e,t,n,o,r,a,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),lf(e,t,n,f))};function yf(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&dr(t)&&ee(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return dr(t)&&Le(s)?!1:t in e}const gr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Y(t)?s=>Pn(t,s):t};function bf(e){e.target.composing=!0}function mr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Mi=Symbol("_assign"),xf={created(e,{modifiers:{lazy:t,trim:s,number:n}},i){e[Mi]=gr(i);const o=n||i.props&&i.props.type==="number";Cs(e,t?"change":"input",r=>{if(r.target.composing)return;let a=e.value;s&&(a=a.trim()),o&&(a=Vi(a)),e[Mi](a)}),s&&Cs(e,"change",()=>{e.value=e.value.trim()}),t||(Cs(e,"compositionstart",bf),Cs(e,"compositionend",mr),Cs(e,"change",mr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:n,number:i}},o){if(e[Mi]=gr(o),e.composing)return;const r=(i||e.type==="number")&&!/^0\d/.test(e.value)?Vi(e.value):e.value,a=t??"";r!==a&&(document.activeElement===e&&e.type!=="range"&&(s||n&&e.value.trim()===a)||(e.value=a))}},wf=["ctrl","shift","alt","meta"],Mf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>wf.some(s=>e[`${s}Key`]&&!t.includes(s))},pr=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(i,...o)=>{for(let r=0;r<t.length;r++){const a=Mf[t[r]];if(a&&a(i,t))return}return e(i,...o)})},_f=Pe({patchProp:vf},Yc);let vr;function Vf(){return vr||(vr=Tc(_f))}const Sf=(...e)=>{const t=Vf().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=Af(n);if(!i)return;const o=t._component;!ee(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const r=s(i,!1,Tf(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function Tf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Af(e){return Le(e)?document.querySelector(e):e}const Aa=4,Cf=5,Ni=30,B="GND",ye="VDD",fe=0,oe=5,Pf=5e-7,Lf=100,An=1.5,Ef=(e,t=10)=>{for(let s in e.nodes){const n=e.nodes[s];n.value.netCurrent=0}for(let s in e.devices.mosfets){const n=e.devices.mosfets[s],i=n.getMosfetCurrent();n.mosfetType=="nmos"?(n.Vd.value.netCurrent-=i,n.Vs.value.netCurrent+=i):n.mosfetType=="pmos"&&(n.Vd.value.netCurrent+=i,n.Vs.value.netCurrent-=i)}for(let s in e.devices.voltageSources){const n=e.devices.voltageSources[s];n.fixedAt=="gnd"?(n.current=n.vplus.value.netCurrent,n.vminus.value.netCurrent+=n.current,n.vplus.value.netCurrent=0):n.fixedAt=="vdd"?(n.current=-n.vminus.value.netCurrent,n.vplus.value.netCurrent+=n.current,n.vminus.value.netCurrent=0):console.log("Cannot solve voltage source not attached to GND or VDD")}for(let s in e.nodes){const n=e.nodes[s];if(s==B){n.value.voltage=fe;continue}if(s==ye){n.value.voltage=oe;continue}if(n.value.fixed)continue;Df(n);let i=n.value.netCurrent/n.value.capacitance*(t/1e3)*.5;i>.1?i=.1:i<-.1&&(i=-.1),n.value.voltage+=i,n.value.historicVoltages.dequeue(),n.value.historicVoltages.enqueue(n.value.voltage)}},Df=e=>{let t=0,s=0,n=!0;e.value.historicVoltages.toArray().forEach((i,o)=>{const r=i-s>0;i-s==0||r!==n&&(t+=1),n=r,s=i,o<=1&&(t=0)}),t>=2&&(e.value.capacitance+=e.value.originalCapacitance),e.value.capacitance<e.value.originalCapacitance&&(e.value.capacitance=e.value.originalCapacitance)};var R=(e=>(e[e.Hidden=0]="Hidden",e[e.Locked=1]="Locked",e[e.Visible=2]="Visible",e))(R||{}),zi=(e=>(e[e.Right=0]="Right",e[e.Left=1]="Left",e[e.Up=2]="Up",e[e.Down=3]="Down",e))(zi||{}),Of=Object.defineProperty,Wf=(e,t,s)=>t in e?Of(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,tn=(e,t,s)=>(Wf(e,typeof t!="symbol"?t+"":t,s),s);class je{constructor(t,s,n){tn(this,"_rows"),tn(this,"_columns"),tn(this,"_values"),this._rows=Math.max(t,1),this._columns=Math.max(s,1),this._values=new Array(this._rows).fill([]).map(()=>new Array(this._columns).fill(0)),n&&(this.values=n)}get rows(){return this._rows}get columns(){return this._columns}get values(){return this._values}set values(t){const s=Math.min(t.length,this.rows),n=Math.min(t[0].length,this.columns);for(let i=0;i<s;i++)for(let o=0;o<n;o++)this.values[i][o]=t[i][o]}at(t,s){return this.values[t][s]}reset(){this.values=this.values.map(t=>t.map(()=>0))}addAColumn(){return new je(this.rows,this.columns+1,this.values)}addARow(){return new je(this.rows+1,this.columns,this.values)}equals(t){return this.rows===t.rows&&this.columns===t.columns&&this.values.reduce((s,n,i)=>s&&n.reduce((o,r,a)=>o&&t.at(i,a)===r,s),!0)}setAsIdentity(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");return this.values.forEach((t,s)=>{t.forEach((n,i)=>{this.values[s][i]=s===i?1:0})}),this}static identity(t){if(t<1)throw Error("Dimension error! Matrix dimension must be positive.");return new je(t,t).setAsIdentity()}multiply(t){if(this.columns!==t.rows)throw new Error("Dimension error! The operand matrix must have the same number of rows as 'this' matrix columns!");const s=new je(this.rows,t.columns);return s.values=s.values.map((n,i)=>n.map((o,r)=>this.values[i].reduce((a,l,f)=>a+l*t.at(f,r),0))),s}indexOf(t){for(let s=0;s<this.rows;s++)for(let n=0;n<this.columns;n++)if(this.values[s][n]===t)return[s,n];return[-1,-1]}max(){return this.values.reduce((t,s)=>Math.max(t,...s),-1/0)}min(){return this.values.reduce((t,s)=>Math.min(t,...s),1/0)}round(){return new je(this.rows,this.columns,this.values.map(t=>t.map(s=>Math.round(s))))}determinant(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");if(this.rows===this.columns&&this.columns===1)return this.values[0][0];let t=0,s=1;if(this.rows===2)t=this.values[0][0]*this.values[1][1]-this.values[1][0]*this.values[0][1];else for(let n=0;n<this.rows;n++){const i=this.getCofactor(0,n);t+=s*this.at(0,n)*i.determinant(),s=-s}return t}getCofactor(t,s){return new je(this.rows-1,this.columns-1,this.values.filter((n,i)=>i!==t).map(n=>n.filter((i,o)=>o!==s)))}transpose(){return new je(this.columns,this.rows,new Array(this.columns).fill([]).map((t,s)=>new Array(this.rows).fill(0).map((n,i)=>this.at(i,s))))}inverse(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");const t=this.determinant();if(t===0)throw new Error("Determinant is 0, can't compute inverse.");const s=new je(this.rows,this.columns,this.values.map((n,i)=>n.map((o,r)=>Math.pow(-1,i+r)*this.getCofactor(i,r).determinant()))).transpose();return new je(this.rows,this.columns,this.values.map((n,i)=>n.map((o,r)=>s.at(i,r)/t)))}toString(){return`[${this.values.map(t=>`[${t.join(", ")}]`).join(`,
`)}]`}}const Ff=1e-5,mt=class{constructor(e){tn(this,"values",new Float32Array(4)),e!==void 0&&(this.xyzw=e)}get x(){return this.values[0]}set x(e){this.values[0]=e}get y(){return this.values[1]}set y(e){this.values[1]=e}get z(){return this.values[2]}set z(e){this.values[2]=e}get w(){return this.values[3]}set w(e){this.values[3]=e}get xy(){return[this.values[0],this.values[1]]}set xy(e){this.values[0]=e[0],this.values[1]=e[1]}get xyz(){return[this.values[0],this.values[1],this.values[2]]}set xyz(e){this.values[0]=e[0],this.values[1]=e[1],this.values[2]=e[2]}get xyzw(){return[this.values[0],this.values[1],this.values[2],this.values[3]]}set xyzw(e){this.values[0]=e[0],this.values[1]=e[1],this.values[2]=e[2],this.values[3]=e[3]}at(e){return this.values[e]}reset(){for(let e=0;e<4;e++)this.values[e]=0}copy(e){e||(e=new mt);for(let t=0;t<4;t++)e.values[t]=this.values[t];return e}roll(){const e=this.x,t=this.y,s=this.z,n=this.w;return Math.atan2(2*(e*t+n*s),n*n+e*e-t*t-s*s)}pitch(){const e=this.x,t=this.y,s=this.z,n=this.w;return Math.atan2(2*(t*s+n*e),n*n-e*e-t*t+s*s)}yaw(){return Math.asin(2*(this.x*this.z-this.w*this.y))}equals(e,t=Ff){for(let s=0;s<4;s++)if(Math.abs(this.values[s]-e.at(s))>t)return!1;return!0}setIdentity(){return this.x=0,this.y=0,this.z=0,this.w=1,this}calculateW(){const e=this.x,t=this.y,s=this.z;return this.w=-Math.sqrt(Math.abs(1-e*e-t*t-s*s)),this}inverse(){const e=mt.dot(this,this);if(!e)return this.xyzw=[0,0,0,0],this;const t=e?1/e:0;return this.x*=-t,this.y*=-t,this.z*=-t,this.w*=t,this}conjugate(){return this.values[0]*=-1,this.values[1]*=-1,this.values[2]*=-1,this}length(){const e=this.x,t=this.y,s=this.z,n=this.w;return Math.sqrt(e*e+t*t+s*s+n*n)}normalize(e){e||(e=this);const t=this.x,s=this.y,n=this.z,i=this.w;let o=Math.sqrt(t*t+s*s+n*n+i*i);return o?(o=1/o,e.x=t*o,e.y=s*o,e.z=n*o,e.w=i*o,e):(e.x=0,e.y=0,e.z=0,e.w=0,e)}add(e){for(let t=0;t<4;t++)this.values[t]+=e.at(t);return this}multiply(e){const t=this.values[0],s=this.values[1],n=this.values[2],i=this.values[3],o=e.x,r=e.y,a=e.z,l=e.w;return this.x=t*l+i*o+s*a-n*r,this.y=s*l+i*r+n*o-t*a,this.z=n*l+i*a+t*r-s*o,this.w=i*l-t*o-s*r-n*a,this}static dot(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w}static sum(e,t){const s=new mt;return s.x=e.x+t.x,s.y=e.y+t.y,s.z=e.z+t.z,s.w=e.w+t.w,s}static product(e,t){const s=new mt,n=e.x,i=e.y,o=e.z,r=e.w,a=t.x,l=t.y,f=t.z,h=t.w;return s.x=n*h+r*a+i*f-o*l,s.y=i*h+r*l+o*a-n*f,s.z=o*h+r*f+n*l-i*a,s.w=r*h-n*a-i*l-o*f,s}static cross(e,t){const s=new mt,n=e.x,i=e.y,o=e.z,r=e.w,a=t.x,l=t.y,f=t.z,h=t.w;return s.x=r*f+o*h+n*l-i*a,s.y=r*h-n*a-i*l-o*f,s.z=r*a+n*h+i*f-o*l,s.w=r*l+i*h+o*a-n*f,s}static shortMix(e,t,s){const n=new mt;if(s<=0)return n.xyzw=e.xyzw,n;if(s>=1)return n.xyzw=t.xyzw,n;let i=mt.dot(e,t);const o=t.copy();i<0&&(o.inverse(),i=-i);let r,a;if(i>.9999)r=1-s,a=0+s;else{const l=Math.sqrt(1-i*i),f=Math.atan2(l,i),h=1/l;r=Math.sin((1-s)*f)*h,a=Math.sin((0+s)*f)*h}return n.x=r*e.x+a*o.x,n.y=r*e.y+a*o.y,n.z=r*e.z+a*o.z,n.w=r*e.w+a*o.w,n}static mix(e,t,s){const n=new mt,i=e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w;if(Math.abs(i)>=1)return n.xyzw=e.xyzw,n;const o=Math.acos(i),r=Math.sqrt(1-i*i);if(Math.abs(r)<.001)return n.x=e.x*.5+t.x*.5,n.y=e.y*.5+t.y*.5,n.z=e.z*.5+t.z*.5,n.w=e.w*.5+t.w*.5,n;const a=Math.sin((1-s)*o)/r,l=Math.sin(s*o)/r;return n.x=e.x*a+t.x*l,n.y=e.y*a+t.y*l,n.z=e.z*a+t.z*l,n.w=e.w*a+t.w*l,n}static fromAxisAngle(e,t){if(e.rows!==3)throw new Error("The axis vector must be in 3D!");const s=new mt;t*=.5;const n=Math.sin(t);return s.x=e.at(0)*n,s.y=e.at(1)*n,s.z=e.at(2)*n,s.w=Math.cos(t),s}};let kf=mt;tn(kf,"identity",new mt().setIdentity());class ue{constructor(){m(this,"matrix");this.matrix=new je(3,3,[[1,0,0],[0,1,0],[0,0,1]])}get scaleX(){return Math.sqrt(this.matrix.at(0,0)**2+this.matrix.at(1,0)**2)}get scaleY(){return Math.sqrt(this.matrix.at(0,1)**2+this.matrix.at(1,1)**2)}get relativeScale(){return Math.sqrt(Math.abs(this.matrix.determinant()))}get rotation(){return Math.atan2(-1*this.matrix.at(0,1),this.matrix.at(0,0))}get isMirrored(){return this.matrix.determinant()<0}get translation(){return{x:this.matrix.at(0,2),y:this.matrix.at(1,2)}}set scaleX(t){this.scale(1/this.scaleX,1,!0),this.scale(t,1,!0)}set scaleY(t){this.scale(1,1/this.scaleY,!0),this.scale(1,t,!0)}set relativeScale(t){this.scale(1/this.relativeScale,1/this.relativeScale,!0),this.scale(t,t,!0)}set rotation(t){this.rotate(-this.rotation,!0),this.rotate(t,!0)}set isMirrored(t){this.isMirrored!=t&&this.mirror(!0,!1,!0)}set translation(t){this.translate({x:-this.translation.x,y:-this.translation.y},!0),this.translate(t,!0)}rotate(t,s=!1){const n=new ue;return Object.assign(n,this),n.matrix=this.matrix.multiply(new je(3,3,[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]])),s&&Object.assign(this,n),n}translate(t,s=!1){const n=new ue;return Object.assign(n,this),n.matrix=this.matrix.multiply(new je(3,3,[[1,0,t.x],[0,1,t.y],[0,0,1]])),s&&Object.assign(this,n),n}mirror(t,s=!1,n=!1){const i=new ue;Object.assign(i,this);const o=t?-1:1,r=s?-1:1;return i.matrix=this.matrix.multiply(new je(3,3,[[o,0,0],[0,r,0],[0,0,1]])),n&&Object.assign(this,i),i}scale(t,s=t,n=!1){const i=new ue;return Object.assign(i,this),i.matrix=this.matrix.multiply(new je(3,3,[[t,0,0],[0,s,0],[0,0,1]])),n&&Object.assign(this,i),i}inverse(t=!1){const s=new ue;return Object.assign(s,this),s.matrix=s.matrix.inverse(),t&&Object.assign(this,s),s}multiply(t,s=!1){const n=new ue;return Object.assign(n,this),n.matrix=n.matrix.multiply(t.matrix),s&&Object.assign(this,n),n}transformCanvas(t,s=!0){s?t.setTransform(this.matrix.at(0,0),this.matrix.at(1,0),this.matrix.at(0,1),this.matrix.at(1,1),this.matrix.at(0,2),this.matrix.at(1,2)):t.transform(this.matrix.at(0,0),this.matrix.at(1,0),this.matrix.at(0,1),this.matrix.at(1,1),this.matrix.at(0,2),this.matrix.at(1,2))}transformPoint(t){const s=this.matrix.multiply(new je(3,1,[[t.x],[t.y],[1]]));return{x:s.at(0,0),y:s.at(1,0)}}transformLine(t){return{start:this.transformPoint(t.start),end:this.transformPoint(t.end)}}transformPath(t){return t.map(s=>this.transformLine(s))}}const Ca=(e,t,[s,...n])=>s===void 0?t:Ca(e,e(s,t),n),ot=e=>e*Math.PI/180,Bi=(e,t)=>(e%t+t)%t,We=(e,t,s)=>{const n=Math.max(e,t),i=Math.min(e,t);return s>n?n:s<i?i:s},pt=class pt{constructor(t=[],s=new ue,n="main"){m(this,"transformations",[]);m(this,"anchorPoints",{});m(this,"_transformationMatrix");m(this,"canvasId");m(this,"key","");t.forEach(i=>{this.transformations.push(i)}),this.transformations.push(L(s)),this._transformationMatrix=se(()=>Ca((i,o)=>o.multiply(i.value),new ue,this.transformations)),pt.allCtxArtists.push(this),this.canvasId=n}get transformationMatrix(){return this._transformationMatrix.value}get localTransformationMatrix(){return this.transformations[this.transformations.length-1].value}getAnchorPoint(t){return this.anchorPoints[t]==null&&console.log("Cannot find anchor point",t,"on CtxArtist"),pt.circuitTransformationMatrix.inverse().multiply(this.transformationMatrix).transformPoint(this.anchorPoints[t])}getAnchorPointWithTransformations(t){return[this.transformations.slice(0,-1),this.getAnchorPoint(t)]}moveTo(t){this.transformations[this.transformations.length-1].value.translation=t}get localLineThickness(){return this.getLocalLineThickness()}fillTextGlobalReferenceFrame(t,s,n,i=!1,o=!1,r=16){if(pt.textTransformationMatrix.transformCanvas(t),i){const l=this.transformationMatrix.transformPoint({x:0,y:0}),f=this.transformationMatrix.transformPoint(s);f.x<l.x==!o?t.textAlign="right":f.x>l.x==!o?t.textAlign="left":t.textAlign="center"}const a=pt.textTransformationMatrix.inverse().transformPoint(this.transformationMatrix.transformPoint(s));return t.fillText(n,a.x,a.y),this.transformationMatrix.transformCanvas(t),this.transformationMatrix.inverse().transformPoint(pt.textTransformationMatrix.transformPoint({x:a.x,y:a.y+r}))}getRelativeScaling(){return pt.textTransformationMatrix.relativeScale/this.transformationMatrix.relativeScale}getLocalLineThickness(t=Cf){return t*this.getRelativeScaling()}};m(pt,"textTransformationMatrix",new ue),m(pt,"circuitTransformationMatrix",new ue),m(pt,"allCtxArtists",[]);let De=pt;const vn=e=>Math.sqrt((e.end.x-e.start.x)**2+(e.end.y-e.start.y)**2),Pa=e=>{let t=0;return e.forEach(s=>{t+=vn(s)}),t},La=(e,t)=>(t=We(0,1,t),{x:e.start.x+(e.end.x-e.start.x)*t,y:e.start.y+(e.end.y-e.start.y)*t}),Je=(e,t)=>{const s=Pa(e),n=t*s;let i=0;for(let o of e){const r=vn(o);if(i+=r,i>=n){const a=i-r,f=(n-a)/r;return La(o,f)}}return console.log("Error finding point along path"),{x:0,y:0}},Rf=(e,t,s,n=5)=>{const i=s.x-t.x,o=s.y-t.y,r=Math.sqrt(i**2+o**2),a=n/2/r*-o,l=n/2/r*i,f=n/2/r*i,h=n/2/r*o,d={x:t.x+a-f,y:t.y+l-h},p={x:t.x-a-f,y:t.y-l-h},y={x:s.x-a+f,y:s.y-l+h},_={x:s.x+a+f,y:s.y+l+h};e.moveTo(d.x,d.y),e.lineTo(p.x,p.y),e.lineTo(y.x,y.y),e.lineTo(_.x,_.y)},If=(e,t,s)=>{const n=t.outerDiameter,i=n-2*s;e.moveTo(t.center.x,t.center.y),e.arc(t.center.x,t.center.y,n/2,0,2*Math.PI,!1),i>0&&e.arc(t.center.x,t.center.y,i/2,0,2*Math.PI,!0)},Ea=(e,t,s,n="rgba(200, 200, 200, 1)")=>{const i=e.createRadialGradient(t.x,t.y,0,t.x,t.y,s);return i.addColorStop(0,n),i.addColorStop(.5,n),i.addColorStop(.99,"rgba(0, 0, 0, 1)"),i.addColorStop(1,"rgba(0, 0, 0, 0)"),i},Da=(e,t)=>()=>{e.save(),e.clip(),e.fillStyle=t,e.fill(),e.resetTransform(),e.fillRect(0,0,e.canvas.clientWidth,e.canvas.clientHeight),e.restore(),e.beginPath()},Oa=(e,t="black")=>()=>{e.fillStyle=t,e.fill(),e.beginPath()},Wa=(e,t,s=5,n)=>{const i=Da(e,n);for(let o=0;o<Aa;o++)Fa(e,t,s,i)},Ft=(e,t,s=5,n="black")=>{const i=Oa(e,n);for(let o=0;o<Aa;o++)Fa(e,t,s,i)},Fa=(e,t,s=5,n)=>{e.beginPath(),t.forEach(i=>{Rf(e,i.start,i.end,s),n()})},Nf=(e,t,s=5,n)=>{const i=Da(e,n);ka(e,t,s,i)},Mo=(e,t,s=5,n="black")=>{const i=Oa(e,n);ka(e,t,s,i)},ka=(e,t,s=5,n)=>{e.beginPath(),t.forEach(i=>{If(e,i,s)}),n()},ys=(e,t,s=3)=>{if(e==0)return"0"+t;const n=e>=0?"":"-",i=Math.abs(e),o={30:"Q",27:"R",24:"Y",21:"Z",18:"E",15:"P",12:"T",9:"G",6:"M",3:"k",0:"","-3":"m","-6":"","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y","-27":"r","-30":"q"},r=Math.floor(Math.log10(i)/3)*3;let a=o[r.toString()];a==null&&(a="e"+r.toString()+" ");const l=parseFloat((i/10**r).toPrecision(s));return n+l+a+t};class zt extends De{constructor(s=[],n=[],i=[],o=[],r=[],a=[],l=[]){super(s,new ue);m(this,"gndSymbols");m(this,"vddSymbols");m(this,"parasiticCapacitors");m(this,"mosfets");m(this,"nodes");m(this,"wires");this.gndSymbols=n,this.vddSymbols=i,this.parasiticCapacitors=o,this.mosfets=r,this.nodes=a,this.wires=l}copy(s){return new zt([s].concat(this.transformations.slice(1)),this.gndSymbols.map(i=>i.copy(s)),this.vddSymbols.map(i=>i.copy(s)),[],this.mosfets,this.nodes,this.wires.map(i=>({node:i.node,lines:i.lines,voltageDisplayLabel:"",voltageDisplayLocations:[]})))}draw(s){this.transformationMatrix.transformCanvas(s),this.gndSymbols.forEach(n=>{n.draw(s)}),this.vddSymbols.forEach(n=>{n.draw(s)}),this.parasiticCapacitors.forEach(n=>{n.draw(s)}),this.transformationMatrix.transformCanvas(s),this.nodes.forEach(n=>{n.value.schematicEffects=[]}),this.mosfets.forEach(n=>{Object.values(n.schematicEffects).forEach(i=>{const o=zt.flattenSchematicEffect(i);i.node.value.schematicEffects.push(o)})}),this.wires.forEach(n=>{Ft(s,n.lines.map(i=>i.toLine()),this.localLineThickness,"black"),n.node.value.schematicEffects.forEach(i=>{const o=i.origin,r=Ea(s,o,i.gradientSize,i.color);Wa(s,n.lines.map(a=>a.toLine()),this.localLineThickness,r)}),n.voltageDisplayLocations.forEach(i=>{s.fillStyle="black",s.font="18px sans-serif",this.fillTextGlobalReferenceFrame(s,i.toPoint(),n.voltageDisplayLabel+" = "+ys(n.node.value.voltage,"V"),!1)})})}static flattenSchematicEffect(s){return{origin:s.origin.toPoint(),color:s.color,gradientSize:s.gradientSize}}}class Ra extends De{constructor(s=[],n=new ue,i,o,r,a,l,f=R.Visible,h="main"){super(s,n);m(this,"visibility");m(this,"fromNode");m(this,"toNode");m(this,"dragging",!1);m(this,"location",{x:0,y:0});m(this,"minValue");m(this,"maxValue");m(this,"value");m(this,"drivenNode");m(this,"canvasId");m(this,"preciseDragging",!1);m(this,"temporaryMinValue");m(this,"temporaryMaxValue");m(this,"previousValue");m(this,"valueRateOfChange",0);this.visibility=f,this.fromNode=i,this.toNode=o,this.minValue=a,this.maxValue=l,this.value=a,this.temporaryMinValue=a,this.temporaryMaxValue=l,this.previousValue=a,this.drivenNode=r,this.canvasId=h}draw(s){throw new Error("draw is a virtual function on the CtxSlider class. (Received"+s+")")}updateLocationBasedOnValue(){throw new Error("updateLocationBasedOnValue is a virtual function on the CtxSlider class.")}updateValueBasedOnMousePosition(s){throw new Error("updateValueBasedOnMousePosition is a virtual function on the CtxSlider class. (Received"+s+")")}mouseDownIntiatesDrag(s){throw new Error("mouseDownIntiatesDrag is a virtual function on the CtxSlider class. (Received"+s+")")}updateValueBasedOnNodeVoltages(){this.value=We(this.temporaryMinValue,this.temporaryMaxValue,this.toNode.value.voltage-this.fromNode.value.voltage),this.updateLocationBasedOnValue()}updateNodeVoltagesBasedOnValue(){this.dragging&&(this.drivenNode=="toNode"?(this.toNode.value.fixed=!0,this.toNode.value.voltage=this.fromNode.value.voltage+this.value):(this.fromNode.value.fixed=!0,this.fromNode.value.voltage=this.toNode.value.voltage-this.value))}dragSlider(s){if(this.dragging){const n=this.transformationMatrix.inverse().transformPoint(s);this.updateValueBasedOnMousePosition(n),this.value=We(this.temporaryMinValue,this.temporaryMaxValue,this.value);const i=We(0,1,(this.value-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue));i<.05&&this.value<=this.previousValue?this.valueRateOfChange=-.01:i>.95&&this.value>=this.previousValue?this.valueRateOfChange=.01:this.valueRateOfChange=0,this.updateLocationBasedOnValue(),this.updateNodeVoltagesBasedOnValue(),this.previousValue=this.value}}releaseSlider(){this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.maxValue,this.preciseDragging=!1,this.dragging=!1,this.drivenNode=="toNode"?this.toNode.value.fixed=!1:this.fromNode.value.fixed=!1}adjustPreciseSlider(s=10){this.dragging&&this.preciseDragging&&(this.value>=this.maxValue||this.temporaryMaxValue>this.maxValue?(this.value=this.maxValue,this.temporaryMaxValue=this.maxValue,this.temporaryMinValue=this.maxValue-An,this.valueRateOfChange=0):this.value<=this.minValue||this.temporaryMinValue<this.minValue?(this.value=this.minValue,this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.minValue+An,this.valueRateOfChange=0):(this.temporaryMinValue+=this.valueRateOfChange*(s/1e3)*70,this.temporaryMaxValue+=this.valueRateOfChange*(s/1e3)*70,this.value+=this.valueRateOfChange*(s/1e3)*70))}checkDrag(s,n){if(this.visibility!=R.Visible)return;const i=this.transformationMatrix.inverse().transformPoint(s);if(this.mouseDownIntiatesDrag(i)&&(this.dragging=!0),this.dragging)if(n){this.preciseDragging=!0;const o=(this.value-this.minValue)/(this.maxValue-this.minValue);this.temporaryMinValue=this.value-An*o,this.temporaryMaxValue=this.value+An*(1-o)}else this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.maxValue}}class Ps extends Ra{constructor(s=[],n,i,o,r,a,l,f,h,d,p,y,_,E,k="main"){super(s,new ue().translate({x:r,y:a}).rotate(f).mirror(!1,d),n,i,o,p,y,E,k);m(this,"radius");m(this,"originalRadius");m(this,"endAngle");m(this,"displayText");m(this,"displayTextLocation");this.radius=l,this.originalRadius=l,this.endAngle=h,this.displayText=_,this.displayTextLocation=d?zi.Right:zi.Left}draw(s){if(this.visibility==R.Hidden)return;this.transformationMatrix.transformCanvas(s),this.dragging&&this.preciseDragging?this.radius=this.originalRadius+10:this.radius=this.originalRadius,s.strokeStyle=this.visibility==R.Visible?"orange":"lightgrey",s.lineWidth=this.localLineThickness,s.beginPath(),s.arc(0,0,this.radius,0,this.endAngle,!1);const n=this.endAngle,i=0,o=7;s.moveTo((this.radius+o)*Math.cos(i),(this.radius+o)*Math.sin(i)),s.lineTo((this.radius-o)*Math.cos(i),(this.radius-o)*Math.sin(i));const r=7,a=ot(-5);if(s.moveTo((this.radius+r)*Math.cos(n+a),(this.radius+r)*Math.sin(n+a)),s.lineTo(this.radius*Math.cos(n),this.radius*Math.sin(n)),s.lineTo((this.radius-r)*Math.cos(n+a),(this.radius-r)*Math.sin(n+a)),s.stroke(),this.dragging&&this.preciseDragging){const h=(p,y=!0)=>{const _=this.radius+(y?15:8);s.beginPath(),s.moveTo(this.radius*Math.cos(p),this.radius*Math.sin(p)),s.lineTo(_*Math.cos(p),_*Math.sin(p)),s.stroke()};let d=Math.ceil(this.temporaryMinValue);for(;d<this.temporaryMaxValue;){const p=(d-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue);h(this.endAngle*p,!0),d+=1}for(d=Math.ceil(this.temporaryMinValue+.5)-.5;d<this.temporaryMaxValue;){const p=(d-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue);h(this.endAngle*p,!1),d+=1}}s.beginPath(),s.arc(this.location.x,this.location.y,5,0,Math.PI*2),s.fillStyle=this.visibility==R.Visible?"rgb(255, 0, 0)":"lightgrey",s.fill(),s.fillStyle=this.visibility==R.Visible?"#000":"lightgrey";const l={x:this.location.x*(this.radius+15)/this.radius,y:this.location.y*(this.radius+15)/this.radius};s.font="18px Arial";const f=this.fillTextGlobalReferenceFrame(s,l,this.displayText,!0,!1,18);s.font="16px Arial",this.fillTextGlobalReferenceFrame(s,f,ys(this.value,"V",3),!0)}updateLocationBasedOnValue(){const n=(this.value-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue)*this.endAngle;this.location={x:this.radius*Math.cos(n),y:this.radius*Math.sin(n)}}updateValueBasedOnMousePosition(s){const n=Math.atan2(s.y,s.x),i=We(0,1,n/this.endAngle);this.value=i*(this.temporaryMaxValue-this.temporaryMinValue)+this.temporaryMinValue,this.updateLocationBasedOnValue()}mouseDownIntiatesDrag(s){const n=s.x**2+s.y**2,i=(s.x-this.location.x)**2+(s.y-this.location.y)**2,r=Math.atan2(s.y,s.x)/this.endAngle;return i<=10**2||(this.radius-20)**2<n&&n<(this.radius+20)**2&&0<r&&r<1}}const Un=class Un extends De{constructor(s=[],n=se(()=>({x:0,y:0})),i={}){super(s,new ue);m(this,"currentLocation",{x:0,y:0});m(this,"desiredLocation");this.desiredLocation=n,this.anchorPoints=i,Un.allTectonicPlates.push(this)}moveTowardDesiredLocation(){this.moveTowardLocation(this.desiredLocation.value)}moveTowardLocation(s){const i={start:this.currentLocation,end:s};let o={x:0,y:0};vn(De.textTransformationMatrix.transformLine(i))<.1?o=s:o=La(i,.1),this.moveTo(o),this.currentLocation=o}};m(Un,"allTectonicPlates",[]);let ne=Un;class N extends De{constructor(s=[],n={x:0,y:0}){super(s,new ue);m(this,"point");this.point=n}toPoint(){return this.transformations[0].value.inverse().multiply(this.transformationMatrix).transformPoint(this.point)}}class C{constructor(t,s,n,i){m(this,"start");m(this,"end");this.start=new N(t,s),this.end=new N(n,i)}toLine(){return{start:this.start.toPoint(),end:this.end.toPoint()}}}class Ze extends De{constructor(s=[],n,i,o,r,a,l=!1,f="main"){super(s,new ue().translate(n).mirror(l,!1).scale(1/30),f);m(this,"voltageDrop");m(this,"vplus");m(this,"vminus");m(this,"schematicEffects");m(this,"current");m(this,"fixedAt");m(this,"isDuplicate",!1);m(this,"boundingBox");m(this,"selectedFocus",L(!1));m(this,"mouseDownInsideSelectionArea",!1);this.vplus=o,this.vminus=i,this.fixedAt=a,a=="gnd"?this.voltageDrop=new Ps(this.transformations,i,o,"toNode",0,0,50,ot(40),ot(80),!0,0,5,r,R.Visible,f):this.voltageDrop=new Ps(this.transformations.concat([L(new ue().mirror(!1,!0))]),i,o,"fromNode",0,0,50,ot(40),ot(80),!0,0,5,r,R.Visible,f),this.schematicEffects={},this.current=0,this.anchorPoints={Vplus:{x:0,y:-30},Vminus:{x:0,y:30},vdd:{x:0,y:-60},gnd:{x:0,y:60}},this.boundingBox=[new N(this.transformations,{x:-100,y:0}),new N(this.transformations,{x:100,y:0}),new N(this.transformations,{x:0,y:-100}),new N(this.transformations,{x:0,y:100})]}copy(s,n="main"){const i=new Ze([s].concat(this.transformations.slice(1)),{x:0,y:0},this.vminus,this.vplus,this.voltageDrop.displayText,this.fixedAt,this.fixedAt=="gnd"==this.transformationMatrix.isMirrored,n);return i.transformations[i.transformations.length-1].value=new ue,i}draw(s,n=void 0){if(n!==void 0?n.transformCanvas(s):this.transformationMatrix.transformCanvas(s),this.selectedFocus.value&&!this.isDuplicate){const h=s.createRadialGradient(0,0,0,0,0,100);h.addColorStop(0,"rgba(0, 0, 255, 0)"),h.addColorStop(.5,"rgba(0, 0, 255, 0)"),h.addColorStop(.8,"rgba(0, 0, 255, 0.2)"),h.addColorStop(1,"rgba(0, 0, 255, 0)"),s.fillStyle=h,s.arc(0,0,200,0,2*Math.PI),s.fill()}const i=30,o=11,r=10;s.strokeStyle="black",s.lineWidth=this.localLineThickness;const a=[],l=[{start:{x:o/2,y:-r},end:{x:-o/2,y:-r}},{start:{x:0,y:-r-o/2},end:{x:0,y:-r+o/2}},{start:{x:o/2,y:r},end:{x:-o/2,y:r}}],f=[{center:{x:0,y:0},outerDiameter:2*i}];Ft(s,a,this.localLineThickness,"black"),Ft(s,l,this.localLineThickness*.8,"black"),Mo(s,f,this.localLineThickness,"black"),this.voltageDrop.draw(s)}checkSelectionArea(s){const n=this.transformationMatrix.inverse().transformPoint(s);return vn({start:{x:0,y:0},end:n})<60}}const ji=(e,t=0,s=5,n=0)=>{const i=e-n,o=t-n,r=s-n,a=.0256,l=.648,f=.8051,h=164e-8,d=h*Math.log(1+Math.exp((f*(i-l)-o)/(2*a)))**2+1e-15,p=h*Math.log(1+Math.exp((f*(i-l)-r)/(2*a)))**2,y=d-p,_=y/d;return{I:y,IF:d,saturationLevel:_}},$i=(e,t=5,s=0,n=5)=>{const i=n-e,o=n-t,r=n-s,a=.0256,l=.7283,f=.7609,h=6108e-10,d=h*Math.log(1+Math.exp((f*(i-l)-o)/(2*a)))**2+1e-15,p=h*Math.log(1+Math.exp((f*(i-l)-r)/(2*a)))**2,y=d-p,_=y/d;return{I:y,IF:d,saturationLevel:_}};function ai(e){for(var t=e.length/6|0,s=new Array(t),n=0;n<t;)s[n]="#"+e.slice(n*6,++n*6);return s}function li(e){var t=e.length;return function(s){return e[Math.max(0,Math.min(t-1,Math.floor(s*t)))]}}li(ai("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));li(ai("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));var zf=li(ai("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));li(ai("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function qs(e,t,s){this.k=e,this.x=t,this.y=s}qs.prototype={constructor:qs,scale:function(e){return e===1?this:new qs(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new qs(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};qs.prototype;class Hi{constructor(t=[]){m(this,"dotPath");m(this,"dotPercentage");m(this,"dotSize");m(this,"dotSpacing");m(this,"gradientSize");this.dotPath=t,this.dotPercentage=0,this.dotSize=8,this.dotSpacing=20,t.length==0?this.gradientSize=0:this.gradientSize=Math.sqrt((t[t.length-1].end.x-t[0].start.x)**2+(t[t.length-1].end.y-t[0].start.y)**2)/2}draw(t){const s=this.getMovingDotPositions(this.dotPath,this.dotSpacing).map(i=>({center:i,outerDiameter:this.dotSize})),n=t.createRadialGradient(0,0,0,0,0,this.gradientSize);n.addColorStop(0,"rgba(0, 0, 255, 1)"),n.addColorStop(1,"rgba(0, 0, 255, 0)"),Nf(t,s,this.dotSize/2,n)}updateDotPositionBasedOnTimestamp(t,s=10){const n=this.getDotSpeedFromCurrent(t);this.dotPercentage=Bi(this.dotPercentage+n*(s/1e3),1)}getMovingDotPositions(t,s){const n=Pa(t),i=[],o=Math.floor(n/s);for(let r=0;r<o;r++){const a=(r+this.dotPercentage)/o,l=Je(t,a);i.push(l)}return i}getDotSpeedFromCurrent(t){let i=1,o=!1;return t==0?0:(t<0&&(t=Math.abs(t),o=!0),t>1e-4?i=(Math.log10(t/1e-4)+1)**2*1:i=1/(1-Math.log10(t/1e-4))**2*1,i>5*1?i=5*1:i<.001*1&&(i=.001*1),o?-i:i)}}const Bf=(e,t)=>Math.floor(e/t)*t,Ui=(e,t,s=!1)=>{if(s)return $f(e,t);const n=t-e;let i=10**Math.floor(Math.log10(n));const o=Math.floor(n/i);o>=5?i=i*5:o>=4?i=i*2:o<=2&&(i=i/2);let a=Bf(e,i),l=[];for(;a<=t;)l.push(a),a=a+i;return l.push(a),l},jf=e=>Math.abs(Math.round(e)-e)<.1?10**Math.round(3*e):5*10**Math.floor(3*e),$f=(e,t)=>{e<=0&&console.error(`Lower bound, ${e} <= 0. Log will return NaN`);const s=Math.log10(e)/3,n=Math.log10(t)/3;return n-s<1?Ui(e,t):Ui(s,n).map(jf)},Cn=(e,t,s)=>{if(s<=0)throw new Error("num must be a positive integer");if(s===1)return[e];const n=(t-e)/(s-1),i=[];for(let o=0;o<s;o++)i.push(e+n*o);return i},Fn=L(!0),sn=L(!1),rt=L(2),Gi=L({width:1,height:1}),Hf=L({width:1,height:1}),Uf=L({width:1,height:1}),Gf=(e,t)=>{t.value={width:e.canvas.clientWidth,height:e.canvas.clientHeight}},As=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Ia=new Set,Ki=typeof process=="object"&&process?process:{},Na=(e,t,s,n)=>{typeof Ki.emitWarning=="function"?Ki.emitWarning(e,t,s,n):console.error(`[${s}] ${t}: ${e}`)};let Hn=globalThis.AbortController,yr=globalThis.AbortSignal;var xr;if(typeof Hn>"u"){yr=class{constructor(){m(this,"onabort");m(this,"_onabort",[]);m(this,"reason");m(this,"aborted",!1)}addEventListener(n,i){this._onabort.push(i)}},Hn=class{constructor(){m(this,"signal",new yr);t()}abort(n){var i,o;if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const r of this.signal._onabort)r(n);(o=(i=this.signal).onabort)==null||o.call(i,n)}}};let e=((xr=Ki.env)==null?void 0:xr.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const t=()=>{e&&(e=!1,Na("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const Kf=e=>!Ia.has(e),Gt=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),za=e=>Gt(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?kn:null:null;class kn extends Array{constructor(t){super(t),this.fill(0)}}var Ws;const ps=class ps{constructor(t,s){m(this,"heap");m(this,"length");if(!c(ps,Ws))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new s(t),this.length=0}static create(t){const s=za(t);if(!s)return[];G(ps,Ws,!0);const n=new ps(t,s);return G(ps,Ws,!1),n}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};Ws=new WeakMap,Z(ps,Ws,!1);let qi=ps;var vt,tt,yt,bt,Fs,ks,Ee,xt,Ce,we,Q,Ge,st,Be,ke,wt,Re,Mt,_t,nt,Vt,ts,Ke,fn,Xi,bs,It,un,it,Gn,Ba,xs,Rs,hn,Pt,Kt,Lt,qt,dn,Ji,_u,Is,Rn,Ns,In,ve,xe,gn,Zi,ws,Ys,Et,Yt,mn,Qi;const Vo=class Vo{constructor(t){Z(this,fn);Z(this,Gn);Z(this,Pt);Z(this,Lt);Z(this,dn);Z(this,Is);Z(this,Ns);Z(this,ve);Z(this,gn);Z(this,ws);Z(this,Et);Z(this,mn);Z(this,vt,void 0);Z(this,tt,void 0);Z(this,yt,void 0);Z(this,bt,void 0);Z(this,Fs,void 0);Z(this,ks,void 0);m(this,"ttl");m(this,"ttlResolution");m(this,"ttlAutopurge");m(this,"updateAgeOnGet");m(this,"updateAgeOnHas");m(this,"allowStale");m(this,"noDisposeOnSet");m(this,"noUpdateTTL");m(this,"maxEntrySize");m(this,"sizeCalculation");m(this,"noDeleteOnFetchRejection");m(this,"noDeleteOnStaleGet");m(this,"allowStaleOnFetchAbort");m(this,"allowStaleOnFetchRejection");m(this,"ignoreFetchAbort");Z(this,Ee,void 0);Z(this,xt,void 0);Z(this,Ce,void 0);Z(this,we,void 0);Z(this,Q,void 0);Z(this,Ge,void 0);Z(this,st,void 0);Z(this,Be,void 0);Z(this,ke,void 0);Z(this,wt,void 0);Z(this,Re,void 0);Z(this,Mt,void 0);Z(this,_t,void 0);Z(this,nt,void 0);Z(this,Vt,void 0);Z(this,ts,void 0);Z(this,Ke,void 0);Z(this,bs,()=>{});Z(this,It,()=>{});Z(this,un,()=>{});Z(this,it,()=>!1);Z(this,xs,t=>{});Z(this,Rs,(t,s,n)=>{});Z(this,hn,(t,s,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});m(this,_u,"LRUCache");const{max:s=0,ttl:n,ttlResolution:i=1,ttlAutopurge:o,updateAgeOnGet:r,updateAgeOnHas:a,allowStale:l,dispose:f,disposeAfter:h,noDisposeOnSet:d,noUpdateTTL:p,maxSize:y=0,maxEntrySize:_=0,sizeCalculation:E,fetchMethod:k,memoMethod:S,noDeleteOnFetchRejection:T,noDeleteOnStaleGet:$,allowStaleOnFetchRejection:K,allowStaleOnFetchAbort:te,ignoreFetchAbort:X}=t;if(s!==0&&!Gt(s))throw new TypeError("max option must be a nonnegative integer");const me=s?za(s):Array;if(!me)throw new Error("invalid max value: "+s);if(G(this,vt,s),G(this,tt,y),this.maxEntrySize=_||c(this,tt),this.sizeCalculation=E,this.sizeCalculation){if(!c(this,tt)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(S!==void 0&&typeof S!="function")throw new TypeError("memoMethod must be a function if defined");if(G(this,ks,S),k!==void 0&&typeof k!="function")throw new TypeError("fetchMethod must be a function if specified");if(G(this,Fs,k),G(this,ts,!!k),G(this,Ce,new Map),G(this,we,new Array(s).fill(void 0)),G(this,Q,new Array(s).fill(void 0)),G(this,Ge,new me(s)),G(this,st,new me(s)),G(this,Be,0),G(this,ke,0),G(this,wt,qi.create(s)),G(this,Ee,0),G(this,xt,0),typeof f=="function"&&G(this,yt,f),typeof h=="function"?(G(this,bt,h),G(this,Re,[])):(G(this,bt,void 0),G(this,Re,void 0)),G(this,Vt,!!c(this,yt)),G(this,Ke,!!c(this,bt)),this.noDisposeOnSet=!!d,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!T,this.allowStaleOnFetchRejection=!!K,this.allowStaleOnFetchAbort=!!te,this.ignoreFetchAbort=!!X,this.maxEntrySize!==0){if(c(this,tt)!==0&&!Gt(c(this,tt)))throw new TypeError("maxSize must be a positive integer if specified");if(!Gt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");F(this,Gn,Ba).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!$,this.updateAgeOnGet=!!r,this.updateAgeOnHas=!!a,this.ttlResolution=Gt(i)||i===0?i:1,this.ttlAutopurge=!!o,this.ttl=n||0,this.ttl){if(!Gt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");F(this,fn,Xi).call(this)}if(c(this,vt)===0&&this.ttl===0&&c(this,tt)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!c(this,vt)&&!c(this,tt)){const H="LRU_CACHE_UNBOUNDED";Kf(H)&&(Ia.add(H),Na("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",H,Vo))}}static unsafeExposeInternals(t){return{starts:c(t,_t),ttls:c(t,nt),sizes:c(t,Mt),keyMap:c(t,Ce),keyList:c(t,we),valList:c(t,Q),next:c(t,Ge),prev:c(t,st),get head(){return c(t,Be)},get tail(){return c(t,ke)},free:c(t,wt),isBackgroundFetch:s=>{var n;return F(n=t,ve,xe).call(n,s)},backgroundFetch:(s,n,i,o)=>{var r;return F(r=t,Ns,In).call(r,s,n,i,o)},moveToTail:s=>{var n;return F(n=t,ws,Ys).call(n,s)},indexes:s=>{var n;return F(n=t,Pt,Kt).call(n,s)},rindexes:s=>{var n;return F(n=t,Lt,qt).call(n,s)},isStale:s=>{var n;return c(n=t,it).call(n,s)}}}get max(){return c(this,vt)}get maxSize(){return c(this,tt)}get calculatedSize(){return c(this,xt)}get size(){return c(this,Ee)}get fetchMethod(){return c(this,Fs)}get memoMethod(){return c(this,ks)}get dispose(){return c(this,yt)}get disposeAfter(){return c(this,bt)}getRemainingTTL(t){return c(this,Ce).has(t)?1/0:0}*entries(){for(const t of F(this,Pt,Kt).call(this))c(this,Q)[t]!==void 0&&c(this,we)[t]!==void 0&&!F(this,ve,xe).call(this,c(this,Q)[t])&&(yield[c(this,we)[t],c(this,Q)[t]])}*rentries(){for(const t of F(this,Lt,qt).call(this))c(this,Q)[t]!==void 0&&c(this,we)[t]!==void 0&&!F(this,ve,xe).call(this,c(this,Q)[t])&&(yield[c(this,we)[t],c(this,Q)[t]])}*keys(){for(const t of F(this,Pt,Kt).call(this)){const s=c(this,we)[t];s!==void 0&&!F(this,ve,xe).call(this,c(this,Q)[t])&&(yield s)}}*rkeys(){for(const t of F(this,Lt,qt).call(this)){const s=c(this,we)[t];s!==void 0&&!F(this,ve,xe).call(this,c(this,Q)[t])&&(yield s)}}*values(){for(const t of F(this,Pt,Kt).call(this))c(this,Q)[t]!==void 0&&!F(this,ve,xe).call(this,c(this,Q)[t])&&(yield c(this,Q)[t])}*rvalues(){for(const t of F(this,Lt,qt).call(this))c(this,Q)[t]!==void 0&&!F(this,ve,xe).call(this,c(this,Q)[t])&&(yield c(this,Q)[t])}[Symbol.iterator](){return this.entries()}find(t,s={}){for(const n of F(this,Pt,Kt).call(this)){const i=c(this,Q)[n],o=F(this,ve,xe).call(this,i)?i.__staleWhileFetching:i;if(o!==void 0&&t(o,c(this,we)[n],this))return this.get(c(this,we)[n],s)}}forEach(t,s=this){for(const n of F(this,Pt,Kt).call(this)){const i=c(this,Q)[n],o=F(this,ve,xe).call(this,i)?i.__staleWhileFetching:i;o!==void 0&&t.call(s,o,c(this,we)[n],this)}}rforEach(t,s=this){for(const n of F(this,Lt,qt).call(this)){const i=c(this,Q)[n],o=F(this,ve,xe).call(this,i)?i.__staleWhileFetching:i;o!==void 0&&t.call(s,o,c(this,we)[n],this)}}purgeStale(){let t=!1;for(const s of F(this,Lt,qt).call(this,{allowStale:!0}))c(this,it).call(this,s)&&(F(this,Et,Yt).call(this,c(this,we)[s],"expire"),t=!0);return t}info(t){const s=c(this,Ce).get(t);if(s===void 0)return;const n=c(this,Q)[s],i=F(this,ve,xe).call(this,n)?n.__staleWhileFetching:n;if(i===void 0)return;const o={value:i};if(c(this,nt)&&c(this,_t)){const r=c(this,nt)[s],a=c(this,_t)[s];if(r&&a){const l=r-(As.now()-a);o.ttl=l,o.start=Date.now()}}return c(this,Mt)&&(o.size=c(this,Mt)[s]),o}dump(){const t=[];for(const s of F(this,Pt,Kt).call(this,{allowStale:!0})){const n=c(this,we)[s],i=c(this,Q)[s],o=F(this,ve,xe).call(this,i)?i.__staleWhileFetching:i;if(o===void 0||n===void 0)continue;const r={value:o};if(c(this,nt)&&c(this,_t)){r.ttl=c(this,nt)[s];const a=As.now()-c(this,_t)[s];r.start=Math.floor(Date.now()-a)}c(this,Mt)&&(r.size=c(this,Mt)[s]),t.unshift([n,r])}return t}load(t){this.clear();for(const[s,n]of t){if(n.start){const i=Date.now()-n.start;n.start=As.now()-i}this.set(s,n.value,n)}}set(t,s,n={}){var p,y,_,E,k;if(s===void 0)return this.delete(t),this;const{ttl:i=this.ttl,start:o,noDisposeOnSet:r=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=n;let{noUpdateTTL:f=this.noUpdateTTL}=n;const h=c(this,hn).call(this,t,s,n.size||0,a);if(this.maxEntrySize&&h>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),F(this,Et,Yt).call(this,t,"set"),this;let d=c(this,Ee)===0?void 0:c(this,Ce).get(t);if(d===void 0)d=c(this,Ee)===0?c(this,ke):c(this,wt).length!==0?c(this,wt).pop():c(this,Ee)===c(this,vt)?F(this,Is,Rn).call(this,!1):c(this,Ee),c(this,we)[d]=t,c(this,Q)[d]=s,c(this,Ce).set(t,d),c(this,Ge)[c(this,ke)]=d,c(this,st)[d]=c(this,ke),G(this,ke,d),bn(this,Ee)._++,c(this,Rs).call(this,d,h,l),l&&(l.set="add"),f=!1;else{F(this,ws,Ys).call(this,d);const S=c(this,Q)[d];if(s!==S){if(c(this,ts)&&F(this,ve,xe).call(this,S)){S.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:T}=S;T!==void 0&&!r&&(c(this,Vt)&&((p=c(this,yt))==null||p.call(this,T,t,"set")),c(this,Ke)&&((y=c(this,Re))==null||y.push([T,t,"set"])))}else r||(c(this,Vt)&&((_=c(this,yt))==null||_.call(this,S,t,"set")),c(this,Ke)&&((E=c(this,Re))==null||E.push([S,t,"set"])));if(c(this,xs).call(this,d),c(this,Rs).call(this,d,h,l),c(this,Q)[d]=s,l){l.set="replace";const T=S&&F(this,ve,xe).call(this,S)?S.__staleWhileFetching:S;T!==void 0&&(l.oldValue=T)}}else l&&(l.set="update")}if(i!==0&&!c(this,nt)&&F(this,fn,Xi).call(this),c(this,nt)&&(f||c(this,un).call(this,d,i,o),l&&c(this,It).call(this,l,d)),!r&&c(this,Ke)&&c(this,Re)){const S=c(this,Re);let T;for(;T=S==null?void 0:S.shift();)(k=c(this,bt))==null||k.call(this,...T)}return this}pop(){var t;try{for(;c(this,Ee);){const s=c(this,Q)[c(this,Be)];if(F(this,Is,Rn).call(this,!0),F(this,ve,xe).call(this,s)){if(s.__staleWhileFetching)return s.__staleWhileFetching}else if(s!==void 0)return s}}finally{if(c(this,Ke)&&c(this,Re)){const s=c(this,Re);let n;for(;n=s==null?void 0:s.shift();)(t=c(this,bt))==null||t.call(this,...n)}}}has(t,s={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=s,o=c(this,Ce).get(t);if(o!==void 0){const r=c(this,Q)[o];if(F(this,ve,xe).call(this,r)&&r.__staleWhileFetching===void 0)return!1;if(c(this,it).call(this,o))i&&(i.has="stale",c(this,It).call(this,i,o));else return n&&c(this,bs).call(this,o),i&&(i.has="hit",c(this,It).call(this,i,o)),!0}else i&&(i.has="miss");return!1}peek(t,s={}){const{allowStale:n=this.allowStale}=s,i=c(this,Ce).get(t);if(i===void 0||!n&&c(this,it).call(this,i))return;const o=c(this,Q)[i];return F(this,ve,xe).call(this,o)?o.__staleWhileFetching:o}async fetch(t,s={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:r=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:h=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:y=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:E,forceRefresh:k=!1,status:S,signal:T}=s;if(!c(this,ts))return S&&(S.fetch="get"),this.get(t,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:o,status:S});const $={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:o,ttl:r,noDisposeOnSet:a,size:l,sizeCalculation:f,noUpdateTTL:h,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:_,ignoreFetchAbort:y,status:S,signal:T};let K=c(this,Ce).get(t);if(K===void 0){S&&(S.fetch="miss");const te=F(this,Ns,In).call(this,t,K,$,E);return te.__returned=te}else{const te=c(this,Q)[K];if(F(this,ve,xe).call(this,te)){const de=n&&te.__staleWhileFetching!==void 0;return S&&(S.fetch="inflight",de&&(S.returnedStale=!0)),de?te.__staleWhileFetching:te.__returned=te}const X=c(this,it).call(this,K);if(!k&&!X)return S&&(S.fetch="hit"),F(this,ws,Ys).call(this,K),i&&c(this,bs).call(this,K),S&&c(this,It).call(this,S,K),te;const me=F(this,Ns,In).call(this,t,K,$,E),he=me.__staleWhileFetching!==void 0&&n;return S&&(S.fetch=X?"stale":"refresh",he&&X&&(S.returnedStale=!0)),he?me.__staleWhileFetching:me.__returned=me}}async forceFetch(t,s={}){const n=await this.fetch(t,s);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(t,s={}){const n=c(this,ks);if(!n)throw new Error("no memoMethod provided to constructor");const{context:i,forceRefresh:o,...r}=s,a=this.get(t,r);if(!o&&a!==void 0)return a;const l=n(t,a,{options:r,context:i});return this.set(t,l,r),l}get(t,s={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:r}=s,a=c(this,Ce).get(t);if(a!==void 0){const l=c(this,Q)[a],f=F(this,ve,xe).call(this,l);return r&&c(this,It).call(this,r,a),c(this,it).call(this,a)?(r&&(r.get="stale"),f?(r&&n&&l.__staleWhileFetching!==void 0&&(r.returnedStale=!0),n?l.__staleWhileFetching:void 0):(o||F(this,Et,Yt).call(this,t,"expire"),r&&n&&(r.returnedStale=!0),n?l:void 0)):(r&&(r.get="hit"),f?l.__staleWhileFetching:(F(this,ws,Ys).call(this,a),i&&c(this,bs).call(this,a),l))}else r&&(r.get="miss")}delete(t){return F(this,Et,Yt).call(this,t,"delete")}clear(){return F(this,mn,Qi).call(this,"delete")}};_u=Symbol.toStringTag,vt=new WeakMap,tt=new WeakMap,yt=new WeakMap,bt=new WeakMap,Fs=new WeakMap,ks=new WeakMap,Ee=new WeakMap,xt=new WeakMap,Ce=new WeakMap,we=new WeakMap,Q=new WeakMap,Ge=new WeakMap,st=new WeakMap,Be=new WeakMap,ke=new WeakMap,wt=new WeakMap,Re=new WeakMap,Mt=new WeakMap,_t=new WeakMap,nt=new WeakMap,Vt=new WeakMap,ts=new WeakMap,Ke=new WeakMap,fn=new WeakSet,Xi=function(){const t=new kn(c(this,vt)),s=new kn(c(this,vt));G(this,nt,t),G(this,_t,s),G(this,un,(o,r,a=As.now())=>{if(s[o]=r!==0?a:0,t[o]=r,r!==0&&this.ttlAutopurge){const l=setTimeout(()=>{c(this,it).call(this,o)&&F(this,Et,Yt).call(this,c(this,we)[o],"expire")},r+1);l.unref&&l.unref()}}),G(this,bs,o=>{s[o]=t[o]!==0?As.now():0}),G(this,It,(o,r)=>{if(t[r]){const a=t[r],l=s[r];if(!a||!l)return;o.ttl=a,o.start=l,o.now=n||i();const f=o.now-l;o.remainingTTL=a-f}});let n=0;const i=()=>{const o=As.now();if(this.ttlResolution>0){n=o;const r=setTimeout(()=>n=0,this.ttlResolution);r.unref&&r.unref()}return o};this.getRemainingTTL=o=>{const r=c(this,Ce).get(o);if(r===void 0)return 0;const a=t[r],l=s[r];if(!a||!l)return 1/0;const f=(n||i())-l;return a-f},G(this,it,o=>{const r=s[o],a=t[o];return!!a&&!!r&&(n||i())-r>a})},bs=new WeakMap,It=new WeakMap,un=new WeakMap,it=new WeakMap,Gn=new WeakSet,Ba=function(){const t=new kn(c(this,vt));G(this,xt,0),G(this,Mt,t),G(this,xs,s=>{G(this,xt,c(this,xt)-t[s]),t[s]=0}),G(this,hn,(s,n,i,o)=>{if(F(this,ve,xe).call(this,n))return 0;if(!Gt(i))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(i=o(n,s),!Gt(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i}),G(this,Rs,(s,n,i)=>{if(t[s]=n,c(this,tt)){const o=c(this,tt)-t[s];for(;c(this,xt)>o;)F(this,Is,Rn).call(this,!0)}G(this,xt,c(this,xt)+t[s]),i&&(i.entrySize=n,i.totalCalculatedSize=c(this,xt))})},xs=new WeakMap,Rs=new WeakMap,hn=new WeakMap,Pt=new WeakSet,Kt=function*({allowStale:t=this.allowStale}={}){if(c(this,Ee))for(let s=c(this,ke);!(!F(this,dn,Ji).call(this,s)||((t||!c(this,it).call(this,s))&&(yield s),s===c(this,Be)));)s=c(this,st)[s]},Lt=new WeakSet,qt=function*({allowStale:t=this.allowStale}={}){if(c(this,Ee))for(let s=c(this,Be);!(!F(this,dn,Ji).call(this,s)||((t||!c(this,it).call(this,s))&&(yield s),s===c(this,ke)));)s=c(this,Ge)[s]},dn=new WeakSet,Ji=function(t){return t!==void 0&&c(this,Ce).get(c(this,we)[t])===t},Is=new WeakSet,Rn=function(t){var o,r;const s=c(this,Be),n=c(this,we)[s],i=c(this,Q)[s];return c(this,ts)&&F(this,ve,xe).call(this,i)?i.__abortController.abort(new Error("evicted")):(c(this,Vt)||c(this,Ke))&&(c(this,Vt)&&((o=c(this,yt))==null||o.call(this,i,n,"evict")),c(this,Ke)&&((r=c(this,Re))==null||r.push([i,n,"evict"]))),c(this,xs).call(this,s),t&&(c(this,we)[s]=void 0,c(this,Q)[s]=void 0,c(this,wt).push(s)),c(this,Ee)===1?(G(this,Be,G(this,ke,0)),c(this,wt).length=0):G(this,Be,c(this,Ge)[s]),c(this,Ce).delete(n),bn(this,Ee)._--,s},Ns=new WeakSet,In=function(t,s,n,i){const o=s===void 0?void 0:c(this,Q)[s];if(F(this,ve,xe).call(this,o))return o;const r=new Hn,{signal:a}=n;a==null||a.addEventListener("abort",()=>r.abort(a.reason),{signal:r.signal});const l={signal:r.signal,options:n,context:i},f=(E,k=!1)=>{const{aborted:S}=r.signal,T=n.ignoreFetchAbort&&E!==void 0;if(n.status&&(S&&!k?(n.status.fetchAborted=!0,n.status.fetchError=r.signal.reason,T&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),S&&!T&&!k)return d(r.signal.reason);const $=y;return c(this,Q)[s]===y&&(E===void 0?$.__staleWhileFetching?c(this,Q)[s]=$.__staleWhileFetching:F(this,Et,Yt).call(this,t,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(t,E,l.options))),E},h=E=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=E),d(E)),d=E=>{const{aborted:k}=r.signal,S=k&&n.allowStaleOnFetchAbort,T=S||n.allowStaleOnFetchRejection,$=T||n.noDeleteOnFetchRejection,K=y;if(c(this,Q)[s]===y&&(!$||K.__staleWhileFetching===void 0?F(this,Et,Yt).call(this,t,"fetch"):S||(c(this,Q)[s]=K.__staleWhileFetching)),T)return n.status&&K.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),K.__staleWhileFetching;if(K.__returned===K)throw E},p=(E,k)=>{var T;const S=(T=c(this,Fs))==null?void 0:T.call(this,t,o,l);S&&S instanceof Promise&&S.then($=>E($===void 0?void 0:$),k),r.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(E(void 0),n.allowStaleOnFetchAbort&&(E=$=>f($,!0)))})};n.status&&(n.status.fetchDispatched=!0);const y=new Promise(p).then(f,h),_=Object.assign(y,{__abortController:r,__staleWhileFetching:o,__returned:void 0});return s===void 0?(this.set(t,_,{...l.options,status:void 0}),s=c(this,Ce).get(t)):c(this,Q)[s]=_,_},ve=new WeakSet,xe=function(t){if(!c(this,ts))return!1;const s=t;return!!s&&s instanceof Promise&&s.hasOwnProperty("__staleWhileFetching")&&s.__abortController instanceof Hn},gn=new WeakSet,Zi=function(t,s){c(this,st)[s]=t,c(this,Ge)[t]=s},ws=new WeakSet,Ys=function(t){t!==c(this,ke)&&(t===c(this,Be)?G(this,Be,c(this,Ge)[t]):F(this,gn,Zi).call(this,c(this,st)[t],c(this,Ge)[t]),F(this,gn,Zi).call(this,c(this,ke),t),G(this,ke,t))},Et=new WeakSet,Yt=function(t,s){var i,o,r,a;let n=!1;if(c(this,Ee)!==0){const l=c(this,Ce).get(t);if(l!==void 0)if(n=!0,c(this,Ee)===1)F(this,mn,Qi).call(this,s);else{c(this,xs).call(this,l);const f=c(this,Q)[l];if(F(this,ve,xe).call(this,f)?f.__abortController.abort(new Error("deleted")):(c(this,Vt)||c(this,Ke))&&(c(this,Vt)&&((i=c(this,yt))==null||i.call(this,f,t,s)),c(this,Ke)&&((o=c(this,Re))==null||o.push([f,t,s]))),c(this,Ce).delete(t),c(this,we)[l]=void 0,c(this,Q)[l]=void 0,l===c(this,ke))G(this,ke,c(this,st)[l]);else if(l===c(this,Be))G(this,Be,c(this,Ge)[l]);else{const h=c(this,st)[l];c(this,Ge)[h]=c(this,Ge)[l];const d=c(this,Ge)[l];c(this,st)[d]=c(this,st)[l]}bn(this,Ee)._--,c(this,wt).push(l)}}if(c(this,Ke)&&((r=c(this,Re))!=null&&r.length)){const l=c(this,Re);let f;for(;f=l==null?void 0:l.shift();)(a=c(this,bt))==null||a.call(this,...f)}return n},mn=new WeakSet,Qi=function(t){var s,n,i;for(const o of F(this,Lt,qt).call(this,{allowStale:!0})){const r=c(this,Q)[o];if(F(this,ve,xe).call(this,r))r.__abortController.abort(new Error("deleted"));else{const a=c(this,we)[o];c(this,Vt)&&((s=c(this,yt))==null||s.call(this,r,a,t)),c(this,Ke)&&((n=c(this,Re))==null||n.push([r,a,t]))}}if(c(this,Ce).clear(),c(this,Q).fill(void 0),c(this,we).fill(void 0),c(this,nt)&&c(this,_t)&&(c(this,nt).fill(0),c(this,_t).fill(0)),c(this,Mt)&&c(this,Mt).fill(0),G(this,Be,0),G(this,ke,0),c(this,wt).length=0,G(this,xt,0),G(this,Ee,0),c(this,Ke)&&c(this,Re)){const o=c(this,Re);let r;for(;r=o==null?void 0:o.shift();)(i=c(this,bt))==null||i.call(this,...r)}};let Yi=Vo;const Ie=class Ie extends Ra{constructor(s=[],n,i,o,r,a,l,f,h,d,p=5,y="x Var",_="y Var",E="xUnit",k="yUnit",S="linear",T="log",$=250,K=200,te=R.Visible,X="main"){const me=d,H=i=="Vgs"?a:f;super(s,new ue().translate({x:o,y:r}),me,H,"toNode",0,p,te,X);m(this,"points");m(this,"xAxisLabel");m(this,"yAxisLabel");m(this,"xUnit");m(this,"yUnit");m(this,"width");m(this,"height");m(this,"axesWidth");m(this,"axesHeight");m(this,"cornerToCornerGraph",!0);m(this,"plottingValues",[]);m(this,"yValue",0);m(this,"pointsCache",new Yi({max:1e3}));m(this,"cacheAttempts",0);m(this,"cacheHits",0);m(this,"memoize",!1);m(this,"Vg");m(this,"Vs");m(this,"Vd");m(this,"Vb");m(this,"mosfetType");m(this,"chartType");m(this,"originalMaxValue");m(this,"xScaleType");m(this,"yScaleType");m(this,"yMin",0);m(this,"yMax",0);m(this,"xTicks",[]);m(this,"yTicks",[]);m(this,"xScale",0);m(this,"yScale",0);m(this,"boundingBox");this.transformationMatrix.isMirrored&&this.transformations[this.transformations.length-1].value.mirror(!0,!1,!0),this.transformations[this.transformations.length-1].value.rotate(-this.transformationMatrix.rotation,!0),this.transformations[this.transformations.length-1].value.mirror(!1,!0,!0),i=="Vgs"?this.transformations[this.transformations.length-1].value.translate({x:-$/2,y:0},!0):this.transformations[this.transformations.length-1].value.translate({x:-$/2,y:-K},!0),this.transformations[this.transformations.length-1].value.translate({x:Ie.paddingL,y:Ie.paddingB},!0),this.points=[],this.xAxisLabel=y,this.yAxisLabel=_,this.xUnit=E,this.yUnit=k,this.xScaleType=S,this.yScaleType=T,this.width=$,this.height=K,this.axesWidth=$-Ie.paddingL-Ie.paddingR,this.axesHeight=K-Ie.paddingT-Ie.paddingB,this.Vg=a,this.Vs=l,this.Vd=f,this.Vb=h,this.mosfetType=n,this.chartType=i,this.originalMaxValue=p,this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.maxValue,this.boundingBox=[new N(this.transformations,{x:-100,y:0}),new N(this.transformations,{x:100,y:0}),new N(this.transformations,{x:0,y:-100}),new N(this.transformations,{x:0,y:100})]}copy(s,n="main"){return new Ie([s],this.mosfetType,this.chartType,0,0,this.Vg,this.Vs,this.Vd,this.Vb,this.fromNode,this.maxValue,this.xAxisLabel,this.yAxisLabel,this.xUnit,this.yUnit,this.xScaleType,this.yScaleType,this.width,this.height,this.visibility,n)}draw(s,n=void 0){if(this.visibility==R.Hidden)return;n!==void 0?n.transformCanvas(s):this.transformationMatrix.transformCanvas(s);const i=this.localLineThickness/2,o=this.localLineThickness/4;this.chartType=="Vgs"?this.sweepGateVoltages():this.sweepDrainVoltages(),this.preciseDragging?this.xTicks=Ui(this.temporaryMinValue,this.temporaryMaxValue,this.xScaleType=="log").filter(d=>d>=this.temporaryMinValue&&d<=this.temporaryMaxValue):this.xTicks=[0,1,2,3,4,5],this.chartType=="Vgs"?this.yTicks=[.001,1e-6,1e-9,1e-12].filter(d=>d>=this.yMin&&d<=this.yMax):this.yTicks=[25,50,75,100].filter(d=>d>=this.yMin&&d<=this.yMax);const r=this.xValueToLocation(this.value),a=(this.temporaryMaxValue-this.temporaryMinValue)/4;this.xTicks=this.xTicks.filter(d=>!(this.value-a/2<d&&d<this.value+a/2)),this.plottingValues=this.points.map(d=>({x:this.xValueToLocation(d.x),y:this.yValueToLocation(d.y)})),s.clearRect(-Ie.paddingL,-Ie.paddingB,this.width,this.height),s.strokeStyle="#000",Ft(s,[{start:{x:0,y:0},end:{x:this.axesWidth,y:0}},{start:{x:0,y:0},end:{x:0,y:this.axesHeight}}],i,"black"),s.font="16px Arial",s.textAlign="center";let l=this.fillTextGlobalReferenceFrame(s,{x:r,y:-16},this.xAxisLabel,!1);s.font="12px Arial",this.fillTextGlobalReferenceFrame(s,{x:l.x,y:l.y+3},ys(this.value,"V"),!1),s.font="18px Arial",this.fillTextGlobalReferenceFrame(s,{x:-30,y:this.axesHeight+6},this.yAxisLabel,!0,!0),s.strokeStyle="#ccc",s.font="12px Arial",s.fillStyle="#000",s.textAlign="center",this.xTicks.forEach(d=>{const p=this.xValueToLocation(d),y=ys(d,this.xUnit);Ft(s,[{start:{x:p,y:0},end:{x:p,y:-5}}],o,"black"),this.fillTextGlobalReferenceFrame(s,{x:p,y:-18},y)}),this.yTicks.forEach(d=>{const p=this.yValueToLocation(d),y=ys(d,this.yUnit);Ft(s,[{start:{x:0,y:p},end:{x:-5,y:p}}],o,"black"),this.fillTextGlobalReferenceFrame(s,{x:-25,y:p-6},y)}),s.strokeStyle="#f00",s.lineWidth=i,s.beginPath(),this.plottingValues.forEach((d,p)=>{p===0?s.moveTo(d.x,d.y):s.lineTo(d.x,d.y)}),s.stroke(),s.lineWidth=o,this.updateLocationBasedOnValue(),s.beginPath(),s.arc(this.location.x,this.location.y,5,0,2*Math.PI),s.fill(),s.moveTo(this.location.x,0),s.lineTo(this.location.x,this.location.y),s.stroke();const f=ys(this.yValue,this.yUnit),h=f.length*5;this.fillTextGlobalReferenceFrame(s,{x:this.location.x<this.axesWidth-h?Math.max(5,this.location.x+h):this.location.x-h,y:Math.max(5,this.location.y-15)},f),sn.value&&(s.lineWidth=5,s.strokeStyle="black",s.strokeRect(-Ie.paddingL,-Ie.paddingB,this.width,this.height))}sweepGateVoltages(s=this.width/3){if(this.yMin=1/0,this.yMax=-1/0,Cn(this.minValue,this.maxValue,5).forEach(r=>{const a=this.getMosfetCurrentFromGateVoltage(r);this.yMin=Math.min(this.yMin,a),this.yMax=Math.max(this.yMax,a)}),this.memoize){this.cacheAttempts+=1;const r=this.pointsCache.get(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage));if(r!==void 0){this.points=r,this.cacheHits+=1;return}}this.points=[];let i={x:0,y:0};Cn(this.temporaryMinValue,this.temporaryMaxValue,s).forEach(r=>{i={x:r,y:this.getMosfetCurrentFromGateVoltage(r)},this.points.push(i)}),this.memoize&&this.pointsCache.set(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage),this.points)}sweepDrainVoltages(s=this.width/3){if(this.points=[],this.yMin=1/0,this.yMax=-1/0,Cn(this.minValue,this.maxValue,5).forEach(r=>{let a=this.getMosfetSaturationFromDrainVoltage(r);a<0&&(a=0),this.yMax=Math.max(this.yMax,a)}),this.yMin=0,this.memoize){this.cacheAttempts+=1;const r=this.pointsCache.get(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vg.value.voltage,this.Vs.value.voltage,this.Vb.value.voltage));if(r!==void 0){this.points=r,this.cacheHits+=1;return}}const i=Cn(this.temporaryMinValue,this.temporaryMaxValue,s);let o={x:0,y:0};i.forEach(r=>{o={x:r,y:this.getMosfetSaturationFromDrainVoltage(r)},o.y<0&&(o.y=0),this.points.push(o)}),this.memoize&&this.pointsCache.set(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vg.value.voltage,this.Vs.value.voltage,this.Vb.value.voltage),this.points)}discretizeArgsForCache(s,n,i,o,r){return JSON.stringify([s.toFixed(3),n.toFixed(3),i.toFixed(3),o.toFixed(3),r.toFixed(3)])}xLocationToValue(s){let n=0;return this.xScaleType=="linear"?n=s/this.axesWidth*(this.temporaryMaxValue-this.temporaryMinValue)+this.temporaryMinValue:n=10**(Math.log10(s)/this.axesWidth*(Math.log10(this.temporaryMaxValue)-Math.log10(this.temporaryMinValue))+Math.log10(this.temporaryMinValue)),n}xValueToLocation(s){return this.xScaleType=="linear"?(s-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue)*this.axesWidth:(Math.log10(s)-Math.log10(this.temporaryMinValue))/(Math.log10(this.temporaryMaxValue)-Math.log10(this.temporaryMinValue))*this.axesWidth}yValueToLocation(s){return this.yScaleType=="linear"?(s-this.yMin)/(this.yMax-this.yMin)*this.axesHeight:(Math.log10(s)-Math.log10(this.yMin))/(Math.log10(this.yMax)-Math.log10(this.yMin))*this.axesHeight}toggleYAxisLog(){this.yScaleType=this.yScaleType==="log"?"linear":"log"}updateLocationBasedOnValue(){const s=this.value;this.chartType=="Vgs"?this.yValue=this.getMosfetCurrentFromGateVoltage(s):this.yValue=this.getMosfetSaturationFromDrainVoltage(s),this.location={x:this.xValueToLocation(s),y:this.yValueToLocation(this.yValue)}}getMosfetCurrentFromGateVoltage(s){return this.mosfetType=="nmos"?ji(s,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage).I:$i(s,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage).I}getMosfetSaturationFromDrainVoltage(s){return this.mosfetType=="nmos"?ji(this.Vg.value.voltage,this.Vs.value.voltage,s,this.Vb.value.voltage).saturationLevel*100:$i(this.Vg.value.voltage,this.Vs.value.voltage,s,this.Vb.value.voltage).saturationLevel*100}updateValueBasedOnMousePosition(s){this.value=this.xLocationToValue(s.x)}mouseDownIntiatesDrag(s){return s.x>0&&s.x<this.axesWidth&&s.y>0&&s.y<this.axesHeight}};m(Ie,"paddingL",40),m(Ie,"paddingR",10),m(Ie,"paddingT",20),m(Ie,"paddingB",30);let Ls=Ie;const Se=class Se extends De{constructor(s=[],n,i,o,r,a,l,f,h,d=3,p=5,y=!1,_=R.Visible,E=R.Visible,k="gate",S="main"){super(s,new ue().translate({x:i,y:o}).scale(1/30).mirror(y,n=="pmos"),S);m(this,"mosfetType");m(this,"isDuplicate",!1);m(this,"currentDots");m(this,"gradientSize",100);m(this,"schematicEffects");m(this,"vgs");m(this,"vds");m(this,"Vg");m(this,"Vs");m(this,"Vd");m(this,"Vb");m(this,"gndNode");m(this,"mouseDownInsideSelectionArea",!1);m(this,"selected",L(!1));m(this,"selectedFocus",L(!1));m(this,"chartVisibility",R.Hidden);m(this,"vgsChart");m(this,"vdsChart");m(this,"boundingBox");this.mosfetType=n,this.schematicEffects={gate:{node:r,origin:new N(this.transformations,{x:60,y:0}),color:"red",gradientSize:2},saturation:{node:l,origin:new N(this.transformations,{x:0,y:-60}),color:"red",gradientSize:100}},this.Vg=r,this.Vs=a,this.Vd=l,this.Vb=f,this.gndNode=h,this.anchorPoints={Vg:{x:60,y:0},Vs:{x:0,y:60},Vd:{x:0,y:-60},Vb:{x:0,y:0},SourceSupply:{x:0,y:90},DrainSupply:{x:0,y:-90},Vg_mirror_gate:{x:90,y:0},Vg_mirror_corner:{x:90,y:-90},Vg_mirror_drain:{x:0,y:-90},Vg_drive_gate:{x:120,y:0},Vg_drive_Vsource:{x:120,y:90}};let T="main";S=="mosfet"&&(T="chart"),this.mosfetType=="nmos"?(this.vgs=new Ps(this.transformations,a,r,"toNode",10,10,60,ot(75),ot(70),!0,0,d,"Vgs",_,S),this.vds=new Ps(this.transformations,a,l,"toNode",30,0,75,ot(140),ot(80),!1,0,p,"Vds",E,S),this.vgsChart=new Ls(this.transformations,n,"Vgs",Se.chartLocations[k].x,Se.chartLocations[k].y,r,a,l,f,h,5,"Vg","Current","V","A","linear","log",200,115,_,T),this.vdsChart=new Ls(this.transformations,n,"Vds",Se.chartLocations[k].x,Se.chartLocations[k].y,r,a,l,f,h,5,"Vd","Saturation Level","V","%","linear","linear",200,115,E,T),this.currentDots=new Hi([{start:{x:-15,y:-60},end:{x:-15,y:60}}])):(this.vgs=new Ps(this.transformations,r,a,"fromNode",10,10,60,ot(75),ot(70),!0,0,d,"Vsg",_,S),this.vds=new Ps(this.transformations,l,a,"fromNode",30,0,75,ot(140),ot(80),!1,0,p,"Vsd",E,S),this.vgsChart=new Ls(this.transformations,n,"Vgs",Se.chartLocations[k].x,Se.chartLocations[k].y,r,a,l,f,h,5,"Vg","Current","V","A","linear","log",200,115,_,T),this.vdsChart=new Ls(this.transformations,n,"Vds",Se.chartLocations[k].x,Se.chartLocations[k].y,r,a,l,f,h,5,"Vd","Saturation Level","V","%","linear","linear",200,115,E,T),this.currentDots=new Hi([{start:{x:-15,y:60},end:{x:-15,y:-60}}])),this.boundingBox=[new N(this.transformations,{x:-100,y:0}),new N(this.transformations,{x:100,y:0}),new N(this.transformations,{x:0,y:-100}),new N(this.transformations,{x:0,y:100})]}copy(s,n="main"){const i=new Se([s].concat(this.transformations.slice(1)),this.mosfetType,0,0,this.Vg,this.Vs,this.Vd,this.Vb,this.gndNode,void 0,void 0,this.mosfetType=="nmos"==this.transformationMatrix.isMirrored,this.vgs.visibility,this.vds.visibility,"deviceOrigin",n);return i.isDuplicate=!0,i.transformations[i.transformations.length-1].value=new ue,i}draw(s){if(this.transformationMatrix.transformCanvas(s),this.selectedFocus.value&&!this.isDuplicate){const _=s.createRadialGradient(0,0,0,0,0,100);_.addColorStop(0,"rgba(0, 0, 255, 0)"),_.addColorStop(.5,"rgba(0, 0, 255, 0)"),_.addColorStop(.8,"rgba(0, 0, 255, 0.2)"),_.addColorStop(1,"rgba(0, 0, 255, 0)"),s.fillStyle=_,s.arc(0,0,200,0,2*Math.PI),s.fill()}const n=[{start:{x:0,y:20},end:{x:0,y:59}},{start:{x:0,y:20},end:{x:26,y:20}},{start:{x:0,y:-20},end:{x:0,y:-59}},{start:{x:0,y:-20},end:{x:26,y:-20}},{start:{x:26,y:-40},end:{x:26,y:40}}],i=this.mosfetType=="nmos"?[{start:{x:40,y:30},end:{x:40,y:-30}},{start:{x:40,y:0},end:{x:60,y:0}}]:[{start:{x:40,y:30},end:{x:40,y:-30}},{start:{x:50,y:0},end:{x:60,y:0}}],o=this.mosfetType=="nmos"?[]:[{center:{x:45,y:0},outerDiameter:10}];this.gradientSize=this.getGradientSizeFromSaturationLevel();const a=Ea(s,{x:0,y:-60},this.gradientSize,"rgba(200, 200, 200, 1)"),l=this.getForwardCurrentScaled(),f=this.getGateColorFromForwardCurrent();Ft(s,n,this.localLineThickness,"black"),Ft(s,i,this.localLineThickness,f),Mo(s,o,this.localLineThickness,f),Wa(s,n,this.localLineThickness,a),this.schematicEffects.saturation.gradientSize=this.gradientSize/30*3.5,this.schematicEffects.saturation.color="rgba(200, 200, 200, 1)",this.schematicEffects.gate.gradientSize=l*3.5,this.schematicEffects.gate.color=f,this.currentDots.draw(s);const h=ys(this.current,"A");let d="";for(const _ of h)"-0123456789.".indexOf(_)>-1&&(d+=_);const p=h.slice(d.length);s.fillStyle="black",s.font="14px sans-serif";const y=this.fillTextGlobalReferenceFrame(s,{x:20,y:this.mosfetType=="nmos"?-3:3},d,!0,!0,14);s.font="14px sans-serif",this.fillTextGlobalReferenceFrame(s,y,p,!0,!0),this.selected.value&&!this.isDuplicate&&(this.vgsChart.draw(s),this.vdsChart.draw(s)),this.vgs.draw(s),this.vds.draw(s)}get current(){return this.getMosfetCurrent()}get saturationLevel(){return this.getMosfetSaturationLevel()}get forwardCurrent(){return this.getMosfetForwardCurrent()}checkSelectionArea(s){const n=this.transformationMatrix.inverse().transformPoint(s);return vn({start:{x:0,y:0},end:n})<60}setMinAndMaxValue(){this.mosfetType=="pmos"?(this.vgs.minValue=this.Vs.value.voltage-oe,this.vds.minValue=this.Vs.value.voltage-oe,this.vgsChart.minValue=this.Vs.value.voltage-oe,this.vdsChart.minValue=this.Vs.value.voltage-oe):(this.vgs.minValue=-this.Vs.value.voltage,this.vds.minValue=-this.Vs.value.voltage,this.vgsChart.minValue=-this.Vs.value.voltage,this.vdsChart.minValue=-this.Vs.value.voltage)}getMosfetEkvResult(){return this.mosfetType=="pmos"?$i(this.Vg.value.voltage,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage):ji(this.Vg.value.voltage,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage)}getMosfetCurrent(){return this.getMosfetEkvResult().I}getMosfetSaturationLevel(){return this.getMosfetEkvResult().saturationLevel}getMosfetForwardCurrent(){return this.getMosfetEkvResult().IF}getGradientSizeFromSaturationLevel(){return this.getRelativeScaling()*60*(1-this.saturationLevel)}getForwardCurrentScaled(){return We(0,1,Math.log10(this.forwardCurrent/.005)*.2+1)}getGateColorFromForwardCurrent(){const s=this.getForwardCurrentScaled();return zf(s)}};m(Se,"chartWidth",200),m(Se,"chartHeight",120),m(Se,"chartLocations",{base:{x:-Se.chartWidth/2-100,y:0},lowerBase:{x:-Se.chartWidth/2-100,y:100},gate:{x:Se.chartWidth/2+120,y:0},furtherGate:{x:Se.chartWidth/2+150,y:0},voltageSource:{x:Se.chartWidth/2+240,y:0},lowerVoltageSource:{x:Se.chartWidth/2+240,y:100},mirrorDriver:{x:Se.chartWidth/2+110,y:-Se.chartHeight-20},deviceOrigin:{x:0,y:0}});let Te=Se;class js extends De{constructor(s,n,i,o=new zt,r={},a={},l={},f=new ue){super([L(new ue)],new ue().translate({x:-s.x+n/2,y:-s.y+i/2}));m(this,"boundingBox");m(this,"schematic");m(this,"devices");m(this,"selectedDeviceCharts",[]);m(this,"selectedDeviceChartsTransformationMatrix",L(new ue));m(this,"nodes");m(this,"textTransformationMatrix");m(this,"originalTextTransformationMatrix");m(this,"circuitCopy");m(this,"anyDevicesSelected",!1);this.boundingBox=[new N(this.transformations,{x:s.x-n/2,y:s.y-i/2}),new N(this.transformations,{x:s.x+n/2,y:s.y-i/2}),new N(this.transformations,{x:s.x-n/2,y:s.y+i/2}),new N(this.transformations,{x:s.x+n/2,y:s.y+i/2})],this.schematic=o,this.devices={mosfets:r,voltageSources:a},this.nodes=l,this.originalTextTransformationMatrix=f,this.textTransformationMatrix=this.transformationMatrix.scale(1/Ni).multiply(this.originalTextTransformationMatrix),this.circuitCopy=this.copy(),De.circuitTransformationMatrix=this.transformationMatrix,De.textTransformationMatrix=this.textTransformationMatrix}assignKeysToDevices(){Object.entries(this.devices.mosfets).forEach(([s,n])=>{n.key=s}),Object.entries(this.devices.voltageSources).forEach(([s,n])=>{n.key=s})}finishSetup(){var s;this.assignKeysToDevices(),this.circuitCopy=this.copy(),(s=this.circuitCopy)==null||s.assignKeysToDevices()}get allSliders(){return this.makeListOfSliders()}copy(){const s=L(new ue),n=new qf({x:0,y:0},10,10,this.schematic.copy(s),Object.fromEntries(Object.entries(this.devices.mosfets).map(([i,o])=>[i,o.copy(s,"mosfet")])),Object.fromEntries(Object.entries(this.devices.voltageSources).map(([i,o])=>[i,o.copy(s,"mosfet")])),this.nodes,this.textTransformationMatrix);return n.transformations[0]=s,n}draw(s){s.save(),this.setScaleBasedOnBoundingBox(s),this.transformationMatrix.transformCanvas(s),Fn.value?ne.allTectonicPlates.forEach(n=>{n.moveTowardDesiredLocation()}):ne.allTectonicPlates.forEach(n=>{n.moveTowardLocation({x:0,y:0})}),this.schematic.draw(s),Object.values(this.devices.mosfets).forEach(n=>{n.draw(s)}),Object.values(this.devices.voltageSources).forEach(n=>{n.draw(s)}),sn.value&&this.drawGrid(s),s.restore()}drawSelectedDeviceCharts(s){const n=this.calculateTransformationMatrixBasedOnBoundingBox(s,[new N(this.transformations,{x:-120,y:0}),new N(this.transformations,{x:120,y:0}),new N(this.transformations,{x:0,y:-120}),new N(this.transformations,{x:0,y:120})]);this.selectedDeviceChartsTransformationMatrix.value=n,De.textTransformationMatrix.relativeScale=n.relativeScale,this.selectedDeviceCharts.forEach(i=>{i.draw(s)})}setSelectedDevice(s){if(this.circuitCopy&&(this.circuitCopy.boundingBox=[new N(s.transformations,{x:-120,y:0}),new N(s.transformations,{x:120,y:0}),new N(s.transformations,{x:0,y:-120}),new N(s.transformations,{x:0,y:120})],this.anyDevicesSelected=!0,!!this.circuitCopy)){if(s instanceof Te){const n=this.circuitCopy.devices.mosfets[s.key];n.vgs.visibility=s.vgs.visibility,n.vds.visibility=s.vds.visibility,n.vgsChart.visibility=R.Hidden,n.vdsChart.visibility=R.Hidden,this.selectedDeviceCharts=[s.vgsChart.copy(this.selectedDeviceChartsTransformationMatrix,"chart"),s.vdsChart.copy(this.selectedDeviceChartsTransformationMatrix,"chart")]}else if(s instanceof Ze){const n=this.circuitCopy.devices.voltageSources[s.key];n.voltageDrop.visibility=s.voltageDrop.visibility}}}resetSelectedDevice(){this.selectedDeviceCharts=[],this.anyDevicesSelected=!1,this.circuitCopy&&this.circuitCopy.allSliders.forEach(s=>{s.visibility=R.Hidden})}makeListOfSliders(){const s=[];for(const n in this.devices.mosfets){const i=this.devices.mosfets[n];s.push(i.vgs),s.push(i.vds),s.push(i.vgsChart),s.push(i.vdsChart)}for(const n in this.devices.voltageSources){const i=this.devices.voltageSources[n];s.push(i.voltageDrop)}return this.selectedDeviceCharts.forEach(n=>{s.push(n)}),this.circuitCopy?s.concat(this.circuitCopy.allSliders):s}drawGrid(s){this.transformationMatrix.transformCanvas(s);const n=this.transformationMatrix.inverse().transformPoint({x:0,y:0}),i=this.transformationMatrix.inverse().transformPoint({x:Gi.value.width*rt.value,y:Gi.value.height*rt.value});for(let o=Math.floor(n.x);o<=Math.ceil(i.x);o+=1)for(let r=Math.floor(n.y);r<=Math.ceil(i.y);r+=1){let a=.1;(Bi(o,10)==0||Bi(r,10)==0)&&(a=.2),s.fillStyle="brown",(o==0||r==0)&&(s.fillStyle="black"),s.beginPath(),s.arc(o,r,a,0,2*Math.PI),s.fill()}Mo(s,this.boundingBox.map(o=>({center:o.toPoint(),outerDiameter:2})),.2,"purple")}calculateTransformationMatrixBasedOnBoundingBox(s,n=this.boundingBox){const i=Math.min(...n.map(k=>k.toPoint().x)),o=Math.max(...n.map(k=>k.toPoint().x)),r=Math.min(...n.map(k=>k.toPoint().y)),a=Math.max(...n.map(k=>k.toPoint().y)),l=Math.abs(r-a),f=Math.abs(o-i),h={x:i+f/2,y:r+l/2},d=Math.max(s.canvas.width,1),p=Math.max(s.canvas.height,1),y=Math.min(d/rt.value/f,p/rt.value/l),_={x:(d/rt.value/y-f)/2,y:(p/rt.value/y-l)/2};return new ue().scale(rt.value*y).translate(_).translate({x:-h.x+f/2,y:-h.y+l/2})}setScaleBasedOnBoundingBox(s,n=this.boundingBox){this.transformations[1].value=new ue,this.transformations[0].value=this.calculateTransformationMatrixBasedOnBoundingBox(s,n),this.textTransformationMatrix=this.transformationMatrix.scale(1/Ni).multiply(this.originalTextTransformationMatrix),this.setCtxArtistScale()}setCtxArtistScale(){De.circuitTransformationMatrix=this.transformationMatrix,De.textTransformationMatrix=this.textTransformationMatrix}}class qf extends js{copy(){return null}setCtxArtistScale(){}}class Yf{constructor(){m(this,"items",[])}enqueue(t){this.items.push(t)}dequeue(){return this.items.shift()}peek(){return this.items[0]}isEmpty(){return this.items.length===0}size(){return this.items.length}toArray(){return this.items}fill(t,s){this.items=Array(s).fill(t)}}class ce{constructor(t,s){m(this,"voltage");m(this,"netCurrent");m(this,"capacitance");m(this,"originalCapacitance");m(this,"fixed");m(this,"historicVoltages");m(this,"schematicEffects",[]);const n=new Yf;n.fill(0,10);const i=s?Lf:Pf;this.voltage=t,this.netCurrent=0,this.capacitance=i,this.originalCapacitance=i,this.fixed=!!s,this.historicVoltages=n}}class Oe extends De{constructor(t=[],s){super(t,new ue().translate(s))}draw(t){this.transformationMatrix.transformCanvas(t);const s=.8;t.strokeStyle="black",t.lineWidth=this.localLineThickness,t.beginPath(),t.moveTo(0,0),t.lineTo(s/2,0),t.lineTo(0,s/2),t.lineTo(-s/2,0),t.lineTo(0,0),t.stroke()}copy(t){return new Oe([t].concat(this.transformations.slice(1)),{x:0,y:0})}}class ut extends De{constructor(t=[],s){super(t,new ue().translate(s))}draw(t){this.transformationMatrix.transformCanvas(t);const s=.8;t.strokeStyle="black",t.lineWidth=this.localLineThickness,t.beginPath(),t.moveTo(s/2,0),t.lineTo(-s/2,0),t.stroke()}copy(t){return new ut([t].concat(this.transformations.slice(1)),{x:0,y:0})}}const Xf=()=>{const e=new js({x:0,y:-3},10,20);e.nodes={[B]:L(new ce(fe,!0)),[ye]:L(new ce(oe,!0)),M1_drain:L(new ce(5,!1)),M1_gate:L(new ce(1,!1))};const t=new ne(e.transformations,se(()=>Je([{start:{x:0,y:2},end:{x:0,y:-4}}],We(fe,oe,e.nodes.M1_drain.value.voltage)/(oe-fe)))),s=new ne(e.transformations,se(()=>({x:0,y:-4}))),n=new ne(e.transformations,se(()=>e.devices.mosfets.M1.selected.value?{x:7,y:0}:{x:0,y:0}));return e.boundingBox=[new N(s.transformations,{x:-5,y:-12}),new N(t.transformations,{x:5,y:-12}),new N(e.transformations,{x:-5,y:6}),new N(n.transformations,{x:5,y:6})],e.devices.mosfets={M1:new Te(e.transformations,"nmos",0,0,e.nodes.M1_gate,e.nodes[B],e.nodes.M1_drain,e.nodes[B],e.nodes[B],3,5,!1,R.Visible,R.Visible,"furtherGate")},e.devices.mosfets.M1.vgsChart.visibility=R.Visible,e.devices.mosfets.M1.vdsChart.visibility=R.Visible,e.devices.voltageSources={Vd:new Ze(t.transformations,{x:0,y:-6},e.nodes.M1_drain,e.nodes[ye],"Vdd-Vd","vdd",!0)},e.schematic=new zt(e.transformations,[new Oe(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs"))],[new ut(s.transformations,{x:0,y:-8})],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes.M1_drain,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vminus"))],voltageDisplayLabel:"Drain",voltageDisplayLocations:[new N(t.transformations,{x:.5,y:-4})]},{node:e.nodes[ye],lines:[new C(s.transformations,{x:0,y:-8},...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vplus"))],voltageDisplayLabel:"",voltageDisplayLocations:[]}]),e.finishSetup(),e},Jf=()=>{const e=new js({x:0,y:4},25,20);e.nodes={[B]:L(new ce(fe,!0)),[ye]:L(new ce(oe,!0)),M1_gate:L(new ce(2,!1)),M2_gate:L(new ce(2,!1)),Mb_gate:L(new ce(.7,!1)),Vnode:L(new ce(1,!1))};const t=new ne(e.transformations,se(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],We(fe,oe,Math.max(e.nodes.M1_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-fe)))),s=new ne(e.transformations,se(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],We(fe,oe,Math.max(e.nodes.M2_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-fe)))),n=new ne(e.transformations,se(()=>Je([{start:{x:0,y:0},end:{x:0,y:-8}}],We(fe,oe,e.nodes.Vnode.value.voltage)/(oe-fe)))),i=new ne(t.transformations,se(()=>e.devices.mosfets.Mb.selected.value?{x:5,y:2}:{x:0,y:0})),o=new ne(t.transformations,se(()=>e.devices.mosfets.M1.selected.value?{x:-8,y:0}:{x:0,y:0})),r=new ne(s.transformations,se(()=>e.devices.mosfets.M2.selected.value?{x:8,y:0}:{x:0,y:0}));return e.boundingBox=[new N(o.transformations,{x:-11,y:-6}),new N(r.transformations,{x:11,y:-6}),new N(e.transformations,{x:-11,y:13}),new N(i.transformations,{x:11,y:13})],e.devices.mosfets={Mb:new Te(e.transformations,"nmos",0,6,e.nodes.Mb_gate,e.nodes[B],e.nodes.Vnode,e.nodes[B],e.nodes[B],void 0,void 0,!1,R.Locked,R.Locked,"lowerVoltageSource"),M1:new Te(t.transformations,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes[ye],e.nodes[B],e.nodes[B],void 0,void 0,!0,R.Locked,R.Locked,"voltageSource"),M2:new Te(s.transformations,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes[ye],e.nodes[B],e.nodes[B],void 0,void 0,!1,R.Locked,R.Locked,"voltageSource")},e.devices.voltageSources={V1:new Ze(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.M1_gate,"V1","gnd",!0),V2:new Ze(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.M2_gate,"V2","gnd"),Vb:new Ze(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new zt(e.transformations,[new Oe(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new Oe(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new Oe(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new Oe(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],[new ut(...e.devices.mosfets.M1.getAnchorPointWithTransformations("DrainSupply")),new ut(...e.devices.mosfets.M2.getAnchorPointWithTransformations("DrainSupply"))],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes[B],lines:[new C(e.transformations,{x:0,y:8},e.transformations,{x:0,y:9}),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes[ye],lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("DrainSupply")),new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("DrainSupply"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M1_gate,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_gate,lines:[new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Mb_gate,lines:[new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vnode,lines:[new C(n.transformations,{x:-4,y:3},...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs")),new C(n.transformations,{x:4,y:3},...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vs")),new C(n.transformations,{x:-4,y:3},n.transformations,{x:4,y:3}),new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vd"),n.transformations,{x:0,y:3})],voltageDisplayLabel:"V",voltageDisplayLocations:[new N(n.transformations,{x:-1,y:2.5})]}]),e.finishSetup(),e};class ja extends De{constructor(s=[],n,i,o){super(s,new ue().translate(i).scale(1/30));m(this,"node");m(this,"extraNodeLines");m(this,"currentDots");m(this,"gndSymbol");this.node=n,this.extraNodeLines=o,this.currentDots=new Hi([{start:{x:10,y:-60},end:{x:10,y:60}}]),this.gndSymbol=new Oe(this.transformations,{x:0,y:30})}draw(s){this.transformationMatrix.scale(.5).transformCanvas(s);const n=7,i=[{start:{x:0,y:50},end:{x:0,y:n}},{start:{x:-30,y:n},end:{x:30,y:n}},{start:{x:-30,y:-n},end:{x:30,y:-n}},{start:{x:0,y:-60},end:{x:0,y:-n}}],o=this.transformationMatrix.transformPath(this.extraNodeLines);Ft(s,i,this.localLineThickness,"black"),Ft(s,o,this.localLineThickness,"black"),s.clearRect(-30-this.localLineThickness,-n+this.localLineThickness/2,60+2*this.localLineThickness,2*n-2*this.localLineThickness/2),this.gndSymbol.draw(s),this.transformationMatrix.scale(.5).transformCanvas(s),this.currentDots.draw(s)}}m(ja,"displayCurrent",!1);const Zf=()=>{const e=new js({x:0,y:0},25,28);e.nodes={[B]:L(new ce(fe,!0)),[ye]:L(new ce(oe,!0)),M1_gate:L(new ce(2,!1)),M1_drain:L(new ce(4,!1)),M2_gate:L(new ce(2,!1)),Mb_gate:L(new ce(.7,!1)),Vout:L(new ce(4,!1)),Vnode:L(new ce(1,!1))};const t=new ne(e.transformations,se(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],We(fe,oe,Math.max(e.nodes.M1_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-fe)))),s=new ne(e.transformations,se(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],We(fe,oe,Math.max(e.nodes.M2_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-fe)))),n=new ne(e.transformations,se(()=>({x:0,y:-4}))),i=new ne(e.transformations,se(()=>Je([{start:{x:0,y:0},end:{x:0,y:-8}}],We(fe,oe,e.nodes.Vnode.value.voltage)/(oe-fe)))),o=new ne(e.transformations,se(()=>Je([{start:{x:0,y:2},end:{x:0,y:-6}}],We(fe,oe,Math.max(e.nodes.Vout.value.voltage,e.nodes.M2_gate.value.voltage-1.25))/(oe-fe)))),r=new ne(t.transformations,se(()=>e.devices.mosfets.Mb.selected.value?{x:5,y:2}:{x:0,y:0})),a=new ne(t.transformations,se(()=>e.devices.mosfets.M1.selected.value?{x:-8,y:0}:{x:0,y:0})),l=new ne(s.transformations,se(()=>e.devices.mosfets.M2.selected.value?{x:8,y:0}:{x:0,y:0})),f=new ne(n.transformations,se(()=>e.devices.mosfets.M3.selected.value?{x:-3,y:-3}:{x:0,y:0})),h=new ne(n.transformations,se(()=>e.devices.mosfets.M4.selected.value?{x:3,y:-3}:{x:0,y:0}));return e.boundingBox=[new N(a.transformations,{x:-12,y:-14}),new N(l.transformations,{x:12,y:-14}),new N(f.transformations,{x:-12,y:-14}),new N(h.transformations,{x:12,y:-14}),new N(e.transformations,{x:-12,y:14}),new N(r.transformations,{x:12,y:14})],e.devices.mosfets={Mb:new Te(e.transformations,"nmos",0,6,e.nodes.Mb_gate,e.nodes[B],e.nodes.Vnode,e.nodes[B],e.nodes[B],void 0,void 0,!1,R.Locked,R.Locked,"lowerVoltageSource"),M1:new Te(t.transformations,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes.M1_drain,e.nodes[B],e.nodes[B],void 0,void 0,!0,R.Locked,R.Locked,"voltageSource"),M2:new Te(s.transformations,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes.Vout,e.nodes[B],e.nodes[B],void 0,void 0,!1,R.Locked,R.Locked,"voltageSource"),M3:new Te(n.transformations,"pmos",-4,-9,e.nodes.M1_drain,e.nodes[ye],e.nodes.M1_drain,e.nodes[ye],e.nodes[B],void 0,void 0,!1,R.Locked,R.Locked,"lowerBase"),M4:new Te(n.transformations,"pmos",4,-9,e.nodes.M1_drain,e.nodes[ye],e.nodes.Vout,e.nodes[ye],e.nodes[B],void 0,void 0,!0,R.Locked,R.Locked,"lowerBase")},e.devices.voltageSources={V1:new Ze(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.M1_gate,"V1","gnd",!0),V2:new Ze(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.M2_gate,"V2","gnd"),Vb:new Ze(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new zt(e.transformations,[new Oe(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new Oe(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new Oe(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new Oe(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],[new ut(...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new ut(...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply"))],[new ja(o.transformations,e.nodes.Vout,{x:6,y:-4},[{start:{x:6,y:-5},end:{x:6,y:-4}}])],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes[B],lines:[new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes[ye],lines:[new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M1_gate,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_gate,lines:[new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Mb_gate,lines:[new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vnode,lines:[new C(i.transformations,{x:-4,y:3},...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs")),new C(i.transformations,{x:4,y:3},...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vs")),new C(i.transformations,{x:-4,y:3},i.transformations,{x:4,y:3}),new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vd"),i.transformations,{x:0,y:3})],voltageDisplayLabel:"V",voltageDisplayLocations:[new N(i.transformations,{x:-1,y:2.5})]},{node:e.nodes.M1_drain,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vd")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vg"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vout,lines:[new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vd")),new C(o.transformations,{x:4,y:-5},o.transformations,{x:6,y:-5})],voltageDisplayLabel:"Vout",voltageDisplayLocations:[new N(o.transformations,{x:6.5,y:-5})]}]),e.finishSetup(),e},Qf=()=>{const e=new js({x:10,y:-2},50,30);e.nodes={[B]:L(new ce(fe,!0)),[ye]:L(new ce(oe,!0)),M1_gate:L(new ce(2,!1)),M1_drain:L(new ce(4,!1)),M2_gate:L(new ce(2,!1)),M2_drain:L(new ce(4,!1)),M7_drain:L(new ce(1,!1)),Mb_gate:L(new ce(.7,!1)),Vout:L(new ce(4,!1)),Vnode:L(new ce(1,!1))};const t=new ne(e.transformations,se(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],We(fe,oe,Math.max(e.nodes.M1_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-fe)))),s=new ne(e.transformations,se(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],We(fe,oe,Math.max(e.nodes.M2_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-fe)))),n=new ne(e.transformations,se(()=>e.devices.mosfets.M5.selected.value||e.devices.mosfets.M6.selected.value?{x:0,y:e.devices.mosfets.M2.selected.value?-14:-10}:{x:0,y:-5})),i=new ne(e.transformations,se(()=>{let y=[e.devices.mosfets.M2.selected.value,e.devices.mosfets.M5.selected.value,e.devices.mosfets.M6.selected.value,e.devices.mosfets.Mb.selected.value,e.devices.mosfets.M7.selected.value].filter(Boolean).length;return y==0?{x:0,y:0}:y==1?{x:5,y:0}:e.devices.mosfets.M5.selected.value&&e.devices.mosfets.M6.selected.value||e.devices.mosfets.Mb.selected.value&&e.devices.mosfets.M7.selected.value?{x:10,y:0}:{x:5,y:0}})),o=new ne(n.transformations,se(()=>{let y=[e.devices.mosfets.M2.selected.value,e.devices.mosfets.M5.selected.value,e.devices.mosfets.M6.selected.value,e.devices.mosfets.Mb.selected.value,e.devices.mosfets.M7.selected.value].filter(Boolean).length;return y==0?{x:0,y:0}:y==1?{x:5,y:0}:e.devices.mosfets.M5.selected.value&&e.devices.mosfets.M6.selected.value||e.devices.mosfets.Mb.selected.value&&e.devices.mosfets.M7.selected.value?{x:10,y:0}:{x:5,y:0}})),r=new ne(e.transformations,se(()=>Je([{start:{x:0,y:0},end:{x:0,y:-8}}],We(fe,oe,e.nodes.Vnode.value.voltage)/(oe-fe)))),a=new ne(i.transformations,se(()=>Je([{start:{x:0,y:8.5},end:e.devices.mosfets.M5.selected.value||e.devices.mosfets.M6.selected.value?{x:0,y:e.devices.mosfets.M2.selected.value?-20:-15}:{x:0,y:-9}}],We(fe,oe,e.nodes.Vout.value.voltage)/(oe-fe)))),l=new ne(e.transformations,se(()=>e.devices.mosfets.Mb.selected.value||e.devices.mosfets.M7.selected.value||e.devices.mosfets.M8.selected.value?{x:0,y:2}:{x:0,y:0})),f=new ne(e.transformations,se(()=>e.devices.mosfets.M1.selected.value?{x:-8,y:0}:{x:0,y:0})),h=new ne(n.transformations,se(()=>e.devices.mosfets.M3.selected.value?{x:-3,y:-4}:{x:0,y:0})),d=new ne(o.transformations,se(()=>e.devices.mosfets.M4.selected.value?{x:2,y:-4}:{x:0,y:0})),p=new ne(i.transformations,se(()=>e.devices.mosfets.M8.selected.value?{x:2,y:2}:{x:0,y:0}));return e.boundingBox=[new N(h.transformations,{x:-12,y:-16}),new N(d.transformations,{x:33,y:-16}),new N(l.transformations,{x:-12,y:12}),new N(f.transformations,{x:-12,y:0}),new N(p.transformations,{x:33,y:12})],e.devices.mosfets={Mb:new Te(e.transformations,"nmos",0,6,e.nodes.Mb_gate,e.nodes[B],e.nodes.Vnode,e.nodes[B],e.nodes[B],void 0,void 0,!1,R.Locked,R.Locked,"lowerVoltageSource"),M1:new Te(t.transformations,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes.M1_drain,e.nodes[B],e.nodes[B],void 0,void 0,!0,R.Locked,R.Locked,"voltageSource"),M2:new Te(s.transformations,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes.M2_drain,e.nodes[B],e.nodes[B],void 0,void 0,!1,R.Locked,R.Locked,"voltageSource"),M3:new Te(n.transformations,"pmos",-4,-12,e.nodes.M1_drain,e.nodes[ye],e.nodes.M1_drain,e.nodes[ye],e.nodes[B],void 0,void 0,!1,R.Locked,R.Locked,"lowerBase"),M4:new Te(o.transformations,"pmos",24,-12,e.nodes.M1_drain,e.nodes[ye],e.nodes.Vout,e.nodes[ye],e.nodes[B],void 0,void 0,!0,R.Locked,R.Locked,"lowerBase"),M5:new Te(n.transformations,"pmos",4,-7,e.nodes.M2_drain,e.nodes[ye],e.nodes.M2_drain,e.nodes[ye],e.nodes[B],void 0,void 0,!1,R.Locked,R.Locked,"mirrorDriver"),M6:new Te(o.transformations,"pmos",16,-7,e.nodes.M2_drain,e.nodes[ye],e.nodes.M7_drain,e.nodes[ye],e.nodes[B],void 0,void 0,!0,R.Locked,R.Locked,"mirrorDriver"),M7:new Te(i.transformations,"nmos",16,6,e.nodes.M7_drain,e.nodes[B],e.nodes.M7_drain,e.nodes[B],e.nodes[B],void 0,void 0,!1,R.Locked,R.Locked,"lowerBase"),M8:new Te(i.transformations,"nmos",24,6,e.nodes.M7_drain,e.nodes[B],e.nodes.Vout,e.nodes[B],e.nodes[B],void 0,void 0,!0,R.Locked,R.Locked,"lowerBase")},e.devices.voltageSources={V1:new Ze(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.M1_gate,"V1","gnd",!0),V2:new Ze(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.M2_gate,"V2","gnd"),Vb:new Ze(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new zt(e.transformations,[new Oe(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new Oe(...e.devices.mosfets.M7.getAnchorPointWithTransformations("SourceSupply")),new Oe(...e.devices.mosfets.M8.getAnchorPointWithTransformations("SourceSupply")),new Oe(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new Oe(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new Oe(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],[new ut(...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new ut(...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply")),new ut(...e.devices.mosfets.M5.getAnchorPointWithTransformations("SourceSupply")),new ut(...e.devices.mosfets.M6.getAnchorPointWithTransformations("SourceSupply"))],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes[B],lines:[new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M8.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M8.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes[ye],lines:[new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M6.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M6.getAnchorPointWithTransformations("SourceSupply"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M1_gate,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_gate,lines:[new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Mb_gate,lines:[new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vnode,lines:[new C(r.transformations,{x:-4,y:3},...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs")),new C(r.transformations,{x:4,y:3},...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vs")),new C(r.transformations,{x:-4,y:3},r.transformations,{x:4,y:3}),new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vd"),r.transformations,{x:0,y:3})],voltageDisplayLabel:"V",voltageDisplayLocations:[new N(r.transformations,{x:-1,y:2.5})]},{node:e.nodes.M1_drain,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vd")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vg"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_drain,lines:[new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vd")),new C(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M6.getAnchorPointWithTransformations("Vg")),new C(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_corner"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M7_drain,lines:[new C(...e.devices.mosfets.M6.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vd")),new C(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M8.getAnchorPointWithTransformations("Vg")),new C(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_corner"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vout,lines:[new C(...e.devices.mosfets.M8.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vd")),new C(a.transformations,{x:24,y:-5},a.transformations,{x:28,y:-5})],voltageDisplayLabel:"Vout",voltageDisplayLocations:[new N(a.transformations,{x:28.5,y:-5})]}]),e.finishSetup(),e},eu=()=>{const e=new js({x:0,y:3},10,20);e.nodes={[B]:L(new ce(fe,!0)),[ye]:L(new ce(oe,!0)),M1_drain:L(new ce(2,!1)),M1_gate:L(new ce(1,!1))};const t=new ne(e.transformations,se(()=>Je([{start:{x:0,y:4},end:{x:0,y:-2}}],We(fe,oe,e.nodes.M1_drain.value.voltage)/(oe-fe)))),s=new ne(e.transformations,se(()=>({x:0,y:4}))),n=new ne(e.transformations,se(()=>e.devices.mosfets.M1.selected.value?{x:7,y:0}:{x:0,y:0}));return e.boundingBox=[new N(e.transformations,{x:-5,y:-6}),new N(n.transformations,{x:5,y:-6}),new N(s.transformations,{x:-5,y:12}),new N(s.transformations,{x:5,y:12})],e.devices.mosfets={M1:new Te(e.transformations,"pmos",0,0,e.nodes.M1_gate,e.nodes[ye],e.nodes.M1_drain,e.nodes[ye],e.nodes[B],3,5,!1,R.Visible,R.Visible,"furtherGate")},e.devices.mosfets.M1.vgsChart.visibility=R.Visible,e.devices.mosfets.M1.vdsChart.visibility=R.Visible,e.devices.voltageSources={Vd:new Ze(t.transformations,{x:0,y:6},e.nodes[B],e.nodes.M1_drain,"Vd","gnd",!0)},e.schematic=new zt(e.transformations,[new Oe(s.transformations,{x:0,y:8})],[new ut(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs"))],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes.M1_drain,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vplus"))],voltageDisplayLabel:"Drain",voltageDisplayLocations:[new N(t.transformations,{x:.5,y:4.5})]},{node:e.nodes[B],lines:[new C(s.transformations,{x:0,y:8},...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vminus"))],voltageDisplayLabel:"",voltageDisplayLocations:[]}]),e.finishSetup(),e},_i={nMosSingle:Xf(),nMosDiffPair:Jf(),pMosSingle:eu(),nMos5TransistorOpAmp:Zf(),nMos9TransistorOpAmp:Qf()},tu=e=>(Zr("data-v-e876c244"),e=e(),Qr(),e),su={style:{"margin-right":"10px","text-align":"right"}},nu={style:{display:"flex","margin-bottom":"-30px",width:"100px"}},iu={style:{display:"flex","margin-top":"15px","margin-bottom":"15px"}},ou=tu(()=>re("div",{style:{width:"15px",height:"3px","background-color":"black","border-radius":"2px"}},null,-1)),ru={style:{display:"flex","margin-top":"-30px",width:"100px"}},au=ei({__name:"Switch",props:{labelUp:{},labelDown:{},option:{},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=typeof s.modelValue=="boolean",i=t,o=()=>{if(n)i("update:modelValue",!s.modelValue);else{const r=s.modelValue===s.labelUp?s.labelDown:s.labelUp;i("update:modelValue",r)}};return(r,a)=>(Wt(),es("div",{onClick:o,style:{cursor:"pointer",display:"flex","align-items":"center","max-width":"250px",height:"50px",padding:"10px"},class:"prevent-select"},[re("p",su,ss(s.option),1),re("div",null,[re("div",nu,[re("div",{style:qe(`width: 15px; border-radius: 2px; margin-top: 26px; background-color: black; height: ${n?s.modelValue?"3px":"2px":s.modelValue===s.labelUp?"3px":"2px"}; margin-left: 34px;`)},null,4),re("p",{style:qe(`margin-left: 7px; font-weight: ${n?s.modelValue?"bold":"":s.modelValue===s.labelUp?"bold":""}`)},ss(s.labelUp),5)]),re("div",iu,[ou,re("div",{style:qe(`width: 26px; height: 3px; background-color: black; border-radius: 2px; margin-left: -1px; transform: rotate(${n?s.modelValue?"-33deg":"33deg":s.modelValue===s.labelUp?"-33deg":"33deg"}); transform-origin: 0% 50%; transition-duration: 200ms;`)},null,4)]),re("div",ru,[re("div",{style:qe(`width: 15px; border-radius: 2px; margin-top: 26px; background-color: black; height: ${n?s.modelValue?"2px":"3px":s.modelValue===s.labelUp?"2px":"3px"}; margin-left: 34px;`)},null,4),re("p",{style:qe(`margin-left: 7px; font-weight: ${n?s.modelValue?"":"bold":s.modelValue===s.labelDown?"bold":""}`)},ss(s.labelDown),5)])])]))}}),$a=(e,t)=>{const s=e.__vccOpts||e;for(const[n,i]of t)s[n]=i;return s},br=$a(au,[["__scopeId","data-v-e876c244"]]);function lu(){const e=L(window.innerWidth),t=L(window.innerHeight),s=L(!1),n=L(!1),i=L(!1),o=L(!1),r=L(!1),a=L(!1),l=L(!1),f=L(!1),h=L(!1),d=L(!1),p=L(!1),y=()=>{e.value=window.innerWidth,t.value=window.innerHeight,e.value<600?r.value=!0:e.value<960?(o.value=!0,a.value=!0):e.value<1264?(i.value=!0,l.value=!0):e.value<1904?(n.value=!0,f.value=!0):s.value=!0,e.value>1904?p.value=!0:e.value>1264?d.value=!0:e.value>960&&(h.value=!0)};return Xl(()=>(window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)})),ni(()=>y()),{xs:r,sm:o,md:i,lg:n,xl:s,smAndDown:a,mdAndDown:l,lgAndDown:f,smAndUp:h,mdAndUp:d,lgAndUp:p,screenWidth:e,screenHeight:t}}const _o=e=>(Zr("data-v-567da507"),e=e(),Qr(),e),cu={style:{position:"absolute",top:"10px",left:"10px"}},fu=_o(()=>re("h3",{style:{"text-align":"center"}},"Circuits",-1)),uu=_o(()=>re("div",{style:{border:"1px solid grey"}},null,-1)),hu=["onClick"],du=_o(()=>re("div",{style:{border:"1px solid grey","margin-top":"20px","margin-bottom":"30px"}},null,-1)),gu={style:{display:"flex","flex-wrap":"wrap",width:"210px","justify-content":"end"}},mu=ei({__name:"Diagram",setup(e){const{screenHeight:t,screenWidth:s,xs:n}=lu(),i=se(()=>{const q=t.value/4,W=s.value/4,D=2,ae=n.value?{width:s.value-30,height:_.value?t.value-30-q+5:t.value-30}:{width:_.value?s.value-30-W+5:s.value-30,height:t.value-30},kt=n.value?{width:(s.value-30)/2-D,height:q}:{width:W,height:(t.value-30)/2-D},Ss=n.value?{width:(s.value-30)/2-D,height:q}:{width:W,height:(t.value-30)/2-D};return{mainCanvas:ae,graphBarChartCanvas:kt,graphBarMosfetCanvas:Ss,borderWidth:D}}),o=L(null),r=L(null),a=L(null),l=L(null),f=L(null),h=L(null);let d=0;const p=L(null),y=L(!1),_=L(!0),E=I=>{p.value&&!p.value.contains(I.target)&&(y.value=!1)},k=L("nMosSingle"),S=Object.keys(_i),T=El(_i[k.value]),$=I=>{k.value=I,T.value=_i[I]},K=()=>{T.value.allSliders.forEach(I=>{I.updateValueBasedOnNodeVoltages()})},te=()=>{T.value.allSliders.forEach(I=>{I.updateNodeVoltagesBasedOnValue()})},X=I=>{const q=I.target;if(!q)return{mouseX:0,mouseY:0};const W=q.getBoundingClientRect(),D=(I.clientX-W.left)*rt.value,ae=(I.clientY-W.top)*rt.value;return{mouseX:D,mouseY:ae}},me=()=>{let I=!1;return T.value.allSliders.forEach(q=>{q.dragging&&(I=!0)}),I},H=I=>{const{mouseX:q,mouseY:W}=X(I);T.value.allSliders.forEach(D=>{D.canvasId==I.target.className&&D.checkDrag({x:q,y:W},I.button==1)}),me()||(Object.values(T.value.devices.mosfets).forEach(D=>{D.canvasId==I.target.className&&(D.mouseDownInsideSelectionArea=D.checkSelectionArea({x:q,y:W}))}),Object.values(T.value.devices.voltageSources).forEach(D=>{D.canvasId==I.target.className&&(D.mouseDownInsideSelectionArea=D.checkSelectionArea({x:q,y:W}))})),he(I),document.addEventListener("mousemove",he),document.addEventListener("mouseup",de)},he=I=>{const{mouseX:q,mouseY:W}=X(I);for(const D in T.value.nodes){const ae=T.value.nodes[D].value;ae.capacitance=ae.originalCapacitance}T.value.allSliders.forEach(D=>{D.dragSlider({x:q,y:W})}),te()},de=I=>{const{mouseX:q,mouseY:W}=X(I);!me()&&I.target.className=="main"&&(T.value.resetSelectedDevice(),Object.values(T.value.devices.mosfets).forEach(D=>{D.mouseDownInsideSelectionArea&&D.checkSelectionArea({x:q,y:W})?(D.selectedFocus.value&&(D.selected.value=!D.selected.value),D.selectedFocus.value=!0,T.value.setSelectedDevice(D)):D.selectedFocus.value=!1,D.mouseDownInsideSelectionArea=!1}),Object.values(T.value.devices.voltageSources).forEach(D=>{D.mouseDownInsideSelectionArea&&D.checkSelectionArea({x:q,y:W})?(D.selectedFocus.value=!0,T.value.setSelectedDevice(D)):D.selectedFocus.value=!1,D.mouseDownInsideSelectionArea=!1})),T.value.allSliders.forEach(D=>{D.releaseSlider()}),document.removeEventListener("mousemove",he),document.removeEventListener("mouseup",de)},Ae=(I,q,W)=>{if(!I.value||(q.value=I.value.getContext("2d"),!q.value))return!1;Gf(q.value,W);const D=rt.value;return I.value.width=W.value.width*D,I.value.height=W.value.height*D,I.value.style.width=`${W.value.width}px`,I.value.style.height=`${W.value.height}px`,q.value.resetTransform(),q.value.clearRect(0,0,I.value.width,I.value.height),!0},z=()=>{var I;Ae(o,r,Gi)&&Ae(a,l,Hf)&&Ae(f,h,Uf)&&(K(),T.value.draw(r.value),T.value.anyDevicesSelected&&y&&(De.textTransformationMatrix.relativeScale=T.value.circuitCopy.transformationMatrix.relativeScale/Ni,(I=T.value.circuitCopy)==null||I.draw(l.value),T.value.drawSelectedDeviceCharts(h.value)))},be=I=>{const q=I-d;d=I,T.value.allSliders.forEach(W=>{W.adjustPreciseSlider(q),te()}),Ef(T.value,q),Object.values(T.value.devices.mosfets).forEach(W=>{W.currentDots.updateDotPositionBasedOnTimestamp(W.current,q)}),Object.values(T.value.circuitCopy.devices.mosfets).forEach(W=>{W.currentDots.updateDotPositionBasedOnTimestamp(W.current,q)}),Object.values(T.value.schematic.parasiticCapacitors).forEach(W=>{W.currentDots.updateDotPositionBasedOnTimestamp(W.node.value.netCurrent,q)}),z(),requestAnimationFrame(be)};return ni(()=>{o.value&&(r.value=o.value.getContext("2d"),document.addEventListener("click",E),z(),requestAnimationFrame(be)),a.value&&(l.value=a.value.getContext("2d")),f.value&&(h.value=f.value.getContext("2d"))}),vo(()=>{}),(I,q)=>(Wt(),es(lt,null,[re("div",cu,[re("button",{onClick:q[0]||(q[0]=pr(W=>y.value=!y.value,["stop"]))},"Menu")]),Ne(wo,null,{default:ea(()=>[jo(re("div",{ref_key:"sideBar",ref:p,style:{display:"flex","flex-direction":"column",width:"250px",height:"100vh",padding:"10px","background-color":"whitesmoke",position:"absolute"}},[fu,uu,(Wt(!0),es(lt,null,uc(Ut(S),W=>(Wt(),es("button",{onClick:pr(D=>$(W),["prevent"]),style:qe(`margin-bottom: 10px; background-color: ${W===k.value?"rgb(200, 200, 200)":""};`)},ss(W),13,hu))),256)),du,jo(re("input",{type:"range",min:"1",max:"5",step:"1","onUpdate:modelValue":q[1]||(q[1]=W=>ze(rt)?rt.value=W:null)},null,512),[[xf,Ut(rt)]]),re("div",gu,[Ne(br,{"label-up":"On","label-down":"Off",option:"Draw Grid",modelValue:Ut(sn),"onUpdate:modelValue":q[2]||(q[2]=W=>ze(sn)?sn.value=W:null)},null,8,["modelValue"]),Ne(br,{"label-up":"On","label-down":"Off",option:"Floating Nodes",modelValue:Ut(Fn),"onUpdate:modelValue":q[3]||(q[3]=W=>ze(Fn)?Fn.value=W:null)},null,8,["modelValue"])]),re("button",{onClick:q[4]||(q[4]=W=>y.value=!1),style:{position:"absolute",bottom:"40px",right:"15px"}},"Close")],512),[[sf,y.value]])]),_:1}),Ut(n)?(Wt(),es("button",{key:0,onClick:q[5]||(q[5]=W=>_.value=!_.value),style:{position:"absolute",bottom:"0","font-size":"xx-large",padding:"5px",width:"100px",right:"calc(50% - 50px)"}},ss(_.value?"V":"^"),1)):(Wt(),es("button",{key:1,onClick:q[6]||(q[6]=W=>_.value=!_.value),style:{position:"absolute",right:"0","font-size":"xx-large",padding:"5px",height:"100px",top:"calc(50vh - 50px)"}},ss(_.value?">":"<"),1)),re("div",null,[re("div",{style:qe({display:"flex",flexDirection:Ut(n)?"column":"row"})},[re("canvas",{ref_key:"canvas",ref:o,onMousedown:H,style:qe(`border-color: blue; border-width: 2px; background-color: white; width: ${i.value.mainCanvas.width}px; height: ${i.value.mainCanvas.height}px;`),class:"main"},null,36),re("div",{style:qe({display:"flex",flexDirection:Ut(n)?"row":"column"})},[re("canvas",{ref_key:"graphBarChartCanvas",ref:f,onMousedown:H,style:qe(`border-color: blue; border-width: ${i.value.borderWidth}px; background-color: white; width: ${i.value.graphBarChartCanvas.width}px; height: ${i.value.graphBarChartCanvas.height}px; display: ${_.value?"block":"none"}`),class:"chart"},null,36),re("canvas",{ref_key:"graphBarMosfetCanvas",ref:a,onMousedown:H,style:qe(`border-color: blue; border-width: ${i.value.borderWidth}px; background-color: white; width: ${i.value.graphBarMosfetCanvas.width}px; height: ${i.value.graphBarMosfetCanvas.height}px; display: ${_.value?"block":"none"}`),class:"mosfet"},null,36)],4)],4)])],64))}}),pu=$a(mu,[["__scopeId","data-v-567da507"]]),vu={key:0},yu={style:{color:"white"}},bu={style:{color:"white"}},xu={style:{display:"flex","justify-content":"space-around"}},wu=ei({__name:"Tutorial",props:{setTutorialStep:{type:Function},data:{}},setup(e){const t=e;return(s,n)=>t.data.title!==""?(Wt(),es("div",vu,[re("div",{style:qe(`background-color: #FF7F7F; border-radius: 10px; border: 2px solid red; position: absolute; max-width: 400px; padding: 20px; ${t.data.location?t.data.location.y:"top: 45vh"}; ${t.data.location?t.data.location.x:"left: calc(50vw - 200px"}); box-shadow: rgba(0, 0, 0, 0.4) 0px 8px 24px;`)},[re("h3",yu,ss(t.data.title),1),re("p",bu,ss(t.data.text),1),re("div",xu,[re("button",{onClick:n[0]||(n[0]=i=>s.setTutorialStep())},"Ok"),re("button",{onClick:n[1]||(n[1]=i=>s.setTutorialStep(!0))},"Skip")])],4)])):Ma("",!0)}}),Mu=ei({__name:"App",setup(e){const t=[{title:"",text:""},{title:"Welcome to Mosfets",text:"This will show you around the program."},{title:"Side Bar",text:"These buttons allow you to switch circuits.",location:{x:"left: 200px;",y:"top: 50px;"}},{title:"Circuits",text:"Highlighted sliders allow you to manipulate the voltages on each voltage source. Move one to see how they work.",location:{x:"right: 45vw;",y:"top: 200px;"}},{title:"Current",text:"Blue dots move relative to the current flowing through the mosfet. Move the orange voltage sliders to see it change.",location:{x:"right: 45vw;",y:"top: 200px;"}}],s=L(1),n=(a=!1)=>{a?s.value=t.length:s.value++,s.value>t.length-1&&(s.value=0)},o=L((()=>{const a="firstTimeLoad",l=localStorage.getItem(a)===null;return l&&localStorage.setItem(a,"false"),l})()),r=()=>{o.value=!0,s.value=1};return document.body.onmousedown=function(a){if(a.button==1)return a.preventDefault(),!1},(a,l)=>(Wt(),es("div",null,[Ne(pu),o.value?(Wt(),xa(wu,{key:0,data:t[s.value],setTutorialStep:n},null,8,["data"])):Ma("",!0),re("button",{onClick:r,style:{position:"absolute",bottom:"5px",left:"5px"}},"?")]))}});Sf(Mu).mount("#app");
