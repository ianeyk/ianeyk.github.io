var Ha=Object.defineProperty;var Ga=(e,t,s)=>t in e?Ha(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var m=(e,t,s)=>(Ga(e,typeof t!="symbol"?t+"":t,s),s),cn=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var c=(e,t,s)=>(cn(e,t,"read from private field"),s?s.call(e):t.get(e)),X=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},U=(e,t,s,i)=>(cn(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s);var pi=(e,t,s,i)=>({set _(n){U(e,t,n,s)},get _(){return c(e,t,i)}}),F=(e,t,s)=>(cn(e,t,"access private method"),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Zn(e,t){const s=new Set(e.split(","));return i=>s.has(i)}const we={},Ls=[],lt=()=>{},Ka=()=>!1,Ui=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Qn=e=>e.startsWith("onUpdate:"),Ce=Object.assign,eo=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},qa=Object.prototype.hasOwnProperty,re=(e,t)=>qa.call(e,t),q=Array.isArray,Es=e=>Hi(e)==="[object Map]",br=e=>Hi(e)==="[object Set]",Q=e=>typeof e=="function",Pe=e=>typeof e=="string",_s=e=>typeof e=="symbol",Me=e=>e!==null&&typeof e=="object",xr=e=>(Me(e)||Q(e))&&Q(e.then)&&Q(e.catch),wr=Object.prototype.toString,Hi=e=>wr.call(e),Ya=e=>Hi(e).slice(8,-1),Mr=e=>Hi(e)==="[object Object]",to=e=>Pe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ys=Zn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gi=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Ja=/-(\w)/g,Ns=Gi(e=>e.replace(Ja,(t,s)=>s?s.toUpperCase():"")),Xa=/\B([A-Z])/g,zs=Gi(e=>e.replace(Xa,"-$1").toLowerCase()),_r=Gi(e=>e.charAt(0).toUpperCase()+e.slice(1)),fn=Gi(e=>e?`on${_r(e)}`:""),ns=(e,t)=>!Object.is(e,t),Ti=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},Sr=(e,t,s,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:s})},_n=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Za=e=>{const t=Pe(e)?Number(e):NaN;return isNaN(t)?e:t};let Lo;const Vr=()=>Lo||(Lo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ke(e){if(q(e)){const t={};for(let s=0;s<e.length;s++){const i=e[s],n=Pe(i)?sl(i):Ke(i);if(n)for(const o in n)t[o]=n[o]}return t}else if(Pe(e)||Me(e))return e}const Qa=/;(?![^(]*\))/g,el=/:([^]+)/,tl=/\/\*[^]*?\*\//g;function sl(e){const t={};return e.replace(tl,"").split(Qa).forEach(s=>{if(s){const i=s.split(el);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function so(e){let t="";if(Pe(e))t=e;else if(q(e))for(let s=0;s<e.length;s++){const i=so(e[s]);i&&(t+=i+" ")}else if(Me(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const il="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nl=Zn(il);function Tr(e){return!!e||e===""}const ts=e=>Pe(e)?e:e==null?"":q(e)||Me(e)&&(e.toString===wr||!Q(e.toString))?JSON.stringify(e,Ar,2):String(e),Ar=(e,t)=>t&&t.__v_isRef?Ar(e,t.value):Es(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[i,n],o)=>(s[un(i,o)+" =>"]=n,s),{})}:br(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>un(s))}:_s(t)?un(t):Me(t)&&!q(t)&&!Mr(t)?String(t):t,un=(e,t="")=>{var s;return _s(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let dt;class ol{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=dt,!t&&dt&&(this.index=(dt.scopes||(dt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=dt;try{return dt=this,t()}finally{dt=s}}}on(){dt=this}off(){dt=this.parent}stop(t){if(this._active){let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.scopes)for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function rl(e,t=dt){t&&t.active&&t.effects.push(e)}function al(){return dt}let ws;class io{constructor(t,s,i,n){this.fn=t,this.trigger=s,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,rl(this,n)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,rs();for(let t=0;t<this._depsLength;t++){const s=this.deps[t];if(s.computed&&(ll(s.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),as()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=ss,s=ws;try{return ss=!0,ws=this,this._runnings++,Eo(this),this.fn()}finally{Do(this),this._runnings--,ws=s,ss=t}}stop(){this.active&&(Eo(this),Do(this),this.onStop&&this.onStop(),this.active=!1)}}function ll(e){return e.value}function Eo(e){e._trackId++,e._depsLength=0}function Do(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Cr(e.deps[t],e);e.deps.length=e._depsLength}}function Cr(e,t){const s=e.get(t);s!==void 0&&t._trackId!==s&&(e.delete(t),e.size===0&&e.cleanup())}let ss=!0,Sn=0;const Pr=[];function rs(){Pr.push(ss),ss=!1}function as(){const e=Pr.pop();ss=e===void 0?!0:e}function no(){Sn++}function oo(){for(Sn--;!Sn&&Vn.length;)Vn.shift()()}function Lr(e,t,s){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const i=e.deps[e._depsLength];i!==t?(i&&Cr(i,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Vn=[];function Er(e,t,s){no();for(const i of e.keys()){let n;i._dirtyLevel<t&&(n??(n=e.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=t),i._shouldSchedule&&(n??(n=e.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&Vn.push(i.scheduler)))}oo()}const Dr=(e,t)=>{const s=new Map;return s.cleanup=e,s.computed=t,s},Tn=new WeakMap,Ms=Symbol(""),An=Symbol("");function Ze(e,t,s){if(ss&&ws){let i=Tn.get(e);i||Tn.set(e,i=new Map);let n=i.get(s);n||i.set(s,n=Dr(()=>i.delete(s))),Lr(ws,n)}}function It(e,t,s,i,n,o){const r=Tn.get(e);if(!r)return;let a=[];if(t==="clear")a=[...r.values()];else if(s==="length"&&q(e)){const l=Number(i);r.forEach((f,u)=>{(u==="length"||!_s(u)&&u>=l)&&a.push(f)})}else switch(s!==void 0&&a.push(r.get(s)),t){case"add":q(e)?to(s)&&a.push(r.get("length")):(a.push(r.get(Ms)),Es(e)&&a.push(r.get(An)));break;case"delete":q(e)||(a.push(r.get(Ms)),Es(e)&&a.push(r.get(An)));break;case"set":Es(e)&&a.push(r.get(Ms));break}no();for(const l of a)l&&Er(l,4);oo()}const cl=Zn("__proto__,__v_isRef,__isVue"),Or=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(_s)),Oo=fl();function fl(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const i=he(this);for(let o=0,r=this.length;o<r;o++)Ze(i,"get",o+"");const n=i[t](...s);return n===-1||n===!1?i[t](...s.map(he)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){rs(),no();const i=he(this)[t].apply(this,s);return oo(),as(),i}}),e}function ul(e){_s(e)||(e=String(e));const t=he(this);return Ze(t,"has",e),t.hasOwnProperty(e)}class Wr{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,i){const n=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return o;if(s==="__v_raw")return i===(n?o?Sl:Ir:o?Rr:kr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const r=q(t);if(!n){if(r&&re(Oo,s))return Reflect.get(Oo,s,i);if(s==="hasOwnProperty")return ul}const a=Reflect.get(t,s,i);return(_s(s)?Or.has(s):cl(s))||(n||Ze(t,"get",s),o)?a:Ne(a)?r&&to(s)?a:a.value:Me(a)?n?Nr(a):lo(a):a}}class Fr extends Wr{constructor(t=!1){super(!1,t)}set(t,s,i,n){let o=t[s];if(!this._isShallow){const l=si(o);if(!ki(i)&&!si(i)&&(o=he(o),i=he(i)),!q(t)&&Ne(o)&&!Ne(i))return l?!1:(o.value=i,!0)}const r=q(t)&&to(s)?Number(s)<t.length:re(t,s),a=Reflect.set(t,s,i,n);return t===he(n)&&(r?ns(i,o)&&It(t,"set",s,i):It(t,"add",s,i)),a}deleteProperty(t,s){const i=re(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&i&&It(t,"delete",s,void 0),n}has(t,s){const i=Reflect.has(t,s);return(!_s(s)||!Or.has(s))&&Ze(t,"has",s),i}ownKeys(t){return Ze(t,"iterate",q(t)?"length":Ms),Reflect.ownKeys(t)}}class hl extends Wr{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const dl=new Fr,gl=new hl,ml=new Fr(!0);const ro=e=>e,Ki=e=>Reflect.getPrototypeOf(e);function vi(e,t,s=!1,i=!1){e=e.__v_raw;const n=he(e),o=he(t);s||(ns(t,o)&&Ze(n,"get",t),Ze(n,"get",o));const{has:r}=Ki(n),a=i?ro:s?fo:ii;if(r.call(n,t))return a(e.get(t));if(r.call(n,o))return a(e.get(o));e!==n&&e.get(t)}function yi(e,t=!1){const s=this.__v_raw,i=he(s),n=he(e);return t||(ns(e,n)&&Ze(i,"has",e),Ze(i,"has",n)),e===n?s.has(e):s.has(e)||s.has(n)}function bi(e,t=!1){return e=e.__v_raw,!t&&Ze(he(e),"iterate",Ms),Reflect.get(e,"size",e)}function Wo(e){e=he(e);const t=he(this);return Ki(t).has.call(t,e)||(t.add(e),It(t,"add",e,e)),this}function Fo(e,t){t=he(t);const s=he(this),{has:i,get:n}=Ki(s);let o=i.call(s,e);o||(e=he(e),o=i.call(s,e));const r=n.call(s,e);return s.set(e,t),o?ns(t,r)&&It(s,"set",e,t):It(s,"add",e,t),this}function ko(e){const t=he(this),{has:s,get:i}=Ki(t);let n=s.call(t,e);n||(e=he(e),n=s.call(t,e)),i&&i.call(t,e);const o=t.delete(e);return n&&It(t,"delete",e,void 0),o}function Ro(){const e=he(this),t=e.size!==0,s=e.clear();return t&&It(e,"clear",void 0,void 0),s}function xi(e,t){return function(i,n){const o=this,r=o.__v_raw,a=he(r),l=t?ro:e?fo:ii;return!e&&Ze(a,"iterate",Ms),r.forEach((f,u)=>i.call(n,l(f),l(u),o))}}function wi(e,t,s){return function(...i){const n=this.__v_raw,o=he(n),r=Es(o),a=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,f=n[e](...i),u=s?ro:t?fo:ii;return!t&&Ze(o,"iterate",l?An:Ms),{next(){const{value:g,done:p}=f.next();return p?{value:g,done:p}:{value:a?[u(g[0]),u(g[1])]:u(g),done:p}},[Symbol.iterator](){return this}}}}function Bt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function pl(){const e={get(o){return vi(this,o)},get size(){return bi(this)},has:yi,add:Wo,set:Fo,delete:ko,clear:Ro,forEach:xi(!1,!1)},t={get(o){return vi(this,o,!1,!0)},get size(){return bi(this)},has:yi,add:Wo,set:Fo,delete:ko,clear:Ro,forEach:xi(!1,!0)},s={get(o){return vi(this,o,!0)},get size(){return bi(this,!0)},has(o){return yi.call(this,o,!0)},add:Bt("add"),set:Bt("set"),delete:Bt("delete"),clear:Bt("clear"),forEach:xi(!0,!1)},i={get(o){return vi(this,o,!0,!0)},get size(){return bi(this,!0)},has(o){return yi.call(this,o,!0)},add:Bt("add"),set:Bt("set"),delete:Bt("delete"),clear:Bt("clear"),forEach:xi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=wi(o,!1,!1),s[o]=wi(o,!0,!1),t[o]=wi(o,!1,!0),i[o]=wi(o,!0,!0)}),[e,s,t,i]}const[vl,yl,bl,xl]=pl();function ao(e,t){const s=t?e?xl:bl:e?yl:vl;return(i,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(re(s,n)&&n in i?s:i,n,o)}const wl={get:ao(!1,!1)},Ml={get:ao(!1,!0)},_l={get:ao(!0,!1)};const kr=new WeakMap,Rr=new WeakMap,Ir=new WeakMap,Sl=new WeakMap;function Vl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Tl(e){return e.__v_skip||!Object.isExtensible(e)?0:Vl(Ya(e))}function lo(e){return si(e)?e:co(e,!1,dl,wl,kr)}function Al(e){return co(e,!1,ml,Ml,Rr)}function Nr(e){return co(e,!0,gl,_l,Ir)}function co(e,t,s,i,n){if(!Me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=n.get(e);if(o)return o;const r=Tl(e);if(r===0)return e;const a=new Proxy(e,r===2?i:s);return n.set(e,a),a}function Js(e){return si(e)?Js(e.__v_raw):!!(e&&e.__v_isReactive)}function si(e){return!!(e&&e.__v_isReadonly)}function ki(e){return!!(e&&e.__v_isShallow)}function zr(e){return e?!!e.__v_raw:!1}function he(e){const t=e&&e.__v_raw;return t?he(t):e}function Cl(e){return Object.isExtensible(e)&&Sr(e,"__v_skip",!0),e}const ii=e=>Me(e)?lo(e):e,fo=e=>Me(e)?Nr(e):e;class Br{constructor(t,s,i,n){this.getter=t,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new io(()=>t(this._value),()=>Ai(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const t=he(this);return(!t._cacheable||t.effect.dirty)&&ns(t._value,t._value=t.effect.run())&&Ai(t,4),jr(t),t.effect._dirtyLevel>=2&&Ai(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Pl(e,t,s=!1){let i,n;const o=Q(e);return o?(i=e,n=lt):(i=e.get,n=e.set),new Br(i,n,o||!n,s)}function jr(e){var t;ss&&ws&&(e=he(e),Lr(ws,(t=e.dep)!=null?t:e.dep=Dr(()=>e.dep=void 0,e instanceof Br?e:void 0)))}function Ai(e,t=4,s){e=he(e);const i=e.dep;i&&Er(i,t)}function Ne(e){return!!(e&&e.__v_isRef===!0)}function P(e){return $r(e,!1)}function Ll(e){return $r(e,!0)}function $r(e,t){return Ne(e)?e:new El(e,t)}class El{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:he(t),this._value=s?t:ii(t)}get value(){return jr(this),this._value}set value(t){const s=this.__v_isShallow||ki(t)||si(t);t=s?t:he(t),ns(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:ii(t),Ai(this,4))}}function Ut(e){return Ne(e)?e.value:e}const Dl={get:(e,t,s)=>Ut(Reflect.get(e,t,s)),set:(e,t,s,i)=>{const n=e[t];return Ne(n)&&!Ne(s)?(n.value=s,!0):Reflect.set(e,t,s,i)}};function Ur(e){return Js(e)?e:new Proxy(e,Dl)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function is(e,t,s,i){try{return i?e(...i):e()}catch(n){qi(n,t,s)}}function ut(e,t,s,i){if(Q(e)){const n=is(e,t,s,i);return n&&xr(n)&&n.catch(o=>{qi(o,t,s)}),n}if(q(e)){const n=[];for(let o=0;o<e.length;o++)n.push(ut(e[o],t,s,i));return n}}function qi(e,t,s,i=!0){const n=t?t.vnode:null;if(t){let o=t.parent;const r=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${s}`;for(;o;){const f=o.ec;if(f){for(let u=0;u<f.length;u++)if(f[u](e,r,a)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){rs(),is(l,null,10,[e,r,a]),as();return}}Ol(e,s,n,i)}function Ol(e,t,s,i=!0){console.error(e)}let ni=!1,Cn=!1;const je=[];let Dt=0;const Ds=[];let Yt=null,ds=0;const Hr=Promise.resolve();let uo=null;function Wl(e){const t=uo||Hr;return e?t.then(this?e.bind(this):e):t}function Fl(e){let t=Dt+1,s=je.length;for(;t<s;){const i=t+s>>>1,n=je[i],o=oi(n);o<e||o===e&&n.pre?t=i+1:s=i}return t}function ho(e){(!je.length||!je.includes(e,ni&&e.allowRecurse?Dt+1:Dt))&&(e.id==null?je.push(e):je.splice(Fl(e.id),0,e),Gr())}function Gr(){!ni&&!Cn&&(Cn=!0,uo=Hr.then(qr))}function kl(e){const t=je.indexOf(e);t>Dt&&je.splice(t,1)}function Rl(e){q(e)?Ds.push(...e):(!Yt||!Yt.includes(e,e.allowRecurse?ds+1:ds))&&Ds.push(e),Gr()}function Io(e,t,s=ni?Dt+1:0){for(;s<je.length;s++){const i=je[s];if(i&&i.pre){if(e&&i.id!==e.uid)continue;je.splice(s,1),s--,i()}}}function Kr(e){if(Ds.length){const t=[...new Set(Ds)].sort((s,i)=>oi(s)-oi(i));if(Ds.length=0,Yt){Yt.push(...t);return}for(Yt=t,ds=0;ds<Yt.length;ds++)Yt[ds]();Yt=null,ds=0}}const oi=e=>e.id==null?1/0:e.id,Il=(e,t)=>{const s=oi(e)-oi(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function qr(e){Cn=!1,ni=!0,je.sort(Il);try{for(Dt=0;Dt<je.length;Dt++){const t=je[Dt];t&&t.active!==!1&&is(t,null,14)}}finally{Dt=0,je.length=0,Kr(),ni=!1,uo=null,(je.length||Ds.length)&&qr()}}function Nl(e,t,...s){if(e.isUnmounted)return;const i=e.vnode.props||we;let n=s;const o=t.startsWith("update:"),r=o&&t.slice(7);if(r&&r in i){const u=`${r==="modelValue"?"model":r}Modifiers`,{number:g,trim:p}=i[u]||we;p&&(n=s.map(y=>Pe(y)?y.trim():y)),g&&(n=s.map(_n))}let a,l=i[a=fn(t)]||i[a=fn(Ns(t))];!l&&o&&(l=i[a=fn(zs(t))]),l&&ut(l,e,6,n);const f=i[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ut(f,e,6,n)}}function Yr(e,t,s=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const o=e.emits;let r={},a=!1;if(!Q(e)){const l=f=>{const u=Yr(f,t,!0);u&&(a=!0,Ce(r,u))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Me(e)&&i.set(e,null),null):(q(o)?o.forEach(l=>r[l]=null):Ce(r,o),Me(e)&&i.set(e,r),r)}function Yi(e,t){return!e||!Ui(t)?!1:(t=t.slice(2).replace(/Once$/,""),re(e,t[0].toLowerCase()+t.slice(1))||re(e,zs(t))||re(e,t))}let Ye=null,Ji=null;function Ri(e){const t=Ye;return Ye=e,Ji=e&&e.type.__scopeId||null,t}function Jr(e){Ji=e}function Xr(){Ji=null}function Zr(e,t=Ye,s){if(!t||e._n)return e;const i=(...n)=>{i._d&&Jo(-1);const o=Ri(t);let r;try{r=e(...n)}finally{Ri(o),i._d&&Jo(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function hn(e){const{type:t,vnode:s,proxy:i,withProxy:n,propsOptions:[o],slots:r,attrs:a,emit:l,render:f,renderCache:u,props:g,data:p,setupState:y,ctx:T,inheritAttrs:E}=e,k=Ri(e);let S,V;try{if(s.shapeFlag&4){const H=n||i,ee=H;S=Et(f.call(ee,H,u,g,y,p,T)),V=a}else{const H=t;S=Et(H.length>1?H(g,{attrs:a,slots:r,emit:l}):H(g,null)),V=t.props?a:zl(a)}}catch(H){Qs.length=0,qi(H,e,1),S=Ie(ct)}let z=S;if(V&&E!==!1){const H=Object.keys(V),{shapeFlag:ee}=z;H.length&&ee&7&&(o&&H.some(Qn)&&(V=Bl(V,o)),z=os(z,V,!1,!0))}return s.dirs&&(z=os(z,null,!1,!0),z.dirs=z.dirs?z.dirs.concat(s.dirs):s.dirs),s.transition&&(z.transition=s.transition),S=z,Ri(k),S}const zl=e=>{let t;for(const s in e)(s==="class"||s==="style"||Ui(s))&&((t||(t={}))[s]=e[s]);return t},Bl=(e,t)=>{const s={};for(const i in e)(!Qn(i)||!(i.slice(9)in t))&&(s[i]=e[i]);return s};function jl(e,t,s){const{props:i,children:n,component:o}=e,{props:r,children:a,patchFlag:l}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return i?No(i,r,f):!!r;if(l&8){const u=t.dynamicProps;for(let g=0;g<u.length;g++){const p=u[g];if(r[p]!==i[p]&&!Yi(f,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===r?!1:i?r?No(i,r,f):!0:!!r;return!1}function No(e,t,s){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const o=i[n];if(t[o]!==e[o]&&!Yi(s,o))return!0}return!1}function $l({vnode:e,parent:t},s){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=s,t=t.parent;else break}}const Ul=Symbol.for("v-ndc"),Hl=e=>e.__isSuspense;function Gl(e,t){t&&t.pendingBranch?q(e)?t.effects.push(...e):t.effects.push(e):Rl(e)}const Kl=Symbol.for("v-scx"),ql=()=>Pi(Kl);function Yl(e,t){return go(e,null,t)}const Mi={};function dn(e,t,s){return go(e,t,s)}function go(e,t,{immediate:s,deep:i,flush:n,once:o,onTrack:r,onTrigger:a}=we){if(t&&o){const Y=t;t=(...de)=>{Y(...de),ee()}}const l=$e,f=Y=>i===!0?Y:ps(Y,i===!1?1:void 0);let u,g=!1,p=!1;if(Ne(e)?(u=()=>e.value,g=ki(e)):Js(e)?(u=()=>f(e),g=!0):q(e)?(p=!0,g=e.some(Y=>Js(Y)||ki(Y)),u=()=>e.map(Y=>{if(Ne(Y))return Y.value;if(Js(Y))return f(Y);if(Q(Y))return is(Y,l,2)})):Q(e)?t?u=()=>is(e,l,2):u=()=>(y&&y(),ut(e,l,3,[T])):u=lt,t&&i){const Y=u;u=()=>ps(Y())}let y,T=Y=>{y=z.onStop=()=>{is(Y,l,4),y=z.onStop=void 0}},E;if(sn)if(T=lt,t?s&&ut(t,l,3,[u(),p?[]:void 0,T]):u(),n==="sync"){const Y=ql();E=Y.__watcherHandles||(Y.__watcherHandles=[])}else return lt;let k=p?new Array(e.length).fill(Mi):Mi;const S=()=>{if(!(!z.active||!z.dirty))if(t){const Y=z.run();(i||g||(p?Y.some((de,j)=>ns(de,k[j])):ns(Y,k)))&&(y&&y(),ut(t,l,3,[Y,k===Mi?void 0:p&&k[0]===Mi?[]:k,T]),k=Y)}else z.run()};S.allowRecurse=!!t;let V;n==="sync"?V=S:n==="post"?V=()=>qe(S,l&&l.suspense):(S.pre=!0,l&&(S.id=l.uid),V=()=>ho(S));const z=new io(u,lt,V),H=al(),ee=()=>{z.stop(),H&&eo(H.effects,z)};return t?s?S():k=z.run():n==="post"?qe(z.run.bind(z),l&&l.suspense):z.run(),E&&E.push(ee),ee}function Jl(e,t,s){const i=this.proxy,n=Pe(e)?e.includes(".")?Qr(i,e):()=>i[e]:e.bind(i,i);let o;Q(t)?o=t:(o=t.handler,s=t);const r=gi(this),a=go(n,o.bind(i),s);return r(),a}function Qr(e,t){const s=t.split(".");return()=>{let i=e;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}function ps(e,t=1/0,s){if(t<=0||!Me(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Ne(e))ps(e.value,t,s);else if(q(e))for(let i=0;i<e.length;i++)ps(e[i],t,s);else if(br(e)||Es(e))e.forEach(i=>{ps(i,t,s)});else if(Mr(e))for(const i in e)ps(e[i],t,s);return e}function zo(e,t){if(Ye===null)return e;const s=nn(Ye)||Ye.proxy,i=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[o,r,a,l=we]=t[n];o&&(Q(o)&&(o={mounted:o,updated:o}),o.deep&&ps(r),i.push({dir:o,instance:s,value:r,oldValue:void 0,arg:a,modifiers:l}))}return e}function cs(e,t,s,i){const n=e.dirs,o=t&&t.dirs;for(let r=0;r<n.length;r++){const a=n[r];o&&(a.oldValue=o[r].value);let l=a.dir[i];l&&(rs(),ut(l,s,8,[e.el,a,e,t]),as())}}const Jt=Symbol("_leaveCb"),_i=Symbol("_enterCb");function Xl(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return en(()=>{e.isMounted=!0}),mo(()=>{e.isUnmounting=!0}),e}const rt=[Function,Array],ea={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:rt,onEnter:rt,onAfterEnter:rt,onEnterCancelled:rt,onBeforeLeave:rt,onLeave:rt,onAfterLeave:rt,onLeaveCancelled:rt,onBeforeAppear:rt,onAppear:rt,onAfterAppear:rt,onAppearCancelled:rt},Zl={name:"BaseTransition",props:ea,setup(e,{slots:t}){const s=Ic(),i=Xl();return()=>{const n=t.default&&sa(t.default(),!0);if(!n||!n.length)return;let o=n[0];if(n.length>1){for(const p of n)if(p.type!==ct){o=p;break}}const r=he(e),{mode:a}=r;if(i.isLeaving)return gn(o);const l=Bo(o);if(!l)return gn(o);const f=Pn(l,r,i,s);Ln(l,f);const u=s.subTree,g=u&&Bo(u);if(g&&g.type!==ct&&!gs(l,g)){const p=Pn(g,r,i,s);if(Ln(g,p),a==="out-in"&&l.type!==ct)return i.isLeaving=!0,p.afterLeave=()=>{i.isLeaving=!1,s.update.active!==!1&&(s.effect.dirty=!0,s.update())},gn(o);a==="in-out"&&l.type!==ct&&(p.delayLeave=(y,T,E)=>{const k=ta(i,g);k[String(g.key)]=g,y[Jt]=()=>{T(),y[Jt]=void 0,delete f.delayedLeave},f.delayedLeave=E})}return o}}},Ql=Zl;function ta(e,t){const{leavingVNodes:s}=e;let i=s.get(t.type);return i||(i=Object.create(null),s.set(t.type,i)),i}function Pn(e,t,s,i){const{appear:n,mode:o,persisted:r=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:f,onEnterCancelled:u,onBeforeLeave:g,onLeave:p,onAfterLeave:y,onLeaveCancelled:T,onBeforeAppear:E,onAppear:k,onAfterAppear:S,onAppearCancelled:V}=t,z=String(e.key),H=ta(s,e),ee=(j,ce)=>{j&&ut(j,i,9,ce)},Y=(j,ce)=>{const fe=ce[1];ee(j,ce),q(j)?j.every(Te=>Te.length<=1)&&fe():j.length<=1&&fe()},de={mode:o,persisted:r,beforeEnter(j){let ce=a;if(!s.isMounted)if(n)ce=E||a;else return;j[Jt]&&j[Jt](!0);const fe=H[z];fe&&gs(e,fe)&&fe.el[Jt]&&fe.el[Jt](),ee(ce,[j])},enter(j){let ce=l,fe=f,Te=u;if(!s.isMounted)if(n)ce=k||l,fe=S||f,Te=V||u;else return;let R=!1;const ye=j[_i]=N=>{R||(R=!0,N?ee(Te,[j]):ee(fe,[j]),de.delayedLeave&&de.delayedLeave(),j[_i]=void 0)};ce?Y(ce,[j,ye]):ye()},leave(j,ce){const fe=String(e.key);if(j[_i]&&j[_i](!0),s.isUnmounting)return ce();ee(g,[j]);let Te=!1;const R=j[Jt]=ye=>{Te||(Te=!0,ce(),ye?ee(T,[j]):ee(y,[j]),j[Jt]=void 0,H[fe]===e&&delete H[fe])};H[fe]=e,p?Y(p,[j,R]):R()},clone(j){return Pn(j,t,s,i)}};return de}function gn(e){if(Zi(e))return e=os(e),e.children=null,e}function Bo(e){if(!Zi(e))return e;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&Q(s.default))return s.default()}}function Ln(e,t){e.shapeFlag&6&&e.component?Ln(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function sa(e,t=!1,s){let i=[],n=0;for(let o=0;o<e.length;o++){let r=e[o];const a=s==null?r.key:String(s)+String(r.key!=null?r.key:o);r.type===at?(r.patchFlag&128&&n++,i=i.concat(sa(r.children,t,a))):(t||r.type!==ct)&&i.push(a!=null?os(r,{key:a}):r)}if(n>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Xi(e,t){return Q(e)?Ce({name:e.name},t,{setup:e}):e}const Ci=e=>!!e.type.__asyncLoader,Zi=e=>e.type.__isKeepAlive;function ec(e,t){ia(e,"a",t)}function tc(e,t){ia(e,"da",t)}function ia(e,t,s=$e){const i=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Qi(t,i,s),s){let n=s.parent;for(;n&&n.parent;)Zi(n.parent.vnode)&&sc(i,t,s,n),n=n.parent}}function sc(e,t,s,i){const n=Qi(t,e,i,!0);na(()=>{eo(i[t],n)},s)}function Qi(e,t,s=$e,i=!1){if(s){const n=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(s.isUnmounted)return;rs();const a=gi(s),l=ut(t,s,e,r);return a(),as(),l});return i?n.unshift(o):n.push(o),o}}const zt=e=>(t,s=$e)=>(!sn||e==="sp")&&Qi(e,(...i)=>t(...i),s),ic=zt("bm"),en=zt("m"),nc=zt("bu"),oc=zt("u"),mo=zt("bum"),na=zt("um"),rc=zt("sp"),ac=zt("rtg"),lc=zt("rtc");function cc(e,t=$e){Qi("ec",e,t)}function fc(e,t,s,i){let n;const o=s;if(q(e)||Pe(e)){n=new Array(e.length);for(let r=0,a=e.length;r<a;r++)n[r]=t(e[r],r,void 0,o)}else if(typeof e=="number"){n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r,void 0,o)}else if(Me(e))if(e[Symbol.iterator])n=Array.from(e,(r,a)=>t(r,a,void 0,o));else{const r=Object.keys(e);n=new Array(r.length);for(let a=0,l=r.length;a<l;a++){const f=r[a];n[a]=t(e[f],f,a,o)}}else n=[];return n}const En=e=>e?wa(e)?nn(e)||e.proxy:En(e.parent):null,Xs=Ce(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>En(e.parent),$root:e=>En(e.root),$emit:e=>e.emit,$options:e=>po(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,ho(e.update)}),$nextTick:e=>e.n||(e.n=Wl.bind(e.proxy)),$watch:e=>Jl.bind(e)}),mn=(e,t)=>e!==we&&!e.__isScriptSetup&&re(e,t),uc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:i,data:n,props:o,accessCache:r,type:a,appContext:l}=e;let f;if(t[0]!=="$"){const y=r[t];if(y!==void 0)switch(y){case 1:return i[t];case 2:return n[t];case 4:return s[t];case 3:return o[t]}else{if(mn(i,t))return r[t]=1,i[t];if(n!==we&&re(n,t))return r[t]=2,n[t];if((f=e.propsOptions[0])&&re(f,t))return r[t]=3,o[t];if(s!==we&&re(s,t))return r[t]=4,s[t];Dn&&(r[t]=0)}}const u=Xs[t];let g,p;if(u)return t==="$attrs"&&Ze(e.attrs,"get",""),u(e);if((g=a.__cssModules)&&(g=g[t]))return g;if(s!==we&&re(s,t))return r[t]=4,s[t];if(p=l.config.globalProperties,re(p,t))return p[t]},set({_:e},t,s){const{data:i,setupState:n,ctx:o}=e;return mn(n,t)?(n[t]=s,!0):i!==we&&re(i,t)?(i[t]=s,!0):re(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:i,appContext:n,propsOptions:o}},r){let a;return!!s[r]||e!==we&&re(e,r)||mn(t,r)||(a=o[0])&&re(a,r)||re(i,r)||re(Xs,r)||re(n.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:re(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function jo(e){return q(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Dn=!0;function hc(e){const t=po(e),s=e.proxy,i=e.ctx;Dn=!1,t.beforeCreate&&$o(t.beforeCreate,e,"bc");const{data:n,computed:o,methods:r,watch:a,provide:l,inject:f,created:u,beforeMount:g,mounted:p,beforeUpdate:y,updated:T,activated:E,deactivated:k,beforeDestroy:S,beforeUnmount:V,destroyed:z,unmounted:H,render:ee,renderTracked:Y,renderTriggered:de,errorCaptured:j,serverPrefetch:ce,expose:fe,inheritAttrs:Te,components:R,directives:ye,filters:N}=t;if(f&&dc(f,i,null),r)for(const D in r){const ge=r[D];Q(ge)&&(i[D]=ge.bind(s))}if(n){const D=n.call(s,s);Me(D)&&(e.data=lo(D))}if(Dn=!0,o)for(const D in o){const ge=o[D],Ft=Q(ge)?ge.bind(s,s):Q(ge.get)?ge.get.bind(s,s):lt,Ss=!Q(ge)&&Q(ge.set)?ge.set.bind(s):lt,ls=te({get:Ft,set:Ss});Object.defineProperty(i,D,{enumerable:!0,configurable:!0,get:()=>ls.value,set:Vt=>ls.value=Vt})}if(a)for(const D in a)oa(a[D],i,s,D);if(l){const D=Q(l)?l.call(s):l;Reflect.ownKeys(D).forEach(ge=>{bc(ge,D[ge])})}u&&$o(u,e,"c");function W(D,ge){q(ge)?ge.forEach(Ft=>D(Ft.bind(s))):ge&&D(ge.bind(s))}if(W(ic,g),W(en,p),W(nc,y),W(oc,T),W(ec,E),W(tc,k),W(cc,j),W(lc,Y),W(ac,de),W(mo,V),W(na,H),W(rc,ce),q(fe))if(fe.length){const D=e.exposed||(e.exposed={});fe.forEach(ge=>{Object.defineProperty(D,ge,{get:()=>s[ge],set:Ft=>s[ge]=Ft})})}else e.exposed||(e.exposed={});ee&&e.render===lt&&(e.render=ee),Te!=null&&(e.inheritAttrs=Te),R&&(e.components=R),ye&&(e.directives=ye)}function dc(e,t,s=lt){q(e)&&(e=On(e));for(const i in e){const n=e[i];let o;Me(n)?"default"in n?o=Pi(n.from||i,n.default,!0):o=Pi(n.from||i):o=Pi(n),Ne(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[i]=o}}function $o(e,t,s){ut(q(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,s)}function oa(e,t,s,i){const n=i.includes(".")?Qr(s,i):()=>s[i];if(Pe(e)){const o=t[e];Q(o)&&dn(n,o)}else if(Q(e))dn(n,e.bind(s));else if(Me(e))if(q(e))e.forEach(o=>oa(o,t,s,i));else{const o=Q(e.handler)?e.handler.bind(s):t[e.handler];Q(o)&&dn(n,o,e)}}function po(e){const t=e.type,{mixins:s,extends:i}=t,{mixins:n,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,a=o.get(t);let l;return a?l=a:!n.length&&!s&&!i?l=t:(l={},n.length&&n.forEach(f=>Ii(l,f,r,!0)),Ii(l,t,r)),Me(t)&&o.set(t,l),l}function Ii(e,t,s,i=!1){const{mixins:n,extends:o}=t;o&&Ii(e,o,s,!0),n&&n.forEach(r=>Ii(e,r,s,!0));for(const r in t)if(!(i&&r==="expose")){const a=gc[r]||s&&s[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const gc={data:Uo,props:Ho,emits:Ho,methods:Gs,computed:Gs,beforeCreate:Ue,created:Ue,beforeMount:Ue,mounted:Ue,beforeUpdate:Ue,updated:Ue,beforeDestroy:Ue,beforeUnmount:Ue,destroyed:Ue,unmounted:Ue,activated:Ue,deactivated:Ue,errorCaptured:Ue,serverPrefetch:Ue,components:Gs,directives:Gs,watch:pc,provide:Uo,inject:mc};function Uo(e,t){return t?e?function(){return Ce(Q(e)?e.call(this,this):e,Q(t)?t.call(this,this):t)}:t:e}function mc(e,t){return Gs(On(e),On(t))}function On(e){if(q(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ue(e,t){return e?[...new Set([].concat(e,t))]:t}function Gs(e,t){return e?Ce(Object.create(null),e,t):t}function Ho(e,t){return e?q(e)&&q(t)?[...new Set([...e,...t])]:Ce(Object.create(null),jo(e),jo(t??{})):t}function pc(e,t){if(!e)return t;if(!t)return e;const s=Ce(Object.create(null),e);for(const i in t)s[i]=Ue(e[i],t[i]);return s}function ra(){return{app:null,config:{isNativeTag:Ka,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vc=0;function yc(e,t){return function(i,n=null){Q(i)||(i=Ce({},i)),n!=null&&!Me(n)&&(n=null);const o=ra(),r=new WeakSet;let a=!1;const l=o.app={_uid:vc++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:Hc,get config(){return o.config},set config(f){},use(f,...u){return r.has(f)||(f&&Q(f.install)?(r.add(f),f.install(l,...u)):Q(f)&&(r.add(f),f(l,...u))),l},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),l},component(f,u){return u?(o.components[f]=u,l):o.components[f]},directive(f,u){return u?(o.directives[f]=u,l):o.directives[f]},mount(f,u,g){if(!a){const p=Ie(i,n);return p.appContext=o,g===!0?g="svg":g===!1&&(g=void 0),u&&t?t(p,f):e(p,f,g),a=!0,l._container=f,f.__vue_app__=l,nn(p.component)||p.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(f,u){return o.provides[f]=u,l},runWithContext(f){const u=Zs;Zs=l;try{return f()}finally{Zs=u}}};return l}}let Zs=null;function bc(e,t){if($e){let s=$e.provides;const i=$e.parent&&$e.parent.provides;i===s&&(s=$e.provides=Object.create(i)),s[e]=t}}function Pi(e,t,s=!1){const i=$e||Ye;if(i||Zs){const n=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Zs._context.provides;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Q(t)?t.call(i&&i.proxy):t}}const aa={},la=()=>Object.create(aa),ca=e=>Object.getPrototypeOf(e)===aa;function xc(e,t,s,i=!1){const n={},o=la();e.propsDefaults=Object.create(null),fa(e,t,n,o);for(const r in e.propsOptions[0])r in n||(n[r]=void 0);s?e.props=i?n:Al(n):e.type.props?e.props=n:e.props=o,e.attrs=o}function wc(e,t,s,i){const{props:n,attrs:o,vnode:{patchFlag:r}}=e,a=he(n),[l]=e.propsOptions;let f=!1;if((i||r>0)&&!(r&16)){if(r&8){const u=e.vnode.dynamicProps;for(let g=0;g<u.length;g++){let p=u[g];if(Yi(e.emitsOptions,p))continue;const y=t[p];if(l)if(re(o,p))y!==o[p]&&(o[p]=y,f=!0);else{const T=Ns(p);n[T]=Wn(l,a,T,y,e,!1)}else y!==o[p]&&(o[p]=y,f=!0)}}}else{fa(e,t,n,o)&&(f=!0);let u;for(const g in a)(!t||!re(t,g)&&((u=zs(g))===g||!re(t,u)))&&(l?s&&(s[g]!==void 0||s[u]!==void 0)&&(n[g]=Wn(l,a,g,void 0,e,!0)):delete n[g]);if(o!==a)for(const g in o)(!t||!re(t,g))&&(delete o[g],f=!0)}f&&It(e.attrs,"set","")}function fa(e,t,s,i){const[n,o]=e.propsOptions;let r=!1,a;if(t)for(let l in t){if(Ys(l))continue;const f=t[l];let u;n&&re(n,u=Ns(l))?!o||!o.includes(u)?s[u]=f:(a||(a={}))[u]=f:Yi(e.emitsOptions,l)||(!(l in i)||f!==i[l])&&(i[l]=f,r=!0)}if(o){const l=he(s),f=a||we;for(let u=0;u<o.length;u++){const g=o[u];s[g]=Wn(n,l,g,f[g],e,!re(f,g))}}return r}function Wn(e,t,s,i,n,o){const r=e[s];if(r!=null){const a=re(r,"default");if(a&&i===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&Q(l)){const{propsDefaults:f}=n;if(s in f)i=f[s];else{const u=gi(n);i=f[s]=l.call(null,t),u()}}else i=l}r[0]&&(o&&!a?i=!1:r[1]&&(i===""||i===zs(s))&&(i=!0))}return i}function ua(e,t,s=!1){const i=t.propsCache,n=i.get(e);if(n)return n;const o=e.props,r={},a=[];let l=!1;if(!Q(e)){const u=g=>{l=!0;const[p,y]=ua(g,t,!0);Ce(r,p),y&&a.push(...y)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return Me(e)&&i.set(e,Ls),Ls;if(q(o))for(let u=0;u<o.length;u++){const g=Ns(o[u]);Go(g)&&(r[g]=we)}else if(o)for(const u in o){const g=Ns(u);if(Go(g)){const p=o[u],y=r[g]=q(p)||Q(p)?{type:p}:Ce({},p);if(y){const T=Yo(Boolean,y.type),E=Yo(String,y.type);y[0]=T>-1,y[1]=E<0||T<E,(T>-1||re(y,"default"))&&a.push(g)}}}const f=[r,a];return Me(e)&&i.set(e,f),f}function Go(e){return e[0]!=="$"&&!Ys(e)}function Ko(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function qo(e,t){return Ko(e)===Ko(t)}function Yo(e,t){return q(t)?t.findIndex(s=>qo(s,e)):Q(t)&&qo(t,e)?0:-1}const ha=e=>e[0]==="_"||e==="$stable",vo=e=>q(e)?e.map(Et):[Et(e)],Mc=(e,t,s)=>{if(t._n)return t;const i=Zr((...n)=>vo(t(...n)),s);return i._c=!1,i},da=(e,t,s)=>{const i=e._ctx;for(const n in e){if(ha(n))continue;const o=e[n];if(Q(o))t[n]=Mc(n,o,i);else if(o!=null){const r=vo(o);t[n]=()=>r}}},ga=(e,t)=>{const s=vo(t);e.slots.default=()=>s},_c=(e,t)=>{const s=e.slots=la();if(e.vnode.shapeFlag&32){const i=t._;i?(Ce(s,t),Sr(s,"_",i,!0)):da(t,s)}else t&&ga(e,t)},Sc=(e,t,s)=>{const{vnode:i,slots:n}=e;let o=!0,r=we;if(i.shapeFlag&32){const a=t._;a?s&&a===1?o=!1:(Ce(n,t),!s&&a===1&&delete n._):(o=!t.$stable,da(t,n)),r=t}else t&&(ga(e,t),r={default:1});if(o)for(const a in n)!ha(a)&&r[a]==null&&delete n[a]};function Fn(e,t,s,i,n=!1){if(q(e)){e.forEach((p,y)=>Fn(p,t&&(q(t)?t[y]:t),s,i,n));return}if(Ci(i)&&!n)return;const o=i.shapeFlag&4?nn(i.component)||i.component.proxy:i.el,r=n?null:o,{i:a,r:l}=e,f=t&&t.r,u=a.refs===we?a.refs={}:a.refs,g=a.setupState;if(f!=null&&f!==l&&(Pe(f)?(u[f]=null,re(g,f)&&(g[f]=null)):Ne(f)&&(f.value=null)),Q(l))is(l,a,12,[r,u]);else{const p=Pe(l),y=Ne(l);if(p||y){const T=()=>{if(e.f){const E=p?re(g,l)?g[l]:u[l]:l.value;n?q(E)&&eo(E,o):q(E)?E.includes(o)||E.push(o):p?(u[l]=[o],re(g,l)&&(g[l]=u[l])):(l.value=[o],e.k&&(u[e.k]=l.value))}else p?(u[l]=r,re(g,l)&&(g[l]=r)):y&&(l.value=r,e.k&&(u[e.k]=r))};r?(T.id=-1,qe(T,s)):T()}}}const qe=Gl;function Vc(e){return Tc(e)}function Tc(e,t){const s=Vr();s.__VUE__=!0;const{insert:i,remove:n,patchProp:o,createElement:r,createText:a,createComment:l,setText:f,setElementText:u,parentNode:g,nextSibling:p,setScopeId:y=lt,insertStaticContent:T}=e,E=(h,d,v,b=null,x=null,_=null,L=void 0,M=null,A=!!d.dynamicChildren)=>{if(h===d)return;h&&!gs(h,d)&&(b=mi(h),Vt(h,x,_,!0),h=null),d.patchFlag===-2&&(A=!1,d.dynamicChildren=null);const{type:w,ref:O,shapeFlag:$}=d;switch(w){case tn:k(h,d,v,b);break;case ct:S(h,d,v,b);break;case vn:h==null&&V(d,v,b,L);break;case at:R(h,d,v,b,x,_,L,M,A);break;default:$&1?ee(h,d,v,b,x,_,L,M,A):$&6?ye(h,d,v,b,x,_,L,M,A):($&64||$&128)&&w.process(h,d,v,b,x,_,L,M,A,js)}O!=null&&x&&Fn(O,h&&h.ref,_,d||h,!d)},k=(h,d,v,b)=>{if(h==null)i(d.el=a(d.children),v,b);else{const x=d.el=h.el;d.children!==h.children&&f(x,d.children)}},S=(h,d,v,b)=>{h==null?i(d.el=l(d.children||""),v,b):d.el=h.el},V=(h,d,v,b)=>{[h.el,h.anchor]=T(h.children,d,v,b,h.el,h.anchor)},z=({el:h,anchor:d},v,b)=>{let x;for(;h&&h!==d;)x=p(h),i(h,v,b),h=x;i(d,v,b)},H=({el:h,anchor:d})=>{let v;for(;h&&h!==d;)v=p(h),n(h),h=v;n(d)},ee=(h,d,v,b,x,_,L,M,A)=>{d.type==="svg"?L="svg":d.type==="math"&&(L="mathml"),h==null?Y(d,v,b,x,_,L,M,A):ce(h,d,x,_,L,M,A)},Y=(h,d,v,b,x,_,L,M)=>{let A,w;const{props:O,shapeFlag:$,transition:B,dirs:J}=h;if(A=h.el=r(h.type,_,O&&O.is,O),$&8?u(A,h.children):$&16&&j(h.children,A,null,b,x,pn(h,_),L,M),J&&cs(h,null,b,"created"),de(A,h,h.scopeId,L,b),O){for(const me in O)me!=="value"&&!Ys(me)&&o(A,me,null,O[me],_,h.children,b,x,kt);"value"in O&&o(A,"value",null,O.value,_),(w=O.onVnodeBeforeMount)&&At(w,b,h)}J&&cs(h,null,b,"beforeMount");const ie=Ac(x,B);ie&&B.beforeEnter(A),i(A,d,v),((w=O&&O.onVnodeMounted)||ie||J)&&qe(()=>{w&&At(w,b,h),ie&&B.enter(A),J&&cs(h,null,b,"mounted")},x)},de=(h,d,v,b,x)=>{if(v&&y(h,v),b)for(let _=0;_<b.length;_++)y(h,b[_]);if(x){let _=x.subTree;if(d===_){const L=x.vnode;de(h,L,L.scopeId,L.slotScopeIds,x.parent)}}},j=(h,d,v,b,x,_,L,M,A=0)=>{for(let w=A;w<h.length;w++){const O=h[w]=M?Xt(h[w]):Et(h[w]);E(null,O,d,v,b,x,_,L,M)}},ce=(h,d,v,b,x,_,L)=>{const M=d.el=h.el;let{patchFlag:A,dynamicChildren:w,dirs:O}=d;A|=h.patchFlag&16;const $=h.props||we,B=d.props||we;let J;if(v&&fs(v,!1),(J=B.onVnodeBeforeUpdate)&&At(J,v,d,h),O&&cs(d,h,v,"beforeUpdate"),v&&fs(v,!0),w?fe(h.dynamicChildren,w,M,v,b,pn(d,x),_):L||ge(h,d,M,null,v,b,pn(d,x),_,!1),A>0){if(A&16)Te(M,d,$,B,v,b,x);else if(A&2&&$.class!==B.class&&o(M,"class",null,B.class,x),A&4&&o(M,"style",$.style,B.style,x),A&8){const ie=d.dynamicProps;for(let me=0;me<ie.length;me++){const _e=ie[me],Oe=$[_e],ht=B[_e];(ht!==Oe||_e==="value")&&o(M,_e,Oe,ht,x,h.children,v,b,kt)}}A&1&&h.children!==d.children&&u(M,d.children)}else!L&&w==null&&Te(M,d,$,B,v,b,x);((J=B.onVnodeUpdated)||O)&&qe(()=>{J&&At(J,v,d,h),O&&cs(d,h,v,"updated")},b)},fe=(h,d,v,b,x,_,L)=>{for(let M=0;M<d.length;M++){const A=h[M],w=d[M],O=A.el&&(A.type===at||!gs(A,w)||A.shapeFlag&70)?g(A.el):v;E(A,w,O,null,b,x,_,L,!0)}},Te=(h,d,v,b,x,_,L)=>{if(v!==b){if(v!==we)for(const M in v)!Ys(M)&&!(M in b)&&o(h,M,v[M],null,L,d.children,x,_,kt);for(const M in b){if(Ys(M))continue;const A=b[M],w=v[M];A!==w&&M!=="value"&&o(h,M,w,A,L,d.children,x,_,kt)}"value"in b&&o(h,"value",v.value,b.value,L)}},R=(h,d,v,b,x,_,L,M,A)=>{const w=d.el=h?h.el:a(""),O=d.anchor=h?h.anchor:a("");let{patchFlag:$,dynamicChildren:B,slotScopeIds:J}=d;J&&(M=M?M.concat(J):J),h==null?(i(w,v,b),i(O,v,b),j(d.children||[],v,O,x,_,L,M,A)):$>0&&$&64&&B&&h.dynamicChildren?(fe(h.dynamicChildren,B,v,x,_,L,M),(d.key!=null||x&&d===x.subTree)&&ma(h,d,!0)):ge(h,d,v,O,x,_,L,M,A)},ye=(h,d,v,b,x,_,L,M,A)=>{d.slotScopeIds=M,h==null?d.shapeFlag&512?x.ctx.activate(d,v,b,L,A):N(d,v,b,x,_,L,A):G(h,d,A)},N=(h,d,v,b,x,_,L)=>{const M=h.component=Rc(h,b,x);if(Zi(h)&&(M.ctx.renderer=js),Nc(M),M.asyncDep){if(x&&x.registerDep(M,W),!h.el){const A=M.subTree=Ie(ct);S(null,A,d,v)}}else W(M,h,d,v,x,_,L)},G=(h,d,v)=>{const b=d.component=h.component;if(jl(h,d,v))if(b.asyncDep&&!b.asyncResolved){D(b,d,v);return}else b.next=d,kl(b.update),b.effect.dirty=!0,b.update();else d.el=h.el,b.vnode=d},W=(h,d,v,b,x,_,L)=>{const M=()=>{if(h.isMounted){let{next:O,bu:$,u:B,parent:J,vnode:ie}=h;{const Vs=pa(h);if(Vs){O&&(O.el=ie.el,D(h,O,L)),Vs.asyncDep.then(()=>{h.isUnmounted||M()});return}}let me=O,_e;fs(h,!1),O?(O.el=ie.el,D(h,O,L)):O=ie,$&&Ti($),(_e=O.props&&O.props.onVnodeBeforeUpdate)&&At(_e,J,O,ie),fs(h,!0);const Oe=hn(h),ht=h.subTree;h.subTree=Oe,E(ht,Oe,g(ht.el),mi(ht),h,x,_),O.el=Oe.el,me===null&&$l(h,Oe.el),B&&qe(B,x),(_e=O.props&&O.props.onVnodeUpdated)&&qe(()=>At(_e,J,O,ie),x)}else{let O;const{el:$,props:B}=d,{bm:J,m:ie,parent:me}=h,_e=Ci(d);if(fs(h,!1),J&&Ti(J),!_e&&(O=B&&B.onVnodeBeforeMount)&&At(O,me,d),fs(h,!0),$&&To){const Oe=()=>{h.subTree=hn(h),To($,h.subTree,h,x,null)};_e?d.type.__asyncLoader().then(()=>!h.isUnmounted&&Oe()):Oe()}else{const Oe=h.subTree=hn(h);E(null,Oe,v,b,h,x,_),d.el=Oe.el}if(ie&&qe(ie,x),!_e&&(O=B&&B.onVnodeMounted)){const Oe=d;qe(()=>At(O,me,Oe),x)}(d.shapeFlag&256||me&&Ci(me.vnode)&&me.vnode.shapeFlag&256)&&h.a&&qe(h.a,x),h.isMounted=!0,d=v=b=null}},A=h.effect=new io(M,lt,()=>ho(w),h.scope),w=h.update=()=>{A.dirty&&A.run()};w.id=h.uid,fs(h,!0),w()},D=(h,d,v)=>{d.component=h;const b=h.vnode.props;h.vnode=d,h.next=null,wc(h,d.props,b,v),Sc(h,d.children,v),rs(),Io(h),as()},ge=(h,d,v,b,x,_,L,M,A=!1)=>{const w=h&&h.children,O=h?h.shapeFlag:0,$=d.children,{patchFlag:B,shapeFlag:J}=d;if(B>0){if(B&128){Ss(w,$,v,b,x,_,L,M,A);return}else if(B&256){Ft(w,$,v,b,x,_,L,M,A);return}}J&8?(O&16&&kt(w,x,_),$!==w&&u(v,$)):O&16?J&16?Ss(w,$,v,b,x,_,L,M,A):kt(w,x,_,!0):(O&8&&u(v,""),J&16&&j($,v,b,x,_,L,M,A))},Ft=(h,d,v,b,x,_,L,M,A)=>{h=h||Ls,d=d||Ls;const w=h.length,O=d.length,$=Math.min(w,O);let B;for(B=0;B<$;B++){const J=d[B]=A?Xt(d[B]):Et(d[B]);E(h[B],J,v,null,x,_,L,M,A)}w>O?kt(h,x,_,!0,!1,$):j(d,v,b,x,_,L,M,A,$)},Ss=(h,d,v,b,x,_,L,M,A)=>{let w=0;const O=d.length;let $=h.length-1,B=O-1;for(;w<=$&&w<=B;){const J=h[w],ie=d[w]=A?Xt(d[w]):Et(d[w]);if(gs(J,ie))E(J,ie,v,null,x,_,L,M,A);else break;w++}for(;w<=$&&w<=B;){const J=h[$],ie=d[B]=A?Xt(d[B]):Et(d[B]);if(gs(J,ie))E(J,ie,v,null,x,_,L,M,A);else break;$--,B--}if(w>$){if(w<=B){const J=B+1,ie=J<O?d[J].el:b;for(;w<=B;)E(null,d[w]=A?Xt(d[w]):Et(d[w]),v,ie,x,_,L,M,A),w++}}else if(w>B)for(;w<=$;)Vt(h[w],x,_,!0),w++;else{const J=w,ie=w,me=new Map;for(w=ie;w<=B;w++){const Qe=d[w]=A?Xt(d[w]):Et(d[w]);Qe.key!=null&&me.set(Qe.key,w)}let _e,Oe=0;const ht=B-ie+1;let Vs=!1,Ao=0;const $s=new Array(ht);for(w=0;w<ht;w++)$s[w]=0;for(w=J;w<=$;w++){const Qe=h[w];if(Oe>=ht){Vt(Qe,x,_,!0);continue}let Tt;if(Qe.key!=null)Tt=me.get(Qe.key);else for(_e=ie;_e<=B;_e++)if($s[_e-ie]===0&&gs(Qe,d[_e])){Tt=_e;break}Tt===void 0?Vt(Qe,x,_,!0):($s[Tt-ie]=w+1,Tt>=Ao?Ao=Tt:Vs=!0,E(Qe,d[Tt],v,null,x,_,L,M,A),Oe++)}const Co=Vs?Cc($s):Ls;for(_e=Co.length-1,w=ht-1;w>=0;w--){const Qe=ie+w,Tt=d[Qe],Po=Qe+1<O?d[Qe+1].el:b;$s[w]===0?E(null,Tt,v,Po,x,_,L,M,A):Vs&&(_e<0||w!==Co[_e]?ls(Tt,v,Po,2):_e--)}}},ls=(h,d,v,b,x=null)=>{const{el:_,type:L,transition:M,children:A,shapeFlag:w}=h;if(w&6){ls(h.component.subTree,d,v,b);return}if(w&128){h.suspense.move(d,v,b);return}if(w&64){L.move(h,d,v,js);return}if(L===at){i(_,d,v);for(let $=0;$<A.length;$++)ls(A[$],d,v,b);i(h.anchor,d,v);return}if(L===vn){z(h,d,v);return}if(b!==2&&w&1&&M)if(b===0)M.beforeEnter(_),i(_,d,v),qe(()=>M.enter(_),x);else{const{leave:$,delayLeave:B,afterLeave:J}=M,ie=()=>i(_,d,v),me=()=>{$(_,()=>{ie(),J&&J()})};B?B(_,ie,me):me()}else i(_,d,v)},Vt=(h,d,v,b=!1,x=!1)=>{const{type:_,props:L,ref:M,children:A,dynamicChildren:w,shapeFlag:O,patchFlag:$,dirs:B}=h;if(M!=null&&Fn(M,null,v,h,!0),O&256){d.ctx.deactivate(h);return}const J=O&1&&B,ie=!Ci(h);let me;if(ie&&(me=L&&L.onVnodeBeforeUnmount)&&At(me,d,h),O&6)Ua(h.component,v,b);else{if(O&128){h.suspense.unmount(v,b);return}J&&cs(h,null,d,"beforeUnmount"),O&64?h.type.remove(h,d,v,x,js,b):w&&(_!==at||$>0&&$&64)?kt(w,d,v,!1,!0):(_===at&&$&384||!x&&O&16)&&kt(A,d,v),b&&_o(h)}(ie&&(me=L&&L.onVnodeUnmounted)||J)&&qe(()=>{me&&At(me,d,h),J&&cs(h,null,d,"unmounted")},v)},_o=h=>{const{type:d,el:v,anchor:b,transition:x}=h;if(d===at){$a(v,b);return}if(d===vn){H(h);return}const _=()=>{n(v),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(h.shapeFlag&1&&x&&!x.persisted){const{leave:L,delayLeave:M}=x,A=()=>L(v,_);M?M(h.el,_,A):A()}else _()},$a=(h,d)=>{let v;for(;h!==d;)v=p(h),n(h),h=v;n(d)},Ua=(h,d,v)=>{const{bum:b,scope:x,update:_,subTree:L,um:M}=h;b&&Ti(b),x.stop(),_&&(_.active=!1,Vt(L,h,d,v)),M&&qe(M,d),qe(()=>{h.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},kt=(h,d,v,b=!1,x=!1,_=0)=>{for(let L=_;L<h.length;L++)Vt(h[L],d,v,b,x)},mi=h=>h.shapeFlag&6?mi(h.component.subTree):h.shapeFlag&128?h.suspense.next():p(h.anchor||h.el);let ln=!1;const So=(h,d,v)=>{h==null?d._vnode&&Vt(d._vnode,null,null,!0):E(d._vnode||null,h,d,null,null,null,v),ln||(ln=!0,Io(),Kr(),ln=!1),d._vnode=h},js={p:E,um:Vt,m:ls,r:_o,mt:N,mc:j,pc:ge,pbc:fe,n:mi,o:e};let Vo,To;return{render:So,hydrate:Vo,createApp:yc(So,Vo)}}function pn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function fs({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function Ac(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ma(e,t,s=!1){const i=e.children,n=t.children;if(q(i)&&q(n))for(let o=0;o<i.length;o++){const r=i[o];let a=n[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[o]=Xt(n[o]),a.el=r.el),s||ma(r,a)),a.type===tn&&(a.el=r.el)}}function Cc(e){const t=e.slice(),s=[0];let i,n,o,r,a;const l=e.length;for(i=0;i<l;i++){const f=e[i];if(f!==0){if(n=s[s.length-1],e[n]<f){t[i]=n,s.push(i);continue}for(o=0,r=s.length-1;o<r;)a=o+r>>1,e[s[a]]<f?o=a+1:r=a;f<e[s[o]]&&(o>0&&(t[i]=s[o-1]),s[o]=i)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}function pa(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:pa(t)}const Pc=e=>e.__isTeleport,at=Symbol.for("v-fgt"),tn=Symbol.for("v-txt"),ct=Symbol.for("v-cmt"),vn=Symbol.for("v-stc"),Qs=[];let St=null;function Ot(e=!1){Qs.push(St=e?null:[])}function Lc(){Qs.pop(),St=Qs[Qs.length-1]||null}let ri=1;function Jo(e){ri+=e}function va(e){return e.dynamicChildren=ri>0?St||Ls:null,Lc(),ri>0&&St&&St.push(e),e}function Qt(e,t,s,i,n,o){return va(ne(e,t,s,i,n,o,!0))}function ya(e,t,s,i,n){return va(Ie(e,t,s,i,n,!0))}function kn(e){return e?e.__v_isVNode===!0:!1}function gs(e,t){return e.type===t.type&&e.key===t.key}const ba=({key:e})=>e??null,Li=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Pe(e)||Ne(e)||Q(e)?{i:Ye,r:e,k:t,f:!!s}:e:null);function ne(e,t=null,s=null,i=0,n=null,o=e===at?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ba(t),ref:t&&Li(t),scopeId:Ji,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ye};return a?(yo(l,s),o&128&&e.normalize(l)):s&&(l.shapeFlag|=Pe(s)?8:16),ri>0&&!r&&St&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&St.push(l),l}const Ie=Ec;function Ec(e,t=null,s=null,i=0,n=null,o=!1){if((!e||e===Ul)&&(e=ct),kn(e)){const a=os(e,t,!0);return s&&yo(a,s),ri>0&&!o&&St&&(a.shapeFlag&6?St[St.indexOf(e)]=a:St.push(a)),a.patchFlag|=-2,a}if($c(e)&&(e=e.__vccOpts),t){t=Dc(t);let{class:a,style:l}=t;a&&!Pe(a)&&(t.class=so(a)),Me(l)&&(zr(l)&&!q(l)&&(l=Ce({},l)),t.style=Ke(l))}const r=Pe(e)?1:Hl(e)?128:Pc(e)?64:Me(e)?4:Q(e)?2:0;return ne(e,t,s,i,n,r,o,!0)}function Dc(e){return e?zr(e)||ca(e)?Ce({},e):e:null}function os(e,t,s=!1,i=!1){const{props:n,ref:o,patchFlag:r,children:a,transition:l}=e,f=t?Wc(n||{},t):n,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&ba(f),ref:t&&t.ref?s&&o?q(o)?o.concat(Li(t)):[o,Li(t)]:Li(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==at?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&os(e.ssContent),ssFallback:e.ssFallback&&os(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&(u.transition=l.clone(u)),u}function Oc(e=" ",t=0){return Ie(tn,null,e,t)}function xa(e="",t=!1){return t?(Ot(),ya(ct,null,e)):Ie(ct,null,e)}function Et(e){return e==null||typeof e=="boolean"?Ie(ct):q(e)?Ie(at,null,e.slice()):typeof e=="object"?Xt(e):Ie(tn,null,String(e))}function Xt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:os(e)}function yo(e,t){let s=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(q(t))s=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),yo(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!ca(t)?t._ctx=Ye:n===3&&Ye&&(Ye.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Q(t)?(t={default:t,_ctx:Ye},s=32):(t=String(t),i&64?(s=16,t=[Oc(t)]):s=8);e.children=t,e.shapeFlag|=s}function Wc(...e){const t={};for(let s=0;s<e.length;s++){const i=e[s];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=so([t.class,i.class]));else if(n==="style")t.style=Ke([t.style,i.style]);else if(Ui(n)){const o=t[n],r=i[n];r&&o!==r&&!(q(o)&&o.includes(r))&&(t[n]=o?[].concat(o,r):r)}else n!==""&&(t[n]=i[n])}return t}function At(e,t,s,i=null){ut(e,t,7,[s,i])}const Fc=ra();let kc=0;function Rc(e,t,s){const i=e.type,n=(t?t.appContext:e.appContext)||Fc,o={uid:kc++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new ol(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ua(i,n),emitsOptions:Yr(i,n),emit:null,emitted:null,propsDefaults:we,inheritAttrs:i.inheritAttrs,ctx:we,data:we,props:we,attrs:we,slots:we,refs:we,setupState:we,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Nl.bind(null,o),e.ce&&e.ce(o),o}let $e=null;const Ic=()=>$e||Ye;let Ni,Rn;{const e=Vr(),t=(s,i)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(i),o=>{n.length>1?n.forEach(r=>r(o)):n[0](o)}};Ni=t("__VUE_INSTANCE_SETTERS__",s=>$e=s),Rn=t("__VUE_SSR_SETTERS__",s=>sn=s)}const gi=e=>{const t=$e;return Ni(e),e.scope.on(),()=>{e.scope.off(),Ni(t)}},Xo=()=>{$e&&$e.scope.off(),Ni(null)};function wa(e){return e.vnode.shapeFlag&4}let sn=!1;function Nc(e,t=!1){t&&Rn(t);const{props:s,children:i}=e.vnode,n=wa(e);xc(e,s,n,t),_c(e,i);const o=n?zc(e,t):void 0;return t&&Rn(!1),o}function zc(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,uc);const{setup:i}=s;if(i){const n=e.setupContext=i.length>1?jc(e):null,o=gi(e);rs();const r=is(i,e,0,[e.props,n]);if(as(),o(),xr(r)){if(r.then(Xo,Xo),t)return r.then(a=>{Zo(e,a,t)}).catch(a=>{qi(a,e,0)});e.asyncDep=r}else Zo(e,r,t)}else Ma(e,t)}function Zo(e,t,s){Q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Me(t)&&(e.setupState=Ur(t)),Ma(e,s)}let Qo;function Ma(e,t,s){const i=e.type;if(!e.render){if(!t&&Qo&&!i.render){const n=i.template||po(e).template;if(n){const{isCustomElement:o,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,f=Ce(Ce({isCustomElement:o,delimiters:a},r),l);i.render=Qo(n,f)}}e.render=i.render||lt}{const n=gi(e);rs();try{hc(e)}finally{as(),n()}}}const Bc={get(e,t){return Ze(e,"get",""),e[t]}};function jc(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Bc),slots:e.slots,emit:e.emit,expose:t}}function nn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ur(Cl(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Xs)return Xs[s](e)},has(t,s){return s in t||s in Xs}}))}function $c(e){return Q(e)&&"__vccOpts"in e}const te=(e,t)=>Pl(e,t,sn);function Uc(e,t,s){const i=arguments.length;return i===2?Me(t)&&!q(t)?kn(t)?Ie(e,null,[t]):Ie(e,t):Ie(e,null,t):(i>3?s=Array.prototype.slice.call(arguments,2):i===3&&kn(s)&&(s=[s]),Ie(e,t,s))}const Hc="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Gc="http://www.w3.org/2000/svg",Kc="http://www.w3.org/1998/Math/MathML",Zt=typeof document<"u"?document:null,er=Zt&&Zt.createElement("template"),qc={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,i)=>{const n=t==="svg"?Zt.createElementNS(Gc,e):t==="mathml"?Zt.createElementNS(Kc,e):Zt.createElement(e,s?{is:s}:void 0);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Zt.createTextNode(e),createComment:e=>Zt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Zt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,i,n,o){const r=s?s.previousSibling:t.lastChild;if(n&&(n===o||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===o||!(n=n.nextSibling)););else{er.innerHTML=i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e;const a=er.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},jt="transition",Us="animation",ai=Symbol("_vtc"),bo=(e,{slots:t})=>Uc(Ql,Yc(e),t);bo.displayName="Transition";const _a={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};bo.props=Ce({},ea,_a);const us=(e,t=[])=>{q(e)?e.forEach(s=>s(...t)):e&&e(...t)},tr=e=>e?q(e)?e.some(t=>t.length>1):e.length>1:!1;function Yc(e){const t={};for(const R in e)R in _a||(t[R]=e[R]);if(e.css===!1)return t;const{name:s="v",type:i,duration:n,enterFromClass:o=`${s}-enter-from`,enterActiveClass:r=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=o,appearActiveClass:f=r,appearToClass:u=a,leaveFromClass:g=`${s}-leave-from`,leaveActiveClass:p=`${s}-leave-active`,leaveToClass:y=`${s}-leave-to`}=e,T=Jc(n),E=T&&T[0],k=T&&T[1],{onBeforeEnter:S,onEnter:V,onEnterCancelled:z,onLeave:H,onLeaveCancelled:ee,onBeforeAppear:Y=S,onAppear:de=V,onAppearCancelled:j=z}=t,ce=(R,ye,N)=>{hs(R,ye?u:a),hs(R,ye?f:r),N&&N()},fe=(R,ye)=>{R._isLeaving=!1,hs(R,g),hs(R,y),hs(R,p),ye&&ye()},Te=R=>(ye,N)=>{const G=R?de:V,W=()=>ce(ye,R,N);us(G,[ye,W]),sr(()=>{hs(ye,R?l:o),$t(ye,R?u:a),tr(G)||ir(ye,i,E,W)})};return Ce(t,{onBeforeEnter(R){us(S,[R]),$t(R,o),$t(R,r)},onBeforeAppear(R){us(Y,[R]),$t(R,l),$t(R,f)},onEnter:Te(!1),onAppear:Te(!0),onLeave(R,ye){R._isLeaving=!0;const N=()=>fe(R,ye);$t(R,g),$t(R,p),Qc(),sr(()=>{R._isLeaving&&(hs(R,g),$t(R,y),tr(H)||ir(R,i,k,N))}),us(H,[R,N])},onEnterCancelled(R){ce(R,!1),us(z,[R])},onAppearCancelled(R){ce(R,!0),us(j,[R])},onLeaveCancelled(R){fe(R),us(ee,[R])}})}function Jc(e){if(e==null)return null;if(Me(e))return[yn(e.enter),yn(e.leave)];{const t=yn(e);return[t,t]}}function yn(e){return Za(e)}function $t(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[ai]||(e[ai]=new Set)).add(t)}function hs(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const s=e[ai];s&&(s.delete(t),s.size||(e[ai]=void 0))}function sr(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Xc=0;function ir(e,t,s,i){const n=e._endId=++Xc,o=()=>{n===e._endId&&i()};if(s)return setTimeout(o,s);const{type:r,timeout:a,propCount:l}=Zc(e,t);if(!r)return i();const f=r+"end";let u=0;const g=()=>{e.removeEventListener(f,p),o()},p=y=>{y.target===e&&++u>=l&&g()};setTimeout(()=>{u<l&&g()},a+1),e.addEventListener(f,p)}function Zc(e,t){const s=window.getComputedStyle(e),i=T=>(s[T]||"").split(", "),n=i(`${jt}Delay`),o=i(`${jt}Duration`),r=nr(n,o),a=i(`${Us}Delay`),l=i(`${Us}Duration`),f=nr(a,l);let u=null,g=0,p=0;t===jt?r>0&&(u=jt,g=r,p=o.length):t===Us?f>0&&(u=Us,g=f,p=l.length):(g=Math.max(r,f),u=g>0?r>f?jt:Us:null,p=u?u===jt?o.length:l.length:0);const y=u===jt&&/\b(transform|all)(,|$)/.test(i(`${jt}Property`).toString());return{type:u,timeout:g,propCount:p,hasTransform:y}}function nr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,i)=>or(s)+or(e[i])))}function or(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Qc(){return document.body.offsetHeight}function ef(e,t,s){const i=e[ai];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const zi=Symbol("_vod"),Sa=Symbol("_vsh"),tf={beforeMount(e,{value:t},{transition:s}){e[zi]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Hs(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:i}){!t!=!s&&(i?t?(i.beforeEnter(e),Hs(e,!0),i.enter(e)):i.leave(e,()=>{Hs(e,!1)}):Hs(e,t))},beforeUnmount(e,{value:t}){Hs(e,t)}};function Hs(e,t){e.style.display=t?e[zi]:"none",e[Sa]=!t}const sf=Symbol(""),nf=/(^|;)\s*display\s*:/;function of(e,t,s){const i=e.style,n=Pe(s);let o=!1;if(s&&!n){if(t)if(Pe(t))for(const r of t.split(";")){const a=r.slice(0,r.indexOf(":")).trim();s[a]==null&&Ei(i,a,"")}else for(const r in t)s[r]==null&&Ei(i,r,"");for(const r in s)r==="display"&&(o=!0),Ei(i,r,s[r])}else if(n){if(t!==s){const r=i[sf];r&&(s+=";"+r),i.cssText=s,o=nf.test(s)}}else t&&e.removeAttribute("style");zi in e&&(e[zi]=o?i.display:"",e[Sa]&&(i.display="none"))}const rr=/\s*!important$/;function Ei(e,t,s){if(q(s))s.forEach(i=>Ei(e,t,i));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const i=rf(e,t);rr.test(s)?e.setProperty(zs(i),s.replace(rr,""),"important"):e[i]=s}}const ar=["Webkit","Moz","ms"],bn={};function rf(e,t){const s=bn[t];if(s)return s;let i=Ns(t);if(i!=="filter"&&i in e)return bn[t]=i;i=_r(i);for(let n=0;n<ar.length;n++){const o=ar[n]+i;if(o in e)return bn[t]=o}return t}const lr="http://www.w3.org/1999/xlink";function af(e,t,s,i,n){if(i&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(lr,t.slice(6,t.length)):e.setAttributeNS(lr,t,s);else{const o=nl(t);s==null||o&&!Tr(s)?e.removeAttribute(t):e.setAttribute(t,o?"":s)}}function lf(e,t,s,i,n,o,r){if(t==="innerHTML"||t==="textContent"){i&&r(i,n,o),e[t]=s??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const f=a==="OPTION"?e.getAttribute("value")||"":e.value,u=s??"";(f!==u||!("_value"in e))&&(e.value=u),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const f=typeof e[t];f==="boolean"?s=Tr(s):s==null&&f==="string"?(s="",l=!0):f==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(t)}function As(e,t,s,i){e.addEventListener(t,s,i)}function cf(e,t,s,i){e.removeEventListener(t,s,i)}const cr=Symbol("_vei");function ff(e,t,s,i,n=null){const o=e[cr]||(e[cr]={}),r=o[t];if(i&&r)r.value=i;else{const[a,l]=uf(t);if(i){const f=o[t]=gf(i,n);As(e,a,f,l)}else r&&(cf(e,a,r,l),o[t]=void 0)}}const fr=/(?:Once|Passive|Capture)$/;function uf(e){let t;if(fr.test(e)){t={};let i;for(;i=e.match(fr);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):zs(e.slice(2)),t]}let xn=0;const hf=Promise.resolve(),df=()=>xn||(hf.then(()=>xn=0),xn=Date.now());function gf(e,t){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;ut(mf(i,s.value),t,5,[i])};return s.value=e,s.attached=df(),s}function mf(e,t){if(q(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const ur=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,pf=(e,t,s,i,n,o,r,a,l)=>{const f=n==="svg";t==="class"?ef(e,i,f):t==="style"?of(e,s,i):Ui(t)?Qn(t)||ff(e,t,s,i,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):vf(e,t,i,f))?lf(e,t,i,o,r,a,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),af(e,t,i,f))};function vf(e,t,s,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&ur(t)&&Q(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return ur(t)&&Pe(s)?!1:t in e}const hr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return q(t)?s=>Ti(t,s):t};function yf(e){e.target.composing=!0}function dr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const wn=Symbol("_assign"),bf={created(e,{modifiers:{lazy:t,trim:s,number:i}},n){e[wn]=hr(n);const o=i||n.props&&n.props.type==="number";As(e,t?"change":"input",r=>{if(r.target.composing)return;let a=e.value;s&&(a=a.trim()),o&&(a=_n(a)),e[wn](a)}),s&&As(e,"change",()=>{e.value=e.value.trim()}),t||(As(e,"compositionstart",yf),As(e,"compositionend",dr),As(e,"change",dr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:i,number:n}},o){if(e[wn]=hr(o),e.composing)return;const r=(n||e.type==="number")&&!/^0\d/.test(e.value)?_n(e.value):e.value,a=t??"";r!==a&&(document.activeElement===e&&e.type!=="range"&&(s||i&&e.value.trim()===a)||(e.value=a))}},xf=["ctrl","shift","alt","meta"],wf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>xf.some(s=>e[`${s}Key`]&&!t.includes(s))},gr=(e,t)=>{const s=e._withMods||(e._withMods={}),i=t.join(".");return s[i]||(s[i]=(n,...o)=>{for(let r=0;r<t.length;r++){const a=wf[t[r]];if(a&&a(n,t))return}return e(n,...o)})},Mf=Ce({patchProp:pf},qc);let mr;function _f(){return mr||(mr=Vc(Mf))}const Sf=(...e)=>{const t=_f().createApp(...e),{mount:s}=t;return t.mount=i=>{const n=Tf(i);if(!n)return;const o=t._component;!Q(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.innerHTML="";const r=s(n,!1,Vf(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),r},t};function Vf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Tf(e){return Pe(e)?document.querySelector(e):e}const Va=4,Af=5,In=30,I="GND",ve="VDD",ue=0,oe=5,Cf=5e-7,Pf=100,Si=1.5;var Lf=Object.defineProperty,Ef=(e,t,s)=>t in e?Lf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,ei=(e,t,s)=>(Ef(e,typeof t!="symbol"?t+"":t,s),s);class Be{constructor(t,s,i){ei(this,"_rows"),ei(this,"_columns"),ei(this,"_values"),this._rows=Math.max(t,1),this._columns=Math.max(s,1),this._values=new Array(this._rows).fill([]).map(()=>new Array(this._columns).fill(0)),i&&(this.values=i)}get rows(){return this._rows}get columns(){return this._columns}get values(){return this._values}set values(t){const s=Math.min(t.length,this.rows),i=Math.min(t[0].length,this.columns);for(let n=0;n<s;n++)for(let o=0;o<i;o++)this.values[n][o]=t[n][o]}at(t,s){return this.values[t][s]}reset(){this.values=this.values.map(t=>t.map(()=>0))}addAColumn(){return new Be(this.rows,this.columns+1,this.values)}addARow(){return new Be(this.rows+1,this.columns,this.values)}equals(t){return this.rows===t.rows&&this.columns===t.columns&&this.values.reduce((s,i,n)=>s&&i.reduce((o,r,a)=>o&&t.at(n,a)===r,s),!0)}setAsIdentity(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");return this.values.forEach((t,s)=>{t.forEach((i,n)=>{this.values[s][n]=s===n?1:0})}),this}static identity(t){if(t<1)throw Error("Dimension error! Matrix dimension must be positive.");return new Be(t,t).setAsIdentity()}multiply(t){if(this.columns!==t.rows)throw new Error("Dimension error! The operand matrix must have the same number of rows as 'this' matrix columns!");const s=new Be(this.rows,t.columns);return s.values=s.values.map((i,n)=>i.map((o,r)=>this.values[n].reduce((a,l,f)=>a+l*t.at(f,r),0))),s}indexOf(t){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)if(this.values[s][i]===t)return[s,i];return[-1,-1]}max(){return this.values.reduce((t,s)=>Math.max(t,...s),-1/0)}min(){return this.values.reduce((t,s)=>Math.min(t,...s),1/0)}round(){return new Be(this.rows,this.columns,this.values.map(t=>t.map(s=>Math.round(s))))}determinant(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");if(this.rows===this.columns&&this.columns===1)return this.values[0][0];let t=0,s=1;if(this.rows===2)t=this.values[0][0]*this.values[1][1]-this.values[1][0]*this.values[0][1];else for(let i=0;i<this.rows;i++){const n=this.getCofactor(0,i);t+=s*this.at(0,i)*n.determinant(),s=-s}return t}getCofactor(t,s){return new Be(this.rows-1,this.columns-1,this.values.filter((i,n)=>n!==t).map(i=>i.filter((n,o)=>o!==s)))}transpose(){return new Be(this.columns,this.rows,new Array(this.columns).fill([]).map((t,s)=>new Array(this.rows).fill(0).map((i,n)=>this.at(n,s))))}inverse(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");const t=this.determinant();if(t===0)throw new Error("Determinant is 0, can't compute inverse.");const s=new Be(this.rows,this.columns,this.values.map((i,n)=>i.map((o,r)=>Math.pow(-1,n+r)*this.getCofactor(n,r).determinant()))).transpose();return new Be(this.rows,this.columns,this.values.map((i,n)=>i.map((o,r)=>s.at(n,r)/t)))}toString(){return`[${this.values.map(t=>`[${t.join(", ")}]`).join(`,
`)}]`}}const Df=1e-5,gt=class{constructor(e){ei(this,"values",new Float32Array(4)),e!==void 0&&(this.xyzw=e)}get x(){return this.values[0]}set x(e){this.values[0]=e}get y(){return this.values[1]}set y(e){this.values[1]=e}get z(){return this.values[2]}set z(e){this.values[2]=e}get w(){return this.values[3]}set w(e){this.values[3]=e}get xy(){return[this.values[0],this.values[1]]}set xy(e){this.values[0]=e[0],this.values[1]=e[1]}get xyz(){return[this.values[0],this.values[1],this.values[2]]}set xyz(e){this.values[0]=e[0],this.values[1]=e[1],this.values[2]=e[2]}get xyzw(){return[this.values[0],this.values[1],this.values[2],this.values[3]]}set xyzw(e){this.values[0]=e[0],this.values[1]=e[1],this.values[2]=e[2],this.values[3]=e[3]}at(e){return this.values[e]}reset(){for(let e=0;e<4;e++)this.values[e]=0}copy(e){e||(e=new gt);for(let t=0;t<4;t++)e.values[t]=this.values[t];return e}roll(){const e=this.x,t=this.y,s=this.z,i=this.w;return Math.atan2(2*(e*t+i*s),i*i+e*e-t*t-s*s)}pitch(){const e=this.x,t=this.y,s=this.z,i=this.w;return Math.atan2(2*(t*s+i*e),i*i-e*e-t*t+s*s)}yaw(){return Math.asin(2*(this.x*this.z-this.w*this.y))}equals(e,t=Df){for(let s=0;s<4;s++)if(Math.abs(this.values[s]-e.at(s))>t)return!1;return!0}setIdentity(){return this.x=0,this.y=0,this.z=0,this.w=1,this}calculateW(){const e=this.x,t=this.y,s=this.z;return this.w=-Math.sqrt(Math.abs(1-e*e-t*t-s*s)),this}inverse(){const e=gt.dot(this,this);if(!e)return this.xyzw=[0,0,0,0],this;const t=e?1/e:0;return this.x*=-t,this.y*=-t,this.z*=-t,this.w*=t,this}conjugate(){return this.values[0]*=-1,this.values[1]*=-1,this.values[2]*=-1,this}length(){const e=this.x,t=this.y,s=this.z,i=this.w;return Math.sqrt(e*e+t*t+s*s+i*i)}normalize(e){e||(e=this);const t=this.x,s=this.y,i=this.z,n=this.w;let o=Math.sqrt(t*t+s*s+i*i+n*n);return o?(o=1/o,e.x=t*o,e.y=s*o,e.z=i*o,e.w=n*o,e):(e.x=0,e.y=0,e.z=0,e.w=0,e)}add(e){for(let t=0;t<4;t++)this.values[t]+=e.at(t);return this}multiply(e){const t=this.values[0],s=this.values[1],i=this.values[2],n=this.values[3],o=e.x,r=e.y,a=e.z,l=e.w;return this.x=t*l+n*o+s*a-i*r,this.y=s*l+n*r+i*o-t*a,this.z=i*l+n*a+t*r-s*o,this.w=n*l-t*o-s*r-i*a,this}static dot(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w}static sum(e,t){const s=new gt;return s.x=e.x+t.x,s.y=e.y+t.y,s.z=e.z+t.z,s.w=e.w+t.w,s}static product(e,t){const s=new gt,i=e.x,n=e.y,o=e.z,r=e.w,a=t.x,l=t.y,f=t.z,u=t.w;return s.x=i*u+r*a+n*f-o*l,s.y=n*u+r*l+o*a-i*f,s.z=o*u+r*f+i*l-n*a,s.w=r*u-i*a-n*l-o*f,s}static cross(e,t){const s=new gt,i=e.x,n=e.y,o=e.z,r=e.w,a=t.x,l=t.y,f=t.z,u=t.w;return s.x=r*f+o*u+i*l-n*a,s.y=r*u-i*a-n*l-o*f,s.z=r*a+i*u+n*f-o*l,s.w=r*l+n*u+o*a-i*f,s}static shortMix(e,t,s){const i=new gt;if(s<=0)return i.xyzw=e.xyzw,i;if(s>=1)return i.xyzw=t.xyzw,i;let n=gt.dot(e,t);const o=t.copy();n<0&&(o.inverse(),n=-n);let r,a;if(n>.9999)r=1-s,a=0+s;else{const l=Math.sqrt(1-n*n),f=Math.atan2(l,n),u=1/l;r=Math.sin((1-s)*f)*u,a=Math.sin((0+s)*f)*u}return i.x=r*e.x+a*o.x,i.y=r*e.y+a*o.y,i.z=r*e.z+a*o.z,i.w=r*e.w+a*o.w,i}static mix(e,t,s){const i=new gt,n=e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w;if(Math.abs(n)>=1)return i.xyzw=e.xyzw,i;const o=Math.acos(n),r=Math.sqrt(1-n*n);if(Math.abs(r)<.001)return i.x=e.x*.5+t.x*.5,i.y=e.y*.5+t.y*.5,i.z=e.z*.5+t.z*.5,i.w=e.w*.5+t.w*.5,i;const a=Math.sin((1-s)*o)/r,l=Math.sin(s*o)/r;return i.x=e.x*a+t.x*l,i.y=e.y*a+t.y*l,i.z=e.z*a+t.z*l,i.w=e.w*a+t.w*l,i}static fromAxisAngle(e,t){if(e.rows!==3)throw new Error("The axis vector must be in 3D!");const s=new gt;t*=.5;const i=Math.sin(t);return s.x=e.at(0)*i,s.y=e.at(1)*i,s.z=e.at(2)*i,s.w=Math.cos(t),s}};let Of=gt;ei(Of,"identity",new gt().setIdentity());class ae{constructor(){m(this,"matrix");this.matrix=new Be(3,3,[[1,0,0],[0,1,0],[0,0,1]])}get scaleX(){return Math.sqrt(this.matrix.at(0,0)**2+this.matrix.at(1,0)**2)}get scaleY(){return Math.sqrt(this.matrix.at(0,1)**2+this.matrix.at(1,1)**2)}get relativeScale(){return Math.sqrt(Math.abs(this.matrix.determinant()))}get rotation(){return Math.atan2(-1*this.matrix.at(0,1),this.matrix.at(0,0))}get isMirrored(){return this.matrix.determinant()<0}get translation(){return{x:this.matrix.at(0,2),y:this.matrix.at(1,2)}}set scaleX(t){this.scale(1/this.scaleX,1,!0),this.scale(t,1,!0)}set scaleY(t){this.scale(1,1/this.scaleY,!0),this.scale(1,t,!0)}set relativeScale(t){this.scale(1/this.relativeScale,1/this.relativeScale,!0),this.scale(t,t,!0)}set rotation(t){this.rotate(-this.rotation,!0),this.rotate(t,!0)}set isMirrored(t){this.isMirrored!=t&&this.mirror(!0,!1,!0)}set translation(t){this.translate({x:-this.translation.x,y:-this.translation.y},!0),this.translate(t,!0)}rotate(t,s=!1){const i=new ae;return Object.assign(i,this),i.matrix=this.matrix.multiply(new Be(3,3,[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]])),s&&Object.assign(this,i),i}translate(t,s=!1){const i=new ae;return Object.assign(i,this),i.matrix=this.matrix.multiply(new Be(3,3,[[1,0,t.x],[0,1,t.y],[0,0,1]])),s&&Object.assign(this,i),i}mirror(t,s=!1,i=!1){const n=new ae;Object.assign(n,this);const o=t?-1:1,r=s?-1:1;return n.matrix=this.matrix.multiply(new Be(3,3,[[o,0,0],[0,r,0],[0,0,1]])),i&&Object.assign(this,n),n}scale(t,s=t,i=!1){const n=new ae;return Object.assign(n,this),n.matrix=this.matrix.multiply(new Be(3,3,[[t,0,0],[0,s,0],[0,0,1]])),i&&Object.assign(this,n),n}inverse(t=!1){const s=new ae;return Object.assign(s,this),s.matrix=s.matrix.inverse(),t&&Object.assign(this,s),s}multiply(t,s=!1){const i=new ae;return Object.assign(i,this),i.matrix=i.matrix.multiply(t.matrix),s&&Object.assign(this,i),i}transformCanvas(t,s=!0){s?t.setTransform(this.matrix.at(0,0),this.matrix.at(1,0),this.matrix.at(0,1),this.matrix.at(1,1),this.matrix.at(0,2),this.matrix.at(1,2)):t.transform(this.matrix.at(0,0),this.matrix.at(1,0),this.matrix.at(0,1),this.matrix.at(1,1),this.matrix.at(0,2),this.matrix.at(1,2))}transformPoint(t){const s=this.matrix.multiply(new Be(3,1,[[t.x],[t.y],[1]]));return{x:s.at(0,0),y:s.at(1,0)}}transformLine(t){return{start:this.transformPoint(t.start),end:this.transformPoint(t.end)}}transformPath(t){return t.map(s=>this.transformLine(s))}}const Ta=(e,t,[s,...i])=>s===void 0?t:Ta(e,e(s,t),i),nt=e=>e*Math.PI/180,Nn=(e,t)=>(e%t+t)%t,De=(e,t,s)=>{const i=Math.max(e,t),n=Math.min(e,t);return s>i?i:s<n?n:s},mt=class mt{constructor(t=[],s=new ae,i="main"){m(this,"transformations",[]);m(this,"anchorPoints",{});m(this,"_transformationMatrix");m(this,"canvasId");m(this,"key","");t.forEach(n=>{this.transformations.push(n)}),this.transformations.push(P(s)),this._transformationMatrix=te(()=>Ta((n,o)=>o.multiply(n.value),new ae,this.transformations)),mt.allCtxArtists.push(this),this.canvasId=i}get transformationMatrix(){return this._transformationMatrix.value}get localTransformationMatrix(){return this.transformations[this.transformations.length-1].value}getAnchorPoint(t){return this.anchorPoints[t]==null&&console.log("Cannot find anchor point",t,"on CtxArtist"),mt.circuitTransformationMatrix.inverse().multiply(this.transformationMatrix).transformPoint(this.anchorPoints[t])}getAnchorPointWithTransformations(t){return[this.transformations.slice(0,-1),this.getAnchorPoint(t)]}moveTo(t){this.transformations[this.transformations.length-1].value.translation=t}get localLineThickness(){return this.getLocalLineThickness()}fillTextGlobalReferenceFrame(t,s,i,n=!1,o=!1,r=16){if(mt.textTransformationMatrix.transformCanvas(t),n){const l=this.transformationMatrix.transformPoint({x:0,y:0}),f=this.transformationMatrix.transformPoint(s);f.x<l.x==!o?t.textAlign="right":f.x>l.x==!o?t.textAlign="left":t.textAlign="center"}const a=mt.textTransformationMatrix.inverse().transformPoint(this.transformationMatrix.transformPoint(s));return t.fillText(i,a.x,a.y),this.transformationMatrix.transformCanvas(t),this.transformationMatrix.inverse().transformPoint(mt.textTransformationMatrix.transformPoint({x:a.x,y:a.y+r}))}getRelativeScaling(){return mt.textTransformationMatrix.relativeScale/this.transformationMatrix.relativeScale}getLocalLineThickness(t=Af){return t*this.getRelativeScaling()}};m(mt,"textTransformationMatrix",new ae),m(mt,"circuitTransformationMatrix",new ae),m(mt,"allCtxArtists",[]);let ke=mt;const on=e=>Math.sqrt((e.end.x-e.start.x)**2+(e.end.y-e.start.y)**2),Aa=e=>{let t=0;return e.forEach(s=>{t+=on(s)}),t},Ca=(e,t)=>(t=De(0,1,t),{x:e.start.x+(e.end.x-e.start.x)*t,y:e.start.y+(e.end.y-e.start.y)*t}),Je=(e,t)=>{const s=Aa(e),i=t*s;let n=0;for(let o of e){const r=on(o);if(n+=r,n>=i){const a=n-r,f=(i-a)/r;return Ca(o,f)}}return console.log("Error finding point along path"),{x:0,y:0}},Wf=(e,t,s,i=5)=>{const n=s.x-t.x,o=s.y-t.y,r=Math.sqrt(n**2+o**2),a=i/2/r*-o,l=i/2/r*n,f=i/2/r*n,u=i/2/r*o,g={x:t.x+a-f,y:t.y+l-u},p={x:t.x-a-f,y:t.y-l-u},y={x:s.x-a+f,y:s.y-l+u},T={x:s.x+a+f,y:s.y+l+u};e.moveTo(g.x,g.y),e.lineTo(p.x,p.y),e.lineTo(y.x,y.y),e.lineTo(T.x,T.y)},Ff=(e,t,s)=>{const i=t.outerDiameter,n=i-2*s;e.moveTo(t.center.x,t.center.y),e.arc(t.center.x,t.center.y,i/2,0,2*Math.PI,!1),n>0&&e.arc(t.center.x,t.center.y,n/2,0,2*Math.PI,!0)},Pa=(e,t,s,i="rgba(200, 200, 200, 1)")=>{const n=e.createRadialGradient(t.x,t.y,0,t.x,t.y,s);return n.addColorStop(0,i),n.addColorStop(.5,i),n.addColorStop(.99,"rgba(0, 0, 0, 1)"),n.addColorStop(1,"rgba(0, 0, 0, 0)"),n},La=(e,t)=>()=>{e.save(),e.clip(),e.fillStyle=t,e.fill(),e.resetTransform(),e.fillRect(0,0,e.canvas.clientWidth,e.canvas.clientHeight),e.restore(),e.beginPath()},Ea=(e,t="black")=>()=>{e.fillStyle=t,e.fill(),e.beginPath()},Da=(e,t,s=5,i)=>{const n=La(e,i);for(let o=0;o<Va;o++)Oa(e,t,s,n)},Wt=(e,t,s=5,i="black")=>{const n=Ea(e,i);for(let o=0;o<Va;o++)Oa(e,t,s,n)},Oa=(e,t,s=5,i)=>{e.beginPath(),t.forEach(n=>{Wf(e,n.start,n.end,s),i()})},kf=(e,t,s=5,i)=>{const n=La(e,i);Wa(e,t,s,n)},xo=(e,t,s=5,i="black")=>{const n=Ea(e,i);Wa(e,t,s,n)},Wa=(e,t,s=5,i)=>{e.beginPath(),t.forEach(n=>{Ff(e,n,s)}),i()},vs=(e,t,s=3)=>{if(e==0)return"0"+t;const i=e>=0?"":"-",n=Math.abs(e),o={30:"Q",27:"R",24:"Y",21:"Z",18:"E",15:"P",12:"T",9:"G",6:"M",3:"k",0:"","-3":"m","-6":"","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y","-27":"r","-30":"q"},r=Math.floor(Math.log10(n)/3)*3;let a=o[r.toString()];a==null&&(a="e"+r.toString()+" ");const l=parseFloat((n/10**r).toPrecision(s));return i+l+a+t};class Nt extends ke{constructor(s=[],i=[],n=[],o=[],r=[],a=[],l=[]){super(s,new ae);m(this,"gndSymbols");m(this,"vddSymbols");m(this,"parasiticCapacitors");m(this,"mosfets");m(this,"nodes");m(this,"wires");this.gndSymbols=i,this.vddSymbols=n,this.parasiticCapacitors=o,this.mosfets=r,this.nodes=a,this.wires=l}copy(s){return new Nt([s].concat(this.transformations.slice(1)),this.gndSymbols.map(n=>n.copy(s)),this.vddSymbols.map(n=>n.copy(s)),[],this.mosfets,this.nodes,this.wires.map(n=>({node:n.node,lines:n.lines,voltageDisplayLabel:"",voltageDisplayLocations:[]})))}draw(s){this.transformationMatrix.transformCanvas(s),this.gndSymbols.forEach(i=>{i.draw(s)}),this.vddSymbols.forEach(i=>{i.draw(s)}),this.parasiticCapacitors.forEach(i=>{i.draw(s)}),this.transformationMatrix.transformCanvas(s),this.nodes.forEach(i=>{i.value.schematicEffects=[]}),this.mosfets.forEach(i=>{Object.values(i.schematicEffects).forEach(n=>{const o=Nt.flattenSchematicEffect(n);n.node.value.schematicEffects.push(o)})}),this.wires.forEach(i=>{Wt(s,i.lines.map(n=>n.toLine()),this.localLineThickness,"black"),i.node.value.schematicEffects.forEach(n=>{const o=n.origin,r=Pa(s,o,n.gradientSize,n.color);Da(s,i.lines.map(a=>a.toLine()),this.localLineThickness,r)}),i.voltageDisplayLocations.forEach(n=>{s.fillStyle="black",s.font="18px sans-serif",this.fillTextGlobalReferenceFrame(s,n.toPoint(),i.voltageDisplayLabel+" = "+vs(i.node.value.voltage,"V"),!1)})})}static flattenSchematicEffect(s){return{origin:s.origin.toPoint(),color:s.color,gradientSize:s.gradientSize}}}class Fa extends ke{constructor(s=[],i=new ae,n,o,r,a,l,f="visible",u="main"){super(s,i);m(this,"visibility");m(this,"fromNode");m(this,"toNode");m(this,"dragging",!1);m(this,"location",{x:0,y:0});m(this,"minValue");m(this,"maxValue");m(this,"value");m(this,"drivenNode");m(this,"canvasId");m(this,"preciseDragging",!1);m(this,"temporaryMinValue");m(this,"temporaryMaxValue");m(this,"previousValue");m(this,"valueRateOfChange",0);this.visibility=f,this.fromNode=n,this.toNode=o,this.minValue=a,this.maxValue=l,this.value=a,this.temporaryMinValue=a,this.temporaryMaxValue=l,this.previousValue=a,this.drivenNode=r,this.canvasId=u}draw(s){throw new Error("draw is a virtual function on the CtxSlider class. (Received"+s+")")}updateLocationBasedOnValue(){throw new Error("updateLocationBasedOnValue is a virtual function on the CtxSlider class.")}updateValueBasedOnMousePosition(s){throw new Error("updateValueBasedOnMousePosition is a virtual function on the CtxSlider class. (Received"+s+")")}mouseDownIntiatesDrag(s){throw new Error("mouseDownIntiatesDrag is a virtual function on the CtxSlider class. (Received"+s+")")}updateValueBasedOnNodeVoltages(){this.value=De(this.temporaryMinValue,this.temporaryMaxValue,this.toNode.value.voltage-this.fromNode.value.voltage),this.updateLocationBasedOnValue()}updateNodeVoltagesBasedOnValue(){this.dragging&&(this.drivenNode=="toNode"?(this.toNode.value.fixed=!0,this.toNode.value.voltage=this.fromNode.value.voltage+this.value):(this.fromNode.value.fixed=!0,this.fromNode.value.voltage=this.toNode.value.voltage-this.value))}dragSlider(s){if(this.dragging){const i=this.transformationMatrix.inverse().transformPoint(s);this.updateValueBasedOnMousePosition(i),this.value=De(this.temporaryMinValue,this.temporaryMaxValue,this.value);const n=De(0,1,(this.value-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue));n<.05&&this.value<=this.previousValue?this.valueRateOfChange=-.01:n>.95&&this.value>=this.previousValue?this.valueRateOfChange=.01:this.valueRateOfChange=0,this.updateLocationBasedOnValue(),this.updateNodeVoltagesBasedOnValue(),this.previousValue=this.value}}releaseSlider(){this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.maxValue,this.preciseDragging=!1,this.dragging=!1,this.drivenNode=="toNode"?this.toNode.value.fixed=!1:this.fromNode.value.fixed=!1}adjustPreciseSlider(s=10){this.dragging&&this.preciseDragging&&(this.value>=this.maxValue||this.temporaryMaxValue>this.maxValue?(this.value=this.maxValue,this.temporaryMaxValue=this.maxValue,this.temporaryMinValue=this.maxValue-Si,this.valueRateOfChange=0):this.value<=this.minValue||this.temporaryMinValue<this.minValue?(this.value=this.minValue,this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.minValue+Si,this.valueRateOfChange=0):(this.temporaryMinValue+=this.valueRateOfChange*(s/1e3)*70,this.temporaryMaxValue+=this.valueRateOfChange*(s/1e3)*70,this.value+=this.valueRateOfChange*(s/1e3)*70))}checkDrag(s,i){if(this.visibility!="visible")return;const n=this.transformationMatrix.inverse().transformPoint(s);if(this.mouseDownIntiatesDrag(n)&&(this.dragging=!0),this.dragging)if(i){this.preciseDragging=!0;const o=(this.value-this.minValue)/(this.maxValue-this.minValue);this.temporaryMinValue=this.value-Si*o,this.temporaryMaxValue=this.value+Si*(1-o)}else this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.maxValue}}class Cs extends Fa{constructor(s=[],i,n,o,r,a,l,f,u,g,p,y,T,E,k="main"){super(s,new ae().translate({x:r,y:a}).rotate(f).mirror(!1,g),i,n,o,p,y,E,k);m(this,"radius");m(this,"originalRadius");m(this,"endAngle");m(this,"displayText");this.radius=l,this.originalRadius=l,this.endAngle=u,this.displayText=T}draw(s){if(this.visibility=="hidden")return;this.transformationMatrix.transformCanvas(s),this.dragging&&this.preciseDragging?this.radius=this.originalRadius+10:this.radius=this.originalRadius,s.strokeStyle=this.visibility=="visible"?"orange":"lightgrey",s.lineWidth=this.localLineThickness,s.beginPath(),s.arc(0,0,this.radius,0,this.endAngle,!1);const i=this.endAngle,n=0,o=7;s.moveTo((this.radius+o)*Math.cos(n),(this.radius+o)*Math.sin(n)),s.lineTo((this.radius-o)*Math.cos(n),(this.radius-o)*Math.sin(n));const r=7,a=nt(-5);if(s.moveTo((this.radius+r)*Math.cos(i+a),(this.radius+r)*Math.sin(i+a)),s.lineTo(this.radius*Math.cos(i),this.radius*Math.sin(i)),s.lineTo((this.radius-r)*Math.cos(i+a),(this.radius-r)*Math.sin(i+a)),s.stroke(),this.dragging&&this.preciseDragging){const u=(p,y=!0)=>{const T=this.radius+(y?15:8);s.beginPath(),s.moveTo(this.radius*Math.cos(p),this.radius*Math.sin(p)),s.lineTo(T*Math.cos(p),T*Math.sin(p)),s.stroke()};let g=Math.ceil(this.temporaryMinValue);for(;g<this.temporaryMaxValue;){const p=(g-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue);u(this.endAngle*p,!0),g+=1}for(g=Math.ceil(this.temporaryMinValue+.5)-.5;g<this.temporaryMaxValue;){const p=(g-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue);u(this.endAngle*p,!1),g+=1}}s.beginPath(),s.arc(this.location.x,this.location.y,5,0,Math.PI*2),s.fillStyle=this.visibility=="visible"?"rgb(255, 0, 0)":"lightgrey",s.fill(),s.fillStyle=this.visibility=="visible"?"#000":"lightgrey";const l={x:this.location.x*(this.radius+15)/this.radius,y:this.location.y*(this.radius+15)/this.radius};s.font="18px Arial";const f=this.fillTextGlobalReferenceFrame(s,l,this.displayText,!0,!1,18);s.font="16px Arial",this.fillTextGlobalReferenceFrame(s,f,vs(this.value,"V",3),!0)}updateLocationBasedOnValue(){const i=(this.value-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue)*this.endAngle;this.location={x:this.radius*Math.cos(i),y:this.radius*Math.sin(i)}}updateValueBasedOnMousePosition(s){const i=Math.atan2(s.y,s.x),n=De(0,1,i/this.endAngle);this.value=n*(this.temporaryMaxValue-this.temporaryMinValue)+this.temporaryMinValue,this.updateLocationBasedOnValue()}mouseDownIntiatesDrag(s){const i=s.x**2+s.y**2,n=(s.x-this.location.x)**2+(s.y-this.location.y)**2,r=Math.atan2(s.y,s.x)/this.endAngle;return n<=10**2||(this.radius-20)**2<i&&i<(this.radius+20)**2&&0<r&&r<1}}const ji=class ji extends ke{constructor(s=[],i=te(()=>({x:0,y:0})),n={}){super(s,new ae);m(this,"currentLocation",{x:0,y:0});m(this,"desiredLocation");this.desiredLocation=i,this.anchorPoints=n,ji.allTectonicPlates.push(this)}moveTowardDesiredLocation(){this.moveTowardLocation(this.desiredLocation.value)}moveTowardLocation(s){const n={start:this.currentLocation,end:s};let o={x:0,y:0};on(ke.textTransformationMatrix.transformLine(n))<.1?o=s:o=Ca(n,.1),this.moveTo(o),this.currentLocation=o}};m(ji,"allTectonicPlates",[]);let se=ji;class K extends ke{constructor(s=[],i={x:0,y:0}){super(s,new ae);m(this,"point");this.point=i}toPoint(){return this.transformations[0].value.inverse().multiply(this.transformationMatrix).transformPoint(this.point)}}class C{constructor(t,s,i,n){m(this,"start");m(this,"end");this.start=new K(t,s),this.end=new K(i,n)}toLine(){return{start:this.start.toPoint(),end:this.end.toPoint()}}}class ka extends ke{constructor(s=[],i=new ae,n="main"){super(s,i,n);m(this,"isDuplicate",!1);m(this,"mouseDownInsideSelectionArea",!1);m(this,"selected",P(!1));m(this,"selectedFocus",P(!1));m(this,"boundingBox");this.boundingBox=[new K(this.transformations,{x:-120,y:0}),new K(this.transformations,{x:120,y:0}),new K(this.transformations,{x:0,y:-120}),new K(this.transformations,{x:0,y:120})]}checkSelectionArea(s){const i=this.transformationMatrix.inverse().transformPoint(s);return on({start:{x:0,y:0},end:i})<60}drawSelectedHalo(s){if(this.selectedFocus.value&&!this.isDuplicate){const i=s.createRadialGradient(0,0,0,0,0,100);i.addColorStop(0,"rgba(0, 0, 255, 0)"),i.addColorStop(.5,"rgba(0, 0, 255, 0)"),i.addColorStop(.8,"rgba(0, 0, 255, 0.2)"),i.addColorStop(1,"rgba(0, 0, 255, 0)"),s.fillStyle=i,s.arc(0,0,200,0,2*Math.PI),s.fill()}}}class Xe extends ka{constructor(s=[],i,n,o,r,a,l=!1,f="main"){super(s,new ae().translate(i).mirror(l,!1).scale(1/30),f);m(this,"voltageDrop");m(this,"vplus");m(this,"vminus");m(this,"schematicEffects");m(this,"current");m(this,"fixedAt");m(this,"isDuplicate",!1);m(this,"selectedFocus",P(!1));m(this,"mouseDownInsideSelectionArea",!1);this.vplus=o,this.vminus=n,this.fixedAt=a,a=="gnd"?this.voltageDrop=new Cs(this.transformations,n,o,"toNode",0,0,50,nt(40),nt(80),!0,0,5,r,"visible",f):this.voltageDrop=new Cs(this.transformations.concat([P(new ae().mirror(!1,!0))]),n,o,"fromNode",0,0,50,nt(40),nt(80),!0,0,5,r,"visible",f),this.schematicEffects={},this.current=0,this.anchorPoints={Vplus:{x:0,y:-30},Vminus:{x:0,y:30},vdd:{x:0,y:-60},gnd:{x:0,y:60}}}copy(s,i="main"){const n=new Xe([s].concat(this.transformations.slice(1)),{x:0,y:0},this.vminus,this.vplus,this.voltageDrop.displayText,this.fixedAt,this.fixedAt=="gnd"==this.transformationMatrix.isMirrored,i);return n.transformations[n.transformations.length-1].value=new ae,n}draw(s){this.transformationMatrix.transformCanvas(s),this.drawSelectedHalo(s);const i=30,n=11,o=10;s.strokeStyle="black",s.lineWidth=this.localLineThickness;const r=[],a=[{start:{x:n/2,y:-o},end:{x:-n/2,y:-o}},{start:{x:0,y:-o-n/2},end:{x:0,y:-o+n/2}},{start:{x:n/2,y:o},end:{x:-n/2,y:o}}],l=[{center:{x:0,y:0},outerDiameter:2*i}];Wt(s,r,this.localLineThickness,"black"),Wt(s,a,this.localLineThickness*.8,"black"),xo(s,l,this.localLineThickness,"black"),this.voltageDrop.draw(s)}}const zn=(e,t=0,s=5,i=0)=>{const n=e-i,o=t-i,r=s-i,a=.0256,l=.648,f=.8051,u=164e-8,g=u*Math.log(1+Math.exp((f*(n-l)-o)/(2*a)))**2+1e-15,p=u*Math.log(1+Math.exp((f*(n-l)-r)/(2*a)))**2,y=g-p,T=y/g;return{I:y,IF:g,saturationLevel:T}},Bn=(e,t=5,s=0,i=5)=>{const n=i-e,o=i-t,r=i-s,a=.0256,l=.7283,f=.7609,u=6108e-10,g=u*Math.log(1+Math.exp((f*(n-l)-o)/(2*a)))**2+1e-15,p=u*Math.log(1+Math.exp((f*(n-l)-r)/(2*a)))**2,y=g-p,T=y/g;return{I:y,IF:g,saturationLevel:T}};function rn(e){for(var t=e.length/6|0,s=new Array(t),i=0;i<t;)s[i]="#"+e.slice(i*6,++i*6);return s}function an(e){var t=e.length;return function(s){return e[Math.max(0,Math.min(t-1,Math.floor(s*t)))]}}an(rn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));an(rn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));var Rf=an(rn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));an(rn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Ks(e,t,s){this.k=e,this.x=t,this.y=s}Ks.prototype={constructor:Ks,scale:function(e){return e===1?this:new Ks(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ks(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ks.prototype;class jn{constructor(t=[]){m(this,"dotPath");m(this,"dotPercentage");m(this,"dotSize");m(this,"dotSpacing");m(this,"gradientSize");this.dotPath=t,this.dotPercentage=0,this.dotSize=8,this.dotSpacing=20,t.length==0?this.gradientSize=0:this.gradientSize=Math.sqrt((t[t.length-1].end.x-t[0].start.x)**2+(t[t.length-1].end.y-t[0].start.y)**2)/2}draw(t){const s=this.getMovingDotPositions(this.dotPath,this.dotSpacing).map(n=>({center:n,outerDiameter:this.dotSize})),i=t.createRadialGradient(0,0,0,0,0,this.gradientSize);i.addColorStop(0,"rgba(0, 0, 255, 1)"),i.addColorStop(1,"rgba(0, 0, 255, 0)"),kf(t,s,this.dotSize/2,i)}updateDotPositionBasedOnTimestamp(t,s=10){const i=this.getDotSpeedFromCurrent(t);this.dotPercentage=Nn(this.dotPercentage+i*(s/1e3),1)}getMovingDotPositions(t,s){const i=Aa(t),n=[],o=Math.floor(i/s);for(let r=0;r<o;r++){const a=(r+this.dotPercentage)/o,l=Je(t,a);n.push(l)}return n}getDotSpeedFromCurrent(t){let n=1,o=!1;return t==0?0:(t<0&&(t=Math.abs(t),o=!0),t>1e-4?n=(Math.log10(t/1e-4)+1)**2*1:n=1/(1-Math.log10(t/1e-4))**2*1,n>5*1?n=5*1:n<.001*1&&(n=.001*1),o?-n:n)}}const If=(e,t)=>Math.floor(e/t)*t,$n=(e,t,s=!1)=>{if(s)return zf(e,t);const i=t-e;let n=10**Math.floor(Math.log10(i));const o=Math.floor(i/n);o>=5?n=n*5:o>=4?n=n*2:o<=2&&(n=n/2);let a=If(e,n),l=[];for(;a<=t;)l.push(a),a=a+n;return l.push(a),l},Nf=e=>Math.abs(Math.round(e)-e)<.1?10**Math.round(3*e):5*10**Math.floor(3*e),zf=(e,t)=>{e<=0&&console.error(`Lower bound, ${e} <= 0. Log will return NaN`);const s=Math.log10(e)/3,i=Math.log10(t)/3;return i-s<1?$n(e,t):$n(s,i).map(Nf)},Vi=(e,t,s)=>{if(s<=0)throw new Error("num must be a positive integer");if(s===1)return[e];const i=(t-e)/(s-1),n=[];for(let o=0;o<s;o++)n.push(e+i*o);return n},Di=P(!0),ti=P(!1),ot=P(2),Un=P({width:1,height:1}),Bf=P({width:1,height:1}),jf=P({width:1,height:1}),$f=(e,t)=>{t.value={width:e.canvas.clientWidth,height:e.canvas.clientHeight}},Ts=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Ra=new Set,Hn=typeof process=="object"&&process?process:{},Ia=(e,t,s,i)=>{typeof Hn.emitWarning=="function"?Hn.emitWarning(e,t,s,i):console.error(`[${s}] ${t}: ${e}`)};let Bi=globalThis.AbortController,pr=globalThis.AbortSignal;var yr;if(typeof Bi>"u"){pr=class{constructor(){m(this,"onabort");m(this,"_onabort",[]);m(this,"reason");m(this,"aborted",!1)}addEventListener(i,n){this._onabort.push(n)}},Bi=class{constructor(){m(this,"signal",new pr);t()}abort(i){var n,o;if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const r of this.signal._onabort)r(i);(o=(n=this.signal).onabort)==null||o.call(n,i)}}};let e=((yr=Hn.env)==null?void 0:yr.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const t=()=>{e&&(e=!1,Ia("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const Uf=e=>!Ra.has(e),Ht=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),Na=e=>Ht(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?Oi:null:null;class Oi extends Array{constructor(t){super(t),this.fill(0)}}var Os;const ms=class ms{constructor(t,s){m(this,"heap");m(this,"length");if(!c(ms,Os))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new s(t),this.length=0}static create(t){const s=Na(t);if(!s)return[];U(ms,Os,!0);const i=new ms(t,s);return U(ms,Os,!1),i}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};Os=new WeakMap,X(ms,Os,!1);let Gn=ms;var pt,et,vt,yt,Ws,Fs,Le,bt,Ae,xe,Z,He,tt,ze,We,xt,Fe,wt,Mt,st,_t,es,Ge,li,qn,ys,Rt,ci,it,$i,za,bs,ks,fi,Ct,Gt,Pt,Kt,ui,Yn,xu,Rs,Wi,Is,Fi,pe,be,hi,Jn,xs,qs,Lt,qt,di,Xn;const Mo=class Mo{constructor(t){X(this,li);X(this,$i);X(this,Ct);X(this,Pt);X(this,ui);X(this,Rs);X(this,Is);X(this,pe);X(this,hi);X(this,xs);X(this,Lt);X(this,di);X(this,pt,void 0);X(this,et,void 0);X(this,vt,void 0);X(this,yt,void 0);X(this,Ws,void 0);X(this,Fs,void 0);m(this,"ttl");m(this,"ttlResolution");m(this,"ttlAutopurge");m(this,"updateAgeOnGet");m(this,"updateAgeOnHas");m(this,"allowStale");m(this,"noDisposeOnSet");m(this,"noUpdateTTL");m(this,"maxEntrySize");m(this,"sizeCalculation");m(this,"noDeleteOnFetchRejection");m(this,"noDeleteOnStaleGet");m(this,"allowStaleOnFetchAbort");m(this,"allowStaleOnFetchRejection");m(this,"ignoreFetchAbort");X(this,Le,void 0);X(this,bt,void 0);X(this,Ae,void 0);X(this,xe,void 0);X(this,Z,void 0);X(this,He,void 0);X(this,tt,void 0);X(this,ze,void 0);X(this,We,void 0);X(this,xt,void 0);X(this,Fe,void 0);X(this,wt,void 0);X(this,Mt,void 0);X(this,st,void 0);X(this,_t,void 0);X(this,es,void 0);X(this,Ge,void 0);X(this,ys,()=>{});X(this,Rt,()=>{});X(this,ci,()=>{});X(this,it,()=>!1);X(this,bs,t=>{});X(this,ks,(t,s,i)=>{});X(this,fi,(t,s,i,n)=>{if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});m(this,xu,"LRUCache");const{max:s=0,ttl:i,ttlResolution:n=1,ttlAutopurge:o,updateAgeOnGet:r,updateAgeOnHas:a,allowStale:l,dispose:f,disposeAfter:u,noDisposeOnSet:g,noUpdateTTL:p,maxSize:y=0,maxEntrySize:T=0,sizeCalculation:E,fetchMethod:k,memoMethod:S,noDeleteOnFetchRejection:V,noDeleteOnStaleGet:z,allowStaleOnFetchRejection:H,allowStaleOnFetchAbort:ee,ignoreFetchAbort:Y}=t;if(s!==0&&!Ht(s))throw new TypeError("max option must be a nonnegative integer");const de=s?Na(s):Array;if(!de)throw new Error("invalid max value: "+s);if(U(this,pt,s),U(this,et,y),this.maxEntrySize=T||c(this,et),this.sizeCalculation=E,this.sizeCalculation){if(!c(this,et)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(S!==void 0&&typeof S!="function")throw new TypeError("memoMethod must be a function if defined");if(U(this,Fs,S),k!==void 0&&typeof k!="function")throw new TypeError("fetchMethod must be a function if specified");if(U(this,Ws,k),U(this,es,!!k),U(this,Ae,new Map),U(this,xe,new Array(s).fill(void 0)),U(this,Z,new Array(s).fill(void 0)),U(this,He,new de(s)),U(this,tt,new de(s)),U(this,ze,0),U(this,We,0),U(this,xt,Gn.create(s)),U(this,Le,0),U(this,bt,0),typeof f=="function"&&U(this,vt,f),typeof u=="function"?(U(this,yt,u),U(this,Fe,[])):(U(this,yt,void 0),U(this,Fe,void 0)),U(this,_t,!!c(this,vt)),U(this,Ge,!!c(this,yt)),this.noDisposeOnSet=!!g,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!V,this.allowStaleOnFetchRejection=!!H,this.allowStaleOnFetchAbort=!!ee,this.ignoreFetchAbort=!!Y,this.maxEntrySize!==0){if(c(this,et)!==0&&!Ht(c(this,et)))throw new TypeError("maxSize must be a positive integer if specified");if(!Ht(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");F(this,$i,za).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!z,this.updateAgeOnGet=!!r,this.updateAgeOnHas=!!a,this.ttlResolution=Ht(n)||n===0?n:1,this.ttlAutopurge=!!o,this.ttl=i||0,this.ttl){if(!Ht(this.ttl))throw new TypeError("ttl must be a positive integer if specified");F(this,li,qn).call(this)}if(c(this,pt)===0&&this.ttl===0&&c(this,et)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!c(this,pt)&&!c(this,et)){const j="LRU_CACHE_UNBOUNDED";Uf(j)&&(Ra.add(j),Ia("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",j,Mo))}}static unsafeExposeInternals(t){return{starts:c(t,Mt),ttls:c(t,st),sizes:c(t,wt),keyMap:c(t,Ae),keyList:c(t,xe),valList:c(t,Z),next:c(t,He),prev:c(t,tt),get head(){return c(t,ze)},get tail(){return c(t,We)},free:c(t,xt),isBackgroundFetch:s=>{var i;return F(i=t,pe,be).call(i,s)},backgroundFetch:(s,i,n,o)=>{var r;return F(r=t,Is,Fi).call(r,s,i,n,o)},moveToTail:s=>{var i;return F(i=t,xs,qs).call(i,s)},indexes:s=>{var i;return F(i=t,Ct,Gt).call(i,s)},rindexes:s=>{var i;return F(i=t,Pt,Kt).call(i,s)},isStale:s=>{var i;return c(i=t,it).call(i,s)}}}get max(){return c(this,pt)}get maxSize(){return c(this,et)}get calculatedSize(){return c(this,bt)}get size(){return c(this,Le)}get fetchMethod(){return c(this,Ws)}get memoMethod(){return c(this,Fs)}get dispose(){return c(this,vt)}get disposeAfter(){return c(this,yt)}getRemainingTTL(t){return c(this,Ae).has(t)?1/0:0}*entries(){for(const t of F(this,Ct,Gt).call(this))c(this,Z)[t]!==void 0&&c(this,xe)[t]!==void 0&&!F(this,pe,be).call(this,c(this,Z)[t])&&(yield[c(this,xe)[t],c(this,Z)[t]])}*rentries(){for(const t of F(this,Pt,Kt).call(this))c(this,Z)[t]!==void 0&&c(this,xe)[t]!==void 0&&!F(this,pe,be).call(this,c(this,Z)[t])&&(yield[c(this,xe)[t],c(this,Z)[t]])}*keys(){for(const t of F(this,Ct,Gt).call(this)){const s=c(this,xe)[t];s!==void 0&&!F(this,pe,be).call(this,c(this,Z)[t])&&(yield s)}}*rkeys(){for(const t of F(this,Pt,Kt).call(this)){const s=c(this,xe)[t];s!==void 0&&!F(this,pe,be).call(this,c(this,Z)[t])&&(yield s)}}*values(){for(const t of F(this,Ct,Gt).call(this))c(this,Z)[t]!==void 0&&!F(this,pe,be).call(this,c(this,Z)[t])&&(yield c(this,Z)[t])}*rvalues(){for(const t of F(this,Pt,Kt).call(this))c(this,Z)[t]!==void 0&&!F(this,pe,be).call(this,c(this,Z)[t])&&(yield c(this,Z)[t])}[Symbol.iterator](){return this.entries()}find(t,s={}){for(const i of F(this,Ct,Gt).call(this)){const n=c(this,Z)[i],o=F(this,pe,be).call(this,n)?n.__staleWhileFetching:n;if(o!==void 0&&t(o,c(this,xe)[i],this))return this.get(c(this,xe)[i],s)}}forEach(t,s=this){for(const i of F(this,Ct,Gt).call(this)){const n=c(this,Z)[i],o=F(this,pe,be).call(this,n)?n.__staleWhileFetching:n;o!==void 0&&t.call(s,o,c(this,xe)[i],this)}}rforEach(t,s=this){for(const i of F(this,Pt,Kt).call(this)){const n=c(this,Z)[i],o=F(this,pe,be).call(this,n)?n.__staleWhileFetching:n;o!==void 0&&t.call(s,o,c(this,xe)[i],this)}}purgeStale(){let t=!1;for(const s of F(this,Pt,Kt).call(this,{allowStale:!0}))c(this,it).call(this,s)&&(F(this,Lt,qt).call(this,c(this,xe)[s],"expire"),t=!0);return t}info(t){const s=c(this,Ae).get(t);if(s===void 0)return;const i=c(this,Z)[s],n=F(this,pe,be).call(this,i)?i.__staleWhileFetching:i;if(n===void 0)return;const o={value:n};if(c(this,st)&&c(this,Mt)){const r=c(this,st)[s],a=c(this,Mt)[s];if(r&&a){const l=r-(Ts.now()-a);o.ttl=l,o.start=Date.now()}}return c(this,wt)&&(o.size=c(this,wt)[s]),o}dump(){const t=[];for(const s of F(this,Ct,Gt).call(this,{allowStale:!0})){const i=c(this,xe)[s],n=c(this,Z)[s],o=F(this,pe,be).call(this,n)?n.__staleWhileFetching:n;if(o===void 0||i===void 0)continue;const r={value:o};if(c(this,st)&&c(this,Mt)){r.ttl=c(this,st)[s];const a=Ts.now()-c(this,Mt)[s];r.start=Math.floor(Date.now()-a)}c(this,wt)&&(r.size=c(this,wt)[s]),t.unshift([i,r])}return t}load(t){this.clear();for(const[s,i]of t){if(i.start){const n=Date.now()-i.start;i.start=Ts.now()-n}this.set(s,i.value,i)}}set(t,s,i={}){var p,y,T,E,k;if(s===void 0)return this.delete(t),this;const{ttl:n=this.ttl,start:o,noDisposeOnSet:r=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=i;let{noUpdateTTL:f=this.noUpdateTTL}=i;const u=c(this,fi).call(this,t,s,i.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),F(this,Lt,qt).call(this,t,"set"),this;let g=c(this,Le)===0?void 0:c(this,Ae).get(t);if(g===void 0)g=c(this,Le)===0?c(this,We):c(this,xt).length!==0?c(this,xt).pop():c(this,Le)===c(this,pt)?F(this,Rs,Wi).call(this,!1):c(this,Le),c(this,xe)[g]=t,c(this,Z)[g]=s,c(this,Ae).set(t,g),c(this,He)[c(this,We)]=g,c(this,tt)[g]=c(this,We),U(this,We,g),pi(this,Le)._++,c(this,ks).call(this,g,u,l),l&&(l.set="add"),f=!1;else{F(this,xs,qs).call(this,g);const S=c(this,Z)[g];if(s!==S){if(c(this,es)&&F(this,pe,be).call(this,S)){S.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:V}=S;V!==void 0&&!r&&(c(this,_t)&&((p=c(this,vt))==null||p.call(this,V,t,"set")),c(this,Ge)&&((y=c(this,Fe))==null||y.push([V,t,"set"])))}else r||(c(this,_t)&&((T=c(this,vt))==null||T.call(this,S,t,"set")),c(this,Ge)&&((E=c(this,Fe))==null||E.push([S,t,"set"])));if(c(this,bs).call(this,g),c(this,ks).call(this,g,u,l),c(this,Z)[g]=s,l){l.set="replace";const V=S&&F(this,pe,be).call(this,S)?S.__staleWhileFetching:S;V!==void 0&&(l.oldValue=V)}}else l&&(l.set="update")}if(n!==0&&!c(this,st)&&F(this,li,qn).call(this),c(this,st)&&(f||c(this,ci).call(this,g,n,o),l&&c(this,Rt).call(this,l,g)),!r&&c(this,Ge)&&c(this,Fe)){const S=c(this,Fe);let V;for(;V=S==null?void 0:S.shift();)(k=c(this,yt))==null||k.call(this,...V)}return this}pop(){var t;try{for(;c(this,Le);){const s=c(this,Z)[c(this,ze)];if(F(this,Rs,Wi).call(this,!0),F(this,pe,be).call(this,s)){if(s.__staleWhileFetching)return s.__staleWhileFetching}else if(s!==void 0)return s}}finally{if(c(this,Ge)&&c(this,Fe)){const s=c(this,Fe);let i;for(;i=s==null?void 0:s.shift();)(t=c(this,yt))==null||t.call(this,...i)}}}has(t,s={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:n}=s,o=c(this,Ae).get(t);if(o!==void 0){const r=c(this,Z)[o];if(F(this,pe,be).call(this,r)&&r.__staleWhileFetching===void 0)return!1;if(c(this,it).call(this,o))n&&(n.has="stale",c(this,Rt).call(this,n,o));else return i&&c(this,ys).call(this,o),n&&(n.has="hit",c(this,Rt).call(this,n,o)),!0}else n&&(n.has="miss");return!1}peek(t,s={}){const{allowStale:i=this.allowStale}=s,n=c(this,Ae).get(t);if(n===void 0||!i&&c(this,it).call(this,n))return;const o=c(this,Z)[n];return F(this,pe,be).call(this,o)?o.__staleWhileFetching:o}async fetch(t,s={}){const{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:r=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:y=this.ignoreFetchAbort,allowStaleOnFetchAbort:T=this.allowStaleOnFetchAbort,context:E,forceRefresh:k=!1,status:S,signal:V}=s;if(!c(this,es))return S&&(S.fetch="get"),this.get(t,{allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,status:S});const z={allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,ttl:r,noDisposeOnSet:a,size:l,sizeCalculation:f,noUpdateTTL:u,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:T,ignoreFetchAbort:y,status:S,signal:V};let H=c(this,Ae).get(t);if(H===void 0){S&&(S.fetch="miss");const ee=F(this,Is,Fi).call(this,t,H,z,E);return ee.__returned=ee}else{const ee=c(this,Z)[H];if(F(this,pe,be).call(this,ee)){const fe=i&&ee.__staleWhileFetching!==void 0;return S&&(S.fetch="inflight",fe&&(S.returnedStale=!0)),fe?ee.__staleWhileFetching:ee.__returned=ee}const Y=c(this,it).call(this,H);if(!k&&!Y)return S&&(S.fetch="hit"),F(this,xs,qs).call(this,H),n&&c(this,ys).call(this,H),S&&c(this,Rt).call(this,S,H),ee;const de=F(this,Is,Fi).call(this,t,H,z,E),ce=de.__staleWhileFetching!==void 0&&i;return S&&(S.fetch=Y?"stale":"refresh",ce&&Y&&(S.returnedStale=!0)),ce?de.__staleWhileFetching:de.__returned=de}}async forceFetch(t,s={}){const i=await this.fetch(t,s);if(i===void 0)throw new Error("fetch() returned undefined");return i}memo(t,s={}){const i=c(this,Fs);if(!i)throw new Error("no memoMethod provided to constructor");const{context:n,forceRefresh:o,...r}=s,a=this.get(t,r);if(!o&&a!==void 0)return a;const l=i(t,a,{options:r,context:n});return this.set(t,l,r),l}get(t,s={}){const{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:r}=s,a=c(this,Ae).get(t);if(a!==void 0){const l=c(this,Z)[a],f=F(this,pe,be).call(this,l);return r&&c(this,Rt).call(this,r,a),c(this,it).call(this,a)?(r&&(r.get="stale"),f?(r&&i&&l.__staleWhileFetching!==void 0&&(r.returnedStale=!0),i?l.__staleWhileFetching:void 0):(o||F(this,Lt,qt).call(this,t,"expire"),r&&i&&(r.returnedStale=!0),i?l:void 0)):(r&&(r.get="hit"),f?l.__staleWhileFetching:(F(this,xs,qs).call(this,a),n&&c(this,ys).call(this,a),l))}else r&&(r.get="miss")}delete(t){return F(this,Lt,qt).call(this,t,"delete")}clear(){return F(this,di,Xn).call(this,"delete")}};xu=Symbol.toStringTag,pt=new WeakMap,et=new WeakMap,vt=new WeakMap,yt=new WeakMap,Ws=new WeakMap,Fs=new WeakMap,Le=new WeakMap,bt=new WeakMap,Ae=new WeakMap,xe=new WeakMap,Z=new WeakMap,He=new WeakMap,tt=new WeakMap,ze=new WeakMap,We=new WeakMap,xt=new WeakMap,Fe=new WeakMap,wt=new WeakMap,Mt=new WeakMap,st=new WeakMap,_t=new WeakMap,es=new WeakMap,Ge=new WeakMap,li=new WeakSet,qn=function(){const t=new Oi(c(this,pt)),s=new Oi(c(this,pt));U(this,st,t),U(this,Mt,s),U(this,ci,(o,r,a=Ts.now())=>{if(s[o]=r!==0?a:0,t[o]=r,r!==0&&this.ttlAutopurge){const l=setTimeout(()=>{c(this,it).call(this,o)&&F(this,Lt,qt).call(this,c(this,xe)[o],"expire")},r+1);l.unref&&l.unref()}}),U(this,ys,o=>{s[o]=t[o]!==0?Ts.now():0}),U(this,Rt,(o,r)=>{if(t[r]){const a=t[r],l=s[r];if(!a||!l)return;o.ttl=a,o.start=l,o.now=i||n();const f=o.now-l;o.remainingTTL=a-f}});let i=0;const n=()=>{const o=Ts.now();if(this.ttlResolution>0){i=o;const r=setTimeout(()=>i=0,this.ttlResolution);r.unref&&r.unref()}return o};this.getRemainingTTL=o=>{const r=c(this,Ae).get(o);if(r===void 0)return 0;const a=t[r],l=s[r];if(!a||!l)return 1/0;const f=(i||n())-l;return a-f},U(this,it,o=>{const r=s[o],a=t[o];return!!a&&!!r&&(i||n())-r>a})},ys=new WeakMap,Rt=new WeakMap,ci=new WeakMap,it=new WeakMap,$i=new WeakSet,za=function(){const t=new Oi(c(this,pt));U(this,bt,0),U(this,wt,t),U(this,bs,s=>{U(this,bt,c(this,bt)-t[s]),t[s]=0}),U(this,fi,(s,i,n,o)=>{if(F(this,pe,be).call(this,i))return 0;if(!Ht(n))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(n=o(i,s),!Ht(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n}),U(this,ks,(s,i,n)=>{if(t[s]=i,c(this,et)){const o=c(this,et)-t[s];for(;c(this,bt)>o;)F(this,Rs,Wi).call(this,!0)}U(this,bt,c(this,bt)+t[s]),n&&(n.entrySize=i,n.totalCalculatedSize=c(this,bt))})},bs=new WeakMap,ks=new WeakMap,fi=new WeakMap,Ct=new WeakSet,Gt=function*({allowStale:t=this.allowStale}={}){if(c(this,Le))for(let s=c(this,We);!(!F(this,ui,Yn).call(this,s)||((t||!c(this,it).call(this,s))&&(yield s),s===c(this,ze)));)s=c(this,tt)[s]},Pt=new WeakSet,Kt=function*({allowStale:t=this.allowStale}={}){if(c(this,Le))for(let s=c(this,ze);!(!F(this,ui,Yn).call(this,s)||((t||!c(this,it).call(this,s))&&(yield s),s===c(this,We)));)s=c(this,He)[s]},ui=new WeakSet,Yn=function(t){return t!==void 0&&c(this,Ae).get(c(this,xe)[t])===t},Rs=new WeakSet,Wi=function(t){var o,r;const s=c(this,ze),i=c(this,xe)[s],n=c(this,Z)[s];return c(this,es)&&F(this,pe,be).call(this,n)?n.__abortController.abort(new Error("evicted")):(c(this,_t)||c(this,Ge))&&(c(this,_t)&&((o=c(this,vt))==null||o.call(this,n,i,"evict")),c(this,Ge)&&((r=c(this,Fe))==null||r.push([n,i,"evict"]))),c(this,bs).call(this,s),t&&(c(this,xe)[s]=void 0,c(this,Z)[s]=void 0,c(this,xt).push(s)),c(this,Le)===1?(U(this,ze,U(this,We,0)),c(this,xt).length=0):U(this,ze,c(this,He)[s]),c(this,Ae).delete(i),pi(this,Le)._--,s},Is=new WeakSet,Fi=function(t,s,i,n){const o=s===void 0?void 0:c(this,Z)[s];if(F(this,pe,be).call(this,o))return o;const r=new Bi,{signal:a}=i;a==null||a.addEventListener("abort",()=>r.abort(a.reason),{signal:r.signal});const l={signal:r.signal,options:i,context:n},f=(E,k=!1)=>{const{aborted:S}=r.signal,V=i.ignoreFetchAbort&&E!==void 0;if(i.status&&(S&&!k?(i.status.fetchAborted=!0,i.status.fetchError=r.signal.reason,V&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),S&&!V&&!k)return g(r.signal.reason);const z=y;return c(this,Z)[s]===y&&(E===void 0?z.__staleWhileFetching?c(this,Z)[s]=z.__staleWhileFetching:F(this,Lt,qt).call(this,t,"fetch"):(i.status&&(i.status.fetchUpdated=!0),this.set(t,E,l.options))),E},u=E=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=E),g(E)),g=E=>{const{aborted:k}=r.signal,S=k&&i.allowStaleOnFetchAbort,V=S||i.allowStaleOnFetchRejection,z=V||i.noDeleteOnFetchRejection,H=y;if(c(this,Z)[s]===y&&(!z||H.__staleWhileFetching===void 0?F(this,Lt,qt).call(this,t,"fetch"):S||(c(this,Z)[s]=H.__staleWhileFetching)),V)return i.status&&H.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),H.__staleWhileFetching;if(H.__returned===H)throw E},p=(E,k)=>{var V;const S=(V=c(this,Ws))==null?void 0:V.call(this,t,o,l);S&&S instanceof Promise&&S.then(z=>E(z===void 0?void 0:z),k),r.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(E(void 0),i.allowStaleOnFetchAbort&&(E=z=>f(z,!0)))})};i.status&&(i.status.fetchDispatched=!0);const y=new Promise(p).then(f,u),T=Object.assign(y,{__abortController:r,__staleWhileFetching:o,__returned:void 0});return s===void 0?(this.set(t,T,{...l.options,status:void 0}),s=c(this,Ae).get(t)):c(this,Z)[s]=T,T},pe=new WeakSet,be=function(t){if(!c(this,es))return!1;const s=t;return!!s&&s instanceof Promise&&s.hasOwnProperty("__staleWhileFetching")&&s.__abortController instanceof Bi},hi=new WeakSet,Jn=function(t,s){c(this,tt)[s]=t,c(this,He)[t]=s},xs=new WeakSet,qs=function(t){t!==c(this,We)&&(t===c(this,ze)?U(this,ze,c(this,He)[t]):F(this,hi,Jn).call(this,c(this,tt)[t],c(this,He)[t]),F(this,hi,Jn).call(this,c(this,We),t),U(this,We,t))},Lt=new WeakSet,qt=function(t,s){var n,o,r,a;let i=!1;if(c(this,Le)!==0){const l=c(this,Ae).get(t);if(l!==void 0)if(i=!0,c(this,Le)===1)F(this,di,Xn).call(this,s);else{c(this,bs).call(this,l);const f=c(this,Z)[l];if(F(this,pe,be).call(this,f)?f.__abortController.abort(new Error("deleted")):(c(this,_t)||c(this,Ge))&&(c(this,_t)&&((n=c(this,vt))==null||n.call(this,f,t,s)),c(this,Ge)&&((o=c(this,Fe))==null||o.push([f,t,s]))),c(this,Ae).delete(t),c(this,xe)[l]=void 0,c(this,Z)[l]=void 0,l===c(this,We))U(this,We,c(this,tt)[l]);else if(l===c(this,ze))U(this,ze,c(this,He)[l]);else{const u=c(this,tt)[l];c(this,He)[u]=c(this,He)[l];const g=c(this,He)[l];c(this,tt)[g]=c(this,tt)[l]}pi(this,Le)._--,c(this,xt).push(l)}}if(c(this,Ge)&&((r=c(this,Fe))!=null&&r.length)){const l=c(this,Fe);let f;for(;f=l==null?void 0:l.shift();)(a=c(this,yt))==null||a.call(this,...f)}return i},di=new WeakSet,Xn=function(t){var s,i,n;for(const o of F(this,Pt,Kt).call(this,{allowStale:!0})){const r=c(this,Z)[o];if(F(this,pe,be).call(this,r))r.__abortController.abort(new Error("deleted"));else{const a=c(this,xe)[o];c(this,_t)&&((s=c(this,vt))==null||s.call(this,r,a,t)),c(this,Ge)&&((i=c(this,Fe))==null||i.push([r,a,t]))}}if(c(this,Ae).clear(),c(this,Z).fill(void 0),c(this,xe).fill(void 0),c(this,st)&&c(this,Mt)&&(c(this,st).fill(0),c(this,Mt).fill(0)),c(this,wt)&&c(this,wt).fill(0),U(this,ze,0),U(this,We,0),c(this,xt).length=0,U(this,bt,0),U(this,Le,0),c(this,Ge)&&c(this,Fe)){const o=c(this,Fe);let r;for(;r=o==null?void 0:o.shift();)(n=c(this,yt))==null||n.call(this,...r)}};let Kn=Mo;const Re=class Re extends Fa{constructor(s=[],i,n,o,r,a,l,f,u,g,p=5,y="x Var",T="y Var",E="xUnit",k="yUnit",S="linear",V="log",z=250,H=200,ee="visible",Y="main"){const de=g,j=n=="Vgs"?a:f;super(s,new ae().translate({x:o,y:r}),de,j,"toNode",0,p,ee,Y);m(this,"points");m(this,"xAxisLabel");m(this,"yAxisLabel");m(this,"xUnit");m(this,"yUnit");m(this,"width");m(this,"height");m(this,"axesWidth");m(this,"axesHeight");m(this,"cornerToCornerGraph",!0);m(this,"plottingValues",[]);m(this,"yValue",0);m(this,"pointsCache",new Kn({max:1e3}));m(this,"cacheAttempts",0);m(this,"cacheHits",0);m(this,"memoize",!1);m(this,"Vg");m(this,"Vs");m(this,"Vd");m(this,"Vb");m(this,"mosfetType");m(this,"chartType");m(this,"originalMaxValue");m(this,"xScaleType");m(this,"yScaleType");m(this,"yMin",0);m(this,"yMax",0);m(this,"xTicks",[]);m(this,"yTicks",[]);m(this,"xScale",0);m(this,"yScale",0);m(this,"boundingBox");this.transformationMatrix.isMirrored&&this.transformations[this.transformations.length-1].value.mirror(!0,!1,!0),this.transformations[this.transformations.length-1].value.rotate(-this.transformationMatrix.rotation,!0),this.transformations[this.transformations.length-1].value.mirror(!1,!0,!0),n=="Vgs"?this.transformations[this.transformations.length-1].value.translate({x:-z/2,y:0},!0):this.transformations[this.transformations.length-1].value.translate({x:-z/2,y:-H},!0),this.transformations[this.transformations.length-1].value.translate({x:Re.paddingL,y:Re.paddingB},!0),this.points=[],this.xAxisLabel=y,this.yAxisLabel=T,this.xUnit=E,this.yUnit=k,this.xScaleType=S,this.yScaleType=V,this.width=z,this.height=H,this.axesWidth=z-Re.paddingL-Re.paddingR,this.axesHeight=H-Re.paddingT-Re.paddingB,this.Vg=a,this.Vs=l,this.Vd=f,this.Vb=u,this.mosfetType=i,this.chartType=n,this.originalMaxValue=p,this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.maxValue,this.boundingBox=[new K(this.transformations,{x:-100,y:0}),new K(this.transformations,{x:100,y:0}),new K(this.transformations,{x:0,y:-100}),new K(this.transformations,{x:0,y:100})]}copy(s,i="main"){return new Re([s],this.mosfetType,this.chartType,0,0,this.Vg,this.Vs,this.Vd,this.Vb,this.fromNode,this.maxValue,this.xAxisLabel,this.yAxisLabel,this.xUnit,this.yUnit,this.xScaleType,this.yScaleType,this.width,this.height,this.visibility,i)}draw(s){if(this.visibility=="hidden")return;this.transformationMatrix.transformCanvas(s);const i=this.localLineThickness/2,n=this.localLineThickness/4;this.chartType=="Vgs"?this.sweepGateVoltages():this.sweepDrainVoltages(),this.preciseDragging?this.xTicks=$n(this.temporaryMinValue,this.temporaryMaxValue,this.xScaleType=="log").filter(u=>u>=this.temporaryMinValue&&u<=this.temporaryMaxValue):this.xTicks=[0,1,2,3,4,5],this.chartType=="Vgs"?this.yTicks=[.001,1e-6,1e-9,1e-12].filter(u=>u>=this.yMin&&u<=this.yMax):this.yTicks=[25,50,75,100].filter(u=>u>=this.yMin&&u<=this.yMax);const o=this.xValueToLocation(this.value),r=(this.temporaryMaxValue-this.temporaryMinValue)/4;this.xTicks=this.xTicks.filter(u=>!(this.value-r/2<u&&u<this.value+r/2)),this.plottingValues=this.points.map(u=>({x:this.xValueToLocation(u.x),y:this.yValueToLocation(u.y)})),s.clearRect(-Re.paddingL,-Re.paddingB,this.width,this.height),s.strokeStyle="#000",Wt(s,[{start:{x:0,y:0},end:{x:this.axesWidth,y:0}},{start:{x:0,y:0},end:{x:0,y:this.axesHeight}}],i,"black"),s.font="16px Arial",s.textAlign="center";let a=this.fillTextGlobalReferenceFrame(s,{x:o,y:-16},this.xAxisLabel,!1);s.font="12px Arial",this.fillTextGlobalReferenceFrame(s,{x:a.x,y:a.y+3},vs(this.value,"V"),!1),s.font="18px Arial",this.fillTextGlobalReferenceFrame(s,{x:-30,y:this.axesHeight+6},this.yAxisLabel,!0,!0),s.strokeStyle="#ccc",s.font="12px Arial",s.fillStyle="#000",s.textAlign="center",this.xTicks.forEach(u=>{const g=this.xValueToLocation(u),p=vs(u,this.xUnit);Wt(s,[{start:{x:g,y:0},end:{x:g,y:-5}}],n,"black"),this.fillTextGlobalReferenceFrame(s,{x:g,y:-18},p)}),this.yTicks.forEach(u=>{const g=this.yValueToLocation(u),p=vs(u,this.yUnit);Wt(s,[{start:{x:0,y:g},end:{x:-5,y:g}}],n,"black"),this.fillTextGlobalReferenceFrame(s,{x:-25,y:g-6},p)}),s.strokeStyle="#f00",s.lineWidth=i,s.beginPath(),this.plottingValues.forEach((u,g)=>{g===0?s.moveTo(u.x,u.y):s.lineTo(u.x,u.y)}),s.stroke(),s.lineWidth=n,this.updateLocationBasedOnValue(),s.beginPath(),s.arc(this.location.x,this.location.y,5,0,2*Math.PI),s.fill(),s.moveTo(this.location.x,0),s.lineTo(this.location.x,this.location.y),s.stroke();const l=vs(this.yValue,this.yUnit),f=l.length*5;this.fillTextGlobalReferenceFrame(s,{x:this.location.x<this.axesWidth-f?Math.max(5,this.location.x+f):this.location.x-f,y:Math.max(5,this.location.y-15)},l),ti.value&&(s.lineWidth=5,s.strokeStyle="black",s.strokeRect(-Re.paddingL,-Re.paddingB,this.width,this.height))}sweepGateVoltages(s=this.width/3){if(this.yMin=1/0,this.yMax=-1/0,Vi(this.minValue,this.maxValue,5).forEach(r=>{const a=this.getMosfetCurrentFromGateVoltage(r);this.yMin=Math.min(this.yMin,a),this.yMax=Math.max(this.yMax,a)}),this.memoize){this.cacheAttempts+=1;const r=this.pointsCache.get(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage));if(r!==void 0){this.points=r,this.cacheHits+=1;return}}this.points=[];let n={x:0,y:0};Vi(this.temporaryMinValue,this.temporaryMaxValue,s).forEach(r=>{n={x:r,y:this.getMosfetCurrentFromGateVoltage(r)},this.points.push(n)}),this.memoize&&this.pointsCache.set(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage),this.points)}sweepDrainVoltages(s=this.width/3){if(this.points=[],this.yMin=1/0,this.yMax=-1/0,Vi(this.minValue,this.maxValue,5).forEach(r=>{let a=this.getMosfetSaturationFromDrainVoltage(r);a<0&&(a=0),this.yMax=Math.max(this.yMax,a)}),this.yMin=0,this.memoize){this.cacheAttempts+=1;const r=this.pointsCache.get(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vg.value.voltage,this.Vs.value.voltage,this.Vb.value.voltage));if(r!==void 0){this.points=r,this.cacheHits+=1;return}}const n=Vi(this.temporaryMinValue,this.temporaryMaxValue,s);let o={x:0,y:0};n.forEach(r=>{o={x:r,y:this.getMosfetSaturationFromDrainVoltage(r)},o.y<0&&(o.y=0),this.points.push(o)}),this.memoize&&this.pointsCache.set(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vg.value.voltage,this.Vs.value.voltage,this.Vb.value.voltage),this.points)}discretizeArgsForCache(s,i,n,o,r){return JSON.stringify([s.toFixed(3),i.toFixed(3),n.toFixed(3),o.toFixed(3),r.toFixed(3)])}xLocationToValue(s){let i=0;return this.xScaleType=="linear"?i=s/this.axesWidth*(this.temporaryMaxValue-this.temporaryMinValue)+this.temporaryMinValue:i=10**(Math.log10(s)/this.axesWidth*(Math.log10(this.temporaryMaxValue)-Math.log10(this.temporaryMinValue))+Math.log10(this.temporaryMinValue)),i}xValueToLocation(s){return this.xScaleType=="linear"?(s-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue)*this.axesWidth:(Math.log10(s)-Math.log10(this.temporaryMinValue))/(Math.log10(this.temporaryMaxValue)-Math.log10(this.temporaryMinValue))*this.axesWidth}yValueToLocation(s){return this.yScaleType=="linear"?(s-this.yMin)/(this.yMax-this.yMin)*this.axesHeight:(Math.log10(s)-Math.log10(this.yMin))/(Math.log10(this.yMax)-Math.log10(this.yMin))*this.axesHeight}toggleYAxisLog(){this.yScaleType=this.yScaleType==="log"?"linear":"log"}updateLocationBasedOnValue(){const s=this.value;this.chartType=="Vgs"?this.yValue=this.getMosfetCurrentFromGateVoltage(s):this.yValue=this.getMosfetSaturationFromDrainVoltage(s),this.location={x:this.xValueToLocation(s),y:this.yValueToLocation(this.yValue)}}getMosfetCurrentFromGateVoltage(s){return this.mosfetType=="nmos"?zn(s,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage).I:Bn(s,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage).I}getMosfetSaturationFromDrainVoltage(s){return this.mosfetType=="nmos"?zn(this.Vg.value.voltage,this.Vs.value.voltage,s,this.Vb.value.voltage).saturationLevel*100:Bn(this.Vg.value.voltage,this.Vs.value.voltage,s,this.Vb.value.voltage).saturationLevel*100}updateValueBasedOnMousePosition(s){this.value=this.xLocationToValue(s.x)}mouseDownIntiatesDrag(s){return s.x>0&&s.x<this.axesWidth&&s.y>0&&s.y<this.axesHeight}};m(Re,"paddingL",40),m(Re,"paddingR",10),m(Re,"paddingT",20),m(Re,"paddingB",30);let Ps=Re;const Se=class Se extends ka{constructor(s=[],i,n,o,r,a,l,f,u,g=3,p=5,y=!1,T="visible",E="visible",k="gate",S="main"){super(s,new ae().translate({x:n,y:o}).scale(1/30).mirror(y,i=="pmos"),S);m(this,"mosfetType");m(this,"isDuplicate",!1);m(this,"currentDots");m(this,"gradientSize",100);m(this,"schematicEffects");m(this,"vgs");m(this,"vds");m(this,"Vg");m(this,"Vs");m(this,"Vd");m(this,"Vb");m(this,"gndNode");m(this,"mouseDownInsideSelectionArea",!1);m(this,"selected",P(!1));m(this,"selectedFocus",P(!1));m(this,"chartVisibility","hidden");m(this,"vgsChart");m(this,"vdsChart");this.mosfetType=i,this.schematicEffects={gate:{node:r,origin:new K(this.transformations,{x:60,y:0}),color:"red",gradientSize:2},saturation:{node:l,origin:new K(this.transformations,{x:0,y:-60}),color:"red",gradientSize:100}},this.Vg=r,this.Vs=a,this.Vd=l,this.Vb=f,this.gndNode=u,this.anchorPoints={Vg:{x:60,y:0},Vs:{x:0,y:60},Vd:{x:0,y:-60},Vb:{x:0,y:0},SourceSupply:{x:0,y:90},DrainSupply:{x:0,y:-90},Vg_mirror_gate:{x:90,y:0},Vg_mirror_corner:{x:90,y:-90},Vg_mirror_drain:{x:0,y:-90},Vg_drive_gate:{x:120,y:0},Vg_drive_Vsource:{x:120,y:90}};let V="main";S=="mosfet"&&(V="chart"),this.mosfetType=="nmos"?(this.vgs=new Cs(this.transformations,a,r,"toNode",10,10,60,nt(75),nt(70),!0,0,g,"Vgs",T,S),this.vds=new Cs(this.transformations,a,l,"toNode",30,0,75,nt(140),nt(80),!1,0,p,"Vds",E,S),this.vgsChart=new Ps(this.transformations,i,"Vgs",Se.chartLocations[k].x,Se.chartLocations[k].y,r,a,l,f,u,5,"Vg","Current","V","A","linear","log",200,115,T,V),this.vdsChart=new Ps(this.transformations,i,"Vds",Se.chartLocations[k].x,Se.chartLocations[k].y,r,a,l,f,u,5,"Vd","Saturation Level","V","%","linear","linear",200,115,E,V),this.currentDots=new jn([{start:{x:-15,y:-60},end:{x:-15,y:60}}])):(this.vgs=new Cs(this.transformations,r,a,"fromNode",10,10,60,nt(75),nt(70),!0,0,g,"Vsg",T,S),this.vds=new Cs(this.transformations,l,a,"fromNode",30,0,75,nt(140),nt(80),!1,0,p,"Vsd",E,S),this.vgsChart=new Ps(this.transformations,i,"Vgs",Se.chartLocations[k].x,Se.chartLocations[k].y,r,a,l,f,u,5,"Vg","Current","V","A","linear","log",200,115,T,V),this.vdsChart=new Ps(this.transformations,i,"Vds",Se.chartLocations[k].x,Se.chartLocations[k].y,r,a,l,f,u,5,"Vd","Saturation Level","V","%","linear","linear",200,115,E,V),this.currentDots=new jn([{start:{x:-15,y:60},end:{x:-15,y:-60}}]))}copy(s,i="main"){const n=new Se([s].concat(this.transformations.slice(1)),this.mosfetType,0,0,this.Vg,this.Vs,this.Vd,this.Vb,this.gndNode,void 0,void 0,this.mosfetType=="nmos"==this.transformationMatrix.isMirrored,this.vgs.visibility,this.vds.visibility,"deviceOrigin",i);return n.isDuplicate=!0,n.transformations[n.transformations.length-1].value=new ae,n}draw(s){this.transformationMatrix.transformCanvas(s),this.drawSelectedHalo(s);const i=[{start:{x:0,y:20},end:{x:0,y:59}},{start:{x:0,y:20},end:{x:26,y:20}},{start:{x:0,y:-20},end:{x:0,y:-59}},{start:{x:0,y:-20},end:{x:26,y:-20}},{start:{x:26,y:-40},end:{x:26,y:40}}],n=this.mosfetType=="nmos"?[{start:{x:40,y:30},end:{x:40,y:-30}},{start:{x:40,y:0},end:{x:60,y:0}}]:[{start:{x:40,y:30},end:{x:40,y:-30}},{start:{x:50,y:0},end:{x:60,y:0}}],o=this.mosfetType=="nmos"?[]:[{center:{x:45,y:0},outerDiameter:10}];this.gradientSize=this.getGradientSizeFromSaturationLevel();const a=Pa(s,{x:0,y:-60},this.gradientSize,"rgba(200, 200, 200, 1)"),l=this.getForwardCurrentScaled(),f=this.getGateColorFromForwardCurrent();Wt(s,i,this.localLineThickness,"black"),Wt(s,n,this.localLineThickness,f),xo(s,o,this.localLineThickness,f),Da(s,i,this.localLineThickness,a),this.schematicEffects.saturation.gradientSize=this.gradientSize/30*3.5,this.schematicEffects.saturation.color="rgba(200, 200, 200, 1)",this.schematicEffects.gate.gradientSize=l*3.5,this.schematicEffects.gate.color=f,this.currentDots.draw(s);const u=vs(this.current,"A");let g="";for(const T of u)"-0123456789.".indexOf(T)>-1&&(g+=T);const p=u.slice(g.length);s.fillStyle="black",s.font="14px sans-serif";const y=this.fillTextGlobalReferenceFrame(s,{x:20,y:this.mosfetType=="nmos"?-3:3},g,!0,!0,14);s.font="14px sans-serif",this.fillTextGlobalReferenceFrame(s,y,p,!0,!0),this.selected.value&&!this.isDuplicate&&(this.vgsChart.draw(s),this.vdsChart.draw(s)),this.vgs.draw(s),this.vds.draw(s)}get current(){return this.getMosfetCurrent()}get saturationLevel(){return this.getMosfetSaturationLevel()}get forwardCurrent(){return this.getMosfetForwardCurrent()}setMinAndMaxValue(){this.mosfetType=="pmos"?(this.vgs.minValue=this.Vs.value.voltage-oe,this.vds.minValue=this.Vs.value.voltage-oe,this.vgsChart.minValue=this.Vs.value.voltage-oe,this.vdsChart.minValue=this.Vs.value.voltage-oe):(this.vgs.minValue=-this.Vs.value.voltage,this.vds.minValue=-this.Vs.value.voltage,this.vgsChart.minValue=-this.Vs.value.voltage,this.vdsChart.minValue=-this.Vs.value.voltage)}getMosfetEkvResult(){return this.mosfetType=="pmos"?Bn(this.Vg.value.voltage,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage):zn(this.Vg.value.voltage,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage)}getMosfetCurrent(){return this.getMosfetEkvResult().I}getMosfetSaturationLevel(){return this.getMosfetEkvResult().saturationLevel}getMosfetForwardCurrent(){return this.getMosfetEkvResult().IF}getGradientSizeFromSaturationLevel(){return this.getRelativeScaling()*60*(1-this.saturationLevel)}getForwardCurrentScaled(){return De(0,1,Math.log10(this.forwardCurrent/.005)*.2+1)}getGateColorFromForwardCurrent(){const s=this.getForwardCurrentScaled();return Rf(s)}};m(Se,"chartWidth",200),m(Se,"chartHeight",120),m(Se,"chartLocations",{base:{x:-Se.chartWidth/2-100,y:0},lowerBase:{x:-Se.chartWidth/2-100,y:100},gate:{x:Se.chartWidth/2+120,y:0},furtherGate:{x:Se.chartWidth/2+150,y:0},voltageSource:{x:Se.chartWidth/2+240,y:0},lowerVoltageSource:{x:Se.chartWidth/2+240,y:100},mirrorDriver:{x:Se.chartWidth/2+110,y:-Se.chartHeight-20},deviceOrigin:{x:0,y:0}});let Ve=Se;class Bs extends ke{constructor(s,i,n,o,r=new Nt,a={},l={},f={},u=new ae){super([P(new ae)],new ae().translate({x:-i.x+n/2,y:-i.y+o/2}));m(this,"name");m(this,"boundingBox");m(this,"schematic");m(this,"devices");m(this,"selectedDeviceCharts",[]);m(this,"selectedDeviceChartsBoundingBox");m(this,"selectedDeviceChartsTransformationMatrix",P(new ae));m(this,"nodes");m(this,"textTransformationMatrix");m(this,"originalTextTransformationMatrix");m(this,"circuitCopy");m(this,"anyDevicesSelected",!1);m(this,"moveTectonicPlatesWhileDragging",!0);this.name=s,this.boundingBox=[new K(this.transformations,{x:i.x-n/2,y:i.y-o/2}),new K(this.transformations,{x:i.x+n/2,y:i.y-o/2}),new K(this.transformations,{x:i.x-n/2,y:i.y+o/2}),new K(this.transformations,{x:i.x+n/2,y:i.y+o/2})],this.schematic=r,this.devices={mosfets:a,voltageSources:l},this.nodes=f,this.originalTextTransformationMatrix=u,this.textTransformationMatrix=this.transformationMatrix.scale(1/In).multiply(this.originalTextTransformationMatrix),this.circuitCopy=this.copy(),this.selectedDeviceChartsBoundingBox=[new K(this.transformations,{x:-120,y:0}),new K(this.transformations,{x:120,y:0}),new K(this.transformations,{x:0,y:-120}),new K(this.transformations,{x:0,y:120})],ke.circuitTransformationMatrix=this.transformationMatrix,ke.textTransformationMatrix=this.textTransformationMatrix}assignKeysToDevices(){Object.entries(this.devices.mosfets).forEach(([s,i])=>{i.key=s}),Object.entries(this.devices.voltageSources).forEach(([s,i])=>{i.key=s})}finishSetup(){var s;this.assignKeysToDevices(),this.circuitCopy=this.copy(),(s=this.circuitCopy)==null||s.assignKeysToDevices()}get allSliders(){return this.makeListOfSliders()}get anySlidersDragging(){let s=!1;return this.allSliders.forEach(i=>{i.dragging&&(s=!0)}),s}copy(){const s=P(new ae),i=new Hf(this.name,{x:0,y:0},10,10,this.schematic.copy(s),Object.fromEntries(Object.entries(this.devices.mosfets).map(([n,o])=>[n,o.copy(s,"mosfet")])),Object.fromEntries(Object.entries(this.devices.voltageSources).map(([n,o])=>[n,o.copy(s,"mosfet")])),this.nodes,this.textTransformationMatrix);return i.transformations[0]=s,i}draw(s){s.save(),this.setScaleBasedOnBoundingBox(s),this.transformationMatrix.transformCanvas(s),Di.value?(!this.anySlidersDragging||this.moveTectonicPlatesWhileDragging)&&se.allTectonicPlates.forEach(i=>{i.moveTowardDesiredLocation()}):se.allTectonicPlates.forEach(i=>{i.moveTowardLocation({x:0,y:0})}),this.schematic.draw(s),Object.values(this.devices.mosfets).forEach(i=>{i.draw(s)}),Object.values(this.devices.voltageSources).forEach(i=>{i.draw(s)}),ti.value&&this.drawGrid(s),s.restore()}drawSelectedDeviceCharts(s){const i=this.calculateTransformationMatrixBasedOnBoundingBox(s,this.selectedDeviceChartsBoundingBox);this.selectedDeviceChartsTransformationMatrix.value=i,ke.textTransformationMatrix.relativeScale=i.relativeScale,this.selectedDeviceCharts.forEach(n=>{n.draw(s)})}setSelectedDevice(s){if(this.circuitCopy&&(this.circuitCopy.boundingBox=s.boundingBox,this.anyDevicesSelected=!0,!!this.circuitCopy)){if(s instanceof Ve){const i=this.circuitCopy.devices.mosfets[s.key];i.vgs.visibility=s.vgs.visibility,i.vds.visibility=s.vds.visibility,i.vgsChart.visibility="hidden",i.vdsChart.visibility="hidden",this.selectedDeviceCharts=[s.vgsChart.copy(this.selectedDeviceChartsTransformationMatrix,"chart"),s.vdsChart.copy(this.selectedDeviceChartsTransformationMatrix,"chart")]}else if(s instanceof Xe){const i=this.circuitCopy.devices.voltageSources[s.key];i.voltageDrop.visibility=s.voltageDrop.visibility}}}resetSelectedDevice(){this.selectedDeviceCharts=[],this.anyDevicesSelected=!1,this.circuitCopy&&this.circuitCopy.allSliders.forEach(s=>{s.visibility="hidden"})}makeListOfSliders(){const s=[];for(const i in this.devices.mosfets){const n=this.devices.mosfets[i];s.push(n.vgs),s.push(n.vds),s.push(n.vgsChart),s.push(n.vdsChart)}for(const i in this.devices.voltageSources){const n=this.devices.voltageSources[i];s.push(n.voltageDrop)}return this.selectedDeviceCharts.forEach(i=>{s.push(i)}),this.circuitCopy?s.concat(this.circuitCopy.allSliders):s}drawGrid(s){this.transformationMatrix.transformCanvas(s);const i=this.transformationMatrix.inverse().transformPoint({x:0,y:0}),n=this.transformationMatrix.inverse().transformPoint({x:Un.value.width*ot.value,y:Un.value.height*ot.value});for(let o=Math.floor(i.x);o<=Math.ceil(n.x);o+=1)for(let r=Math.floor(i.y);r<=Math.ceil(n.y);r+=1){let a=.1;(Nn(o,10)==0||Nn(r,10)==0)&&(a=.2),s.fillStyle="brown",(o==0||r==0)&&(s.fillStyle="black"),s.beginPath(),s.arc(o,r,a,0,2*Math.PI),s.fill()}xo(s,this.boundingBox.map(o=>({center:o.toPoint(),outerDiameter:2})),.2,"purple")}calculateTransformationMatrixBasedOnBoundingBox(s,i=this.boundingBox){const n=Math.min(...i.map(k=>k.toPoint().x)),o=Math.max(...i.map(k=>k.toPoint().x)),r=Math.min(...i.map(k=>k.toPoint().y)),a=Math.max(...i.map(k=>k.toPoint().y)),l=Math.abs(r-a),f=Math.abs(o-n),u={x:n+f/2,y:r+l/2},g=Math.max(s.canvas.width,1),p=Math.max(s.canvas.height,1),y=Math.min(g/ot.value/f,p/ot.value/l),T={x:(g/ot.value/y-f)/2,y:(p/ot.value/y-l)/2};return new ae().scale(ot.value*y).translate(T).translate({x:-u.x+f/2,y:-u.y+l/2})}setScaleBasedOnBoundingBox(s,i=this.boundingBox){this.transformations[1].value=new ae,this.transformations[0].value=this.calculateTransformationMatrixBasedOnBoundingBox(s,i),this.textTransformationMatrix=this.transformationMatrix.scale(1/In).multiply(this.originalTextTransformationMatrix),this.setCtxArtistScale()}setCtxArtistScale(){ke.circuitTransformationMatrix=this.transformationMatrix,ke.textTransformationMatrix=this.textTransformationMatrix}resetNodeCapacitance(){for(const s in this.nodes){const i=this.nodes[s].value;i.capacitance=i.originalCapacitance}}nodeVoltagesToJson(){const s=Object.fromEntries(Object.entries(this.nodes).map(([n,o])=>[n,o.value.voltage]));return JSON.stringify([this.name,s])}fixedNodeVoltagesToJson(){const s=Object.fromEntries(Object.entries(this.nodes).filter(([n,o])=>o.value.fixed).map(([n,o])=>[n,o.value.voltage]));return JSON.stringify([this.name,s])}nodeVoltagesFromJson(s){const i=JSON.parse(s);if(i[0]!=this.name)return!1;let n=!1;const o=i[1];Object.entries(o).forEach(([r,a])=>{this.nodes[r].value.voltage=a,[I,ve].includes(r)||(n=!0)}),n&&this.resetNodeCapacitance()}}class Hf extends Bs{copy(){return null}setCtxArtistScale(){}}class Gf{constructor(){m(this,"items",[])}enqueue(t){this.items.push(t)}dequeue(){return this.items.shift()}peek(){return this.items[0]}isEmpty(){return this.items.length===0}size(){return this.items.length}toArray(){return this.items}fill(t,s){this.items=Array(s).fill(t)}}class le{constructor(t,s){m(this,"voltage");m(this,"netCurrent");m(this,"capacitance");m(this,"originalCapacitance");m(this,"fixed");m(this,"historicVoltages");m(this,"schematicEffects",[]);const i=new Gf;i.fill(0,10);const n=s?Pf:Cf;this.voltage=t,this.netCurrent=0,this.capacitance=n,this.originalCapacitance=n,this.fixed=!!s,this.historicVoltages=i}}class Ee extends ke{constructor(t=[],s){super(t,new ae().translate(s))}draw(t){this.transformationMatrix.transformCanvas(t);const s=.8;t.strokeStyle="black",t.lineWidth=this.localLineThickness,t.beginPath(),t.moveTo(0,0),t.lineTo(s/2,0),t.lineTo(0,s/2),t.lineTo(-s/2,0),t.lineTo(0,0),t.stroke()}copy(t){return new Ee([t].concat(this.transformations.slice(1)),{x:0,y:0})}}class ft extends ke{constructor(t=[],s){super(t,new ae().translate(s))}draw(t){this.transformationMatrix.transformCanvas(t);const s=.8;t.strokeStyle="black",t.lineWidth=this.localLineThickness,t.beginPath(),t.moveTo(s/2,0),t.lineTo(-s/2,0),t.stroke()}copy(t){return new ft([t].concat(this.transformations.slice(1)),{x:0,y:0})}}const Kf=()=>{const e=new Bs("nMosSingle",{x:0,y:-3},10,20);e.nodes={[I]:P(new le(ue,!0)),[ve]:P(new le(oe,!0)),M1_drain:P(new le(5,!1)),M1_gate:P(new le(1,!1))};const t=new se(e.transformations,te(()=>Je([{start:{x:0,y:2},end:{x:0,y:-4}}],De(ue,oe,e.nodes.M1_drain.value.voltage)/(oe-ue)))),s=new se(e.transformations,te(()=>({x:0,y:-4}))),i=new se(e.transformations,te(()=>e.devices.mosfets.M1.selected.value?{x:7,y:0}:{x:0,y:0}));return e.boundingBox=[new K(s.transformations,{x:-5,y:-12}),new K(t.transformations,{x:5,y:-12}),new K(e.transformations,{x:-5,y:6}),new K(i.transformations,{x:5,y:6})],e.devices.mosfets={M1:new Ve(e.transformations,"nmos",0,0,e.nodes.M1_gate,e.nodes[I],e.nodes.M1_drain,e.nodes[I],e.nodes[I],3,5,!1,"visible","visible","furtherGate")},e.devices.mosfets.M1.vgsChart.visibility="visible",e.devices.mosfets.M1.vdsChart.visibility="visible",e.devices.voltageSources={Vd:new Xe(t.transformations,{x:0,y:-6},e.nodes.M1_drain,e.nodes[ve],"Vdd-Vd","vdd",!0)},e.schematic=new Nt(e.transformations,[new Ee(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs"))],[new ft(s.transformations,{x:0,y:-8})],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes.M1_drain,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vminus"))],voltageDisplayLabel:"Drain",voltageDisplayLocations:[new K(t.transformations,{x:.5,y:-4})]},{node:e.nodes[ve],lines:[new C(s.transformations,{x:0,y:-8},...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vplus"))],voltageDisplayLabel:"",voltageDisplayLocations:[]}]),e.finishSetup(),e},qf=()=>{const e=new Bs("nMosDiffPair",{x:0,y:4},25,20);e.nodes={[I]:P(new le(ue,!0)),[ve]:P(new le(oe,!0)),M1_gate:P(new le(2,!1)),M2_gate:P(new le(2,!1)),Mb_gate:P(new le(.7,!1)),Vnode:P(new le(1,!1))};const t=new se(e.transformations,te(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],De(ue,oe,Math.max(e.nodes.M1_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-ue)))),s=new se(e.transformations,te(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],De(ue,oe,Math.max(e.nodes.M2_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-ue)))),i=new se(e.transformations,te(()=>Je([{start:{x:0,y:0},end:{x:0,y:-8}}],De(ue,oe,e.nodes.Vnode.value.voltage)/(oe-ue)))),n=new se(t.transformations,te(()=>e.devices.mosfets.Mb.selected.value?{x:5,y:2}:{x:0,y:0})),o=new se(t.transformations,te(()=>e.devices.mosfets.M1.selected.value?{x:-8,y:0}:{x:0,y:0})),r=new se(s.transformations,te(()=>e.devices.mosfets.M2.selected.value?{x:8,y:0}:{x:0,y:0}));return e.boundingBox=[new K(o.transformations,{x:-11,y:-6}),new K(r.transformations,{x:11,y:-6}),new K(e.transformations,{x:-11,y:13}),new K(n.transformations,{x:11,y:13})],e.devices.mosfets={Mb:new Ve(e.transformations,"nmos",0,6,e.nodes.Mb_gate,e.nodes[I],e.nodes.Vnode,e.nodes[I],e.nodes[I],void 0,void 0,!1,"locked","locked","lowerVoltageSource"),M1:new Ve(t.transformations,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes[ve],e.nodes[I],e.nodes[I],void 0,void 0,!0,"locked","locked","voltageSource"),M2:new Ve(s.transformations,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes[ve],e.nodes[I],e.nodes[I],void 0,void 0,!1,"locked","locked","voltageSource")},e.devices.voltageSources={V1:new Xe(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[I],e.nodes.M1_gate,"V1","gnd",!0),V2:new Xe(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[I],e.nodes.M2_gate,"V2","gnd"),Vb:new Xe(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[I],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new Nt(e.transformations,[new Ee(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new Ee(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new Ee(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new Ee(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],[new ft(...e.devices.mosfets.M1.getAnchorPointWithTransformations("DrainSupply")),new ft(...e.devices.mosfets.M2.getAnchorPointWithTransformations("DrainSupply"))],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes[I],lines:[new C(e.transformations,{x:0,y:8},e.transformations,{x:0,y:9}),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes[ve],lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("DrainSupply")),new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("DrainSupply"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M1_gate,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_gate,lines:[new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Mb_gate,lines:[new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vnode,lines:[new C(i.transformations,{x:-4,y:3},...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs")),new C(i.transformations,{x:4,y:3},...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vs")),new C(i.transformations,{x:-4,y:3},i.transformations,{x:4,y:3}),new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vd"),i.transformations,{x:0,y:3})],voltageDisplayLabel:"V",voltageDisplayLocations:[new K(i.transformations,{x:-1,y:2.5})]}]),e.finishSetup(),e};class Ba extends ke{constructor(s=[],i,n,o){super(s,new ae().translate(n).scale(1/30));m(this,"node");m(this,"extraNodeLines");m(this,"currentDots");m(this,"gndSymbol");this.node=i,this.extraNodeLines=o,this.currentDots=new jn([{start:{x:10,y:-60},end:{x:10,y:60}}]),this.gndSymbol=new Ee(this.transformations,{x:0,y:30})}draw(s){this.transformationMatrix.scale(.5).transformCanvas(s);const i=7,n=[{start:{x:0,y:50},end:{x:0,y:i}},{start:{x:-30,y:i},end:{x:30,y:i}},{start:{x:-30,y:-i},end:{x:30,y:-i}},{start:{x:0,y:-60},end:{x:0,y:-i}}],o=this.transformationMatrix.transformPath(this.extraNodeLines);Wt(s,n,this.localLineThickness,"black"),Wt(s,o,this.localLineThickness,"black"),s.clearRect(-30-this.localLineThickness,-i+this.localLineThickness/2,60+2*this.localLineThickness,2*i-2*this.localLineThickness/2),this.gndSymbol.draw(s),this.transformationMatrix.scale(.5).transformCanvas(s),this.currentDots.draw(s)}}m(Ba,"displayCurrent",!1);const Yf=()=>{const e=new Bs("nMos5TransistorOpAmp",{x:0,y:0},25,28);e.nodes={[I]:P(new le(ue,!0)),[ve]:P(new le(oe,!0)),M1_gate:P(new le(2,!1)),M1_drain:P(new le(4,!1)),M2_gate:P(new le(2,!1)),Mb_gate:P(new le(.7,!1)),Vout:P(new le(4,!1)),Vnode:P(new le(1,!1))};const t=new se(e.transformations,te(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],De(ue,oe,Math.max(e.nodes.M1_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-ue)))),s=new se(e.transformations,te(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],De(ue,oe,Math.max(e.nodes.M2_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-ue)))),i=new se(e.transformations,te(()=>({x:0,y:-4}))),n=new se(e.transformations,te(()=>Je([{start:{x:0,y:0},end:{x:0,y:-8}}],De(ue,oe,e.nodes.Vnode.value.voltage)/(oe-ue)))),o=new se(e.transformations,te(()=>Je([{start:{x:0,y:2},end:{x:0,y:-6}}],De(ue,oe,Math.max(e.nodes.Vout.value.voltage,e.nodes.M2_gate.value.voltage-1.25))/(oe-ue)))),r=new se(t.transformations,te(()=>e.devices.mosfets.Mb.selected.value?{x:5,y:2}:{x:0,y:0})),a=new se(t.transformations,te(()=>e.devices.mosfets.M1.selected.value?{x:-8,y:0}:{x:0,y:0})),l=new se(s.transformations,te(()=>e.devices.mosfets.M2.selected.value?{x:8,y:0}:{x:0,y:0})),f=new se(i.transformations,te(()=>e.devices.mosfets.M3.selected.value?{x:-3,y:-3}:{x:0,y:0})),u=new se(i.transformations,te(()=>e.devices.mosfets.M4.selected.value?{x:3,y:-3}:{x:0,y:0}));return e.boundingBox=[new K(a.transformations,{x:-12,y:-14}),new K(l.transformations,{x:12,y:-14}),new K(f.transformations,{x:-12,y:-14}),new K(u.transformations,{x:12,y:-14}),new K(e.transformations,{x:-12,y:14}),new K(r.transformations,{x:12,y:14})],e.devices.mosfets={Mb:new Ve(e.transformations,"nmos",0,6,e.nodes.Mb_gate,e.nodes[I],e.nodes.Vnode,e.nodes[I],e.nodes[I],void 0,void 0,!1,"locked","locked","lowerVoltageSource"),M1:new Ve(t.transformations,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes.M1_drain,e.nodes[I],e.nodes[I],void 0,void 0,!0,"locked","locked","voltageSource"),M2:new Ve(s.transformations,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes.Vout,e.nodes[I],e.nodes[I],void 0,void 0,!1,"locked","locked","voltageSource"),M3:new Ve(i.transformations,"pmos",-4,-9,e.nodes.M1_drain,e.nodes[ve],e.nodes.M1_drain,e.nodes[ve],e.nodes[I],void 0,void 0,!1,"locked","locked","lowerBase"),M4:new Ve(i.transformations,"pmos",4,-9,e.nodes.M1_drain,e.nodes[ve],e.nodes.Vout,e.nodes[ve],e.nodes[I],void 0,void 0,!0,"locked","locked","lowerBase")},e.devices.voltageSources={V1:new Xe(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[I],e.nodes.M1_gate,"V1","gnd",!0),V2:new Xe(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[I],e.nodes.M2_gate,"V2","gnd"),Vb:new Xe(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[I],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new Nt(e.transformations,[new Ee(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new Ee(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new Ee(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new Ee(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],[new ft(...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new ft(...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply"))],[new Ba(o.transformations,e.nodes.Vout,{x:6,y:-4},[{start:{x:6,y:-5},end:{x:6,y:-4}}])],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes[I],lines:[new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes[ve],lines:[new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M1_gate,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_gate,lines:[new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Mb_gate,lines:[new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vnode,lines:[new C(n.transformations,{x:-4,y:3},...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs")),new C(n.transformations,{x:4,y:3},...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vs")),new C(n.transformations,{x:-4,y:3},n.transformations,{x:4,y:3}),new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vd"),n.transformations,{x:0,y:3})],voltageDisplayLabel:"V",voltageDisplayLocations:[new K(n.transformations,{x:-1,y:2.5})]},{node:e.nodes.M1_drain,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vd")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vg"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vout,lines:[new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vd")),new C(o.transformations,{x:4,y:-5},o.transformations,{x:6,y:-5})],voltageDisplayLabel:"Vout",voltageDisplayLocations:[new K(o.transformations,{x:6.5,y:-5})]}]),e.finishSetup(),e},Jf=()=>{const e=new Bs("nMos9TransistorOpAmp",{x:10,y:-2},50,30);e.nodes={[I]:P(new le(ue,!0)),[ve]:P(new le(oe,!0)),M1_gate:P(new le(2,!1)),M1_drain:P(new le(4,!1)),M2_gate:P(new le(2,!1)),M2_drain:P(new le(4,!1)),M7_drain:P(new le(1,!1)),Mb_gate:P(new le(.7,!1)),Vout:P(new le(4,!1)),Vnode:P(new le(1,!1))};const t=new se(e.transformations,te(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],De(ue,oe,Math.max(e.nodes.M1_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-ue)))),s=new se(e.transformations,te(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],De(ue,oe,Math.max(e.nodes.M2_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-ue)))),i=new se(e.transformations,te(()=>e.devices.mosfets.M5.selected.value||e.devices.mosfets.M6.selected.value?{x:0,y:e.devices.mosfets.M2.selected.value?-14:-10}:{x:0,y:-5})),n=new se(e.transformations,te(()=>{let y=[e.devices.mosfets.M2.selected.value,e.devices.mosfets.M5.selected.value,e.devices.mosfets.M6.selected.value,e.devices.mosfets.Mb.selected.value,e.devices.mosfets.M7.selected.value].filter(Boolean).length;return y==0?{x:0,y:0}:y==1?{x:5,y:0}:e.devices.mosfets.M5.selected.value&&e.devices.mosfets.M6.selected.value||e.devices.mosfets.Mb.selected.value&&e.devices.mosfets.M7.selected.value?{x:10,y:0}:{x:5,y:0}})),o=new se(i.transformations,te(()=>{let y=[e.devices.mosfets.M2.selected.value,e.devices.mosfets.M5.selected.value,e.devices.mosfets.M6.selected.value,e.devices.mosfets.Mb.selected.value,e.devices.mosfets.M7.selected.value].filter(Boolean).length;return y==0?{x:0,y:0}:y==1?{x:5,y:0}:e.devices.mosfets.M5.selected.value&&e.devices.mosfets.M6.selected.value||e.devices.mosfets.Mb.selected.value&&e.devices.mosfets.M7.selected.value?{x:10,y:0}:{x:5,y:0}})),r=new se(e.transformations,te(()=>Je([{start:{x:0,y:0},end:{x:0,y:-8}}],De(ue,oe,e.nodes.Vnode.value.voltage)/(oe-ue)))),a=new se(n.transformations,te(()=>Je([{start:{x:0,y:8.5},end:e.devices.mosfets.M5.selected.value||e.devices.mosfets.M6.selected.value?{x:0,y:e.devices.mosfets.M2.selected.value?-20:-15}:{x:0,y:-9}}],De(ue,oe,e.nodes.Vout.value.voltage)/(oe-ue)))),l=new se(e.transformations,te(()=>e.devices.mosfets.Mb.selected.value||e.devices.mosfets.M7.selected.value||e.devices.mosfets.M8.selected.value?{x:0,y:2}:{x:0,y:0})),f=new se(e.transformations,te(()=>e.devices.mosfets.M1.selected.value?{x:-8,y:0}:{x:0,y:0})),u=new se(i.transformations,te(()=>e.devices.mosfets.M3.selected.value?{x:-3,y:-4}:{x:0,y:0})),g=new se(o.transformations,te(()=>e.devices.mosfets.M4.selected.value?{x:2,y:-4}:{x:0,y:0})),p=new se(n.transformations,te(()=>e.devices.mosfets.M8.selected.value?{x:2,y:2}:{x:0,y:0}));return e.boundingBox=[new K(u.transformations,{x:-12,y:-16}),new K(g.transformations,{x:33,y:-16}),new K(l.transformations,{x:-12,y:12}),new K(f.transformations,{x:-12,y:0}),new K(p.transformations,{x:33,y:12})],e.devices.mosfets={Mb:new Ve(e.transformations,"nmos",0,6,e.nodes.Mb_gate,e.nodes[I],e.nodes.Vnode,e.nodes[I],e.nodes[I],void 0,void 0,!1,"locked","locked","lowerVoltageSource"),M1:new Ve(t.transformations,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes.M1_drain,e.nodes[I],e.nodes[I],void 0,void 0,!0,"locked","locked","voltageSource"),M2:new Ve(s.transformations,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes.M2_drain,e.nodes[I],e.nodes[I],void 0,void 0,!1,"locked","locked","voltageSource"),M3:new Ve(i.transformations,"pmos",-4,-12,e.nodes.M1_drain,e.nodes[ve],e.nodes.M1_drain,e.nodes[ve],e.nodes[I],void 0,void 0,!1,"locked","locked","lowerBase"),M4:new Ve(o.transformations,"pmos",24,-12,e.nodes.M1_drain,e.nodes[ve],e.nodes.Vout,e.nodes[ve],e.nodes[I],void 0,void 0,!0,"locked","locked","lowerBase"),M5:new Ve(i.transformations,"pmos",4,-7,e.nodes.M2_drain,e.nodes[ve],e.nodes.M2_drain,e.nodes[ve],e.nodes[I],void 0,void 0,!1,"locked","locked","mirrorDriver"),M6:new Ve(o.transformations,"pmos",16,-7,e.nodes.M2_drain,e.nodes[ve],e.nodes.M7_drain,e.nodes[ve],e.nodes[I],void 0,void 0,!0,"locked","locked","mirrorDriver"),M7:new Ve(n.transformations,"nmos",16,6,e.nodes.M7_drain,e.nodes[I],e.nodes.M7_drain,e.nodes[I],e.nodes[I],void 0,void 0,!1,"locked","locked","lowerBase"),M8:new Ve(n.transformations,"nmos",24,6,e.nodes.M7_drain,e.nodes[I],e.nodes.Vout,e.nodes[I],e.nodes[I],void 0,void 0,!0,"locked","locked","lowerBase")},e.devices.voltageSources={V1:new Xe(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[I],e.nodes.M1_gate,"V1","gnd",!0),V2:new Xe(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[I],e.nodes.M2_gate,"V2","gnd"),Vb:new Xe(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[I],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new Nt(e.transformations,[new Ee(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new Ee(...e.devices.mosfets.M7.getAnchorPointWithTransformations("SourceSupply")),new Ee(...e.devices.mosfets.M8.getAnchorPointWithTransformations("SourceSupply")),new Ee(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new Ee(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new Ee(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],[new ft(...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new ft(...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply")),new ft(...e.devices.mosfets.M5.getAnchorPointWithTransformations("SourceSupply")),new ft(...e.devices.mosfets.M6.getAnchorPointWithTransformations("SourceSupply"))],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes[I],lines:[new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M8.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M8.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes[ve],lines:[new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M6.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M6.getAnchorPointWithTransformations("SourceSupply"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M1_gate,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_gate,lines:[new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Mb_gate,lines:[new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vnode,lines:[new C(r.transformations,{x:-4,y:3},...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs")),new C(r.transformations,{x:4,y:3},...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vs")),new C(r.transformations,{x:-4,y:3},r.transformations,{x:4,y:3}),new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vd"),r.transformations,{x:0,y:3})],voltageDisplayLabel:"V",voltageDisplayLocations:[new K(r.transformations,{x:-1,y:2.5})]},{node:e.nodes.M1_drain,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vd")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vg"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_drain,lines:[new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vd")),new C(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M6.getAnchorPointWithTransformations("Vg")),new C(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_corner"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M7_drain,lines:[new C(...e.devices.mosfets.M6.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vd")),new C(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M8.getAnchorPointWithTransformations("Vg")),new C(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_corner"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vout,lines:[new C(...e.devices.mosfets.M8.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vd")),new C(a.transformations,{x:24,y:-5},a.transformations,{x:28,y:-5})],voltageDisplayLabel:"Vout",voltageDisplayLocations:[new K(a.transformations,{x:28.5,y:-5})]}]),e.finishSetup(),e},Xf=()=>{const e=new Bs("pMosSingle",{x:0,y:3},10,20);e.nodes={[I]:P(new le(ue,!0)),[ve]:P(new le(oe,!0)),M1_drain:P(new le(2,!1)),M1_gate:P(new le(1,!1))};const t=new se(e.transformations,te(()=>Je([{start:{x:0,y:4},end:{x:0,y:-2}}],De(ue,oe,e.nodes.M1_drain.value.voltage)/(oe-ue)))),s=new se(e.transformations,te(()=>({x:0,y:4}))),i=new se(e.transformations,te(()=>e.devices.mosfets.M1.selected.value?{x:7,y:0}:{x:0,y:0}));return e.boundingBox=[new K(e.transformations,{x:-5,y:-6}),new K(i.transformations,{x:5,y:-6}),new K(s.transformations,{x:-5,y:12}),new K(s.transformations,{x:5,y:12})],e.devices.mosfets={M1:new Ve(e.transformations,"pmos",0,0,e.nodes.M1_gate,e.nodes[ve],e.nodes.M1_drain,e.nodes[ve],e.nodes[I],3,5,!1,"visible","visible","furtherGate")},e.devices.mosfets.M1.vgsChart.visibility="visible",e.devices.mosfets.M1.vdsChart.visibility="visible",e.devices.voltageSources={Vd:new Xe(t.transformations,{x:0,y:6},e.nodes[I],e.nodes.M1_drain,"Vd","gnd",!0)},e.schematic=new Nt(e.transformations,[new Ee(s.transformations,{x:0,y:8})],[new ft(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs"))],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes.M1_drain,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vplus"))],voltageDisplayLabel:"Drain",voltageDisplayLocations:[new K(t.transformations,{x:.5,y:4.5})]},{node:e.nodes[I],lines:[new C(s.transformations,{x:0,y:8},...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vminus"))],voltageDisplayLabel:"",voltageDisplayLocations:[]}]),e.finishSetup(),e},Mn={nMosSingle:Kf(),nMosDiffPair:qf(),pMosSingle:Xf(),nMos5TransistorOpAmp:Yf(),nMos9TransistorOpAmp:Jf()},Zf=e=>(Jr("data-v-e876c244"),e=e(),Xr(),e),Qf={style:{"margin-right":"10px","text-align":"right"}},eu={style:{display:"flex","margin-bottom":"-30px",width:"100px"}},tu={style:{display:"flex","margin-top":"15px","margin-bottom":"15px"}},su=Zf(()=>ne("div",{style:{width:"15px",height:"3px","background-color":"black","border-radius":"2px"}},null,-1)),iu={style:{display:"flex","margin-top":"-30px",width:"100px"}},nu=Xi({__name:"Switch",props:{labelUp:{},labelDown:{},option:{},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,i=typeof s.modelValue=="boolean",n=t,o=()=>{if(i)n("update:modelValue",!s.modelValue);else{const r=s.modelValue===s.labelUp?s.labelDown:s.labelUp;n("update:modelValue",r)}};return(r,a)=>(Ot(),Qt("div",{onClick:o,style:{cursor:"pointer",display:"flex","align-items":"center","max-width":"250px",height:"50px",padding:"10px"},class:"prevent-select"},[ne("p",Qf,ts(s.option),1),ne("div",null,[ne("div",eu,[ne("div",{style:Ke(`width: 15px; border-radius: 2px; margin-top: 26px; background-color: black; height: ${i?s.modelValue?"3px":"2px":s.modelValue===s.labelUp?"3px":"2px"}; margin-left: 34px;`)},null,4),ne("p",{style:Ke(`margin-left: 7px; font-weight: ${i?s.modelValue?"bold":"":s.modelValue===s.labelUp?"bold":""}`)},ts(s.labelUp),5)]),ne("div",tu,[su,ne("div",{style:Ke(`width: 26px; height: 3px; background-color: black; border-radius: 2px; margin-left: -1px; transform: rotate(${i?s.modelValue?"-33deg":"33deg":s.modelValue===s.labelUp?"-33deg":"33deg"}); transform-origin: 0% 50%; transition-duration: 200ms;`)},null,4)]),ne("div",iu,[ne("div",{style:Ke(`width: 15px; border-radius: 2px; margin-top: 26px; background-color: black; height: ${i?s.modelValue?"2px":"3px":s.modelValue===s.labelUp?"2px":"3px"}; margin-left: 34px;`)},null,4),ne("p",{style:Ke(`margin-left: 7px; font-weight: ${i?s.modelValue?"":"bold":s.modelValue===s.labelDown?"bold":""}`)},ts(s.labelDown),5)])])]))}}),ja=(e,t)=>{const s=e.__vccOpts||e;for(const[i,n]of t)s[i]=n;return s},vr=ja(nu,[["__scopeId","data-v-e876c244"]]);function ou(){const e=P(window.innerWidth),t=P(window.innerHeight),s=P(!1),i=P(!1),n=P(!1),o=P(!1),r=P(!1),a=P(!1),l=P(!1),f=P(!1),u=P(!1),g=P(!1),p=P(!1),y=()=>{e.value=window.innerWidth,t.value=window.innerHeight,e.value<600?r.value=!0:e.value<960?(o.value=!0,a.value=!0):e.value<1264?(n.value=!0,l.value=!0):e.value<1904?(i.value=!0,f.value=!0):s.value=!0,e.value>1904?p.value=!0:e.value>1264?g.value=!0:e.value>960&&(u.value=!0)};return Yl(()=>(window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)})),en(()=>y()),{xs:r,sm:o,md:n,lg:i,xl:s,smAndDown:a,mdAndDown:l,lgAndDown:f,smAndUp:u,mdAndUp:g,lgAndUp:p,screenWidth:e,screenHeight:t}}const wo=e=>(Jr("data-v-40dec002"),e=e(),Xr(),e),ru={style:{position:"absolute",top:"10px",left:"10px"}},au=wo(()=>ne("h3",{style:{"text-align":"center"}},"Circuits",-1)),lu=wo(()=>ne("div",{style:{border:"1px solid grey"}},null,-1)),cu=["onClick"],fu=wo(()=>ne("div",{style:{border:"1px solid grey","margin-top":"20px","margin-bottom":"30px"}},null,-1)),uu={style:{display:"flex","flex-wrap":"wrap",width:"210px","justify-content":"end"}},hu=Xi({__name:"Diagram",setup(e){const{screenHeight:t,screenWidth:s,xs:i}=ou(),n=te(()=>{const G=t.value/4,W=s.value/4,D=2,ge=i.value?{width:s.value-30,height:T.value?t.value-30-G+5:t.value-30}:{width:T.value?s.value-30-W+5:s.value-30,height:t.value-30},Ft=i.value?{width:(s.value-30)/2-D,height:G}:{width:W,height:(t.value-30)/2-D},Ss=i.value?{width:(s.value-30)/2-D,height:G}:{width:W,height:(t.value-30)/2-D};return{mainCanvas:ge,graphBarChartCanvas:Ft,graphBarMosfetCanvas:Ss,borderWidth:D}}),o=P(null),r=P(null),a=P(null),l=P(null),f=P(null),u=P(null);let g=0;const p=P(null),y=P(!1),T=P(!0),E=N=>{p.value&&!p.value.contains(N.target)&&(y.value=!1)},k=P("nMosDiffPair"),S=Object.keys(Mn),V=Ll(Mn[k.value]);window.Worker||console.log("Your browser doesn't support web workers.");const z=new Worker(new URL("/assets/incrementCircuitWorker-C9a5uioC.js",import.meta.url),{type:"module"});z.onmessage=N=>{V.value.nodeVoltagesFromJson(N.data)};const H=N=>{k.value=N,V.value=Mn[N]},ee=()=>{V.value.allSliders.forEach(N=>{N.updateValueBasedOnNodeVoltages()})},Y=()=>{V.value.allSliders.forEach(N=>{N.updateNodeVoltagesBasedOnValue()})},de=N=>{const G=N.target;if(!G)return{mouseX:0,mouseY:0};const W=G.getBoundingClientRect(),D=(N.clientX-W.left)*ot.value,ge=(N.clientY-W.top)*ot.value;return{mouseX:D,mouseY:ge}},j=N=>{const{mouseX:G,mouseY:W}=de(N);V.value.allSliders.forEach(D=>{D.canvasId==N.target.className&&D.checkDrag({x:G,y:W},N.button==1)}),V.value.anySlidersDragging||(Object.values(V.value.devices.mosfets).forEach(D=>{D.canvasId==N.target.className&&(D.mouseDownInsideSelectionArea=D.checkSelectionArea({x:G,y:W}))}),Object.values(V.value.devices.voltageSources).forEach(D=>{D.canvasId==N.target.className&&(D.mouseDownInsideSelectionArea=D.checkSelectionArea({x:G,y:W}))})),ce(N),document.addEventListener("mousemove",ce),document.addEventListener("mouseup",fe)},ce=N=>{const{mouseX:G,mouseY:W}=de(N);V.value.allSliders.forEach(D=>{D.dragSlider({x:G,y:W})}),Y()},fe=N=>{const{mouseX:G,mouseY:W}=de(N);!V.value.anySlidersDragging&&N.target.className=="main"&&(V.value.resetSelectedDevice(),Object.values(V.value.devices.mosfets).forEach(D=>{D.mouseDownInsideSelectionArea&&D.checkSelectionArea({x:G,y:W})?(D.selectedFocus.value&&(D.selected.value=!D.selected.value),D.selectedFocus.value=!0,V.value.setSelectedDevice(D)):D.selectedFocus.value=!1,D.mouseDownInsideSelectionArea=!1}),Object.values(V.value.devices.voltageSources).forEach(D=>{D.mouseDownInsideSelectionArea&&D.checkSelectionArea({x:G,y:W})?(D.selectedFocus.value=!0,V.value.setSelectedDevice(D)):D.selectedFocus.value=!1,D.mouseDownInsideSelectionArea=!1})),V.value.allSliders.forEach(D=>{D.releaseSlider()}),document.removeEventListener("mousemove",ce),document.removeEventListener("mouseup",fe)},Te=(N,G,W)=>{if(!N.value||(G.value=N.value.getContext("2d"),!G.value))return!1;$f(G.value,W);const D=ot.value;return N.value.width=W.value.width*D,N.value.height=W.value.height*D,N.value.style.width=`${W.value.width}px`,N.value.style.height=`${W.value.height}px`,G.value.resetTransform(),G.value.clearRect(0,0,N.value.width,N.value.height),!0},R=()=>{var G;if(!Te(o,r,Un)||!Te(a,l,Bf)||!Te(f,u,jf))return;const N=V.value.fixedNodeVoltagesToJson();z.postMessage(N),ee(),V.value.draw(r.value),V.value.anyDevicesSelected&&y&&(ke.textTransformationMatrix.relativeScale=V.value.circuitCopy.transformationMatrix.relativeScale/In,(G=V.value.circuitCopy)==null||G.draw(l.value),V.value.drawSelectedDeviceCharts(u.value))},ye=N=>{const G=N-g;g=N,V.value.allSliders.forEach(W=>{W.adjustPreciseSlider(G)}),Y(),Object.values(V.value.devices.mosfets).forEach(W=>{W.currentDots.updateDotPositionBasedOnTimestamp(W.current,G)}),Object.values(V.value.circuitCopy.devices.mosfets).forEach(W=>{W.currentDots.updateDotPositionBasedOnTimestamp(W.current,G)}),Object.values(V.value.schematic.parasiticCapacitors).forEach(W=>{W.currentDots.updateDotPositionBasedOnTimestamp(W.node.value.netCurrent,G)}),R(),requestAnimationFrame(ye)};return en(()=>{o.value&&(r.value=o.value.getContext("2d"),document.addEventListener("click",E),R(),requestAnimationFrame(ye)),a.value&&(l.value=a.value.getContext("2d")),f.value&&(u.value=f.value.getContext("2d"))}),mo(()=>{}),(N,G)=>(Ot(),Qt(at,null,[ne("div",ru,[ne("button",{onClick:G[0]||(G[0]=gr(W=>y.value=!y.value,["stop"]))},"Menu")]),Ie(bo,null,{default:Zr(()=>[zo(ne("div",{ref_key:"sideBar",ref:p,style:{display:"flex","flex-direction":"column",width:"250px",height:"100vh",padding:"10px","background-color":"whitesmoke",position:"absolute"}},[au,lu,(Ot(!0),Qt(at,null,fc(Ut(S),W=>(Ot(),Qt("button",{onClick:gr(D=>H(W),["prevent"]),style:Ke(`margin-bottom: 10px; background-color: ${W===k.value?"rgb(200, 200, 200)":""};`)},ts(W),13,cu))),256)),fu,zo(ne("input",{type:"range",min:"1",max:"5",step:"1","onUpdate:modelValue":G[1]||(G[1]=W=>Ne(ot)?ot.value=W:null)},null,512),[[bf,Ut(ot)]]),ne("div",uu,[Ie(vr,{"label-up":"On","label-down":"Off",option:"Draw Grid",modelValue:Ut(ti),"onUpdate:modelValue":G[2]||(G[2]=W=>Ne(ti)?ti.value=W:null)},null,8,["modelValue"]),Ie(vr,{"label-up":"On","label-down":"Off",option:"Floating Nodes",modelValue:Ut(Di),"onUpdate:modelValue":G[3]||(G[3]=W=>Ne(Di)?Di.value=W:null)},null,8,["modelValue"])]),ne("button",{onClick:G[4]||(G[4]=W=>y.value=!1),style:{position:"absolute",bottom:"40px",right:"15px"}},"Close")],512),[[tf,y.value]])]),_:1}),Ut(i)?(Ot(),Qt("button",{key:0,onClick:G[5]||(G[5]=W=>T.value=!T.value),style:{position:"absolute",bottom:"0","font-size":"xx-large",padding:"5px",width:"100px",right:"calc(50% - 50px)"}},ts(T.value?"V":"^"),1)):(Ot(),Qt("button",{key:1,onClick:G[6]||(G[6]=W=>T.value=!T.value),style:{position:"absolute",right:"0","font-size":"xx-large",padding:"5px",height:"100px",top:"calc(50vh - 50px)"}},ts(T.value?">":"<"),1)),ne("div",null,[ne("div",{style:Ke({display:"flex",flexDirection:Ut(i)?"column":"row"})},[ne("canvas",{ref_key:"canvas",ref:o,onMousedown:j,style:Ke(`border-color: blue; border-width: 2px; background-color: white; width: ${n.value.mainCanvas.width}px; height: ${n.value.mainCanvas.height}px;`),class:"main"},null,36),ne("div",{style:Ke({display:"flex",flexDirection:Ut(i)?"row":"column"})},[ne("canvas",{ref_key:"graphBarChartCanvas",ref:f,onMousedown:j,style:Ke(`border-color: blue; border-width: ${n.value.borderWidth}px; background-color: white; width: ${n.value.graphBarChartCanvas.width}px; height: ${n.value.graphBarChartCanvas.height}px; display: ${T.value?"block":"none"}`),class:"chart"},null,36),ne("canvas",{ref_key:"graphBarMosfetCanvas",ref:a,onMousedown:j,style:Ke(`border-color: blue; border-width: ${n.value.borderWidth}px; background-color: white; width: ${n.value.graphBarMosfetCanvas.width}px; height: ${n.value.graphBarMosfetCanvas.height}px; display: ${T.value?"block":"none"}`),class:"mosfet"},null,36)],4)],4)])],64))}}),du=ja(hu,[["__scopeId","data-v-40dec002"]]),gu={key:0},mu={style:{color:"white"}},pu={style:{color:"white"}},vu={style:{display:"flex","justify-content":"space-around"}},yu=Xi({__name:"Tutorial",props:{setTutorialStep:{type:Function},data:{}},setup(e){const t=e;return(s,i)=>t.data.title!==""?(Ot(),Qt("div",gu,[ne("div",{style:Ke(`background-color: #FF7F7F; border-radius: 10px; border: 2px solid red; position: absolute; max-width: 400px; padding: 20px; ${t.data.location?t.data.location.y:"top: 45vh"}; ${t.data.location?t.data.location.x:"left: calc(50vw - 200px"}); box-shadow: rgba(0, 0, 0, 0.4) 0px 8px 24px;`)},[ne("h3",mu,ts(t.data.title),1),ne("p",pu,ts(t.data.text),1),ne("div",vu,[ne("button",{onClick:i[0]||(i[0]=n=>s.setTutorialStep())},"Ok"),ne("button",{onClick:i[1]||(i[1]=n=>s.setTutorialStep(!0))},"Skip")])],4)])):xa("",!0)}}),bu=Xi({__name:"App",setup(e){const t=[{title:"",text:""},{title:"Welcome to Mosfets",text:"This will show you around the program."},{title:"Side Bar",text:"These buttons allow you to switch circuits.",location:{x:"left: 200px;",y:"top: 50px;"}},{title:"Circuits",text:"Highlighted sliders allow you to manipulate the voltages on each voltage source. Move one to see how they work.",location:{x:"right: 45vw;",y:"top: 200px;"}},{title:"Current",text:"Blue dots move relative to the current flowing through the mosfet. Move the orange voltage sliders to see it change.",location:{x:"right: 45vw;",y:"top: 200px;"}}],s=P(1),i=(a=!1)=>{a?s.value=t.length:s.value++,s.value>t.length-1&&(s.value=0)},o=P((()=>{const a="firstTimeLoad",l=localStorage.getItem(a)===null;return l&&localStorage.setItem(a,"false"),l})()),r=()=>{o.value=!0,s.value=1};return document.body.onmousedown=function(a){if(a.button==1)return a.preventDefault(),!1},(a,l)=>(Ot(),Qt("div",null,[Ie(du),o.value?(Ot(),ya(yu,{key:0,data:t[s.value],setTutorialStep:i},null,8,["data"])):xa("",!0),ne("button",{onClick:r,style:{position:"absolute",bottom:"5px",left:"5px"}},"?")]))}});Sf(bu).mount("#app");
