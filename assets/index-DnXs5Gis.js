var Ga=Object.defineProperty;var Ka=(e,t,s)=>t in e?Ga(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var m=(e,t,s)=>(Ka(e,typeof t!="symbol"?t+"":t,s),s),hn=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var c=(e,t,s)=>(hn(e,t,"read from private field"),s?s.call(e):t.get(e)),X=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},H=(e,t,s,i)=>(hn(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s);var vi=(e,t,s,i)=>({set _(n){H(e,t,n,s)},get _(){return c(e,t,i)}}),k=(e,t,s)=>(hn(e,t,"access private method"),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function eo(e,t){const s=new Set(e.split(","));return i=>s.has(i)}const xe={},Ls=[],lt=()=>{},qa=()=>!1,Gi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),to=e=>e.startsWith("onUpdate:"),Te=Object.assign,so=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Ya=Object.prototype.hasOwnProperty,re=(e,t)=>Ya.call(e,t),q=Array.isArray,Ds=e=>Ki(e)==="[object Map]",xr=e=>Ki(e)==="[object Set]",Q=e=>typeof e=="function",Ae=e=>typeof e=="string",Vs=e=>typeof e=="symbol",we=e=>e!==null&&typeof e=="object",wr=e=>(we(e)||Q(e))&&Q(e.then)&&Q(e.catch),Mr=Object.prototype.toString,Ki=e=>Mr.call(e),Ja=e=>Ki(e).slice(8,-1),Vr=e=>Ki(e)==="[object Object]",io=e=>Ae(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ys=eo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qi=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Xa=/-(\w)/g,Ns=qi(e=>e.replace(Xa,(t,s)=>s?s.toUpperCase():"")),Za=/\B([A-Z])/g,zs=qi(e=>e.replace(Za,"-$1").toLowerCase()),_r=qi(e=>e.charAt(0).toUpperCase()+e.slice(1)),un=qi(e=>e?`on${_r(e)}`:""),os=(e,t)=>!Object.is(e,t),Ci=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},Sr=(e,t,s,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:s})},Sn=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Qa=e=>{const t=Ae(e)?Number(e):NaN;return isNaN(t)?e:t};let Eo;const Tr=()=>Eo||(Eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ke(e){if(q(e)){const t={};for(let s=0;s<e.length;s++){const i=e[s],n=Ae(i)?il(i):Ke(i);if(n)for(const o in n)t[o]=n[o]}return t}else if(Ae(e)||we(e))return e}const el=/;(?![^(]*\))/g,tl=/:([^]+)/,sl=/\/\*[^]*?\*\//g;function il(e){const t={};return e.replace(sl,"").split(el).forEach(s=>{if(s){const i=s.split(tl);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function no(e){let t="";if(Ae(e))t=e;else if(q(e))for(let s=0;s<e.length;s++){const i=no(e[s]);i&&(t+=i+" ")}else if(we(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const nl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ol=eo(nl);function Ar(e){return!!e||e===""}const ss=e=>Ae(e)?e:e==null?"":q(e)||we(e)&&(e.toString===Mr||!Q(e.toString))?JSON.stringify(e,Cr,2):String(e),Cr=(e,t)=>t&&t.__v_isRef?Cr(e,t.value):Ds(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[i,n],o)=>(s[dn(i,o)+" =>"]=n,s),{})}:xr(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>dn(s))}:Vs(t)?dn(t):we(t)&&!q(t)&&!Vr(t)?String(t):t,dn=(e,t="")=>{var s;return Vs(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gt;class rl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=gt,!t&&gt&&(this.index=(gt.scopes||(gt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=gt;try{return gt=this,t()}finally{gt=s}}}on(){gt=this}off(){gt=this.parent}stop(t){if(this._active){let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.scopes)for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function al(e,t=gt){t&&t.active&&t.effects.push(e)}function ll(){return gt}let ws;class oo{constructor(t,s,i,n){this.fn=t,this.trigger=s,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,al(this,n)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,as();for(let t=0;t<this._depsLength;t++){const s=this.deps[t];if(s.computed&&(cl(s.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ls()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=is,s=ws;try{return is=!0,ws=this,this._runnings++,Oo(this),this.fn()}finally{Wo(this),this._runnings--,ws=s,is=t}}stop(){this.active&&(Oo(this),Wo(this),this.onStop&&this.onStop(),this.active=!1)}}function cl(e){return e.value}function Oo(e){e._trackId++,e._depsLength=0}function Wo(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Pr(e.deps[t],e);e.deps.length=e._depsLength}}function Pr(e,t){const s=e.get(t);s!==void 0&&t._trackId!==s&&(e.delete(t),e.size===0&&e.cleanup())}let is=!0,Tn=0;const Lr=[];function as(){Lr.push(is),is=!1}function ls(){const e=Lr.pop();is=e===void 0?!0:e}function ro(){Tn++}function ao(){for(Tn--;!Tn&&An.length;)An.shift()()}function Dr(e,t,s){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const i=e.deps[e._depsLength];i!==t?(i&&Pr(i,e),e.deps[e._depsLength++]=t):e._depsLength++}}const An=[];function Er(e,t,s){ro();for(const i of e.keys()){let n;i._dirtyLevel<t&&(n??(n=e.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=t),i._shouldSchedule&&(n??(n=e.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&An.push(i.scheduler)))}ao()}const Or=(e,t)=>{const s=new Map;return s.cleanup=e,s.computed=t,s},Cn=new WeakMap,Ms=Symbol(""),Pn=Symbol("");function Ze(e,t,s){if(is&&ws){let i=Cn.get(e);i||Cn.set(e,i=new Map);let n=i.get(s);n||i.set(s,n=Or(()=>i.delete(s))),Dr(ws,n)}}function zt(e,t,s,i,n,o){const r=Cn.get(e);if(!r)return;let a=[];if(t==="clear")a=[...r.values()];else if(s==="length"&&q(e)){const l=Number(i);r.forEach((f,h)=>{(h==="length"||!Vs(h)&&h>=l)&&a.push(f)})}else switch(s!==void 0&&a.push(r.get(s)),t){case"add":q(e)?io(s)&&a.push(r.get("length")):(a.push(r.get(Ms)),Ds(e)&&a.push(r.get(Pn)));break;case"delete":q(e)||(a.push(r.get(Ms)),Ds(e)&&a.push(r.get(Pn)));break;case"set":Ds(e)&&a.push(r.get(Ms));break}ro();for(const l of a)l&&Er(l,4);ao()}const fl=eo("__proto__,__v_isRef,__isVue"),Wr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Vs)),Fo=hl();function hl(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const i=ue(this);for(let o=0,r=this.length;o<r;o++)Ze(i,"get",o+"");const n=i[t](...s);return n===-1||n===!1?i[t](...s.map(ue)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){as(),ro();const i=ue(this)[t].apply(this,s);return ao(),ls(),i}}),e}function ul(e){Vs(e)||(e=String(e));const t=ue(this);return Ze(t,"has",e),t.hasOwnProperty(e)}class Fr{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,i){const n=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return o;if(s==="__v_raw")return i===(n?o?Sl:Nr:o?Ir:Rr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const r=q(t);if(!n){if(r&&re(Fo,s))return Reflect.get(Fo,s,i);if(s==="hasOwnProperty")return ul}const a=Reflect.get(t,s,i);return(Vs(s)?Wr.has(s):fl(s))||(n||Ze(t,"get",s),o)?a:ke(a)?r&&io(s)?a:a.value:we(a)?n?zr(a):fo(a):a}}class kr extends Fr{constructor(t=!1){super(!1,t)}set(t,s,i,n){let o=t[s];if(!this._isShallow){const l=si(o);if(!Ii(i)&&!si(i)&&(o=ue(o),i=ue(i)),!q(t)&&ke(o)&&!ke(i))return l?!1:(o.value=i,!0)}const r=q(t)&&io(s)?Number(s)<t.length:re(t,s),a=Reflect.set(t,s,i,n);return t===ue(n)&&(r?os(i,o)&&zt(t,"set",s,i):zt(t,"add",s,i)),a}deleteProperty(t,s){const i=re(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&i&&zt(t,"delete",s,void 0),n}has(t,s){const i=Reflect.has(t,s);return(!Vs(s)||!Wr.has(s))&&Ze(t,"has",s),i}ownKeys(t){return Ze(t,"iterate",q(t)?"length":Ms),Reflect.ownKeys(t)}}class dl extends Fr{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const gl=new kr,ml=new dl,vl=new kr(!0);const lo=e=>e,Yi=e=>Reflect.getPrototypeOf(e);function pi(e,t,s=!1,i=!1){e=e.__v_raw;const n=ue(e),o=ue(t);s||(os(t,o)&&Ze(n,"get",t),Ze(n,"get",o));const{has:r}=Yi(n),a=i?lo:s?uo:ii;if(r.call(n,t))return a(e.get(t));if(r.call(n,o))return a(e.get(o));e!==n&&e.get(t)}function yi(e,t=!1){const s=this.__v_raw,i=ue(s),n=ue(e);return t||(os(e,n)&&Ze(i,"has",e),Ze(i,"has",n)),e===n?s.has(e):s.has(e)||s.has(n)}function bi(e,t=!1){return e=e.__v_raw,!t&&Ze(ue(e),"iterate",Ms),Reflect.get(e,"size",e)}function ko(e){e=ue(e);const t=ue(this);return Yi(t).has.call(t,e)||(t.add(e),zt(t,"add",e,e)),this}function Ro(e,t){t=ue(t);const s=ue(this),{has:i,get:n}=Yi(s);let o=i.call(s,e);o||(e=ue(e),o=i.call(s,e));const r=n.call(s,e);return s.set(e,t),o?os(t,r)&&zt(s,"set",e,t):zt(s,"add",e,t),this}function Io(e){const t=ue(this),{has:s,get:i}=Yi(t);let n=s.call(t,e);n||(e=ue(e),n=s.call(t,e)),i&&i.call(t,e);const o=t.delete(e);return n&&zt(t,"delete",e,void 0),o}function No(){const e=ue(this),t=e.size!==0,s=e.clear();return t&&zt(e,"clear",void 0,void 0),s}function xi(e,t){return function(i,n){const o=this,r=o.__v_raw,a=ue(r),l=t?lo:e?uo:ii;return!e&&Ze(a,"iterate",Ms),r.forEach((f,h)=>i.call(n,l(f),l(h),o))}}function wi(e,t,s){return function(...i){const n=this.__v_raw,o=ue(n),r=Ds(o),a=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,f=n[e](...i),h=s?lo:t?uo:ii;return!t&&Ze(o,"iterate",l?Pn:Ms),{next(){const{value:g,done:v}=f.next();return v?{value:g,done:v}:{value:a?[h(g[0]),h(g[1])]:h(g),done:v}},[Symbol.iterator](){return this}}}}function $t(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function pl(){const e={get(o){return pi(this,o)},get size(){return bi(this)},has:yi,add:ko,set:Ro,delete:Io,clear:No,forEach:xi(!1,!1)},t={get(o){return pi(this,o,!1,!0)},get size(){return bi(this)},has:yi,add:ko,set:Ro,delete:Io,clear:No,forEach:xi(!1,!0)},s={get(o){return pi(this,o,!0)},get size(){return bi(this,!0)},has(o){return yi.call(this,o,!0)},add:$t("add"),set:$t("set"),delete:$t("delete"),clear:$t("clear"),forEach:xi(!0,!1)},i={get(o){return pi(this,o,!0,!0)},get size(){return bi(this,!0)},has(o){return yi.call(this,o,!0)},add:$t("add"),set:$t("set"),delete:$t("delete"),clear:$t("clear"),forEach:xi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=wi(o,!1,!1),s[o]=wi(o,!0,!1),t[o]=wi(o,!1,!0),i[o]=wi(o,!0,!0)}),[e,s,t,i]}const[yl,bl,xl,wl]=pl();function co(e,t){const s=t?e?wl:xl:e?bl:yl;return(i,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(re(s,n)&&n in i?s:i,n,o)}const Ml={get:co(!1,!1)},Vl={get:co(!1,!0)},_l={get:co(!0,!1)};const Rr=new WeakMap,Ir=new WeakMap,Nr=new WeakMap,Sl=new WeakMap;function Tl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Al(e){return e.__v_skip||!Object.isExtensible(e)?0:Tl(Ja(e))}function fo(e){return si(e)?e:ho(e,!1,gl,Ml,Rr)}function Cl(e){return ho(e,!1,vl,Vl,Ir)}function zr(e){return ho(e,!0,ml,_l,Nr)}function ho(e,t,s,i,n){if(!we(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=n.get(e);if(o)return o;const r=Al(e);if(r===0)return e;const a=new Proxy(e,r===2?i:s);return n.set(e,a),a}function Js(e){return si(e)?Js(e.__v_raw):!!(e&&e.__v_isReactive)}function si(e){return!!(e&&e.__v_isReadonly)}function Ii(e){return!!(e&&e.__v_isShallow)}function Br(e){return e?!!e.__v_raw:!1}function ue(e){const t=e&&e.__v_raw;return t?ue(t):e}function Pl(e){return Object.isExtensible(e)&&Sr(e,"__v_skip",!0),e}const ii=e=>we(e)?fo(e):e,uo=e=>we(e)?zr(e):e;class jr{constructor(t,s,i,n){this.getter=t,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new oo(()=>t(this._value),()=>Pi(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const t=ue(this);return(!t._cacheable||t.effect.dirty)&&os(t._value,t._value=t.effect.run())&&Pi(t,4),$r(t),t.effect._dirtyLevel>=2&&Pi(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Ll(e,t,s=!1){let i,n;const o=Q(e);return o?(i=e,n=lt):(i=e.get,n=e.set),new jr(i,n,o||!n,s)}function $r(e){var t;is&&ws&&(e=ue(e),Dr(ws,(t=e.dep)!=null?t:e.dep=Or(()=>e.dep=void 0,e instanceof jr?e:void 0)))}function Pi(e,t=4,s){e=ue(e);const i=e.dep;i&&Er(i,t)}function ke(e){return!!(e&&e.__v_isRef===!0)}function P(e){return Ur(e,!1)}function Dl(e){return Ur(e,!0)}function Ur(e,t){return ke(e)?e:new El(e,t)}class El{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:ue(t),this._value=s?t:ii(t)}get value(){return $r(this),this._value}set value(t){const s=this.__v_isShallow||Ii(t)||si(t);t=s?t:ue(t),os(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:ii(t),Pi(this,4))}}function It(e){return ke(e)?e.value:e}const Ol={get:(e,t,s)=>It(Reflect.get(e,t,s)),set:(e,t,s,i)=>{const n=e[t];return ke(n)&&!ke(s)?(n.value=s,!0):Reflect.set(e,t,s,i)}};function Hr(e){return Js(e)?e:new Proxy(e,Ol)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ns(e,t,s,i){try{return i?e(...i):e()}catch(n){Ji(n,t,s)}}function ht(e,t,s,i){if(Q(e)){const n=ns(e,t,s,i);return n&&wr(n)&&n.catch(o=>{Ji(o,t,s)}),n}if(q(e)){const n=[];for(let o=0;o<e.length;o++)n.push(ht(e[o],t,s,i));return n}}function Ji(e,t,s,i=!0){const n=t?t.vnode:null;if(t){let o=t.parent;const r=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${s}`;for(;o;){const f=o.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](e,r,a)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){as(),ns(l,null,10,[e,r,a]),ls();return}}Wl(e,s,n,i)}function Wl(e,t,s,i=!0){console.error(e)}let ni=!1,Ln=!1;const je=[];let Ot=0;const Es=[];let Jt=null,ds=0;const Gr=Promise.resolve();let go=null;function Fl(e){const t=go||Gr;return e?t.then(this?e.bind(this):e):t}function kl(e){let t=Ot+1,s=je.length;for(;t<s;){const i=t+s>>>1,n=je[i],o=oi(n);o<e||o===e&&n.pre?t=i+1:s=i}return t}function mo(e){(!je.length||!je.includes(e,ni&&e.allowRecurse?Ot+1:Ot))&&(e.id==null?je.push(e):je.splice(kl(e.id),0,e),Kr())}function Kr(){!ni&&!Ln&&(Ln=!0,go=Gr.then(Yr))}function Rl(e){const t=je.indexOf(e);t>Ot&&je.splice(t,1)}function Il(e){q(e)?Es.push(...e):(!Jt||!Jt.includes(e,e.allowRecurse?ds+1:ds))&&Es.push(e),Kr()}function zo(e,t,s=ni?Ot+1:0){for(;s<je.length;s++){const i=je[s];if(i&&i.pre){if(e&&i.id!==e.uid)continue;je.splice(s,1),s--,i()}}}function qr(e){if(Es.length){const t=[...new Set(Es)].sort((s,i)=>oi(s)-oi(i));if(Es.length=0,Jt){Jt.push(...t);return}for(Jt=t,ds=0;ds<Jt.length;ds++)Jt[ds]();Jt=null,ds=0}}const oi=e=>e.id==null?1/0:e.id,Nl=(e,t)=>{const s=oi(e)-oi(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function Yr(e){Ln=!1,ni=!0,je.sort(Nl);try{for(Ot=0;Ot<je.length;Ot++){const t=je[Ot];t&&t.active!==!1&&ns(t,null,14)}}finally{Ot=0,je.length=0,qr(),ni=!1,go=null,(je.length||Es.length)&&Yr()}}function zl(e,t,...s){if(e.isUnmounted)return;const i=e.vnode.props||xe;let n=s;const o=t.startsWith("update:"),r=o&&t.slice(7);if(r&&r in i){const h=`${r==="modelValue"?"model":r}Modifiers`,{number:g,trim:v}=i[h]||xe;v&&(n=s.map(y=>Ae(y)?y.trim():y)),g&&(n=s.map(Sn))}let a,l=i[a=un(t)]||i[a=un(Ns(t))];!l&&o&&(l=i[a=un(zs(t))]),l&&ht(l,e,6,n);const f=i[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ht(f,e,6,n)}}function Jr(e,t,s=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const o=e.emits;let r={},a=!1;if(!Q(e)){const l=f=>{const h=Jr(f,t,!0);h&&(a=!0,Te(r,h))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(we(e)&&i.set(e,null),null):(q(o)?o.forEach(l=>r[l]=null):Te(r,o),we(e)&&i.set(e,r),r)}function Xi(e,t){return!e||!Gi(t)?!1:(t=t.slice(2).replace(/Once$/,""),re(e,t[0].toLowerCase()+t.slice(1))||re(e,zs(t))||re(e,t))}let Ye=null,Zi=null;function Ni(e){const t=Ye;return Ye=e,Zi=e&&e.type.__scopeId||null,t}function Xr(e){Zi=e}function Zr(){Zi=null}function Qr(e,t=Ye,s){if(!t||e._n)return e;const i=(...n)=>{i._d&&Zo(-1);const o=Ni(t);let r;try{r=e(...n)}finally{Ni(o),i._d&&Zo(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function gn(e){const{type:t,vnode:s,proxy:i,withProxy:n,propsOptions:[o],slots:r,attrs:a,emit:l,render:f,renderCache:h,props:g,data:v,setupState:y,ctx:A,inheritAttrs:O}=e,R=Ni(e);let _,S;try{if(s.shapeFlag&4){const $=n||i,ee=$;_=Et(f.call(ee,$,h,g,y,v,A)),S=a}else{const $=t;_=Et($.length>1?$(g,{attrs:a,slots:r,emit:l}):$(g,null)),S=t.props?a:Bl(a)}}catch($){Qs.length=0,Ji($,e,1),_=Re(ct)}let z=_;if(S&&O!==!1){const $=Object.keys(S),{shapeFlag:ee}=z;$.length&&ee&7&&(o&&$.some(to)&&(S=jl(S,o)),z=rs(z,S,!1,!0))}return s.dirs&&(z=rs(z,null,!1,!0),z.dirs=z.dirs?z.dirs.concat(s.dirs):s.dirs),s.transition&&(z.transition=s.transition),_=z,Ni(R),_}const Bl=e=>{let t;for(const s in e)(s==="class"||s==="style"||Gi(s))&&((t||(t={}))[s]=e[s]);return t},jl=(e,t)=>{const s={};for(const i in e)(!to(i)||!(i.slice(9)in t))&&(s[i]=e[i]);return s};function $l(e,t,s){const{props:i,children:n,component:o}=e,{props:r,children:a,patchFlag:l}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return i?Bo(i,r,f):!!r;if(l&8){const h=t.dynamicProps;for(let g=0;g<h.length;g++){const v=h[g];if(r[v]!==i[v]&&!Xi(f,v))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===r?!1:i?r?Bo(i,r,f):!0:!!r;return!1}function Bo(e,t,s){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const o=i[n];if(t[o]!==e[o]&&!Xi(s,o))return!0}return!1}function Ul({vnode:e,parent:t},s){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=s,t=t.parent;else break}}const Hl=Symbol.for("v-ndc"),Gl=e=>e.__isSuspense;function Kl(e,t){t&&t.pendingBranch?q(e)?t.effects.push(...e):t.effects.push(e):Il(e)}const ql=Symbol.for("v-scx"),Yl=()=>Di(ql);function Jl(e,t){return vo(e,null,t)}const Mi={};function mn(e,t,s){return vo(e,t,s)}function vo(e,t,{immediate:s,deep:i,flush:n,once:o,onTrack:r,onTrigger:a}=xe){if(t&&o){const Y=t;t=(...de)=>{Y(...de),ee()}}const l=$e,f=Y=>i===!0?Y:vs(Y,i===!1?1:void 0);let h,g=!1,v=!1;if(ke(e)?(h=()=>e.value,g=Ii(e)):Js(e)?(h=()=>f(e),g=!0):q(e)?(v=!0,g=e.some(Y=>Js(Y)||Ii(Y)),h=()=>e.map(Y=>{if(ke(Y))return Y.value;if(Js(Y))return f(Y);if(Q(Y))return ns(Y,l,2)})):Q(e)?t?h=()=>ns(e,l,2):h=()=>(y&&y(),ht(e,l,3,[A])):h=lt,t&&i){const Y=h;h=()=>vs(Y())}let y,A=Y=>{y=z.onStop=()=>{ns(Y,l,4),y=z.onStop=void 0}},O;if(on)if(A=lt,t?s&&ht(t,l,3,[h(),v?[]:void 0,A]):h(),n==="sync"){const Y=Yl();O=Y.__watcherHandles||(Y.__watcherHandles=[])}else return lt;let R=v?new Array(e.length).fill(Mi):Mi;const _=()=>{if(!(!z.active||!z.dirty))if(t){const Y=z.run();(i||g||(v?Y.some((de,j)=>os(de,R[j])):os(Y,R)))&&(y&&y(),ht(t,l,3,[Y,R===Mi?void 0:v&&R[0]===Mi?[]:R,A]),R=Y)}else z.run()};_.allowRecurse=!!t;let S;n==="sync"?S=_:n==="post"?S=()=>qe(_,l&&l.suspense):(_.pre=!0,l&&(_.id=l.uid),S=()=>mo(_));const z=new oo(h,lt,S),$=ll(),ee=()=>{z.stop(),$&&so($.effects,z)};return t?s?_():R=z.run():n==="post"?qe(z.run.bind(z),l&&l.suspense):z.run(),O&&O.push(ee),ee}function Xl(e,t,s){const i=this.proxy,n=Ae(e)?e.includes(".")?ea(i,e):()=>i[e]:e.bind(i,i);let o;Q(t)?o=t:(o=t.handler,s=t);const r=gi(this),a=vo(n,o.bind(i),s);return r(),a}function ea(e,t){const s=t.split(".");return()=>{let i=e;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}function vs(e,t=1/0,s){if(t<=0||!we(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,ke(e))vs(e.value,t,s);else if(q(e))for(let i=0;i<e.length;i++)vs(e[i],t,s);else if(xr(e)||Ds(e))e.forEach(i=>{vs(i,t,s)});else if(Vr(e))for(const i in e)vs(e[i],t,s);return e}function jo(e,t){if(Ye===null)return e;const s=rn(Ye)||Ye.proxy,i=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[o,r,a,l=xe]=t[n];o&&(Q(o)&&(o={mounted:o,updated:o}),o.deep&&vs(r),i.push({dir:o,instance:s,value:r,oldValue:void 0,arg:a,modifiers:l}))}return e}function cs(e,t,s,i){const n=e.dirs,o=t&&t.dirs;for(let r=0;r<n.length;r++){const a=n[r];o&&(a.oldValue=o[r].value);let l=a.dir[i];l&&(as(),ht(l,s,8,[e.el,a,e,t]),ls())}}const Xt=Symbol("_leaveCb"),Vi=Symbol("_enterCb");function Zl(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return sn(()=>{e.isMounted=!0}),po(()=>{e.isUnmounting=!0}),e}const rt=[Function,Array],ta={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:rt,onEnter:rt,onAfterEnter:rt,onEnterCancelled:rt,onBeforeLeave:rt,onLeave:rt,onAfterLeave:rt,onLeaveCancelled:rt,onBeforeAppear:rt,onAppear:rt,onAfterAppear:rt,onAppearCancelled:rt},Ql={name:"BaseTransition",props:ta,setup(e,{slots:t}){const s=Nc(),i=Zl();return()=>{const n=t.default&&ia(t.default(),!0);if(!n||!n.length)return;let o=n[0];if(n.length>1){for(const v of n)if(v.type!==ct){o=v;break}}const r=ue(e),{mode:a}=r;if(i.isLeaving)return vn(o);const l=$o(o);if(!l)return vn(o);const f=Dn(l,r,i,s);En(l,f);const h=s.subTree,g=h&&$o(h);if(g&&g.type!==ct&&!gs(l,g)){const v=Dn(g,r,i,s);if(En(g,v),a==="out-in"&&l.type!==ct)return i.isLeaving=!0,v.afterLeave=()=>{i.isLeaving=!1,s.update.active!==!1&&(s.effect.dirty=!0,s.update())},vn(o);a==="in-out"&&l.type!==ct&&(v.delayLeave=(y,A,O)=>{const R=sa(i,g);R[String(g.key)]=g,y[Xt]=()=>{A(),y[Xt]=void 0,delete f.delayedLeave},f.delayedLeave=O})}return o}}},ec=Ql;function sa(e,t){const{leavingVNodes:s}=e;let i=s.get(t.type);return i||(i=Object.create(null),s.set(t.type,i)),i}function Dn(e,t,s,i){const{appear:n,mode:o,persisted:r=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:g,onLeave:v,onAfterLeave:y,onLeaveCancelled:A,onBeforeAppear:O,onAppear:R,onAfterAppear:_,onAppearCancelled:S}=t,z=String(e.key),$=sa(s,e),ee=(j,fe)=>{j&&ht(j,i,9,fe)},Y=(j,fe)=>{const le=fe[1];ee(j,fe),q(j)?j.every(Ce=>Ce.length<=1)&&le():j.length<=1&&le()},de={mode:o,persisted:r,beforeEnter(j){let fe=a;if(!s.isMounted)if(n)fe=O||a;else return;j[Xt]&&j[Xt](!0);const le=$[z];le&&gs(e,le)&&le.el[Xt]&&le.el[Xt](),ee(fe,[j])},enter(j){let fe=l,le=f,Ce=h;if(!s.isMounted)if(n)fe=R||l,le=_||f,Ce=S||h;else return;let I=!1;const pe=j[Vi]=Ne=>{I||(I=!0,Ne?ee(Ce,[j]):ee(le,[j]),de.delayedLeave&&de.delayedLeave(),j[Vi]=void 0)};fe?Y(fe,[j,pe]):pe()},leave(j,fe){const le=String(e.key);if(j[Vi]&&j[Vi](!0),s.isUnmounting)return fe();ee(g,[j]);let Ce=!1;const I=j[Xt]=pe=>{Ce||(Ce=!0,fe(),pe?ee(A,[j]):ee(y,[j]),j[Xt]=void 0,$[le]===e&&delete $[le])};$[le]=e,v?Y(v,[j,I]):I()},clone(j){return Dn(j,t,s,i)}};return de}function vn(e){if(en(e))return e=rs(e),e.children=null,e}function $o(e){if(!en(e))return e;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&Q(s.default))return s.default()}}function En(e,t){e.shapeFlag&6&&e.component?En(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ia(e,t=!1,s){let i=[],n=0;for(let o=0;o<e.length;o++){let r=e[o];const a=s==null?r.key:String(s)+String(r.key!=null?r.key:o);r.type===at?(r.patchFlag&128&&n++,i=i.concat(ia(r.children,t,a))):(t||r.type!==ct)&&i.push(a!=null?rs(r,{key:a}):r)}if(n>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Qi(e,t){return Q(e)?Te({name:e.name},t,{setup:e}):e}const Li=e=>!!e.type.__asyncLoader,en=e=>e.type.__isKeepAlive;function tc(e,t){na(e,"a",t)}function sc(e,t){na(e,"da",t)}function na(e,t,s=$e){const i=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(tn(t,i,s),s){let n=s.parent;for(;n&&n.parent;)en(n.parent.vnode)&&ic(i,t,s,n),n=n.parent}}function ic(e,t,s,i){const n=tn(t,e,i,!0);oa(()=>{so(i[t],n)},s)}function tn(e,t,s=$e,i=!1){if(s){const n=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(s.isUnmounted)return;as();const a=gi(s),l=ht(t,s,e,r);return a(),ls(),l});return i?n.unshift(o):n.push(o),o}}const jt=e=>(t,s=$e)=>(!on||e==="sp")&&tn(e,(...i)=>t(...i),s),nc=jt("bm"),sn=jt("m"),oc=jt("bu"),rc=jt("u"),po=jt("bum"),oa=jt("um"),ac=jt("sp"),lc=jt("rtg"),cc=jt("rtc");function fc(e,t=$e){tn("ec",e,t)}function hc(e,t,s,i){let n;const o=s;if(q(e)||Ae(e)){n=new Array(e.length);for(let r=0,a=e.length;r<a;r++)n[r]=t(e[r],r,void 0,o)}else if(typeof e=="number"){n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r,void 0,o)}else if(we(e))if(e[Symbol.iterator])n=Array.from(e,(r,a)=>t(r,a,void 0,o));else{const r=Object.keys(e);n=new Array(r.length);for(let a=0,l=r.length;a<l;a++){const f=r[a];n[a]=t(e[f],f,a,o)}}else n=[];return n}const On=e=>e?Ma(e)?rn(e)||e.proxy:On(e.parent):null,Xs=Te(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>On(e.parent),$root:e=>On(e.root),$emit:e=>e.emit,$options:e=>yo(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,mo(e.update)}),$nextTick:e=>e.n||(e.n=Fl.bind(e.proxy)),$watch:e=>Xl.bind(e)}),pn=(e,t)=>e!==xe&&!e.__isScriptSetup&&re(e,t),uc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:i,data:n,props:o,accessCache:r,type:a,appContext:l}=e;let f;if(t[0]!=="$"){const y=r[t];if(y!==void 0)switch(y){case 1:return i[t];case 2:return n[t];case 4:return s[t];case 3:return o[t]}else{if(pn(i,t))return r[t]=1,i[t];if(n!==xe&&re(n,t))return r[t]=2,n[t];if((f=e.propsOptions[0])&&re(f,t))return r[t]=3,o[t];if(s!==xe&&re(s,t))return r[t]=4,s[t];Wn&&(r[t]=0)}}const h=Xs[t];let g,v;if(h)return t==="$attrs"&&Ze(e.attrs,"get",""),h(e);if((g=a.__cssModules)&&(g=g[t]))return g;if(s!==xe&&re(s,t))return r[t]=4,s[t];if(v=l.config.globalProperties,re(v,t))return v[t]},set({_:e},t,s){const{data:i,setupState:n,ctx:o}=e;return pn(n,t)?(n[t]=s,!0):i!==xe&&re(i,t)?(i[t]=s,!0):re(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:i,appContext:n,propsOptions:o}},r){let a;return!!s[r]||e!==xe&&re(e,r)||pn(t,r)||(a=o[0])&&re(a,r)||re(i,r)||re(Xs,r)||re(n.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:re(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Uo(e){return q(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Wn=!0;function dc(e){const t=yo(e),s=e.proxy,i=e.ctx;Wn=!1,t.beforeCreate&&Ho(t.beforeCreate,e,"bc");const{data:n,computed:o,methods:r,watch:a,provide:l,inject:f,created:h,beforeMount:g,mounted:v,beforeUpdate:y,updated:A,activated:O,deactivated:R,beforeDestroy:_,beforeUnmount:S,destroyed:z,unmounted:$,render:ee,renderTracked:Y,renderTriggered:de,errorCaptured:j,serverPrefetch:fe,expose:le,inheritAttrs:Ce,components:I,directives:pe,filters:Ne}=t;if(f&&gc(f,i,null),r)for(const L in r){const E=r[L];Q(E)&&(i[L]=E.bind(s))}if(n){const L=n.call(s,s);we(L)&&(e.data=fo(L))}if(Wn=!0,o)for(const L in o){const E=o[L],ut=Q(E)?E.bind(s,s):Q(E.get)?E.get.bind(s,s):lt,_s=!Q(E)&&Q(E.set)?E.set.bind(s):lt,kt=te({get:ut,set:_s});Object.defineProperty(i,L,{enumerable:!0,configurable:!0,get:()=>kt.value,set:Tt=>kt.value=Tt})}if(a)for(const L in a)ra(a[L],i,s,L);if(l){const L=Q(l)?l.call(s):l;Reflect.ownKeys(L).forEach(E=>{xc(E,L[E])})}h&&Ho(h,e,"c");function W(L,E){q(E)?E.forEach(ut=>L(ut.bind(s))):E&&L(E.bind(s))}if(W(nc,g),W(sn,v),W(oc,y),W(rc,A),W(tc,O),W(sc,R),W(fc,j),W(cc,Y),W(lc,de),W(po,S),W(oa,$),W(ac,fe),q(le))if(le.length){const L=e.exposed||(e.exposed={});le.forEach(E=>{Object.defineProperty(L,E,{get:()=>s[E],set:ut=>s[E]=ut})})}else e.exposed||(e.exposed={});ee&&e.render===lt&&(e.render=ee),Ce!=null&&(e.inheritAttrs=Ce),I&&(e.components=I),pe&&(e.directives=pe)}function gc(e,t,s=lt){q(e)&&(e=Fn(e));for(const i in e){const n=e[i];let o;we(n)?"default"in n?o=Di(n.from||i,n.default,!0):o=Di(n.from||i):o=Di(n),ke(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[i]=o}}function Ho(e,t,s){ht(q(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,s)}function ra(e,t,s,i){const n=i.includes(".")?ea(s,i):()=>s[i];if(Ae(e)){const o=t[e];Q(o)&&mn(n,o)}else if(Q(e))mn(n,e.bind(s));else if(we(e))if(q(e))e.forEach(o=>ra(o,t,s,i));else{const o=Q(e.handler)?e.handler.bind(s):t[e.handler];Q(o)&&mn(n,o,e)}}function yo(e){const t=e.type,{mixins:s,extends:i}=t,{mixins:n,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,a=o.get(t);let l;return a?l=a:!n.length&&!s&&!i?l=t:(l={},n.length&&n.forEach(f=>zi(l,f,r,!0)),zi(l,t,r)),we(t)&&o.set(t,l),l}function zi(e,t,s,i=!1){const{mixins:n,extends:o}=t;o&&zi(e,o,s,!0),n&&n.forEach(r=>zi(e,r,s,!0));for(const r in t)if(!(i&&r==="expose")){const a=mc[r]||s&&s[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const mc={data:Go,props:Ko,emits:Ko,methods:Gs,computed:Gs,beforeCreate:Ue,created:Ue,beforeMount:Ue,mounted:Ue,beforeUpdate:Ue,updated:Ue,beforeDestroy:Ue,beforeUnmount:Ue,destroyed:Ue,unmounted:Ue,activated:Ue,deactivated:Ue,errorCaptured:Ue,serverPrefetch:Ue,components:Gs,directives:Gs,watch:pc,provide:Go,inject:vc};function Go(e,t){return t?e?function(){return Te(Q(e)?e.call(this,this):e,Q(t)?t.call(this,this):t)}:t:e}function vc(e,t){return Gs(Fn(e),Fn(t))}function Fn(e){if(q(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ue(e,t){return e?[...new Set([].concat(e,t))]:t}function Gs(e,t){return e?Te(Object.create(null),e,t):t}function Ko(e,t){return e?q(e)&&q(t)?[...new Set([...e,...t])]:Te(Object.create(null),Uo(e),Uo(t??{})):t}function pc(e,t){if(!e)return t;if(!t)return e;const s=Te(Object.create(null),e);for(const i in t)s[i]=Ue(e[i],t[i]);return s}function aa(){return{app:null,config:{isNativeTag:qa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yc=0;function bc(e,t){return function(i,n=null){Q(i)||(i=Te({},i)),n!=null&&!we(n)&&(n=null);const o=aa(),r=new WeakSet;let a=!1;const l=o.app={_uid:yc++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:Gc,get config(){return o.config},set config(f){},use(f,...h){return r.has(f)||(f&&Q(f.install)?(r.add(f),f.install(l,...h)):Q(f)&&(r.add(f),f(l,...h))),l},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),l},component(f,h){return h?(o.components[f]=h,l):o.components[f]},directive(f,h){return h?(o.directives[f]=h,l):o.directives[f]},mount(f,h,g){if(!a){const v=Re(i,n);return v.appContext=o,g===!0?g="svg":g===!1&&(g=void 0),h&&t?t(v,f):e(v,f,g),a=!0,l._container=f,f.__vue_app__=l,rn(v.component)||v.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(f,h){return o.provides[f]=h,l},runWithContext(f){const h=Zs;Zs=l;try{return f()}finally{Zs=h}}};return l}}let Zs=null;function xc(e,t){if($e){let s=$e.provides;const i=$e.parent&&$e.parent.provides;i===s&&(s=$e.provides=Object.create(i)),s[e]=t}}function Di(e,t,s=!1){const i=$e||Ye;if(i||Zs){const n=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Zs._context.provides;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Q(t)?t.call(i&&i.proxy):t}}const la={},ca=()=>Object.create(la),fa=e=>Object.getPrototypeOf(e)===la;function wc(e,t,s,i=!1){const n={},o=ca();e.propsDefaults=Object.create(null),ha(e,t,n,o);for(const r in e.propsOptions[0])r in n||(n[r]=void 0);s?e.props=i?n:Cl(n):e.type.props?e.props=n:e.props=o,e.attrs=o}function Mc(e,t,s,i){const{props:n,attrs:o,vnode:{patchFlag:r}}=e,a=ue(n),[l]=e.propsOptions;let f=!1;if((i||r>0)&&!(r&16)){if(r&8){const h=e.vnode.dynamicProps;for(let g=0;g<h.length;g++){let v=h[g];if(Xi(e.emitsOptions,v))continue;const y=t[v];if(l)if(re(o,v))y!==o[v]&&(o[v]=y,f=!0);else{const A=Ns(v);n[A]=kn(l,a,A,y,e,!1)}else y!==o[v]&&(o[v]=y,f=!0)}}}else{ha(e,t,n,o)&&(f=!0);let h;for(const g in a)(!t||!re(t,g)&&((h=zs(g))===g||!re(t,h)))&&(l?s&&(s[g]!==void 0||s[h]!==void 0)&&(n[g]=kn(l,a,g,void 0,e,!0)):delete n[g]);if(o!==a)for(const g in o)(!t||!re(t,g))&&(delete o[g],f=!0)}f&&zt(e.attrs,"set","")}function ha(e,t,s,i){const[n,o]=e.propsOptions;let r=!1,a;if(t)for(let l in t){if(Ys(l))continue;const f=t[l];let h;n&&re(n,h=Ns(l))?!o||!o.includes(h)?s[h]=f:(a||(a={}))[h]=f:Xi(e.emitsOptions,l)||(!(l in i)||f!==i[l])&&(i[l]=f,r=!0)}if(o){const l=ue(s),f=a||xe;for(let h=0;h<o.length;h++){const g=o[h];s[g]=kn(n,l,g,f[g],e,!re(f,g))}}return r}function kn(e,t,s,i,n,o){const r=e[s];if(r!=null){const a=re(r,"default");if(a&&i===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&Q(l)){const{propsDefaults:f}=n;if(s in f)i=f[s];else{const h=gi(n);i=f[s]=l.call(null,t),h()}}else i=l}r[0]&&(o&&!a?i=!1:r[1]&&(i===""||i===zs(s))&&(i=!0))}return i}function ua(e,t,s=!1){const i=t.propsCache,n=i.get(e);if(n)return n;const o=e.props,r={},a=[];let l=!1;if(!Q(e)){const h=g=>{l=!0;const[v,y]=ua(g,t,!0);Te(r,v),y&&a.push(...y)};!s&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!o&&!l)return we(e)&&i.set(e,Ls),Ls;if(q(o))for(let h=0;h<o.length;h++){const g=Ns(o[h]);qo(g)&&(r[g]=xe)}else if(o)for(const h in o){const g=Ns(h);if(qo(g)){const v=o[h],y=r[g]=q(v)||Q(v)?{type:v}:Te({},v);if(y){const A=Xo(Boolean,y.type),O=Xo(String,y.type);y[0]=A>-1,y[1]=O<0||A<O,(A>-1||re(y,"default"))&&a.push(g)}}}const f=[r,a];return we(e)&&i.set(e,f),f}function qo(e){return e[0]!=="$"&&!Ys(e)}function Yo(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Jo(e,t){return Yo(e)===Yo(t)}function Xo(e,t){return q(t)?t.findIndex(s=>Jo(s,e)):Q(t)&&Jo(t,e)?0:-1}const da=e=>e[0]==="_"||e==="$stable",bo=e=>q(e)?e.map(Et):[Et(e)],Vc=(e,t,s)=>{if(t._n)return t;const i=Qr((...n)=>bo(t(...n)),s);return i._c=!1,i},ga=(e,t,s)=>{const i=e._ctx;for(const n in e){if(da(n))continue;const o=e[n];if(Q(o))t[n]=Vc(n,o,i);else if(o!=null){const r=bo(o);t[n]=()=>r}}},ma=(e,t)=>{const s=bo(t);e.slots.default=()=>s},_c=(e,t)=>{const s=e.slots=ca();if(e.vnode.shapeFlag&32){const i=t._;i?(Te(s,t),Sr(s,"_",i,!0)):ga(t,s)}else t&&ma(e,t)},Sc=(e,t,s)=>{const{vnode:i,slots:n}=e;let o=!0,r=xe;if(i.shapeFlag&32){const a=t._;a?s&&a===1?o=!1:(Te(n,t),!s&&a===1&&delete n._):(o=!t.$stable,ga(t,n)),r=t}else t&&(ma(e,t),r={default:1});if(o)for(const a in n)!da(a)&&r[a]==null&&delete n[a]};function Rn(e,t,s,i,n=!1){if(q(e)){e.forEach((v,y)=>Rn(v,t&&(q(t)?t[y]:t),s,i,n));return}if(Li(i)&&!n)return;const o=i.shapeFlag&4?rn(i.component)||i.component.proxy:i.el,r=n?null:o,{i:a,r:l}=e,f=t&&t.r,h=a.refs===xe?a.refs={}:a.refs,g=a.setupState;if(f!=null&&f!==l&&(Ae(f)?(h[f]=null,re(g,f)&&(g[f]=null)):ke(f)&&(f.value=null)),Q(l))ns(l,a,12,[r,h]);else{const v=Ae(l),y=ke(l);if(v||y){const A=()=>{if(e.f){const O=v?re(g,l)?g[l]:h[l]:l.value;n?q(O)&&so(O,o):q(O)?O.includes(o)||O.push(o):v?(h[l]=[o],re(g,l)&&(g[l]=h[l])):(l.value=[o],e.k&&(h[e.k]=l.value))}else v?(h[l]=r,re(g,l)&&(g[l]=r)):y&&(l.value=r,e.k&&(h[e.k]=r))};r?(A.id=-1,qe(A,s)):A()}}}const qe=Kl;function Tc(e){return Ac(e)}function Ac(e,t){const s=Tr();s.__VUE__=!0;const{insert:i,remove:n,patchProp:o,createElement:r,createText:a,createComment:l,setText:f,setElementText:h,parentNode:g,nextSibling:v,setScopeId:y=lt,insertStaticContent:A}=e,O=(u,d,p,b=null,x=null,V=null,D=void 0,M=null,T=!!d.dynamicChildren)=>{if(u===d)return;u&&!gs(u,d)&&(b=mi(u),Tt(u,x,V,!0),u=null),d.patchFlag===-2&&(T=!1,d.dynamicChildren=null);const{type:w,ref:F,shapeFlag:U}=d;switch(w){case nn:R(u,d,p,b);break;case ct:_(u,d,p,b);break;case bn:u==null&&S(d,p,b,D);break;case at:I(u,d,p,b,x,V,D,M,T);break;default:U&1?ee(u,d,p,b,x,V,D,M,T):U&6?pe(u,d,p,b,x,V,D,M,T):(U&64||U&128)&&w.process(u,d,p,b,x,V,D,M,T,js)}F!=null&&x&&Rn(F,u&&u.ref,V,d||u,!d)},R=(u,d,p,b)=>{if(u==null)i(d.el=a(d.children),p,b);else{const x=d.el=u.el;d.children!==u.children&&f(x,d.children)}},_=(u,d,p,b)=>{u==null?i(d.el=l(d.children||""),p,b):d.el=u.el},S=(u,d,p,b)=>{[u.el,u.anchor]=A(u.children,d,p,b,u.el,u.anchor)},z=({el:u,anchor:d},p,b)=>{let x;for(;u&&u!==d;)x=v(u),i(u,p,b),u=x;i(d,p,b)},$=({el:u,anchor:d})=>{let p;for(;u&&u!==d;)p=v(u),n(u),u=p;n(d)},ee=(u,d,p,b,x,V,D,M,T)=>{d.type==="svg"?D="svg":d.type==="math"&&(D="mathml"),u==null?Y(d,p,b,x,V,D,M,T):fe(u,d,x,V,D,M,T)},Y=(u,d,p,b,x,V,D,M)=>{let T,w;const{props:F,shapeFlag:U,transition:B,dirs:J}=u;if(T=u.el=r(u.type,V,F&&F.is,F),U&8?h(T,u.children):U&16&&j(u.children,T,null,b,x,yn(u,V),D,M),J&&cs(u,null,b,"created"),de(T,u,u.scopeId,D,b),F){for(const ge in F)ge!=="value"&&!Ys(ge)&&o(T,ge,null,F[ge],V,u.children,b,x,Rt);"value"in F&&o(T,"value",null,F.value,V),(w=F.onVnodeBeforeMount)&&Ct(w,b,u)}J&&cs(u,null,b,"beforeMount");const ie=Cc(x,B);ie&&B.beforeEnter(T),i(T,d,p),((w=F&&F.onVnodeMounted)||ie||J)&&qe(()=>{w&&Ct(w,b,u),ie&&B.enter(T),J&&cs(u,null,b,"mounted")},x)},de=(u,d,p,b,x)=>{if(p&&y(u,p),b)for(let V=0;V<b.length;V++)y(u,b[V]);if(x){let V=x.subTree;if(d===V){const D=x.vnode;de(u,D,D.scopeId,D.slotScopeIds,x.parent)}}},j=(u,d,p,b,x,V,D,M,T=0)=>{for(let w=T;w<u.length;w++){const F=u[w]=M?Zt(u[w]):Et(u[w]);O(null,F,d,p,b,x,V,D,M)}},fe=(u,d,p,b,x,V,D)=>{const M=d.el=u.el;let{patchFlag:T,dynamicChildren:w,dirs:F}=d;T|=u.patchFlag&16;const U=u.props||xe,B=d.props||xe;let J;if(p&&fs(p,!1),(J=B.onVnodeBeforeUpdate)&&Ct(J,p,d,u),F&&cs(d,u,p,"beforeUpdate"),p&&fs(p,!0),w?le(u.dynamicChildren,w,M,p,b,yn(d,x),V):D||E(u,d,M,null,p,b,yn(d,x),V,!1),T>0){if(T&16)Ce(M,d,U,B,p,b,x);else if(T&2&&U.class!==B.class&&o(M,"class",null,B.class,x),T&4&&o(M,"style",U.style,B.style,x),T&8){const ie=d.dynamicProps;for(let ge=0;ge<ie.length;ge++){const Me=ie[ge],Ee=U[Me],dt=B[Me];(dt!==Ee||Me==="value")&&o(M,Me,Ee,dt,x,u.children,p,b,Rt)}}T&1&&u.children!==d.children&&h(M,d.children)}else!D&&w==null&&Ce(M,d,U,B,p,b,x);((J=B.onVnodeUpdated)||F)&&qe(()=>{J&&Ct(J,p,d,u),F&&cs(d,u,p,"updated")},b)},le=(u,d,p,b,x,V,D)=>{for(let M=0;M<d.length;M++){const T=u[M],w=d[M],F=T.el&&(T.type===at||!gs(T,w)||T.shapeFlag&70)?g(T.el):p;O(T,w,F,null,b,x,V,D,!0)}},Ce=(u,d,p,b,x,V,D)=>{if(p!==b){if(p!==xe)for(const M in p)!Ys(M)&&!(M in b)&&o(u,M,p[M],null,D,d.children,x,V,Rt);for(const M in b){if(Ys(M))continue;const T=b[M],w=p[M];T!==w&&M!=="value"&&o(u,M,w,T,D,d.children,x,V,Rt)}"value"in b&&o(u,"value",p.value,b.value,D)}},I=(u,d,p,b,x,V,D,M,T)=>{const w=d.el=u?u.el:a(""),F=d.anchor=u?u.anchor:a("");let{patchFlag:U,dynamicChildren:B,slotScopeIds:J}=d;J&&(M=M?M.concat(J):J),u==null?(i(w,p,b),i(F,p,b),j(d.children||[],p,F,x,V,D,M,T)):U>0&&U&64&&B&&u.dynamicChildren?(le(u.dynamicChildren,B,p,x,V,D,M),(d.key!=null||x&&d===x.subTree)&&va(u,d,!0)):E(u,d,p,F,x,V,D,M,T)},pe=(u,d,p,b,x,V,D,M,T)=>{d.slotScopeIds=M,u==null?d.shapeFlag&512?x.ctx.activate(d,p,b,D,T):Ne(d,p,b,x,V,D,T):G(u,d,T)},Ne=(u,d,p,b,x,V,D)=>{const M=u.component=Ic(u,b,x);if(en(u)&&(M.ctx.renderer=js),zc(M),M.asyncDep){if(x&&x.registerDep(M,W),!u.el){const T=M.subTree=Re(ct);_(null,T,d,p)}}else W(M,u,d,p,x,V,D)},G=(u,d,p)=>{const b=d.component=u.component;if($l(u,d,p))if(b.asyncDep&&!b.asyncResolved){L(b,d,p);return}else b.next=d,Rl(b.update),b.effect.dirty=!0,b.update();else d.el=u.el,b.vnode=d},W=(u,d,p,b,x,V,D)=>{const M=()=>{if(u.isMounted){let{next:F,bu:U,u:B,parent:J,vnode:ie}=u;{const Ss=pa(u);if(Ss){F&&(F.el=ie.el,L(u,F,D)),Ss.asyncDep.then(()=>{u.isUnmounted||M()});return}}let ge=F,Me;fs(u,!1),F?(F.el=ie.el,L(u,F,D)):F=ie,U&&Ci(U),(Me=F.props&&F.props.onVnodeBeforeUpdate)&&Ct(Me,J,F,ie),fs(u,!0);const Ee=gn(u),dt=u.subTree;u.subTree=Ee,O(dt,Ee,g(dt.el),mi(dt),u,x,V),F.el=Ee.el,ge===null&&Ul(u,Ee.el),B&&qe(B,x),(Me=F.props&&F.props.onVnodeUpdated)&&qe(()=>Ct(Me,J,F,ie),x)}else{let F;const{el:U,props:B}=d,{bm:J,m:ie,parent:ge}=u,Me=Li(d);if(fs(u,!1),J&&Ci(J),!Me&&(F=B&&B.onVnodeBeforeMount)&&Ct(F,ge,d),fs(u,!0),U&&Co){const Ee=()=>{u.subTree=gn(u),Co(U,u.subTree,u,x,null)};Me?d.type.__asyncLoader().then(()=>!u.isUnmounted&&Ee()):Ee()}else{const Ee=u.subTree=gn(u);O(null,Ee,p,b,u,x,V),d.el=Ee.el}if(ie&&qe(ie,x),!Me&&(F=B&&B.onVnodeMounted)){const Ee=d;qe(()=>Ct(F,ge,Ee),x)}(d.shapeFlag&256||ge&&Li(ge.vnode)&&ge.vnode.shapeFlag&256)&&u.a&&qe(u.a,x),u.isMounted=!0,d=p=b=null}},T=u.effect=new oo(M,lt,()=>mo(w),u.scope),w=u.update=()=>{T.dirty&&T.run()};w.id=u.uid,fs(u,!0),w()},L=(u,d,p)=>{d.component=u;const b=u.vnode.props;u.vnode=d,u.next=null,Mc(u,d.props,b,p),Sc(u,d.children,p),as(),zo(u),ls()},E=(u,d,p,b,x,V,D,M,T=!1)=>{const w=u&&u.children,F=u?u.shapeFlag:0,U=d.children,{patchFlag:B,shapeFlag:J}=d;if(B>0){if(B&128){_s(w,U,p,b,x,V,D,M,T);return}else if(B&256){ut(w,U,p,b,x,V,D,M,T);return}}J&8?(F&16&&Rt(w,x,V),U!==w&&h(p,U)):F&16?J&16?_s(w,U,p,b,x,V,D,M,T):Rt(w,x,V,!0):(F&8&&h(p,""),J&16&&j(U,p,b,x,V,D,M,T))},ut=(u,d,p,b,x,V,D,M,T)=>{u=u||Ls,d=d||Ls;const w=u.length,F=d.length,U=Math.min(w,F);let B;for(B=0;B<U;B++){const J=d[B]=T?Zt(d[B]):Et(d[B]);O(u[B],J,p,null,x,V,D,M,T)}w>F?Rt(u,x,V,!0,!1,U):j(d,p,b,x,V,D,M,T,U)},_s=(u,d,p,b,x,V,D,M,T)=>{let w=0;const F=d.length;let U=u.length-1,B=F-1;for(;w<=U&&w<=B;){const J=u[w],ie=d[w]=T?Zt(d[w]):Et(d[w]);if(gs(J,ie))O(J,ie,p,null,x,V,D,M,T);else break;w++}for(;w<=U&&w<=B;){const J=u[U],ie=d[B]=T?Zt(d[B]):Et(d[B]);if(gs(J,ie))O(J,ie,p,null,x,V,D,M,T);else break;U--,B--}if(w>U){if(w<=B){const J=B+1,ie=J<F?d[J].el:b;for(;w<=B;)O(null,d[w]=T?Zt(d[w]):Et(d[w]),p,ie,x,V,D,M,T),w++}}else if(w>B)for(;w<=U;)Tt(u[w],x,V,!0),w++;else{const J=w,ie=w,ge=new Map;for(w=ie;w<=B;w++){const Qe=d[w]=T?Zt(d[w]):Et(d[w]);Qe.key!=null&&ge.set(Qe.key,w)}let Me,Ee=0;const dt=B-ie+1;let Ss=!1,Po=0;const $s=new Array(dt);for(w=0;w<dt;w++)$s[w]=0;for(w=J;w<=U;w++){const Qe=u[w];if(Ee>=dt){Tt(Qe,x,V,!0);continue}let At;if(Qe.key!=null)At=ge.get(Qe.key);else for(Me=ie;Me<=B;Me++)if($s[Me-ie]===0&&gs(Qe,d[Me])){At=Me;break}At===void 0?Tt(Qe,x,V,!0):($s[At-ie]=w+1,At>=Po?Po=At:Ss=!0,O(Qe,d[At],p,null,x,V,D,M,T),Ee++)}const Lo=Ss?Pc($s):Ls;for(Me=Lo.length-1,w=dt-1;w>=0;w--){const Qe=ie+w,At=d[Qe],Do=Qe+1<F?d[Qe+1].el:b;$s[w]===0?O(null,At,p,Do,x,V,D,M,T):Ss&&(Me<0||w!==Lo[Me]?kt(At,p,Do,2):Me--)}}},kt=(u,d,p,b,x=null)=>{const{el:V,type:D,transition:M,children:T,shapeFlag:w}=u;if(w&6){kt(u.component.subTree,d,p,b);return}if(w&128){u.suspense.move(d,p,b);return}if(w&64){D.move(u,d,p,js);return}if(D===at){i(V,d,p);for(let U=0;U<T.length;U++)kt(T[U],d,p,b);i(u.anchor,d,p);return}if(D===bn){z(u,d,p);return}if(b!==2&&w&1&&M)if(b===0)M.beforeEnter(V),i(V,d,p),qe(()=>M.enter(V),x);else{const{leave:U,delayLeave:B,afterLeave:J}=M,ie=()=>i(V,d,p),ge=()=>{U(V,()=>{ie(),J&&J()})};B?B(V,ie,ge):ge()}else i(V,d,p)},Tt=(u,d,p,b=!1,x=!1)=>{const{type:V,props:D,ref:M,children:T,dynamicChildren:w,shapeFlag:F,patchFlag:U,dirs:B}=u;if(M!=null&&Rn(M,null,p,u,!0),F&256){d.ctx.deactivate(u);return}const J=F&1&&B,ie=!Li(u);let ge;if(ie&&(ge=D&&D.onVnodeBeforeUnmount)&&Ct(ge,d,u),F&6)Ha(u.component,p,b);else{if(F&128){u.suspense.unmount(p,b);return}J&&cs(u,null,d,"beforeUnmount"),F&64?u.type.remove(u,d,p,x,js,b):w&&(V!==at||U>0&&U&64)?Rt(w,d,p,!1,!0):(V===at&&U&384||!x&&F&16)&&Rt(T,d,p),b&&So(u)}(ie&&(ge=D&&D.onVnodeUnmounted)||J)&&qe(()=>{ge&&Ct(ge,d,u),J&&cs(u,null,d,"unmounted")},p)},So=u=>{const{type:d,el:p,anchor:b,transition:x}=u;if(d===at){Ua(p,b);return}if(d===bn){$(u);return}const V=()=>{n(p),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(u.shapeFlag&1&&x&&!x.persisted){const{leave:D,delayLeave:M}=x,T=()=>D(p,V);M?M(u.el,V,T):T()}else V()},Ua=(u,d)=>{let p;for(;u!==d;)p=v(u),n(u),u=p;n(d)},Ha=(u,d,p)=>{const{bum:b,scope:x,update:V,subTree:D,um:M}=u;b&&Ci(b),x.stop(),V&&(V.active=!1,Tt(D,u,d,p)),M&&qe(M,d),qe(()=>{u.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},Rt=(u,d,p,b=!1,x=!1,V=0)=>{for(let D=V;D<u.length;D++)Tt(u[D],d,p,b,x)},mi=u=>u.shapeFlag&6?mi(u.component.subTree):u.shapeFlag&128?u.suspense.next():v(u.anchor||u.el);let fn=!1;const To=(u,d,p)=>{u==null?d._vnode&&Tt(d._vnode,null,null,!0):O(d._vnode||null,u,d,null,null,null,p),fn||(fn=!0,zo(),qr(),fn=!1),d._vnode=u},js={p:O,um:Tt,m:kt,r:So,mt:Ne,mc:j,pc:E,pbc:le,n:mi,o:e};let Ao,Co;return{render:To,hydrate:Ao,createApp:bc(To,Ao)}}function yn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function fs({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function Cc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function va(e,t,s=!1){const i=e.children,n=t.children;if(q(i)&&q(n))for(let o=0;o<i.length;o++){const r=i[o];let a=n[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[o]=Zt(n[o]),a.el=r.el),s||va(r,a)),a.type===nn&&(a.el=r.el)}}function Pc(e){const t=e.slice(),s=[0];let i,n,o,r,a;const l=e.length;for(i=0;i<l;i++){const f=e[i];if(f!==0){if(n=s[s.length-1],e[n]<f){t[i]=n,s.push(i);continue}for(o=0,r=s.length-1;o<r;)a=o+r>>1,e[s[a]]<f?o=a+1:r=a;f<e[s[o]]&&(o>0&&(t[i]=s[o-1]),s[o]=i)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}function pa(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:pa(t)}const Lc=e=>e.__isTeleport,at=Symbol.for("v-fgt"),nn=Symbol.for("v-txt"),ct=Symbol.for("v-cmt"),bn=Symbol.for("v-stc"),Qs=[];let St=null;function Wt(e=!1){Qs.push(St=e?null:[])}function Dc(){Qs.pop(),St=Qs[Qs.length-1]||null}let ri=1;function Zo(e){ri+=e}function ya(e){return e.dynamicChildren=ri>0?St||Ls:null,Dc(),ri>0&&St&&St.push(e),e}function es(e,t,s,i,n,o){return ya(ne(e,t,s,i,n,o,!0))}function ba(e,t,s,i,n){return ya(Re(e,t,s,i,n,!0))}function In(e){return e?e.__v_isVNode===!0:!1}function gs(e,t){return e.type===t.type&&e.key===t.key}const xa=({key:e})=>e??null,Ei=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ae(e)||ke(e)||Q(e)?{i:Ye,r:e,k:t,f:!!s}:e:null);function ne(e,t=null,s=null,i=0,n=null,o=e===at?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&xa(t),ref:t&&Ei(t),scopeId:Zi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ye};return a?(xo(l,s),o&128&&e.normalize(l)):s&&(l.shapeFlag|=Ae(s)?8:16),ri>0&&!r&&St&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&St.push(l),l}const Re=Ec;function Ec(e,t=null,s=null,i=0,n=null,o=!1){if((!e||e===Hl)&&(e=ct),In(e)){const a=rs(e,t,!0);return s&&xo(a,s),ri>0&&!o&&St&&(a.shapeFlag&6?St[St.indexOf(e)]=a:St.push(a)),a.patchFlag|=-2,a}if(Uc(e)&&(e=e.__vccOpts),t){t=Oc(t);let{class:a,style:l}=t;a&&!Ae(a)&&(t.class=no(a)),we(l)&&(Br(l)&&!q(l)&&(l=Te({},l)),t.style=Ke(l))}const r=Ae(e)?1:Gl(e)?128:Lc(e)?64:we(e)?4:Q(e)?2:0;return ne(e,t,s,i,n,r,o,!0)}function Oc(e){return e?Br(e)||fa(e)?Te({},e):e:null}function rs(e,t,s=!1,i=!1){const{props:n,ref:o,patchFlag:r,children:a,transition:l}=e,f=t?Fc(n||{},t):n,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&xa(f),ref:t&&t.ref?s&&o?q(o)?o.concat(Ei(t)):[o,Ei(t)]:Ei(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==at?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rs(e.ssContent),ssFallback:e.ssFallback&&rs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&(h.transition=l.clone(h)),h}function Wc(e=" ",t=0){return Re(nn,null,e,t)}function wa(e="",t=!1){return t?(Wt(),ba(ct,null,e)):Re(ct,null,e)}function Et(e){return e==null||typeof e=="boolean"?Re(ct):q(e)?Re(at,null,e.slice()):typeof e=="object"?Zt(e):Re(nn,null,String(e))}function Zt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:rs(e)}function xo(e,t){let s=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(q(t))s=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),xo(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!fa(t)?t._ctx=Ye:n===3&&Ye&&(Ye.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Q(t)?(t={default:t,_ctx:Ye},s=32):(t=String(t),i&64?(s=16,t=[Wc(t)]):s=8);e.children=t,e.shapeFlag|=s}function Fc(...e){const t={};for(let s=0;s<e.length;s++){const i=e[s];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=no([t.class,i.class]));else if(n==="style")t.style=Ke([t.style,i.style]);else if(Gi(n)){const o=t[n],r=i[n];r&&o!==r&&!(q(o)&&o.includes(r))&&(t[n]=o?[].concat(o,r):r)}else n!==""&&(t[n]=i[n])}return t}function Ct(e,t,s,i=null){ht(e,t,7,[s,i])}const kc=aa();let Rc=0;function Ic(e,t,s){const i=e.type,n=(t?t.appContext:e.appContext)||kc,o={uid:Rc++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new rl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ua(i,n),emitsOptions:Jr(i,n),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:i.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=zl.bind(null,o),e.ce&&e.ce(o),o}let $e=null;const Nc=()=>$e||Ye;let Bi,Nn;{const e=Tr(),t=(s,i)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(i),o=>{n.length>1?n.forEach(r=>r(o)):n[0](o)}};Bi=t("__VUE_INSTANCE_SETTERS__",s=>$e=s),Nn=t("__VUE_SSR_SETTERS__",s=>on=s)}const gi=e=>{const t=$e;return Bi(e),e.scope.on(),()=>{e.scope.off(),Bi(t)}},Qo=()=>{$e&&$e.scope.off(),Bi(null)};function Ma(e){return e.vnode.shapeFlag&4}let on=!1;function zc(e,t=!1){t&&Nn(t);const{props:s,children:i}=e.vnode,n=Ma(e);wc(e,s,n,t),_c(e,i);const o=n?Bc(e,t):void 0;return t&&Nn(!1),o}function Bc(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,uc);const{setup:i}=s;if(i){const n=e.setupContext=i.length>1?$c(e):null,o=gi(e);as();const r=ns(i,e,0,[e.props,n]);if(ls(),o(),wr(r)){if(r.then(Qo,Qo),t)return r.then(a=>{er(e,a,t)}).catch(a=>{Ji(a,e,0)});e.asyncDep=r}else er(e,r,t)}else Va(e,t)}function er(e,t,s){Q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:we(t)&&(e.setupState=Hr(t)),Va(e,s)}let tr;function Va(e,t,s){const i=e.type;if(!e.render){if(!t&&tr&&!i.render){const n=i.template||yo(e).template;if(n){const{isCustomElement:o,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,f=Te(Te({isCustomElement:o,delimiters:a},r),l);i.render=tr(n,f)}}e.render=i.render||lt}{const n=gi(e);as();try{dc(e)}finally{ls(),n()}}}const jc={get(e,t){return Ze(e,"get",""),e[t]}};function $c(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,jc),slots:e.slots,emit:e.emit,expose:t}}function rn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Hr(Pl(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Xs)return Xs[s](e)},has(t,s){return s in t||s in Xs}}))}function Uc(e){return Q(e)&&"__vccOpts"in e}const te=(e,t)=>Ll(e,t,on);function Hc(e,t,s){const i=arguments.length;return i===2?we(t)&&!q(t)?In(t)?Re(e,null,[t]):Re(e,t):Re(e,null,t):(i>3?s=Array.prototype.slice.call(arguments,2):i===3&&In(s)&&(s=[s]),Re(e,t,s))}const Gc="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Kc="http://www.w3.org/2000/svg",qc="http://www.w3.org/1998/Math/MathML",Qt=typeof document<"u"?document:null,sr=Qt&&Qt.createElement("template"),Yc={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,i)=>{const n=t==="svg"?Qt.createElementNS(Kc,e):t==="mathml"?Qt.createElementNS(qc,e):Qt.createElement(e,s?{is:s}:void 0);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Qt.createTextNode(e),createComment:e=>Qt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Qt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,i,n,o){const r=s?s.previousSibling:t.lastChild;if(n&&(n===o||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===o||!(n=n.nextSibling)););else{sr.innerHTML=i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e;const a=sr.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Ut="transition",Us="animation",ai=Symbol("_vtc"),wo=(e,{slots:t})=>Hc(ec,Jc(e),t);wo.displayName="Transition";const _a={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};wo.props=Te({},ta,_a);const hs=(e,t=[])=>{q(e)?e.forEach(s=>s(...t)):e&&e(...t)},ir=e=>e?q(e)?e.some(t=>t.length>1):e.length>1:!1;function Jc(e){const t={};for(const I in e)I in _a||(t[I]=e[I]);if(e.css===!1)return t;const{name:s="v",type:i,duration:n,enterFromClass:o=`${s}-enter-from`,enterActiveClass:r=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=o,appearActiveClass:f=r,appearToClass:h=a,leaveFromClass:g=`${s}-leave-from`,leaveActiveClass:v=`${s}-leave-active`,leaveToClass:y=`${s}-leave-to`}=e,A=Xc(n),O=A&&A[0],R=A&&A[1],{onBeforeEnter:_,onEnter:S,onEnterCancelled:z,onLeave:$,onLeaveCancelled:ee,onBeforeAppear:Y=_,onAppear:de=S,onAppearCancelled:j=z}=t,fe=(I,pe,Ne)=>{us(I,pe?h:a),us(I,pe?f:r),Ne&&Ne()},le=(I,pe)=>{I._isLeaving=!1,us(I,g),us(I,y),us(I,v),pe&&pe()},Ce=I=>(pe,Ne)=>{const G=I?de:S,W=()=>fe(pe,I,Ne);hs(G,[pe,W]),nr(()=>{us(pe,I?l:o),Ht(pe,I?h:a),ir(G)||or(pe,i,O,W)})};return Te(t,{onBeforeEnter(I){hs(_,[I]),Ht(I,o),Ht(I,r)},onBeforeAppear(I){hs(Y,[I]),Ht(I,l),Ht(I,f)},onEnter:Ce(!1),onAppear:Ce(!0),onLeave(I,pe){I._isLeaving=!0;const Ne=()=>le(I,pe);Ht(I,g),Ht(I,v),ef(),nr(()=>{I._isLeaving&&(us(I,g),Ht(I,y),ir($)||or(I,i,R,Ne))}),hs($,[I,Ne])},onEnterCancelled(I){fe(I,!1),hs(z,[I])},onAppearCancelled(I){fe(I,!0),hs(j,[I])},onLeaveCancelled(I){le(I),hs(ee,[I])}})}function Xc(e){if(e==null)return null;if(we(e))return[xn(e.enter),xn(e.leave)];{const t=xn(e);return[t,t]}}function xn(e){return Qa(e)}function Ht(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[ai]||(e[ai]=new Set)).add(t)}function us(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const s=e[ai];s&&(s.delete(t),s.size||(e[ai]=void 0))}function nr(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Zc=0;function or(e,t,s,i){const n=e._endId=++Zc,o=()=>{n===e._endId&&i()};if(s)return setTimeout(o,s);const{type:r,timeout:a,propCount:l}=Qc(e,t);if(!r)return i();const f=r+"end";let h=0;const g=()=>{e.removeEventListener(f,v),o()},v=y=>{y.target===e&&++h>=l&&g()};setTimeout(()=>{h<l&&g()},a+1),e.addEventListener(f,v)}function Qc(e,t){const s=window.getComputedStyle(e),i=A=>(s[A]||"").split(", "),n=i(`${Ut}Delay`),o=i(`${Ut}Duration`),r=rr(n,o),a=i(`${Us}Delay`),l=i(`${Us}Duration`),f=rr(a,l);let h=null,g=0,v=0;t===Ut?r>0&&(h=Ut,g=r,v=o.length):t===Us?f>0&&(h=Us,g=f,v=l.length):(g=Math.max(r,f),h=g>0?r>f?Ut:Us:null,v=h?h===Ut?o.length:l.length:0);const y=h===Ut&&/\b(transform|all)(,|$)/.test(i(`${Ut}Property`).toString());return{type:h,timeout:g,propCount:v,hasTransform:y}}function rr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,i)=>ar(s)+ar(e[i])))}function ar(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ef(){return document.body.offsetHeight}function tf(e,t,s){const i=e[ai];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const ji=Symbol("_vod"),Sa=Symbol("_vsh"),sf={beforeMount(e,{value:t},{transition:s}){e[ji]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Hs(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:i}){!t!=!s&&(i?t?(i.beforeEnter(e),Hs(e,!0),i.enter(e)):i.leave(e,()=>{Hs(e,!1)}):Hs(e,t))},beforeUnmount(e,{value:t}){Hs(e,t)}};function Hs(e,t){e.style.display=t?e[ji]:"none",e[Sa]=!t}const nf=Symbol(""),of=/(^|;)\s*display\s*:/;function rf(e,t,s){const i=e.style,n=Ae(s);let o=!1;if(s&&!n){if(t)if(Ae(t))for(const r of t.split(";")){const a=r.slice(0,r.indexOf(":")).trim();s[a]==null&&Oi(i,a,"")}else for(const r in t)s[r]==null&&Oi(i,r,"");for(const r in s)r==="display"&&(o=!0),Oi(i,r,s[r])}else if(n){if(t!==s){const r=i[nf];r&&(s+=";"+r),i.cssText=s,o=of.test(s)}}else t&&e.removeAttribute("style");ji in e&&(e[ji]=o?i.display:"",e[Sa]&&(i.display="none"))}const lr=/\s*!important$/;function Oi(e,t,s){if(q(s))s.forEach(i=>Oi(e,t,i));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const i=af(e,t);lr.test(s)?e.setProperty(zs(i),s.replace(lr,""),"important"):e[i]=s}}const cr=["Webkit","Moz","ms"],wn={};function af(e,t){const s=wn[t];if(s)return s;let i=Ns(t);if(i!=="filter"&&i in e)return wn[t]=i;i=_r(i);for(let n=0;n<cr.length;n++){const o=cr[n]+i;if(o in e)return wn[t]=o}return t}const fr="http://www.w3.org/1999/xlink";function lf(e,t,s,i,n){if(i&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(fr,t.slice(6,t.length)):e.setAttributeNS(fr,t,s);else{const o=ol(t);s==null||o&&!Ar(s)?e.removeAttribute(t):e.setAttribute(t,o?"":s)}}function cf(e,t,s,i,n,o,r){if(t==="innerHTML"||t==="textContent"){i&&r(i,n,o),e[t]=s??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const f=a==="OPTION"?e.getAttribute("value")||"":e.value,h=s??"";(f!==h||!("_value"in e))&&(e.value=h),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const f=typeof e[t];f==="boolean"?s=Ar(s):s==null&&f==="string"?(s="",l=!0):f==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(t)}function As(e,t,s,i){e.addEventListener(t,s,i)}function ff(e,t,s,i){e.removeEventListener(t,s,i)}const hr=Symbol("_vei");function hf(e,t,s,i,n=null){const o=e[hr]||(e[hr]={}),r=o[t];if(i&&r)r.value=i;else{const[a,l]=uf(t);if(i){const f=o[t]=mf(i,n);As(e,a,f,l)}else r&&(ff(e,a,r,l),o[t]=void 0)}}const ur=/(?:Once|Passive|Capture)$/;function uf(e){let t;if(ur.test(e)){t={};let i;for(;i=e.match(ur);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):zs(e.slice(2)),t]}let Mn=0;const df=Promise.resolve(),gf=()=>Mn||(df.then(()=>Mn=0),Mn=Date.now());function mf(e,t){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;ht(vf(i,s.value),t,5,[i])};return s.value=e,s.attached=gf(),s}function vf(e,t){if(q(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const dr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,pf=(e,t,s,i,n,o,r,a,l)=>{const f=n==="svg";t==="class"?tf(e,i,f):t==="style"?rf(e,s,i):Gi(t)?to(t)||hf(e,t,s,i,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yf(e,t,i,f))?cf(e,t,i,o,r,a,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),lf(e,t,i,f))};function yf(e,t,s,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&dr(t)&&Q(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return dr(t)&&Ae(s)?!1:t in e}const gr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return q(t)?s=>Ci(t,s):t};function bf(e){e.target.composing=!0}function mr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Vn=Symbol("_assign"),xf={created(e,{modifiers:{lazy:t,trim:s,number:i}},n){e[Vn]=gr(n);const o=i||n.props&&n.props.type==="number";As(e,t?"change":"input",r=>{if(r.target.composing)return;let a=e.value;s&&(a=a.trim()),o&&(a=Sn(a)),e[Vn](a)}),s&&As(e,"change",()=>{e.value=e.value.trim()}),t||(As(e,"compositionstart",bf),As(e,"compositionend",mr),As(e,"change",mr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:i,number:n}},o){if(e[Vn]=gr(o),e.composing)return;const r=(n||e.type==="number")&&!/^0\d/.test(e.value)?Sn(e.value):e.value,a=t??"";r!==a&&(document.activeElement===e&&e.type!=="range"&&(s||i&&e.value.trim()===a)||(e.value=a))}},wf=["ctrl","shift","alt","meta"],Mf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>wf.some(s=>e[`${s}Key`]&&!t.includes(s))},vr=(e,t)=>{const s=e._withMods||(e._withMods={}),i=t.join(".");return s[i]||(s[i]=(n,...o)=>{for(let r=0;r<t.length;r++){const a=Mf[t[r]];if(a&&a(n,t))return}return e(n,...o)})},Vf=Te({patchProp:pf},Yc);let pr;function _f(){return pr||(pr=Tc(Vf))}const Sf=(...e)=>{const t=_f().createApp(...e),{mount:s}=t;return t.mount=i=>{const n=Af(i);if(!n)return;const o=t._component;!Q(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.innerHTML="";const r=s(n,!1,Tf(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),r},t};function Tf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Af(e){return Ae(e)?document.querySelector(e):e}const Ta=4,Cf=5,zn=30,N="GND",ve="VDD",he=0,oe=5,Pf=5e-7,Lf=100,_i=1.5;var Df=Object.defineProperty,Ef=(e,t,s)=>t in e?Df(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,ei=(e,t,s)=>(Ef(e,typeof t!="symbol"?t+"":t,s),s);class Be{constructor(t,s,i){ei(this,"_rows"),ei(this,"_columns"),ei(this,"_values"),this._rows=Math.max(t,1),this._columns=Math.max(s,1),this._values=new Array(this._rows).fill([]).map(()=>new Array(this._columns).fill(0)),i&&(this.values=i)}get rows(){return this._rows}get columns(){return this._columns}get values(){return this._values}set values(t){const s=Math.min(t.length,this.rows),i=Math.min(t[0].length,this.columns);for(let n=0;n<s;n++)for(let o=0;o<i;o++)this.values[n][o]=t[n][o]}at(t,s){return this.values[t][s]}reset(){this.values=this.values.map(t=>t.map(()=>0))}addAColumn(){return new Be(this.rows,this.columns+1,this.values)}addARow(){return new Be(this.rows+1,this.columns,this.values)}equals(t){return this.rows===t.rows&&this.columns===t.columns&&this.values.reduce((s,i,n)=>s&&i.reduce((o,r,a)=>o&&t.at(n,a)===r,s),!0)}setAsIdentity(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");return this.values.forEach((t,s)=>{t.forEach((i,n)=>{this.values[s][n]=s===n?1:0})}),this}static identity(t){if(t<1)throw Error("Dimension error! Matrix dimension must be positive.");return new Be(t,t).setAsIdentity()}multiply(t){if(this.columns!==t.rows)throw new Error("Dimension error! The operand matrix must have the same number of rows as 'this' matrix columns!");const s=new Be(this.rows,t.columns);return s.values=s.values.map((i,n)=>i.map((o,r)=>this.values[n].reduce((a,l,f)=>a+l*t.at(f,r),0))),s}indexOf(t){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)if(this.values[s][i]===t)return[s,i];return[-1,-1]}max(){return this.values.reduce((t,s)=>Math.max(t,...s),-1/0)}min(){return this.values.reduce((t,s)=>Math.min(t,...s),1/0)}round(){return new Be(this.rows,this.columns,this.values.map(t=>t.map(s=>Math.round(s))))}determinant(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");if(this.rows===this.columns&&this.columns===1)return this.values[0][0];let t=0,s=1;if(this.rows===2)t=this.values[0][0]*this.values[1][1]-this.values[1][0]*this.values[0][1];else for(let i=0;i<this.rows;i++){const n=this.getCofactor(0,i);t+=s*this.at(0,i)*n.determinant(),s=-s}return t}getCofactor(t,s){return new Be(this.rows-1,this.columns-1,this.values.filter((i,n)=>n!==t).map(i=>i.filter((n,o)=>o!==s)))}transpose(){return new Be(this.columns,this.rows,new Array(this.columns).fill([]).map((t,s)=>new Array(this.rows).fill(0).map((i,n)=>this.at(n,s))))}inverse(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");const t=this.determinant();if(t===0)throw new Error("Determinant is 0, can't compute inverse.");const s=new Be(this.rows,this.columns,this.values.map((i,n)=>i.map((o,r)=>Math.pow(-1,n+r)*this.getCofactor(n,r).determinant()))).transpose();return new Be(this.rows,this.columns,this.values.map((i,n)=>i.map((o,r)=>s.at(n,r)/t)))}toString(){return`[${this.values.map(t=>`[${t.join(", ")}]`).join(`,
`)}]`}}const Of=1e-5,mt=class{constructor(e){ei(this,"values",new Float32Array(4)),e!==void 0&&(this.xyzw=e)}get x(){return this.values[0]}set x(e){this.values[0]=e}get y(){return this.values[1]}set y(e){this.values[1]=e}get z(){return this.values[2]}set z(e){this.values[2]=e}get w(){return this.values[3]}set w(e){this.values[3]=e}get xy(){return[this.values[0],this.values[1]]}set xy(e){this.values[0]=e[0],this.values[1]=e[1]}get xyz(){return[this.values[0],this.values[1],this.values[2]]}set xyz(e){this.values[0]=e[0],this.values[1]=e[1],this.values[2]=e[2]}get xyzw(){return[this.values[0],this.values[1],this.values[2],this.values[3]]}set xyzw(e){this.values[0]=e[0],this.values[1]=e[1],this.values[2]=e[2],this.values[3]=e[3]}at(e){return this.values[e]}reset(){for(let e=0;e<4;e++)this.values[e]=0}copy(e){e||(e=new mt);for(let t=0;t<4;t++)e.values[t]=this.values[t];return e}roll(){const e=this.x,t=this.y,s=this.z,i=this.w;return Math.atan2(2*(e*t+i*s),i*i+e*e-t*t-s*s)}pitch(){const e=this.x,t=this.y,s=this.z,i=this.w;return Math.atan2(2*(t*s+i*e),i*i-e*e-t*t+s*s)}yaw(){return Math.asin(2*(this.x*this.z-this.w*this.y))}equals(e,t=Of){for(let s=0;s<4;s++)if(Math.abs(this.values[s]-e.at(s))>t)return!1;return!0}setIdentity(){return this.x=0,this.y=0,this.z=0,this.w=1,this}calculateW(){const e=this.x,t=this.y,s=this.z;return this.w=-Math.sqrt(Math.abs(1-e*e-t*t-s*s)),this}inverse(){const e=mt.dot(this,this);if(!e)return this.xyzw=[0,0,0,0],this;const t=e?1/e:0;return this.x*=-t,this.y*=-t,this.z*=-t,this.w*=t,this}conjugate(){return this.values[0]*=-1,this.values[1]*=-1,this.values[2]*=-1,this}length(){const e=this.x,t=this.y,s=this.z,i=this.w;return Math.sqrt(e*e+t*t+s*s+i*i)}normalize(e){e||(e=this);const t=this.x,s=this.y,i=this.z,n=this.w;let o=Math.sqrt(t*t+s*s+i*i+n*n);return o?(o=1/o,e.x=t*o,e.y=s*o,e.z=i*o,e.w=n*o,e):(e.x=0,e.y=0,e.z=0,e.w=0,e)}add(e){for(let t=0;t<4;t++)this.values[t]+=e.at(t);return this}multiply(e){const t=this.values[0],s=this.values[1],i=this.values[2],n=this.values[3],o=e.x,r=e.y,a=e.z,l=e.w;return this.x=t*l+n*o+s*a-i*r,this.y=s*l+n*r+i*o-t*a,this.z=i*l+n*a+t*r-s*o,this.w=n*l-t*o-s*r-i*a,this}static dot(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w}static sum(e,t){const s=new mt;return s.x=e.x+t.x,s.y=e.y+t.y,s.z=e.z+t.z,s.w=e.w+t.w,s}static product(e,t){const s=new mt,i=e.x,n=e.y,o=e.z,r=e.w,a=t.x,l=t.y,f=t.z,h=t.w;return s.x=i*h+r*a+n*f-o*l,s.y=n*h+r*l+o*a-i*f,s.z=o*h+r*f+i*l-n*a,s.w=r*h-i*a-n*l-o*f,s}static cross(e,t){const s=new mt,i=e.x,n=e.y,o=e.z,r=e.w,a=t.x,l=t.y,f=t.z,h=t.w;return s.x=r*f+o*h+i*l-n*a,s.y=r*h-i*a-n*l-o*f,s.z=r*a+i*h+n*f-o*l,s.w=r*l+n*h+o*a-i*f,s}static shortMix(e,t,s){const i=new mt;if(s<=0)return i.xyzw=e.xyzw,i;if(s>=1)return i.xyzw=t.xyzw,i;let n=mt.dot(e,t);const o=t.copy();n<0&&(o.inverse(),n=-n);let r,a;if(n>.9999)r=1-s,a=0+s;else{const l=Math.sqrt(1-n*n),f=Math.atan2(l,n),h=1/l;r=Math.sin((1-s)*f)*h,a=Math.sin((0+s)*f)*h}return i.x=r*e.x+a*o.x,i.y=r*e.y+a*o.y,i.z=r*e.z+a*o.z,i.w=r*e.w+a*o.w,i}static mix(e,t,s){const i=new mt,n=e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w;if(Math.abs(n)>=1)return i.xyzw=e.xyzw,i;const o=Math.acos(n),r=Math.sqrt(1-n*n);if(Math.abs(r)<.001)return i.x=e.x*.5+t.x*.5,i.y=e.y*.5+t.y*.5,i.z=e.z*.5+t.z*.5,i.w=e.w*.5+t.w*.5,i;const a=Math.sin((1-s)*o)/r,l=Math.sin(s*o)/r;return i.x=e.x*a+t.x*l,i.y=e.y*a+t.y*l,i.z=e.z*a+t.z*l,i.w=e.w*a+t.w*l,i}static fromAxisAngle(e,t){if(e.rows!==3)throw new Error("The axis vector must be in 3D!");const s=new mt;t*=.5;const i=Math.sin(t);return s.x=e.at(0)*i,s.y=e.at(1)*i,s.z=e.at(2)*i,s.w=Math.cos(t),s}};let Wf=mt;ei(Wf,"identity",new mt().setIdentity());class ae{constructor(){m(this,"matrix");this.matrix=new Be(3,3,[[1,0,0],[0,1,0],[0,0,1]])}get scaleX(){return Math.sqrt(this.matrix.at(0,0)**2+this.matrix.at(1,0)**2)}get scaleY(){return Math.sqrt(this.matrix.at(0,1)**2+this.matrix.at(1,1)**2)}get relativeScale(){return Math.sqrt(Math.abs(this.matrix.determinant()))}get rotation(){return Math.atan2(-1*this.matrix.at(0,1),this.matrix.at(0,0))}get isMirrored(){return this.matrix.determinant()<0}get translation(){return{x:this.matrix.at(0,2),y:this.matrix.at(1,2)}}set scaleX(t){this.scale(1/this.scaleX,1,!0),this.scale(t,1,!0)}set scaleY(t){this.scale(1,1/this.scaleY,!0),this.scale(1,t,!0)}set relativeScale(t){this.scale(1/this.relativeScale,1/this.relativeScale,!0),this.scale(t,t,!0)}set rotation(t){this.rotate(-this.rotation,!0),this.rotate(t,!0)}set isMirrored(t){this.isMirrored!=t&&this.mirror(!0,!1,!0)}set translation(t){this.translate({x:-this.translation.x,y:-this.translation.y},!0),this.translate(t,!0)}rotate(t,s=!1){const i=new ae;return Object.assign(i,this),i.matrix=this.matrix.multiply(new Be(3,3,[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]])),s&&Object.assign(this,i),i}translate(t,s=!1){const i=new ae;return Object.assign(i,this),i.matrix=this.matrix.multiply(new Be(3,3,[[1,0,t.x],[0,1,t.y],[0,0,1]])),s&&Object.assign(this,i),i}mirror(t,s=!1,i=!1){const n=new ae;Object.assign(n,this);const o=t?-1:1,r=s?-1:1;return n.matrix=this.matrix.multiply(new Be(3,3,[[o,0,0],[0,r,0],[0,0,1]])),i&&Object.assign(this,n),n}scale(t,s=t,i=!1){const n=new ae;return Object.assign(n,this),n.matrix=this.matrix.multiply(new Be(3,3,[[t,0,0],[0,s,0],[0,0,1]])),i&&Object.assign(this,n),n}inverse(t=!1){const s=new ae;return Object.assign(s,this),s.matrix=s.matrix.inverse(),t&&Object.assign(this,s),s}multiply(t,s=!1){const i=new ae;return Object.assign(i,this),i.matrix=i.matrix.multiply(t.matrix),s&&Object.assign(this,i),i}transformCanvas(t,s=!0){s?t.setTransform(this.matrix.at(0,0),this.matrix.at(1,0),this.matrix.at(0,1),this.matrix.at(1,1),this.matrix.at(0,2),this.matrix.at(1,2)):t.transform(this.matrix.at(0,0),this.matrix.at(1,0),this.matrix.at(0,1),this.matrix.at(1,1),this.matrix.at(0,2),this.matrix.at(1,2))}transformPoint(t){const s=this.matrix.multiply(new Be(3,1,[[t.x],[t.y],[1]]));return{x:s.at(0,0),y:s.at(1,0)}}transformLine(t){return{start:this.transformPoint(t.start),end:this.transformPoint(t.end)}}transformPath(t){return t.map(s=>this.transformLine(s))}}const Aa=(e,t,[s,...i])=>s===void 0?t:Aa(e,e(s,t),i),nt=e=>e*Math.PI/180,Bn=(e,t)=>(e%t+t)%t,De=(e,t,s)=>{const i=Math.max(e,t),n=Math.min(e,t);return s>i?i:s<n?n:s},vt=class vt{constructor(t=[],s=new ae,i="main"){m(this,"transformations",[]);m(this,"anchorPoints",{});m(this,"_transformationMatrix");m(this,"canvasId");m(this,"key","");t.forEach(n=>{this.transformations.push(n)}),this.transformations.push(P(s)),this._transformationMatrix=te(()=>Aa((n,o)=>o.multiply(n.value),new ae,this.transformations)),vt.allCtxArtists.push(this),this.canvasId=i}get transformationMatrix(){return this._transformationMatrix.value}get localTransformationMatrix(){return this.transformations[this.transformations.length-1].value}getAnchorPoint(t){return this.anchorPoints[t]==null&&console.log("Cannot find anchor point",t,"on CtxArtist"),vt.circuitTransformationMatrix.inverse().multiply(this.transformationMatrix).transformPoint(this.anchorPoints[t])}getAnchorPointWithTransformations(t){return[this.transformations.slice(0,-1),this.getAnchorPoint(t)]}moveTo(t){this.transformations[this.transformations.length-1].value.translation=t}get localLineThickness(){return this.getLocalLineThickness()}fillTextGlobalReferenceFrame(t,s,i,n=!1,o=!1,r=16){if(vt.textTransformationMatrix.transformCanvas(t),n){const l=this.transformationMatrix.transformPoint({x:0,y:0}),f=this.transformationMatrix.transformPoint(s);f.x<l.x==!o?t.textAlign="right":f.x>l.x==!o?t.textAlign="left":t.textAlign="center"}const a=vt.textTransformationMatrix.inverse().transformPoint(this.transformationMatrix.transformPoint(s));return t.fillText(i,a.x,a.y),this.transformationMatrix.transformCanvas(t),this.transformationMatrix.inverse().transformPoint(vt.textTransformationMatrix.transformPoint({x:a.x,y:a.y+r}))}getRelativeScaling(){return vt.textTransformationMatrix.relativeScale/this.transformationMatrix.relativeScale}getLocalLineThickness(t=Cf){return t*this.getRelativeScaling()}};m(vt,"textTransformationMatrix",new ae),m(vt,"circuitTransformationMatrix",new ae),m(vt,"allCtxArtists",[]);let Fe=vt;const an=e=>Math.sqrt((e.end.x-e.start.x)**2+(e.end.y-e.start.y)**2),Ca=e=>{let t=0;return e.forEach(s=>{t+=an(s)}),t},Pa=(e,t)=>(t=De(0,1,t),{x:e.start.x+(e.end.x-e.start.x)*t,y:e.start.y+(e.end.y-e.start.y)*t}),Je=(e,t)=>{const s=Ca(e),i=t*s;let n=0;for(let o of e){const r=an(o);if(n+=r,n>=i){const a=n-r,f=(i-a)/r;return Pa(o,f)}}return console.log("Error finding point along path"),{x:0,y:0}},Ff=(e,t,s,i=5)=>{const n=s.x-t.x,o=s.y-t.y,r=Math.sqrt(n**2+o**2),a=i/2/r*-o,l=i/2/r*n,f=i/2/r*n,h=i/2/r*o,g={x:t.x+a-f,y:t.y+l-h},v={x:t.x-a-f,y:t.y-l-h},y={x:s.x-a+f,y:s.y-l+h},A={x:s.x+a+f,y:s.y+l+h};e.moveTo(g.x,g.y),e.lineTo(v.x,v.y),e.lineTo(y.x,y.y),e.lineTo(A.x,A.y)},kf=(e,t,s)=>{const i=t.outerDiameter,n=i-2*s;e.moveTo(t.center.x,t.center.y),e.arc(t.center.x,t.center.y,i/2,0,2*Math.PI,!1),n>0&&e.arc(t.center.x,t.center.y,n/2,0,2*Math.PI,!0)},La=(e,t,s,i="rgba(200, 200, 200, 1)")=>{const n=e.createRadialGradient(t.x,t.y,0,t.x,t.y,s);return n.addColorStop(0,i),n.addColorStop(.5,i),n.addColorStop(.99,"rgba(0, 0, 0, 1)"),n.addColorStop(1,"rgba(0, 0, 0, 0)"),n},Da=(e,t)=>()=>{e.save(),e.clip(),e.fillStyle=t,e.fill(),e.resetTransform(),e.fillRect(0,0,e.canvas.clientWidth,e.canvas.clientHeight),e.restore(),e.beginPath()},Ea=(e,t="black")=>()=>{e.fillStyle=t,e.fill(),e.beginPath()},Oa=(e,t,s=5,i)=>{const n=Da(e,i);for(let o=0;o<Ta;o++)Wa(e,t,s,n)},Ft=(e,t,s=5,i="black")=>{const n=Ea(e,i);for(let o=0;o<Ta;o++)Wa(e,t,s,n)},Wa=(e,t,s=5,i)=>{e.beginPath(),t.forEach(n=>{Ff(e,n.start,n.end,s),i()})},Rf=(e,t,s=5,i)=>{const n=Da(e,i);Fa(e,t,s,n)},Mo=(e,t,s=5,i="black")=>{const n=Ea(e,i);Fa(e,t,s,n)},Fa=(e,t,s=5,i)=>{e.beginPath(),t.forEach(n=>{kf(e,n,s)}),i()},ps=(e,t,s=3)=>{if(e==0)return"0"+t;const i=e>=0?"":"-",n=Math.abs(e),o={30:"Q",27:"R",24:"Y",21:"Z",18:"E",15:"P",12:"T",9:"G",6:"M",3:"k",0:"","-3":"m","-6":"","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y","-27":"r","-30":"q"},r=Math.floor(Math.log10(n)/3)*3;let a=o[r.toString()];a==null&&(a="e"+r.toString()+" ");const l=parseFloat((n/10**r).toPrecision(s));return i+l+a+t};class Bt extends Fe{constructor(s=[],i=[],n=[],o=[],r=[],a=[],l=[]){super(s,new ae);m(this,"gndSymbols");m(this,"vddSymbols");m(this,"parasiticCapacitors");m(this,"mosfets");m(this,"nodes");m(this,"wires");this.gndSymbols=i,this.vddSymbols=n,this.parasiticCapacitors=o,this.mosfets=r,this.nodes=a,this.wires=l}copy(s){return new Bt([s].concat(this.transformations.slice(1)),this.gndSymbols.map(n=>n.copy(s)),this.vddSymbols.map(n=>n.copy(s)),[],this.mosfets,this.nodes,this.wires.map(n=>({node:n.node,lines:n.lines,voltageDisplayLabel:"",voltageDisplayLocations:[]})))}draw(s){this.transformationMatrix.transformCanvas(s),this.gndSymbols.forEach(i=>{i.draw(s)}),this.vddSymbols.forEach(i=>{i.draw(s)}),this.parasiticCapacitors.forEach(i=>{i.draw(s)}),this.transformationMatrix.transformCanvas(s),this.nodes.forEach(i=>{i.value.schematicEffects=[]}),this.mosfets.forEach(i=>{Object.values(i.schematicEffects).forEach(n=>{const o=Bt.flattenSchematicEffect(n);n.node.value.schematicEffects.push(o)})}),this.wires.forEach(i=>{Ft(s,i.lines.map(n=>n.toLine()),this.localLineThickness,"black"),i.node.value.schematicEffects.forEach(n=>{const o=n.origin,r=La(s,o,n.gradientSize,n.color);Oa(s,i.lines.map(a=>a.toLine()),this.localLineThickness,r)}),i.voltageDisplayLocations.forEach(n=>{s.fillStyle="black",s.font="18px sans-serif",this.fillTextGlobalReferenceFrame(s,n.toPoint(),i.voltageDisplayLabel+" = "+ps(i.node.value.voltage,"V"),!1)})})}static flattenSchematicEffect(s){return{origin:s.origin.toPoint(),color:s.color,gradientSize:s.gradientSize}}}class ka extends Fe{constructor(s=[],i=new ae,n,o,r,a,l,f="visible",h="visible",g="main"){super(s,i);m(this,"visibility");m(this,"originalVisibility");m(this,"fromNode");m(this,"toNode");m(this,"dragging",!1);m(this,"location",{x:0,y:0});m(this,"minValue");m(this,"maxValue");m(this,"value");m(this,"drivenNode");m(this,"canvasId");m(this,"preciseDragging",!1);m(this,"temporaryMinValue");m(this,"temporaryMaxValue");m(this,"previousValue");m(this,"valueRateOfChange",0);this.originalVisibility=f,this.visibility=h,this.fromNode=n,this.toNode=o,this.minValue=a,this.maxValue=l,this.value=a,this.temporaryMinValue=a,this.temporaryMaxValue=l,this.previousValue=a,this.drivenNode=r,this.canvasId=g}draw(s){throw new Error("draw is a virtual function on the CtxSlider class. (Received"+s+")")}updateLocationBasedOnValue(){throw new Error("updateLocationBasedOnValue is a virtual function on the CtxSlider class.")}updateValueBasedOnMousePosition(s){throw new Error("updateValueBasedOnMousePosition is a virtual function on the CtxSlider class. (Received"+s+")")}mouseDownIntiatesDrag(s){throw new Error("mouseDownIntiatesDrag is a virtual function on the CtxSlider class. (Received"+s+")")}updateValueBasedOnNodeVoltages(){this.value=De(this.temporaryMinValue,this.temporaryMaxValue,this.toNode.value.voltage-this.fromNode.value.voltage),this.updateLocationBasedOnValue()}updateNodeVoltagesBasedOnValue(){this.dragging&&(this.drivenNode=="toNode"?(this.toNode.value.fixed=!0,this.toNode.value.voltage=this.fromNode.value.voltage+this.value):(this.fromNode.value.fixed=!0,this.fromNode.value.voltage=this.toNode.value.voltage-this.value))}dragSlider(s){if(this.dragging){const i=this.transformationMatrix.inverse().transformPoint(s);this.updateValueBasedOnMousePosition(i),this.value=De(this.temporaryMinValue,this.temporaryMaxValue,this.value);const n=De(0,1,(this.value-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue));n<.05&&this.value<=this.previousValue?this.valueRateOfChange=-.01:n>.95&&this.value>=this.previousValue?this.valueRateOfChange=.01:this.valueRateOfChange=0,this.updateLocationBasedOnValue(),this.updateNodeVoltagesBasedOnValue(),this.previousValue=this.value}}releaseSlider(){this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.maxValue,this.preciseDragging=!1,this.dragging=!1,this.drivenNode=="toNode"?this.toNode.value.fixed=!1:this.fromNode.value.fixed=!1}adjustPreciseSlider(s=10){this.dragging&&this.preciseDragging&&(this.value>=this.maxValue||this.temporaryMaxValue>this.maxValue?(this.value=this.maxValue,this.temporaryMaxValue=this.maxValue,this.temporaryMinValue=this.maxValue-_i,this.valueRateOfChange=0):this.value<=this.minValue||this.temporaryMinValue<this.minValue?(this.value=this.minValue,this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.minValue+_i,this.valueRateOfChange=0):(this.temporaryMinValue+=this.valueRateOfChange*(s/1e3)*70,this.temporaryMaxValue+=this.valueRateOfChange*(s/1e3)*70,this.value+=this.valueRateOfChange*(s/1e3)*70))}checkDrag(s,i){if(this.visibility!="visible")return;const n=this.transformationMatrix.inverse().transformPoint(s);if(this.mouseDownIntiatesDrag(n)&&(this.dragging=!0),this.dragging)if(i){this.preciseDragging=!0;const o=(this.value-this.minValue)/(this.maxValue-this.minValue);this.temporaryMinValue=this.value-_i*o,this.temporaryMaxValue=this.value+_i*(1-o)}else this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.maxValue}}class Cs extends ka{constructor(s=[],i,n,o,r,a,l,f,h,g,v,y,A,O,R="main"){super(s,new ae().translate({x:r,y:a}).rotate(f).mirror(!1,g),i,n,o,v,y,O,O,R);m(this,"radius");m(this,"originalRadius");m(this,"endAngle");m(this,"displayText");this.radius=l,this.originalRadius=l,this.endAngle=h,this.displayText=A}draw(s){if(this.visibility=="hidden")return;this.transformationMatrix.transformCanvas(s),this.dragging&&this.preciseDragging?this.radius=this.originalRadius+10:this.radius=this.originalRadius,s.strokeStyle=this.visibility=="visible"?"orange":"lightgrey",s.lineWidth=this.localLineThickness,s.beginPath(),s.arc(0,0,this.radius,0,this.endAngle,!1);const i=this.endAngle,n=0,o=7;s.moveTo((this.radius+o)*Math.cos(n),(this.radius+o)*Math.sin(n)),s.lineTo((this.radius-o)*Math.cos(n),(this.radius-o)*Math.sin(n));const r=7,a=nt(-5);if(s.moveTo((this.radius+r)*Math.cos(i+a),(this.radius+r)*Math.sin(i+a)),s.lineTo(this.radius*Math.cos(i),this.radius*Math.sin(i)),s.lineTo((this.radius-r)*Math.cos(i+a),(this.radius-r)*Math.sin(i+a)),s.stroke(),this.dragging&&this.preciseDragging){const h=(v,y=!0)=>{const A=this.radius+(y?15:8);s.beginPath(),s.moveTo(this.radius*Math.cos(v),this.radius*Math.sin(v)),s.lineTo(A*Math.cos(v),A*Math.sin(v)),s.stroke()};let g=Math.ceil(this.temporaryMinValue);for(;g<this.temporaryMaxValue;){const v=(g-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue);h(this.endAngle*v,!0),g+=1}for(g=Math.ceil(this.temporaryMinValue+.5)-.5;g<this.temporaryMaxValue;){const v=(g-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue);h(this.endAngle*v,!1),g+=1}}s.beginPath(),s.arc(this.location.x,this.location.y,5,0,Math.PI*2),s.fillStyle=this.visibility=="visible"?"rgb(255, 0, 0)":"lightgrey",s.fill(),s.fillStyle=this.visibility=="visible"?"#000":"lightgrey";const l={x:this.location.x*(this.radius+15)/this.radius,y:this.location.y*(this.radius+15)/this.radius};s.font="18px Arial";const f=this.fillTextGlobalReferenceFrame(s,l,this.displayText,!0,!1,18);s.font="16px Arial",this.fillTextGlobalReferenceFrame(s,f,ps(this.value,"V",3),!0)}updateLocationBasedOnValue(){const i=(this.value-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue)*this.endAngle;this.location={x:this.radius*Math.cos(i),y:this.radius*Math.sin(i)}}updateValueBasedOnMousePosition(s){const i=Math.atan2(s.y,s.x),n=De(0,1,i/this.endAngle);this.value=n*(this.temporaryMaxValue-this.temporaryMinValue)+this.temporaryMinValue,this.updateLocationBasedOnValue()}mouseDownIntiatesDrag(s){const i=s.x**2+s.y**2,n=(s.x-this.location.x)**2+(s.y-this.location.y)**2,r=Math.atan2(s.y,s.x)/this.endAngle;return n<=10**2||(this.radius-20)**2<i&&i<(this.radius+20)**2&&0<r&&r<1}}const Ui=class Ui extends Fe{constructor(s=[],i=te(()=>({x:0,y:0})),n={}){super(s,new ae);m(this,"currentLocation",{x:0,y:0});m(this,"desiredLocation");this.desiredLocation=i,this.anchorPoints=n,Ui.allTectonicPlates.push(this)}moveTowardDesiredLocation(){this.moveTowardLocation(this.desiredLocation.value)}moveTowardLocation(s){const n={start:this.currentLocation,end:s};let o={x:0,y:0};an(Fe.textTransformationMatrix.transformLine(n))<.1?o=s:o=Pa(n,.1),this.moveTo(o),this.currentLocation=o}};m(Ui,"allTectonicPlates",[]);let se=Ui;class K extends Fe{constructor(s=[],i={x:0,y:0}){super(s,new ae);m(this,"point");this.point=i}toPoint(){return this.transformations[0].value.inverse().multiply(this.transformationMatrix).transformPoint(this.point)}}class C{constructor(t,s,i,n){m(this,"start");m(this,"end");this.start=new K(t,s),this.end=new K(i,n)}toLine(){return{start:this.start.toPoint(),end:this.end.toPoint()}}}class Ra extends Fe{constructor(s=[],i=new ae,n="main"){super(s,i,n);m(this,"isDuplicate",!1);m(this,"mouseDownInsideSelectionArea",!1);m(this,"selected",P(!1));m(this,"selectedFocus",P(!1));m(this,"boundingBox");this.boundingBox=[new K(this.transformations,{x:-120,y:0}),new K(this.transformations,{x:120,y:0}),new K(this.transformations,{x:0,y:-120}),new K(this.transformations,{x:0,y:120})]}checkSelectionArea(s){const i=this.transformationMatrix.inverse().transformPoint(s);return an({start:{x:0,y:0},end:i})<60}drawSelectedHalo(s){if(this.selectedFocus.value&&!this.isDuplicate){const i=s.createRadialGradient(0,0,0,0,0,100);i.addColorStop(0,"rgba(0, 0, 255, 0)"),i.addColorStop(.5,"rgba(0, 0, 255, 0)"),i.addColorStop(.8,"rgba(0, 0, 255, 0.2)"),i.addColorStop(1,"rgba(0, 0, 255, 0)"),s.fillStyle=i,s.arc(0,0,200,0,2*Math.PI),s.fill()}}}class Xe extends Ra{constructor(s=[],i,n,o,r,a,l=!1,f="main"){super(s,new ae().translate(i).mirror(l,!1).scale(1/30),f);m(this,"voltageDrop");m(this,"vplus");m(this,"vminus");m(this,"schematicEffects");m(this,"current");m(this,"fixedAt");m(this,"isDuplicate",!1);m(this,"selectedFocus",P(!1));m(this,"mouseDownInsideSelectionArea",!1);this.vplus=o,this.vminus=n,this.fixedAt=a,a=="gnd"?this.voltageDrop=new Cs(this.transformations,n,o,"toNode",0,0,50,nt(40),nt(80),!0,0,5,r,"visible",f):this.voltageDrop=new Cs(this.transformations.concat([P(new ae().mirror(!1,!0))]),n,o,"fromNode",0,0,50,nt(40),nt(80),!0,0,5,r,"visible",f),this.schematicEffects={},this.current=0,this.anchorPoints={Vplus:{x:0,y:-30},Vminus:{x:0,y:30},vdd:{x:0,y:-60},gnd:{x:0,y:60}}}copy(s,i="main"){const n=new Xe([s].concat(this.transformations.slice(1)),{x:0,y:0},this.vminus,this.vplus,this.voltageDrop.displayText,this.fixedAt,this.fixedAt=="gnd"==this.transformationMatrix.isMirrored,i);return n.transformations[n.transformations.length-1].value=new ae,n}draw(s){this.transformationMatrix.transformCanvas(s),this.drawSelectedHalo(s);const i=30,n=11,o=10;s.strokeStyle="black",s.lineWidth=this.localLineThickness;const r=[],a=[{start:{x:n/2,y:-o},end:{x:-n/2,y:-o}},{start:{x:0,y:-o-n/2},end:{x:0,y:-o+n/2}},{start:{x:n/2,y:o},end:{x:-n/2,y:o}}],l=[{center:{x:0,y:0},outerDiameter:2*i}];Ft(s,r,this.localLineThickness,"black"),Ft(s,a,this.localLineThickness*.8,"black"),Mo(s,l,this.localLineThickness,"black"),this.voltageDrop.draw(s)}}const jn=(e,t=0,s=5,i=0)=>{const n=e-i,o=t-i,r=s-i,a=.0256,l=.648,f=.8051,h=164e-8,g=h*Math.log(1+Math.exp((f*(n-l)-o)/(2*a)))**2+1e-15,v=h*Math.log(1+Math.exp((f*(n-l)-r)/(2*a)))**2,y=g-v,A=y/g;return{I:y,IF:g,saturationLevel:A}},$n=(e,t=5,s=0,i=5)=>{const n=i-e,o=i-t,r=i-s,a=.0256,l=.7283,f=.7609,h=6108e-10,g=h*Math.log(1+Math.exp((f*(n-l)-o)/(2*a)))**2+1e-15,v=h*Math.log(1+Math.exp((f*(n-l)-r)/(2*a)))**2,y=g-v,A=y/g;return{I:y,IF:g,saturationLevel:A}};function ln(e){for(var t=e.length/6|0,s=new Array(t),i=0;i<t;)s[i]="#"+e.slice(i*6,++i*6);return s}function cn(e){var t=e.length;return function(s){return e[Math.max(0,Math.min(t-1,Math.floor(s*t)))]}}cn(ln("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));cn(ln("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));var If=cn(ln("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));cn(ln("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Ks(e,t,s){this.k=e,this.x=t,this.y=s}Ks.prototype={constructor:Ks,scale:function(e){return e===1?this:new Ks(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ks(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ks.prototype;class Un{constructor(t=[]){m(this,"dotPath");m(this,"dotPercentage");m(this,"dotSize");m(this,"dotSpacing");m(this,"gradientSize");this.dotPath=t,this.dotPercentage=0,this.dotSize=8,this.dotSpacing=20,t.length==0?this.gradientSize=0:this.gradientSize=Math.sqrt((t[t.length-1].end.x-t[0].start.x)**2+(t[t.length-1].end.y-t[0].start.y)**2)/2}draw(t){const s=this.getMovingDotPositions(this.dotPath,this.dotSpacing).map(n=>({center:n,outerDiameter:this.dotSize})),i=t.createRadialGradient(0,0,0,0,0,this.gradientSize);i.addColorStop(0,"rgba(0, 0, 255, 1)"),i.addColorStop(1,"rgba(0, 0, 255, 0)"),Rf(t,s,this.dotSize/2,i)}updateDotPositionBasedOnTimestamp(t,s=10){const i=this.getDotSpeedFromCurrent(t);this.dotPercentage=Bn(this.dotPercentage+i*(s/1e3),1)}getMovingDotPositions(t,s){const i=Ca(t),n=[],o=Math.floor(i/s);for(let r=0;r<o;r++){const a=(r+this.dotPercentage)/o,l=Je(t,a);n.push(l)}return n}getDotSpeedFromCurrent(t){let n=1,o=!1;return t==0?0:(t<0&&(t=Math.abs(t),o=!0),t>1e-4?n=(Math.log10(t/1e-4)+1)**2*1:n=1/(1-Math.log10(t/1e-4))**2*1,n>5*1?n=5*1:n<.001*1&&(n=.001*1),o?-n:n)}}const Nf=(e,t)=>Math.floor(e/t)*t,Hn=(e,t,s=!1)=>{if(s)return Bf(e,t);const i=t-e;let n=10**Math.floor(Math.log10(i));const o=Math.floor(i/n);o>=5?n=n*5:o>=4?n=n*2:o<=2&&(n=n/2);let a=Nf(e,n),l=[];for(;a<=t;)l.push(a),a=a+n;return l.push(a),l},zf=e=>Math.abs(Math.round(e)-e)<.1?10**Math.round(3*e):5*10**Math.floor(3*e),Bf=(e,t)=>{e<=0&&console.error(`Lower bound, ${e} <= 0. Log will return NaN`);const s=Math.log10(e)/3,i=Math.log10(t)/3;return i-s<1?Hn(e,t):Hn(s,i).map(zf)},Si=(e,t,s)=>{if(s<=0)throw new Error("num must be a positive integer");if(s===1)return[e];const i=(t-e)/(s-1),n=[];for(let o=0;o<s;o++)n.push(e+i*o);return n},Wi=P(!0),ti=P(!1),Ti=P(!0),ot=P(2),Gn=P({width:1,height:1}),jf=P({width:1,height:1}),$f=P({width:1,height:1}),Uf=(e,t)=>{t.value={width:e.canvas.clientWidth,height:e.canvas.clientHeight}},Ts=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Ia=new Set,Kn=typeof process=="object"&&process?process:{},Na=(e,t,s,i)=>{typeof Kn.emitWarning=="function"?Kn.emitWarning(e,t,s,i):console.error(`[${s}] ${t}: ${e}`)};let $i=globalThis.AbortController,yr=globalThis.AbortSignal;var br;if(typeof $i>"u"){yr=class{constructor(){m(this,"onabort");m(this,"_onabort",[]);m(this,"reason");m(this,"aborted",!1)}addEventListener(i,n){this._onabort.push(n)}},$i=class{constructor(){m(this,"signal",new yr);t()}abort(i){var n,o;if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const r of this.signal._onabort)r(i);(o=(n=this.signal).onabort)==null||o.call(n,i)}}};let e=((br=Kn.env)==null?void 0:br.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const t=()=>{e&&(e=!1,Na("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const Hf=e=>!Ia.has(e),Gt=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),za=e=>Gt(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?Fi:null:null;class Fi extends Array{constructor(t){super(t),this.fill(0)}}var Os;const ms=class ms{constructor(t,s){m(this,"heap");m(this,"length");if(!c(ms,Os))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new s(t),this.length=0}static create(t){const s=za(t);if(!s)return[];H(ms,Os,!0);const i=new ms(t,s);return H(ms,Os,!1),i}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};Os=new WeakMap,X(ms,Os,!1);let qn=ms;var pt,et,yt,bt,Ws,Fs,Pe,xt,Se,be,Z,He,tt,ze,Oe,wt,We,Mt,Vt,st,_t,ts,Ge,li,Jn,ys,Nt,ci,it,Hi,Ba,bs,ks,fi,Pt,Kt,Lt,qt,hi,Xn,wh,Rs,ki,Is,Ri,me,ye,ui,Zn,xs,qs,Dt,Yt,di,Qn;const _o=class _o{constructor(t){X(this,li);X(this,Hi);X(this,Pt);X(this,Lt);X(this,hi);X(this,Rs);X(this,Is);X(this,me);X(this,ui);X(this,xs);X(this,Dt);X(this,di);X(this,pt,void 0);X(this,et,void 0);X(this,yt,void 0);X(this,bt,void 0);X(this,Ws,void 0);X(this,Fs,void 0);m(this,"ttl");m(this,"ttlResolution");m(this,"ttlAutopurge");m(this,"updateAgeOnGet");m(this,"updateAgeOnHas");m(this,"allowStale");m(this,"noDisposeOnSet");m(this,"noUpdateTTL");m(this,"maxEntrySize");m(this,"sizeCalculation");m(this,"noDeleteOnFetchRejection");m(this,"noDeleteOnStaleGet");m(this,"allowStaleOnFetchAbort");m(this,"allowStaleOnFetchRejection");m(this,"ignoreFetchAbort");X(this,Pe,void 0);X(this,xt,void 0);X(this,Se,void 0);X(this,be,void 0);X(this,Z,void 0);X(this,He,void 0);X(this,tt,void 0);X(this,ze,void 0);X(this,Oe,void 0);X(this,wt,void 0);X(this,We,void 0);X(this,Mt,void 0);X(this,Vt,void 0);X(this,st,void 0);X(this,_t,void 0);X(this,ts,void 0);X(this,Ge,void 0);X(this,ys,()=>{});X(this,Nt,()=>{});X(this,ci,()=>{});X(this,it,()=>!1);X(this,bs,t=>{});X(this,ks,(t,s,i)=>{});X(this,fi,(t,s,i,n)=>{if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});m(this,wh,"LRUCache");const{max:s=0,ttl:i,ttlResolution:n=1,ttlAutopurge:o,updateAgeOnGet:r,updateAgeOnHas:a,allowStale:l,dispose:f,disposeAfter:h,noDisposeOnSet:g,noUpdateTTL:v,maxSize:y=0,maxEntrySize:A=0,sizeCalculation:O,fetchMethod:R,memoMethod:_,noDeleteOnFetchRejection:S,noDeleteOnStaleGet:z,allowStaleOnFetchRejection:$,allowStaleOnFetchAbort:ee,ignoreFetchAbort:Y}=t;if(s!==0&&!Gt(s))throw new TypeError("max option must be a nonnegative integer");const de=s?za(s):Array;if(!de)throw new Error("invalid max value: "+s);if(H(this,pt,s),H(this,et,y),this.maxEntrySize=A||c(this,et),this.sizeCalculation=O,this.sizeCalculation){if(!c(this,et)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(_!==void 0&&typeof _!="function")throw new TypeError("memoMethod must be a function if defined");if(H(this,Fs,_),R!==void 0&&typeof R!="function")throw new TypeError("fetchMethod must be a function if specified");if(H(this,Ws,R),H(this,ts,!!R),H(this,Se,new Map),H(this,be,new Array(s).fill(void 0)),H(this,Z,new Array(s).fill(void 0)),H(this,He,new de(s)),H(this,tt,new de(s)),H(this,ze,0),H(this,Oe,0),H(this,wt,qn.create(s)),H(this,Pe,0),H(this,xt,0),typeof f=="function"&&H(this,yt,f),typeof h=="function"?(H(this,bt,h),H(this,We,[])):(H(this,bt,void 0),H(this,We,void 0)),H(this,_t,!!c(this,yt)),H(this,Ge,!!c(this,bt)),this.noDisposeOnSet=!!g,this.noUpdateTTL=!!v,this.noDeleteOnFetchRejection=!!S,this.allowStaleOnFetchRejection=!!$,this.allowStaleOnFetchAbort=!!ee,this.ignoreFetchAbort=!!Y,this.maxEntrySize!==0){if(c(this,et)!==0&&!Gt(c(this,et)))throw new TypeError("maxSize must be a positive integer if specified");if(!Gt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");k(this,Hi,Ba).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!z,this.updateAgeOnGet=!!r,this.updateAgeOnHas=!!a,this.ttlResolution=Gt(n)||n===0?n:1,this.ttlAutopurge=!!o,this.ttl=i||0,this.ttl){if(!Gt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");k(this,li,Jn).call(this)}if(c(this,pt)===0&&this.ttl===0&&c(this,et)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!c(this,pt)&&!c(this,et)){const j="LRU_CACHE_UNBOUNDED";Hf(j)&&(Ia.add(j),Na("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",j,_o))}}static unsafeExposeInternals(t){return{starts:c(t,Vt),ttls:c(t,st),sizes:c(t,Mt),keyMap:c(t,Se),keyList:c(t,be),valList:c(t,Z),next:c(t,He),prev:c(t,tt),get head(){return c(t,ze)},get tail(){return c(t,Oe)},free:c(t,wt),isBackgroundFetch:s=>{var i;return k(i=t,me,ye).call(i,s)},backgroundFetch:(s,i,n,o)=>{var r;return k(r=t,Is,Ri).call(r,s,i,n,o)},moveToTail:s=>{var i;return k(i=t,xs,qs).call(i,s)},indexes:s=>{var i;return k(i=t,Pt,Kt).call(i,s)},rindexes:s=>{var i;return k(i=t,Lt,qt).call(i,s)},isStale:s=>{var i;return c(i=t,it).call(i,s)}}}get max(){return c(this,pt)}get maxSize(){return c(this,et)}get calculatedSize(){return c(this,xt)}get size(){return c(this,Pe)}get fetchMethod(){return c(this,Ws)}get memoMethod(){return c(this,Fs)}get dispose(){return c(this,yt)}get disposeAfter(){return c(this,bt)}getRemainingTTL(t){return c(this,Se).has(t)?1/0:0}*entries(){for(const t of k(this,Pt,Kt).call(this))c(this,Z)[t]!==void 0&&c(this,be)[t]!==void 0&&!k(this,me,ye).call(this,c(this,Z)[t])&&(yield[c(this,be)[t],c(this,Z)[t]])}*rentries(){for(const t of k(this,Lt,qt).call(this))c(this,Z)[t]!==void 0&&c(this,be)[t]!==void 0&&!k(this,me,ye).call(this,c(this,Z)[t])&&(yield[c(this,be)[t],c(this,Z)[t]])}*keys(){for(const t of k(this,Pt,Kt).call(this)){const s=c(this,be)[t];s!==void 0&&!k(this,me,ye).call(this,c(this,Z)[t])&&(yield s)}}*rkeys(){for(const t of k(this,Lt,qt).call(this)){const s=c(this,be)[t];s!==void 0&&!k(this,me,ye).call(this,c(this,Z)[t])&&(yield s)}}*values(){for(const t of k(this,Pt,Kt).call(this))c(this,Z)[t]!==void 0&&!k(this,me,ye).call(this,c(this,Z)[t])&&(yield c(this,Z)[t])}*rvalues(){for(const t of k(this,Lt,qt).call(this))c(this,Z)[t]!==void 0&&!k(this,me,ye).call(this,c(this,Z)[t])&&(yield c(this,Z)[t])}[Symbol.iterator](){return this.entries()}find(t,s={}){for(const i of k(this,Pt,Kt).call(this)){const n=c(this,Z)[i],o=k(this,me,ye).call(this,n)?n.__staleWhileFetching:n;if(o!==void 0&&t(o,c(this,be)[i],this))return this.get(c(this,be)[i],s)}}forEach(t,s=this){for(const i of k(this,Pt,Kt).call(this)){const n=c(this,Z)[i],o=k(this,me,ye).call(this,n)?n.__staleWhileFetching:n;o!==void 0&&t.call(s,o,c(this,be)[i],this)}}rforEach(t,s=this){for(const i of k(this,Lt,qt).call(this)){const n=c(this,Z)[i],o=k(this,me,ye).call(this,n)?n.__staleWhileFetching:n;o!==void 0&&t.call(s,o,c(this,be)[i],this)}}purgeStale(){let t=!1;for(const s of k(this,Lt,qt).call(this,{allowStale:!0}))c(this,it).call(this,s)&&(k(this,Dt,Yt).call(this,c(this,be)[s],"expire"),t=!0);return t}info(t){const s=c(this,Se).get(t);if(s===void 0)return;const i=c(this,Z)[s],n=k(this,me,ye).call(this,i)?i.__staleWhileFetching:i;if(n===void 0)return;const o={value:n};if(c(this,st)&&c(this,Vt)){const r=c(this,st)[s],a=c(this,Vt)[s];if(r&&a){const l=r-(Ts.now()-a);o.ttl=l,o.start=Date.now()}}return c(this,Mt)&&(o.size=c(this,Mt)[s]),o}dump(){const t=[];for(const s of k(this,Pt,Kt).call(this,{allowStale:!0})){const i=c(this,be)[s],n=c(this,Z)[s],o=k(this,me,ye).call(this,n)?n.__staleWhileFetching:n;if(o===void 0||i===void 0)continue;const r={value:o};if(c(this,st)&&c(this,Vt)){r.ttl=c(this,st)[s];const a=Ts.now()-c(this,Vt)[s];r.start=Math.floor(Date.now()-a)}c(this,Mt)&&(r.size=c(this,Mt)[s]),t.unshift([i,r])}return t}load(t){this.clear();for(const[s,i]of t){if(i.start){const n=Date.now()-i.start;i.start=Ts.now()-n}this.set(s,i.value,i)}}set(t,s,i={}){var v,y,A,O,R;if(s===void 0)return this.delete(t),this;const{ttl:n=this.ttl,start:o,noDisposeOnSet:r=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=i;let{noUpdateTTL:f=this.noUpdateTTL}=i;const h=c(this,fi).call(this,t,s,i.size||0,a);if(this.maxEntrySize&&h>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),k(this,Dt,Yt).call(this,t,"set"),this;let g=c(this,Pe)===0?void 0:c(this,Se).get(t);if(g===void 0)g=c(this,Pe)===0?c(this,Oe):c(this,wt).length!==0?c(this,wt).pop():c(this,Pe)===c(this,pt)?k(this,Rs,ki).call(this,!1):c(this,Pe),c(this,be)[g]=t,c(this,Z)[g]=s,c(this,Se).set(t,g),c(this,He)[c(this,Oe)]=g,c(this,tt)[g]=c(this,Oe),H(this,Oe,g),vi(this,Pe)._++,c(this,ks).call(this,g,h,l),l&&(l.set="add"),f=!1;else{k(this,xs,qs).call(this,g);const _=c(this,Z)[g];if(s!==_){if(c(this,ts)&&k(this,me,ye).call(this,_)){_.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:S}=_;S!==void 0&&!r&&(c(this,_t)&&((v=c(this,yt))==null||v.call(this,S,t,"set")),c(this,Ge)&&((y=c(this,We))==null||y.push([S,t,"set"])))}else r||(c(this,_t)&&((A=c(this,yt))==null||A.call(this,_,t,"set")),c(this,Ge)&&((O=c(this,We))==null||O.push([_,t,"set"])));if(c(this,bs).call(this,g),c(this,ks).call(this,g,h,l),c(this,Z)[g]=s,l){l.set="replace";const S=_&&k(this,me,ye).call(this,_)?_.__staleWhileFetching:_;S!==void 0&&(l.oldValue=S)}}else l&&(l.set="update")}if(n!==0&&!c(this,st)&&k(this,li,Jn).call(this),c(this,st)&&(f||c(this,ci).call(this,g,n,o),l&&c(this,Nt).call(this,l,g)),!r&&c(this,Ge)&&c(this,We)){const _=c(this,We);let S;for(;S=_==null?void 0:_.shift();)(R=c(this,bt))==null||R.call(this,...S)}return this}pop(){var t;try{for(;c(this,Pe);){const s=c(this,Z)[c(this,ze)];if(k(this,Rs,ki).call(this,!0),k(this,me,ye).call(this,s)){if(s.__staleWhileFetching)return s.__staleWhileFetching}else if(s!==void 0)return s}}finally{if(c(this,Ge)&&c(this,We)){const s=c(this,We);let i;for(;i=s==null?void 0:s.shift();)(t=c(this,bt))==null||t.call(this,...i)}}}has(t,s={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:n}=s,o=c(this,Se).get(t);if(o!==void 0){const r=c(this,Z)[o];if(k(this,me,ye).call(this,r)&&r.__staleWhileFetching===void 0)return!1;if(c(this,it).call(this,o))n&&(n.has="stale",c(this,Nt).call(this,n,o));else return i&&c(this,ys).call(this,o),n&&(n.has="hit",c(this,Nt).call(this,n,o)),!0}else n&&(n.has="miss");return!1}peek(t,s={}){const{allowStale:i=this.allowStale}=s,n=c(this,Se).get(t);if(n===void 0||!i&&c(this,it).call(this,n))return;const o=c(this,Z)[n];return k(this,me,ye).call(this,o)?o.__staleWhileFetching:o}async fetch(t,s={}){const{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:r=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:h=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:v=this.allowStaleOnFetchRejection,ignoreFetchAbort:y=this.ignoreFetchAbort,allowStaleOnFetchAbort:A=this.allowStaleOnFetchAbort,context:O,forceRefresh:R=!1,status:_,signal:S}=s;if(!c(this,ts))return _&&(_.fetch="get"),this.get(t,{allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,status:_});const z={allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,ttl:r,noDisposeOnSet:a,size:l,sizeCalculation:f,noUpdateTTL:h,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:v,allowStaleOnFetchAbort:A,ignoreFetchAbort:y,status:_,signal:S};let $=c(this,Se).get(t);if($===void 0){_&&(_.fetch="miss");const ee=k(this,Is,Ri).call(this,t,$,z,O);return ee.__returned=ee}else{const ee=c(this,Z)[$];if(k(this,me,ye).call(this,ee)){const le=i&&ee.__staleWhileFetching!==void 0;return _&&(_.fetch="inflight",le&&(_.returnedStale=!0)),le?ee.__staleWhileFetching:ee.__returned=ee}const Y=c(this,it).call(this,$);if(!R&&!Y)return _&&(_.fetch="hit"),k(this,xs,qs).call(this,$),n&&c(this,ys).call(this,$),_&&c(this,Nt).call(this,_,$),ee;const de=k(this,Is,Ri).call(this,t,$,z,O),fe=de.__staleWhileFetching!==void 0&&i;return _&&(_.fetch=Y?"stale":"refresh",fe&&Y&&(_.returnedStale=!0)),fe?de.__staleWhileFetching:de.__returned=de}}async forceFetch(t,s={}){const i=await this.fetch(t,s);if(i===void 0)throw new Error("fetch() returned undefined");return i}memo(t,s={}){const i=c(this,Fs);if(!i)throw new Error("no memoMethod provided to constructor");const{context:n,forceRefresh:o,...r}=s,a=this.get(t,r);if(!o&&a!==void 0)return a;const l=i(t,a,{options:r,context:n});return this.set(t,l,r),l}get(t,s={}){const{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:r}=s,a=c(this,Se).get(t);if(a!==void 0){const l=c(this,Z)[a],f=k(this,me,ye).call(this,l);return r&&c(this,Nt).call(this,r,a),c(this,it).call(this,a)?(r&&(r.get="stale"),f?(r&&i&&l.__staleWhileFetching!==void 0&&(r.returnedStale=!0),i?l.__staleWhileFetching:void 0):(o||k(this,Dt,Yt).call(this,t,"expire"),r&&i&&(r.returnedStale=!0),i?l:void 0)):(r&&(r.get="hit"),f?l.__staleWhileFetching:(k(this,xs,qs).call(this,a),n&&c(this,ys).call(this,a),l))}else r&&(r.get="miss")}delete(t){return k(this,Dt,Yt).call(this,t,"delete")}clear(){return k(this,di,Qn).call(this,"delete")}};wh=Symbol.toStringTag,pt=new WeakMap,et=new WeakMap,yt=new WeakMap,bt=new WeakMap,Ws=new WeakMap,Fs=new WeakMap,Pe=new WeakMap,xt=new WeakMap,Se=new WeakMap,be=new WeakMap,Z=new WeakMap,He=new WeakMap,tt=new WeakMap,ze=new WeakMap,Oe=new WeakMap,wt=new WeakMap,We=new WeakMap,Mt=new WeakMap,Vt=new WeakMap,st=new WeakMap,_t=new WeakMap,ts=new WeakMap,Ge=new WeakMap,li=new WeakSet,Jn=function(){const t=new Fi(c(this,pt)),s=new Fi(c(this,pt));H(this,st,t),H(this,Vt,s),H(this,ci,(o,r,a=Ts.now())=>{if(s[o]=r!==0?a:0,t[o]=r,r!==0&&this.ttlAutopurge){const l=setTimeout(()=>{c(this,it).call(this,o)&&k(this,Dt,Yt).call(this,c(this,be)[o],"expire")},r+1);l.unref&&l.unref()}}),H(this,ys,o=>{s[o]=t[o]!==0?Ts.now():0}),H(this,Nt,(o,r)=>{if(t[r]){const a=t[r],l=s[r];if(!a||!l)return;o.ttl=a,o.start=l,o.now=i||n();const f=o.now-l;o.remainingTTL=a-f}});let i=0;const n=()=>{const o=Ts.now();if(this.ttlResolution>0){i=o;const r=setTimeout(()=>i=0,this.ttlResolution);r.unref&&r.unref()}return o};this.getRemainingTTL=o=>{const r=c(this,Se).get(o);if(r===void 0)return 0;const a=t[r],l=s[r];if(!a||!l)return 1/0;const f=(i||n())-l;return a-f},H(this,it,o=>{const r=s[o],a=t[o];return!!a&&!!r&&(i||n())-r>a})},ys=new WeakMap,Nt=new WeakMap,ci=new WeakMap,it=new WeakMap,Hi=new WeakSet,Ba=function(){const t=new Fi(c(this,pt));H(this,xt,0),H(this,Mt,t),H(this,bs,s=>{H(this,xt,c(this,xt)-t[s]),t[s]=0}),H(this,fi,(s,i,n,o)=>{if(k(this,me,ye).call(this,i))return 0;if(!Gt(n))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(n=o(i,s),!Gt(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n}),H(this,ks,(s,i,n)=>{if(t[s]=i,c(this,et)){const o=c(this,et)-t[s];for(;c(this,xt)>o;)k(this,Rs,ki).call(this,!0)}H(this,xt,c(this,xt)+t[s]),n&&(n.entrySize=i,n.totalCalculatedSize=c(this,xt))})},bs=new WeakMap,ks=new WeakMap,fi=new WeakMap,Pt=new WeakSet,Kt=function*({allowStale:t=this.allowStale}={}){if(c(this,Pe))for(let s=c(this,Oe);!(!k(this,hi,Xn).call(this,s)||((t||!c(this,it).call(this,s))&&(yield s),s===c(this,ze)));)s=c(this,tt)[s]},Lt=new WeakSet,qt=function*({allowStale:t=this.allowStale}={}){if(c(this,Pe))for(let s=c(this,ze);!(!k(this,hi,Xn).call(this,s)||((t||!c(this,it).call(this,s))&&(yield s),s===c(this,Oe)));)s=c(this,He)[s]},hi=new WeakSet,Xn=function(t){return t!==void 0&&c(this,Se).get(c(this,be)[t])===t},Rs=new WeakSet,ki=function(t){var o,r;const s=c(this,ze),i=c(this,be)[s],n=c(this,Z)[s];return c(this,ts)&&k(this,me,ye).call(this,n)?n.__abortController.abort(new Error("evicted")):(c(this,_t)||c(this,Ge))&&(c(this,_t)&&((o=c(this,yt))==null||o.call(this,n,i,"evict")),c(this,Ge)&&((r=c(this,We))==null||r.push([n,i,"evict"]))),c(this,bs).call(this,s),t&&(c(this,be)[s]=void 0,c(this,Z)[s]=void 0,c(this,wt).push(s)),c(this,Pe)===1?(H(this,ze,H(this,Oe,0)),c(this,wt).length=0):H(this,ze,c(this,He)[s]),c(this,Se).delete(i),vi(this,Pe)._--,s},Is=new WeakSet,Ri=function(t,s,i,n){const o=s===void 0?void 0:c(this,Z)[s];if(k(this,me,ye).call(this,o))return o;const r=new $i,{signal:a}=i;a==null||a.addEventListener("abort",()=>r.abort(a.reason),{signal:r.signal});const l={signal:r.signal,options:i,context:n},f=(O,R=!1)=>{const{aborted:_}=r.signal,S=i.ignoreFetchAbort&&O!==void 0;if(i.status&&(_&&!R?(i.status.fetchAborted=!0,i.status.fetchError=r.signal.reason,S&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),_&&!S&&!R)return g(r.signal.reason);const z=y;return c(this,Z)[s]===y&&(O===void 0?z.__staleWhileFetching?c(this,Z)[s]=z.__staleWhileFetching:k(this,Dt,Yt).call(this,t,"fetch"):(i.status&&(i.status.fetchUpdated=!0),this.set(t,O,l.options))),O},h=O=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=O),g(O)),g=O=>{const{aborted:R}=r.signal,_=R&&i.allowStaleOnFetchAbort,S=_||i.allowStaleOnFetchRejection,z=S||i.noDeleteOnFetchRejection,$=y;if(c(this,Z)[s]===y&&(!z||$.__staleWhileFetching===void 0?k(this,Dt,Yt).call(this,t,"fetch"):_||(c(this,Z)[s]=$.__staleWhileFetching)),S)return i.status&&$.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),$.__staleWhileFetching;if($.__returned===$)throw O},v=(O,R)=>{var S;const _=(S=c(this,Ws))==null?void 0:S.call(this,t,o,l);_&&_ instanceof Promise&&_.then(z=>O(z===void 0?void 0:z),R),r.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(O(void 0),i.allowStaleOnFetchAbort&&(O=z=>f(z,!0)))})};i.status&&(i.status.fetchDispatched=!0);const y=new Promise(v).then(f,h),A=Object.assign(y,{__abortController:r,__staleWhileFetching:o,__returned:void 0});return s===void 0?(this.set(t,A,{...l.options,status:void 0}),s=c(this,Se).get(t)):c(this,Z)[s]=A,A},me=new WeakSet,ye=function(t){if(!c(this,ts))return!1;const s=t;return!!s&&s instanceof Promise&&s.hasOwnProperty("__staleWhileFetching")&&s.__abortController instanceof $i},ui=new WeakSet,Zn=function(t,s){c(this,tt)[s]=t,c(this,He)[t]=s},xs=new WeakSet,qs=function(t){t!==c(this,Oe)&&(t===c(this,ze)?H(this,ze,c(this,He)[t]):k(this,ui,Zn).call(this,c(this,tt)[t],c(this,He)[t]),k(this,ui,Zn).call(this,c(this,Oe),t),H(this,Oe,t))},Dt=new WeakSet,Yt=function(t,s){var n,o,r,a;let i=!1;if(c(this,Pe)!==0){const l=c(this,Se).get(t);if(l!==void 0)if(i=!0,c(this,Pe)===1)k(this,di,Qn).call(this,s);else{c(this,bs).call(this,l);const f=c(this,Z)[l];if(k(this,me,ye).call(this,f)?f.__abortController.abort(new Error("deleted")):(c(this,_t)||c(this,Ge))&&(c(this,_t)&&((n=c(this,yt))==null||n.call(this,f,t,s)),c(this,Ge)&&((o=c(this,We))==null||o.push([f,t,s]))),c(this,Se).delete(t),c(this,be)[l]=void 0,c(this,Z)[l]=void 0,l===c(this,Oe))H(this,Oe,c(this,tt)[l]);else if(l===c(this,ze))H(this,ze,c(this,He)[l]);else{const h=c(this,tt)[l];c(this,He)[h]=c(this,He)[l];const g=c(this,He)[l];c(this,tt)[g]=c(this,tt)[l]}vi(this,Pe)._--,c(this,wt).push(l)}}if(c(this,Ge)&&((r=c(this,We))!=null&&r.length)){const l=c(this,We);let f;for(;f=l==null?void 0:l.shift();)(a=c(this,bt))==null||a.call(this,...f)}return i},di=new WeakSet,Qn=function(t){var s,i,n;for(const o of k(this,Lt,qt).call(this,{allowStale:!0})){const r=c(this,Z)[o];if(k(this,me,ye).call(this,r))r.__abortController.abort(new Error("deleted"));else{const a=c(this,be)[o];c(this,_t)&&((s=c(this,yt))==null||s.call(this,r,a,t)),c(this,Ge)&&((i=c(this,We))==null||i.push([r,a,t]))}}if(c(this,Se).clear(),c(this,Z).fill(void 0),c(this,be).fill(void 0),c(this,st)&&c(this,Vt)&&(c(this,st).fill(0),c(this,Vt).fill(0)),c(this,Mt)&&c(this,Mt).fill(0),H(this,ze,0),H(this,Oe,0),c(this,wt).length=0,H(this,xt,0),H(this,Pe,0),c(this,Ge)&&c(this,We)){const o=c(this,We);let r;for(;r=o==null?void 0:o.shift();)(n=c(this,bt))==null||n.call(this,...r)}};let Yn=_o;const Ie=class Ie extends ka{constructor(s=[],i,n,o,r,a,l,f,h,g,v=5,y="x Var",A="y Var",O="xUnit",R="yUnit",_="linear",S="log",z=250,$=200,ee="visible",Y="main"){const de=g,j=n=="Vgs"?a:f;super(s,new ae().translate({x:o,y:r}),de,j,"toNode",0,v,"hidden",ee,Y);m(this,"points");m(this,"xAxisLabel");m(this,"yAxisLabel");m(this,"xUnit");m(this,"yUnit");m(this,"width");m(this,"height");m(this,"axesWidth");m(this,"axesHeight");m(this,"cornerToCornerGraph",!0);m(this,"plottingValues",[]);m(this,"yValue",0);m(this,"pointsCache",new Yn({max:1e3}));m(this,"cacheAttempts",0);m(this,"cacheHits",0);m(this,"memoize",!1);m(this,"Vg");m(this,"Vs");m(this,"Vd");m(this,"Vb");m(this,"mosfetType");m(this,"chartType");m(this,"originalMaxValue");m(this,"xScaleType");m(this,"yScaleType");m(this,"yMin",0);m(this,"yMax",0);m(this,"xTicks",[]);m(this,"yTicks",[]);m(this,"xScale",0);m(this,"yScale",0);m(this,"boundingBox");this.transformationMatrix.isMirrored&&this.transformations[this.transformations.length-1].value.mirror(!0,!1,!0),this.transformations[this.transformations.length-1].value.rotate(-this.transformationMatrix.rotation,!0),this.transformations[this.transformations.length-1].value.mirror(!1,!0,!0),n=="Vgs"?this.transformations[this.transformations.length-1].value.translate({x:-z/2,y:0},!0):this.transformations[this.transformations.length-1].value.translate({x:-z/2,y:-$},!0),this.transformations[this.transformations.length-1].value.translate({x:Ie.paddingL,y:Ie.paddingB},!0),this.points=[],this.xAxisLabel=y,this.yAxisLabel=A,this.xUnit=O,this.yUnit=R,this.xScaleType=_,this.yScaleType=S,this.width=z,this.height=$,this.axesWidth=z-Ie.paddingL-Ie.paddingR,this.axesHeight=$-Ie.paddingT-Ie.paddingB,this.Vg=a,this.Vs=l,this.Vd=f,this.Vb=h,this.mosfetType=i,this.chartType=n,this.originalMaxValue=v,this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.maxValue,this.boundingBox=[new K(this.transformations,{x:-100,y:0}),new K(this.transformations,{x:100,y:0}),new K(this.transformations,{x:0,y:-100}),new K(this.transformations,{x:0,y:100})]}copy(s,i="main"){return new Ie([s],this.mosfetType,this.chartType,0,0,this.Vg,this.Vs,this.Vd,this.Vb,this.fromNode,this.maxValue,this.xAxisLabel,this.yAxisLabel,this.xUnit,this.yUnit,this.xScaleType,this.yScaleType,this.width,this.height,this.visibility,i)}draw(s){if(this.visibility=="hidden")return;this.transformationMatrix.transformCanvas(s);const i=this.localLineThickness/2,n=this.localLineThickness/4;this.chartType=="Vgs"?this.sweepGateVoltages():this.sweepDrainVoltages(),this.preciseDragging?this.xTicks=Hn(this.temporaryMinValue,this.temporaryMaxValue,this.xScaleType=="log").filter(h=>h>=this.temporaryMinValue&&h<=this.temporaryMaxValue):this.xTicks=[0,1,2,3,4,5],this.chartType=="Vgs"?this.yTicks=[.001,1e-6,1e-9,1e-12].filter(h=>h>=this.yMin&&h<=this.yMax):this.yTicks=[25,50,75,100].filter(h=>h>=this.yMin&&h<=this.yMax);const o=this.xValueToLocation(this.value),r=(this.temporaryMaxValue-this.temporaryMinValue)/4;this.xTicks=this.xTicks.filter(h=>!(this.value-r/2<h&&h<this.value+r/2)),this.plottingValues=this.points.map(h=>({x:this.xValueToLocation(h.x),y:this.yValueToLocation(h.y)})),s.clearRect(-Ie.paddingL,-Ie.paddingB,this.width,this.height),s.strokeStyle="#000",Ft(s,[{start:{x:0,y:0},end:{x:this.axesWidth,y:0}},{start:{x:0,y:0},end:{x:0,y:this.axesHeight}}],i,"black"),s.font="16px Arial",s.textAlign="center";let a=this.fillTextGlobalReferenceFrame(s,{x:o,y:-16},this.xAxisLabel,!1);s.font="12px Arial",this.fillTextGlobalReferenceFrame(s,{x:a.x,y:a.y+3},ps(this.value,"V"),!1),s.font="18px Arial",this.fillTextGlobalReferenceFrame(s,{x:-30,y:this.axesHeight+6},this.yAxisLabel,!0,!0),s.strokeStyle="#ccc",s.font="12px Arial",s.fillStyle="#000",s.textAlign="center",this.xTicks.forEach(h=>{const g=this.xValueToLocation(h),v=ps(h,this.xUnit);Ft(s,[{start:{x:g,y:0},end:{x:g,y:-5}}],n,"black"),this.fillTextGlobalReferenceFrame(s,{x:g,y:-18},v)}),this.yTicks.forEach(h=>{const g=this.yValueToLocation(h),v=ps(h,this.yUnit);Ft(s,[{start:{x:0,y:g},end:{x:-5,y:g}}],n,"black"),this.fillTextGlobalReferenceFrame(s,{x:-25,y:g-6},v)}),s.strokeStyle="#f00",s.lineWidth=i,s.beginPath(),this.plottingValues.forEach((h,g)=>{g===0?s.moveTo(h.x,h.y):s.lineTo(h.x,h.y)}),s.stroke(),s.lineWidth=n,this.updateLocationBasedOnValue(),s.beginPath(),s.arc(this.location.x,this.location.y,5,0,2*Math.PI),s.fill(),s.moveTo(this.location.x,0),s.lineTo(this.location.x,this.location.y),s.stroke();const l=ps(this.yValue,this.yUnit),f=l.length*5;this.fillTextGlobalReferenceFrame(s,{x:this.location.x<this.axesWidth-f?Math.max(5,this.location.x+f):this.location.x-f,y:Math.max(5,this.location.y-15)},l),ti.value&&(s.lineWidth=5,s.strokeStyle="black",s.strokeRect(-Ie.paddingL,-Ie.paddingB,this.width,this.height))}sweepGateVoltages(s=this.width/3){if(this.yMin=1/0,this.yMax=-1/0,Si(this.minValue,this.maxValue,5).forEach(r=>{const a=this.getMosfetCurrentFromGateVoltage(r);this.yMin=Math.min(this.yMin,a),this.yMax=Math.max(this.yMax,a)}),this.memoize){this.cacheAttempts+=1;const r=this.pointsCache.get(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage));if(r!==void 0){this.points=r,this.cacheHits+=1;return}}this.points=[];let n={x:0,y:0};Si(this.temporaryMinValue,this.temporaryMaxValue,s).forEach(r=>{n={x:r,y:this.getMosfetCurrentFromGateVoltage(r)},this.points.push(n)}),this.memoize&&this.pointsCache.set(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage),this.points)}sweepDrainVoltages(s=this.width/3){if(this.points=[],this.yMin=1/0,this.yMax=-1/0,Si(this.minValue,this.maxValue,5).forEach(r=>{let a=this.getMosfetSaturationFromDrainVoltage(r);a<0&&(a=0),this.yMax=Math.max(this.yMax,a)}),this.yMin=0,this.memoize){this.cacheAttempts+=1;const r=this.pointsCache.get(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vg.value.voltage,this.Vs.value.voltage,this.Vb.value.voltage));if(r!==void 0){this.points=r,this.cacheHits+=1;return}}const n=Si(this.temporaryMinValue,this.temporaryMaxValue,s);let o={x:0,y:0};n.forEach(r=>{o={x:r,y:this.getMosfetSaturationFromDrainVoltage(r)},o.y<0&&(o.y=0),this.points.push(o)}),this.memoize&&this.pointsCache.set(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vg.value.voltage,this.Vs.value.voltage,this.Vb.value.voltage),this.points)}discretizeArgsForCache(s,i,n,o,r){return JSON.stringify([s.toFixed(3),i.toFixed(3),n.toFixed(3),o.toFixed(3),r.toFixed(3)])}xLocationToValue(s){let i=0;return this.xScaleType=="linear"?i=s/this.axesWidth*(this.temporaryMaxValue-this.temporaryMinValue)+this.temporaryMinValue:i=10**(Math.log10(s)/this.axesWidth*(Math.log10(this.temporaryMaxValue)-Math.log10(this.temporaryMinValue))+Math.log10(this.temporaryMinValue)),i}xValueToLocation(s){return this.xScaleType=="linear"?(s-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue)*this.axesWidth:(Math.log10(s)-Math.log10(this.temporaryMinValue))/(Math.log10(this.temporaryMaxValue)-Math.log10(this.temporaryMinValue))*this.axesWidth}yValueToLocation(s){return this.yScaleType=="linear"?(s-this.yMin)/(this.yMax-this.yMin)*this.axesHeight:(Math.log10(s)-Math.log10(this.yMin))/(Math.log10(this.yMax)-Math.log10(this.yMin))*this.axesHeight}toggleYAxisLog(){this.yScaleType=this.yScaleType==="log"?"linear":"log"}updateLocationBasedOnValue(){const s=this.value;this.chartType=="Vgs"?this.yValue=this.getMosfetCurrentFromGateVoltage(s):this.yValue=this.getMosfetSaturationFromDrainVoltage(s),this.location={x:this.xValueToLocation(s),y:this.yValueToLocation(this.yValue)}}getMosfetCurrentFromGateVoltage(s){return this.mosfetType=="nmos"?jn(s,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage).I:$n(s,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage).I}getMosfetSaturationFromDrainVoltage(s){return this.mosfetType=="nmos"?jn(this.Vg.value.voltage,this.Vs.value.voltage,s,this.Vb.value.voltage).saturationLevel*100:$n(this.Vg.value.voltage,this.Vs.value.voltage,s,this.Vb.value.voltage).saturationLevel*100}updateValueBasedOnMousePosition(s){this.value=this.xLocationToValue(s.x)}mouseDownIntiatesDrag(s){return s.x>0&&s.x<this.axesWidth&&s.y>0&&s.y<this.axesHeight}};m(Ie,"paddingL",40),m(Ie,"paddingR",10),m(Ie,"paddingT",20),m(Ie,"paddingB",30);let Ps=Ie;const Ve=class Ve extends Ra{constructor(s=[],i,n,o,r,a,l,f,h,g=3,v=5,y=!1,A="visible",O="visible",R="gate",_="main"){super(s,new ae().translate({x:n,y:o}).scale(1/30).mirror(y,i=="pmos"),_);m(this,"mosfetType");m(this,"isDuplicate",!1);m(this,"currentDots");m(this,"gradientSize",100);m(this,"schematicEffects");m(this,"vgs");m(this,"vds");m(this,"Vg");m(this,"Vs");m(this,"Vd");m(this,"Vb");m(this,"gndNode");m(this,"mouseDownInsideSelectionArea",!1);m(this,"_selected",P(!1));m(this,"selectedFocus",P(!1));m(this,"vgsChart");m(this,"vdsChart");this.mosfetType=i,this.schematicEffects={gate:{node:r,origin:new K(this.transformations,{x:60,y:0}),color:"red",gradientSize:2},saturation:{node:l,origin:new K(this.transformations,{x:0,y:-60}),color:"red",gradientSize:100}},this.Vg=r,this.Vs=a,this.Vd=l,this.Vb=f,this.gndNode=h,this.anchorPoints={Vg:{x:60,y:0},Vs:{x:0,y:60},Vd:{x:0,y:-60},Vb:{x:0,y:0},SourceSupply:{x:0,y:90},DrainSupply:{x:0,y:-90},Vg_mirror_gate:{x:90,y:0},Vg_mirror_corner:{x:90,y:-90},Vg_mirror_drain:{x:0,y:-90},Vg_drive_gate:{x:120,y:0},Vg_drive_Vsource:{x:120,y:90}};let S="main";_=="mosfet"&&(S="chart"),this.mosfetType=="nmos"?(this.vgs=new Cs(this.transformations,a,r,"toNode",10,10,60,nt(75),nt(70),!0,0,g,"Vgs",A,_),this.vds=new Cs(this.transformations,a,l,"toNode",30,0,75,nt(140),nt(80),!1,0,v,"Vds",O,_),this.vgsChart=new Ps(this.transformations,i,"Vgs",Ve.chartLocations[R].x,Ve.chartLocations[R].y,r,a,l,f,h,5,"Vg","Current","V","A","linear","log",200,115,"hidden",S),this.vdsChart=new Ps(this.transformations,i,"Vds",Ve.chartLocations[R].x,Ve.chartLocations[R].y,r,a,l,f,h,5,"Vd","Saturation Level","V","%","linear","linear",200,115,"hidden",S),this.currentDots=new Un([{start:{x:-15,y:-60},end:{x:-15,y:60}}])):(this.vgs=new Cs(this.transformations,r,a,"fromNode",10,10,60,nt(75),nt(70),!0,0,g,"Vsg",A,_),this.vds=new Cs(this.transformations,l,a,"fromNode",30,0,75,nt(140),nt(80),!1,0,v,"Vsd",O,_),this.vgsChart=new Ps(this.transformations,i,"Vgs",Ve.chartLocations[R].x,Ve.chartLocations[R].y,r,a,l,f,h,5,"Vg","Current","V","A","linear","log",200,115,"hidden",S),this.vdsChart=new Ps(this.transformations,i,"Vds",Ve.chartLocations[R].x,Ve.chartLocations[R].y,r,a,l,f,h,5,"Vd","Saturation Level","V","%","linear","linear",200,115,"hidden",S),this.currentDots=new Un([{start:{x:-15,y:60},end:{x:-15,y:-60}}]))}copy(s,i="main"){const n=new Ve([s].concat(this.transformations.slice(1)),this.mosfetType,0,0,this.Vg,this.Vs,this.Vd,this.Vb,this.gndNode,void 0,void 0,this.mosfetType=="nmos"==this.transformationMatrix.isMirrored,this.vgs.visibility,this.vds.visibility,"deviceOrigin",i);return n.vgsChart.visibility="hidden",n.vdsChart.visibility="hidden",n.isDuplicate=!0,n.transformations[n.transformations.length-1].value=new ae,n}draw(s){this.transformationMatrix.transformCanvas(s),this.drawSelectedHalo(s);const i=[{start:{x:0,y:20},end:{x:0,y:59}},{start:{x:0,y:20},end:{x:26,y:20}},{start:{x:0,y:-20},end:{x:0,y:-59}},{start:{x:0,y:-20},end:{x:26,y:-20}},{start:{x:26,y:-40},end:{x:26,y:40}}],n=this.mosfetType=="nmos"?[{start:{x:40,y:30},end:{x:40,y:-30}},{start:{x:40,y:0},end:{x:60,y:0}}]:[{start:{x:40,y:30},end:{x:40,y:-30}},{start:{x:50,y:0},end:{x:60,y:0}}],o=this.mosfetType=="nmos"?[]:[{center:{x:45,y:0},outerDiameter:10}];this.gradientSize=this.getGradientSizeFromSaturationLevel();const a=La(s,{x:0,y:-60},this.gradientSize,"rgba(200, 200, 200, 1)"),l=this.getForwardCurrentScaled(),f=this.getGateColorFromForwardCurrent();Ft(s,i,this.localLineThickness,"black"),Ft(s,n,this.localLineThickness,f),Mo(s,o,this.localLineThickness,f),Oa(s,i,this.localLineThickness,a),this.schematicEffects.saturation.gradientSize=this.gradientSize/30*3.5,this.schematicEffects.saturation.color="rgba(200, 200, 200, 1)",this.schematicEffects.gate.gradientSize=l*3.5,this.schematicEffects.gate.color=f,this.currentDots.draw(s);const h=ps(this.current,"A");let g="";for(const A of h)"-0123456789.".indexOf(A)>-1&&(g+=A);const v=h.slice(g.length);s.fillStyle="black",s.font="14px sans-serif";const y=this.fillTextGlobalReferenceFrame(s,{x:20,y:this.mosfetType=="nmos"?-3:3},g,!0,!0,14);s.font="14px sans-serif",this.fillTextGlobalReferenceFrame(s,y,v,!0,!0),this.vgsChart.draw(s),this.vdsChart.draw(s),this.vgs.draw(s),this.vds.draw(s)}toggleSelected(){this.selected.value?(this.selected.value=!1,this.vgsChart.visibility="hidden",this.vdsChart.visibility="hidden"):(this.selected.value=!0,this.vgsChart.visibility=this.vgs.visibility,this.vdsChart.visibility=this.vds.visibility)}get current(){return this.getMosfetCurrent()}get saturationLevel(){return this.getMosfetSaturationLevel()}get forwardCurrent(){return this.getMosfetForwardCurrent()}setMinAndMaxValue(){this.mosfetType=="pmos"?(this.vgs.minValue=this.Vs.value.voltage-oe,this.vds.minValue=this.Vs.value.voltage-oe,this.vgsChart.minValue=this.Vs.value.voltage-oe,this.vdsChart.minValue=this.Vs.value.voltage-oe):(this.vgs.minValue=-this.Vs.value.voltage,this.vds.minValue=-this.Vs.value.voltage,this.vgsChart.minValue=-this.Vs.value.voltage,this.vdsChart.minValue=-this.Vs.value.voltage)}getMosfetEkvResult(){return this.mosfetType=="pmos"?$n(this.Vg.value.voltage,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage):jn(this.Vg.value.voltage,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage)}getMosfetCurrent(){return this.getMosfetEkvResult().I}getMosfetSaturationLevel(){return this.getMosfetEkvResult().saturationLevel}getMosfetForwardCurrent(){return this.getMosfetEkvResult().IF}getGradientSizeFromSaturationLevel(){return this.getRelativeScaling()*60*(1-this.saturationLevel)}getForwardCurrentScaled(){return De(0,1,Math.log10(this.forwardCurrent/.005)*.2+1)}getGateColorFromForwardCurrent(){const s=this.getForwardCurrentScaled();return If(s)}};m(Ve,"chartWidth",200),m(Ve,"chartHeight",120),m(Ve,"chartLocations",{base:{x:-Ve.chartWidth/2-100,y:0},lowerBase:{x:-Ve.chartWidth/2-100,y:100},gate:{x:Ve.chartWidth/2+120,y:0},furtherGate:{x:Ve.chartWidth/2+150,y:0},voltageSource:{x:Ve.chartWidth/2+240,y:0},lowerVoltageSource:{x:Ve.chartWidth/2+240,y:100},mirrorDriver:{x:Ve.chartWidth/2+110,y:-Ve.chartHeight-20},deviceOrigin:{x:0,y:0}});let _e=Ve;class Bs extends Fe{constructor(s,i,n,o,r=new Bt,a={},l={},f={},h=new ae){super([P(new ae)],new ae);m(this,"name");m(this,"boundingBox");m(this,"schematic");m(this,"devices");m(this,"selectedDeviceCharts",[]);m(this,"selectedDeviceChartsBoundingBox");m(this,"selectedDeviceChartsTransformationMatrix",P(new ae));m(this,"nodes");m(this,"textTransformationMatrix");m(this,"originalTextTransformationMatrix");m(this,"circuitCopy");m(this,"anyDevicesSelected",!1);m(this,"moveTectonicPlatesWhileDragging",!0);this.name=s,this.boundingBox=[new K(this.transformations,{x:i.x-n/2,y:i.y-o/2}),new K(this.transformations,{x:i.x+n/2,y:i.y-o/2}),new K(this.transformations,{x:i.x-n/2,y:i.y+o/2}),new K(this.transformations,{x:i.x+n/2,y:i.y+o/2})],this.schematic=r,this.devices={mosfets:a,voltageSources:l},this.nodes=f,this.originalTextTransformationMatrix=h,this.textTransformationMatrix=this.transformationMatrix.scale(1/zn).multiply(this.originalTextTransformationMatrix),this.circuitCopy=this.copy(),this.selectedDeviceChartsBoundingBox=[new K(this.transformations,{x:-120,y:0}),new K(this.transformations,{x:120,y:0}),new K(this.transformations,{x:0,y:-120}),new K(this.transformations,{x:0,y:120})],Fe.circuitTransformationMatrix=this.transformationMatrix,Fe.textTransformationMatrix=this.textTransformationMatrix}assignKeysToDevices(){Object.entries(this.devices.mosfets).forEach(([s,i])=>{i.key=s}),Object.entries(this.devices.voltageSources).forEach(([s,i])=>{i.key=s})}finishSetup(){var s;this.assignKeysToDevices(),this.circuitCopy=this.copy(),(s=this.circuitCopy)==null||s.assignKeysToDevices()}get allSliders(){return this.makeListOfSliders()}get anySlidersDragging(){let s=!1;return this.allSliders.forEach(i=>{i.dragging&&(s=!0)}),s}copy(){const s=P(new ae),i=new Gf(this.name,{x:0,y:0},10,10,this.schematic.copy(s),Object.fromEntries(Object.entries(this.devices.mosfets).map(([n,o])=>[n,o.copy(s,"mosfet")])),Object.fromEntries(Object.entries(this.devices.voltageSources).map(([n,o])=>[n,o.copy(s,"mosfet")])),this.nodes,this.textTransformationMatrix);return i.transformations[0]=s,i}draw(s){s.save(),this.setScaleBasedOnBoundingBox(s),this.transformationMatrix.transformCanvas(s),Wi.value?(!this.anySlidersDragging||this.moveTectonicPlatesWhileDragging)&&se.allTectonicPlates.forEach(i=>{i.moveTowardDesiredLocation()}):se.allTectonicPlates.forEach(i=>{i.moveTowardLocation({x:0,y:0})}),this.schematic.draw(s),Object.values(this.devices.mosfets).forEach(i=>{i.draw(s)}),Object.values(this.devices.voltageSources).forEach(i=>{i.draw(s)}),ti.value&&this.drawGrid(s),s.restore()}drawSelectedDeviceCharts(s){const i=this.calculateTransformationMatrixBasedOnBoundingBox(s,this.selectedDeviceChartsBoundingBox);this.selectedDeviceChartsTransformationMatrix.value=i,Fe.textTransformationMatrix.relativeScale=i.relativeScale,this.selectedDeviceCharts.forEach(n=>{n.draw(s)})}setSelectedDevice(s){if(this.circuitCopy){if(this.circuitCopy.boundingBox=s.boundingBox,this.anyDevicesSelected=!0,s instanceof _e){const i=this.circuitCopy.devices.mosfets[s.key];i.vgs.visibility=s.vgs.visibility,i.vds.visibility=s.vds.visibility,i.vgsChart.visibility="hidden",i.vdsChart.visibility="hidden",this.selectedDeviceCharts=[s.vgsChart.copy(this.selectedDeviceChartsTransformationMatrix,"chart"),s.vdsChart.copy(this.selectedDeviceChartsTransformationMatrix,"chart")],this.selectedDeviceCharts[0].visibility=s.vgs.visibility,this.selectedDeviceCharts[1].visibility=s.vds.visibility}else if(s instanceof Xe){const i=this.circuitCopy.devices.voltageSources[s.key];i.voltageDrop.visibility=s.voltageDrop.visibility}}}resetSelectedDevice(){this.selectedDeviceCharts=[],this.anyDevicesSelected=!1,this.circuitCopy&&this.circuitCopy.allSliders.forEach(s=>{s.visibility="hidden"})}makeListOfSliders(){const s=[];for(const i in this.devices.mosfets){const n=this.devices.mosfets[i];s.push(n.vgs),s.push(n.vds),s.push(n.vgsChart),s.push(n.vdsChart)}for(const i in this.devices.voltageSources){const n=this.devices.voltageSources[i];s.push(n.voltageDrop)}return this.selectedDeviceCharts.forEach(i=>{s.push(i)}),this.circuitCopy?s.concat(this.circuitCopy.allSliders):s}setSlidersActive(s){const i=o=>{s?(o.vgs.visibility="visible",o.vds.visibility="visible",(o.vgsChart.visibility=="visible"||o.vgsChart.visibility=="locked")&&(o.vgsChart.visibility="visible"),(o.vdsChart.visibility=="visible"||o.vdsChart.visibility=="locked")&&(o.vdsChart.visibility="visible")):(o.vgs.visibility=o.vgs.originalVisibility,o.vds.visibility=o.vds.originalVisibility,(o.vgsChart.visibility=="visible"||o.vgsChart.visibility=="locked")&&(o.vgsChart.visibility=o.vgs.visibility),(o.vdsChart.visibility=="visible"||o.vdsChart.visibility=="locked")&&(o.vdsChart.visibility=o.vds.visibility))};Object.values(this.devices.mosfets).forEach(o=>{i(o),o.selectedFocus.value&&this.circuitCopy&&i(this.circuitCopy.devices.mosfets[o.key])});const n=o=>{s?o.voltageDrop.visibility="visible":o.voltageDrop.visibility=o.voltageDrop.originalVisibility};if(Object.values(this.devices.voltageSources).forEach(o=>{n(o),o.selectedFocus.value&&this.circuitCopy&&n(this.circuitCopy.devices.voltageSources[o.key])}),this.selectedDeviceCharts.length>=2)if(s)(this.selectedDeviceCharts[0].visibility=="visible"||this.selectedDeviceCharts[0].visibility=="locked")&&(this.selectedDeviceCharts[0].visibility="visible"),(this.selectedDeviceCharts[1].visibility=="visible"||this.selectedDeviceCharts[1].visibility=="locked")&&(this.selectedDeviceCharts[1].visibility="visible");else{const o=Object.values(this.devices.mosfets).filter(r=>r.selectedFocus);if(o.length>=1){const r=o[0];(this.selectedDeviceCharts[0].visibility=="visible"||this.selectedDeviceCharts[0].visibility=="locked")&&(this.selectedDeviceCharts[0].visibility=r.vgs.visibility=="hidden"?"locked":r.vgs.visibility),(this.selectedDeviceCharts[1].visibility=="visible"||this.selectedDeviceCharts[1].visibility=="locked")&&(this.selectedDeviceCharts[1].visibility=r.vds.visibility=="hidden"?"locked":r.vds.visibility)}}}drawGrid(s){this.transformationMatrix.transformCanvas(s);const i=this.transformationMatrix.inverse().transformPoint({x:0,y:0}),n=this.transformationMatrix.inverse().transformPoint({x:Gn.value.width*ot.value,y:Gn.value.height*ot.value});for(let o=Math.floor(i.x);o<=Math.ceil(n.x);o+=1)for(let r=Math.floor(i.y);r<=Math.ceil(n.y);r+=1){let a=.1;(Bn(o,10)==0||Bn(r,10)==0)&&(a=.2),s.fillStyle="brown",(o==0||r==0)&&(s.fillStyle="black"),s.beginPath(),s.arc(o,r,a,0,2*Math.PI),s.fill()}Mo(s,this.boundingBox.map(o=>({center:o.toPoint(),outerDiameter:2})),.2,"purple")}calculateTransformationMatrixBasedOnBoundingBox(s,i=this.boundingBox){const n=Math.min(...i.map(R=>R.toPoint().x)),o=Math.max(...i.map(R=>R.toPoint().x)),r=Math.min(...i.map(R=>R.toPoint().y)),a=Math.max(...i.map(R=>R.toPoint().y)),l=Math.abs(r-a),f=Math.abs(o-n),h={x:n+f/2,y:r+l/2},g=Math.max(s.canvas.width,1),v=Math.max(s.canvas.height,1),y=Math.min(g/ot.value/f,v/ot.value/l),A={x:(g/ot.value/y-f)/2,y:(v/ot.value/y-l)/2};return new ae().scale(ot.value*y).translate(A).translate({x:-h.x+f/2,y:-h.y+l/2})}setScaleBasedOnBoundingBox(s,i=this.boundingBox){this.transformations[1].value=new ae,this.transformations[0].value=this.calculateTransformationMatrixBasedOnBoundingBox(s,i),this.textTransformationMatrix=this.transformationMatrix.scale(1/zn).multiply(this.originalTextTransformationMatrix),this.setCtxArtistScale()}setCtxArtistScale(){Fe.circuitTransformationMatrix=this.transformationMatrix,Fe.textTransformationMatrix=this.textTransformationMatrix}resetNodeCapacitance(){for(const s in this.nodes){const i=this.nodes[s].value;i.capacitance=i.originalCapacitance}}nodeVoltagesToJson(){const s=Object.fromEntries(Object.entries(this.nodes).map(([n,o])=>[n,o.value.voltage]));return JSON.stringify([this.name,s])}fixedNodeVoltagesToJson(){const s=Object.fromEntries(Object.entries(this.nodes).filter(([n,o])=>o.value.fixed).map(([n,o])=>[n,o.value.voltage]));return JSON.stringify([this.name,s])}nodeVoltagesFromJson(s){const i=JSON.parse(s);if(i[0]!=this.name)return!1;let n=!1;const o=i[1];Object.entries(o).forEach(([r,a])=>{this.nodes[r].value.voltage=a,[N,ve].includes(r)||(n=!0)}),n&&this.resetNodeCapacitance()}}class Gf extends Bs{copy(){return null}setCtxArtistScale(){}}class Kf{constructor(){m(this,"items",[])}enqueue(t){this.items.push(t)}dequeue(){return this.items.shift()}peek(){return this.items[0]}isEmpty(){return this.items.length===0}size(){return this.items.length}toArray(){return this.items}fill(t,s){this.items=Array(s).fill(t)}}class ce{constructor(t,s){m(this,"voltage");m(this,"netCurrent");m(this,"capacitance");m(this,"originalCapacitance");m(this,"fixed");m(this,"historicVoltages");m(this,"schematicEffects",[]);const i=new Kf;i.fill(0,10);const n=s?Lf:Pf;this.voltage=t,this.netCurrent=0,this.capacitance=n,this.originalCapacitance=n,this.fixed=!!s,this.historicVoltages=i}}class Le extends Fe{constructor(t=[],s){super(t,new ae().translate(s))}draw(t){this.transformationMatrix.transformCanvas(t);const s=.8;t.strokeStyle="black",t.lineWidth=this.localLineThickness,t.beginPath(),t.moveTo(0,0),t.lineTo(s/2,0),t.lineTo(0,s/2),t.lineTo(-s/2,0),t.lineTo(0,0),t.stroke()}copy(t){return new Le([t].concat(this.transformations.slice(1)),{x:0,y:0})}}class ft extends Fe{constructor(t=[],s){super(t,new ae().translate(s))}draw(t){this.transformationMatrix.transformCanvas(t);const s=.8;t.strokeStyle="black",t.lineWidth=this.localLineThickness,t.beginPath(),t.moveTo(s/2,0),t.lineTo(-s/2,0),t.stroke()}copy(t){return new ft([t].concat(this.transformations.slice(1)),{x:0,y:0})}}const qf=()=>{const e=new Bs("nMosSingle",{x:0,y:-3},10,20);e.nodes={[N]:P(new ce(he,!0)),[ve]:P(new ce(oe,!0)),M1_drain:P(new ce(5,!1)),M1_gate:P(new ce(1,!1))};const t=new se(e.transformations,te(()=>Je([{start:{x:0,y:2},end:{x:0,y:-4}}],De(he,oe,e.nodes.M1_drain.value.voltage)/(oe-he)))),s=new se(e.transformations,te(()=>({x:0,y:-4}))),i=new se(e.transformations,te(()=>e.devices.mosfets.M1.selected.value?{x:7,y:0}:{x:0,y:0}));return e.boundingBox=[new K(s.transformations,{x:-5,y:-12}),new K(t.transformations,{x:5,y:-12}),new K(e.transformations,{x:-5,y:6}),new K(i.transformations,{x:5,y:6})],e.devices.mosfets={M1:new _e(e.transformations,"nmos",0,0,e.nodes.M1_gate,e.nodes[N],e.nodes.M1_drain,e.nodes[N],e.nodes[N],3,5,!1,"visible","visible","furtherGate")},e.devices.mosfets.M1.vgsChart.originalVisibility="visible",e.devices.mosfets.M1.vdsChart.originalVisibility="visible",e.devices.voltageSources={Vd:new Xe(t.transformations,{x:0,y:-6},e.nodes.M1_drain,e.nodes[ve],"Vdd-Vd","vdd",!0)},e.schematic=new Bt(e.transformations,[new Le(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs"))],[new ft(s.transformations,{x:0,y:-8})],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes.M1_drain,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vminus"))],voltageDisplayLabel:"Drain",voltageDisplayLocations:[new K(t.transformations,{x:.5,y:-4})]},{node:e.nodes[ve],lines:[new C(s.transformations,{x:0,y:-8},...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vplus"))],voltageDisplayLabel:"",voltageDisplayLocations:[]}]),e.finishSetup(),e},Yf=()=>{const e=new Bs("nMosDiffPair",{x:0,y:4},25,20);e.nodes={[N]:P(new ce(he,!0)),[ve]:P(new ce(oe,!0)),M1_gate:P(new ce(2,!1)),M2_gate:P(new ce(2,!1)),Mb_gate:P(new ce(.7,!1)),Vnode:P(new ce(1,!1))};const t=new se(e.transformations,te(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],De(he,oe,Math.max(e.nodes.M1_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-he)))),s=new se(e.transformations,te(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],De(he,oe,Math.max(e.nodes.M2_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-he)))),i=new se(e.transformations,te(()=>Je([{start:{x:0,y:0},end:{x:0,y:-8}}],De(he,oe,e.nodes.Vnode.value.voltage)/(oe-he)))),n=new se(t.transformations,te(()=>e.devices.mosfets.Mb.selected.value?{x:5,y:2}:{x:0,y:0})),o=new se(t.transformations,te(()=>e.devices.mosfets.M1.selected.value?{x:-8,y:0}:{x:0,y:0})),r=new se(s.transformations,te(()=>e.devices.mosfets.M2.selected.value?{x:8,y:0}:{x:0,y:0}));return e.boundingBox=[new K(o.transformations,{x:-11,y:-6}),new K(r.transformations,{x:11,y:-6}),new K(e.transformations,{x:-11,y:13}),new K(n.transformations,{x:11,y:13})],e.devices.mosfets={Mb:new _e(e.transformations,"nmos",0,6,e.nodes.Mb_gate,e.nodes[N],e.nodes.Vnode,e.nodes[N],e.nodes[N],void 0,void 0,!1,"locked","locked","lowerVoltageSource"),M1:new _e(t.transformations,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes[ve],e.nodes[N],e.nodes[N],void 0,void 0,!0,"locked","locked","voltageSource"),M2:new _e(s.transformations,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes[ve],e.nodes[N],e.nodes[N],void 0,void 0,!1,"locked","locked","voltageSource")},e.devices.voltageSources={V1:new Xe(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[N],e.nodes.M1_gate,"V1","gnd",!0),V2:new Xe(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[N],e.nodes.M2_gate,"V2","gnd"),Vb:new Xe(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[N],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new Bt(e.transformations,[new Le(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new Le(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new Le(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new Le(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],[new ft(...e.devices.mosfets.M1.getAnchorPointWithTransformations("DrainSupply")),new ft(...e.devices.mosfets.M2.getAnchorPointWithTransformations("DrainSupply"))],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes[N],lines:[new C(e.transformations,{x:0,y:8},e.transformations,{x:0,y:9}),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes[ve],lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("DrainSupply")),new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("DrainSupply"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M1_gate,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_gate,lines:[new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Mb_gate,lines:[new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vnode,lines:[new C(i.transformations,{x:-4,y:3},...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs")),new C(i.transformations,{x:4,y:3},...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vs")),new C(i.transformations,{x:-4,y:3},i.transformations,{x:4,y:3}),new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vd"),i.transformations,{x:0,y:3})],voltageDisplayLabel:"V",voltageDisplayLocations:[new K(i.transformations,{x:-1,y:2.5})]}]),e.finishSetup(),e};class ja extends Fe{constructor(s=[],i,n,o){super(s,new ae().translate(n).scale(1/30));m(this,"node");m(this,"extraNodeLines");m(this,"currentDots");m(this,"gndSymbol");this.node=i,this.extraNodeLines=o,this.currentDots=new Un([{start:{x:10,y:-60},end:{x:10,y:60}}]),this.gndSymbol=new Le(this.transformations,{x:0,y:30})}draw(s){this.transformationMatrix.scale(.5).transformCanvas(s);const i=7,n=[{start:{x:0,y:50},end:{x:0,y:i}},{start:{x:-30,y:i},end:{x:30,y:i}},{start:{x:-30,y:-i},end:{x:30,y:-i}},{start:{x:0,y:-60},end:{x:0,y:-i}}],o=this.transformationMatrix.transformPath(this.extraNodeLines);Ft(s,n,this.localLineThickness,"black"),Ft(s,o,this.localLineThickness,"black"),s.clearRect(-30-this.localLineThickness,-i+this.localLineThickness/2,60+2*this.localLineThickness,2*i-2*this.localLineThickness/2),this.gndSymbol.draw(s),this.transformationMatrix.scale(.5).transformCanvas(s),this.currentDots.draw(s)}}m(ja,"displayCurrent",!1);const Jf=()=>{const e=new Bs("nMos5TransistorOpAmp",{x:0,y:0},25,28);e.nodes={[N]:P(new ce(he,!0)),[ve]:P(new ce(oe,!0)),M1_gate:P(new ce(2,!1)),M1_drain:P(new ce(4,!1)),M2_gate:P(new ce(2,!1)),Mb_gate:P(new ce(.7,!1)),Vout:P(new ce(4,!1)),Vnode:P(new ce(1,!1))};const t=new se(e.transformations,te(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],De(he,oe,Math.max(e.nodes.M1_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-he)))),s=new se(e.transformations,te(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],De(he,oe,Math.max(e.nodes.M2_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-he)))),i=new se(e.transformations,te(()=>({x:0,y:-4}))),n=new se(e.transformations,te(()=>Je([{start:{x:0,y:0},end:{x:0,y:-8}}],De(he,oe,e.nodes.Vnode.value.voltage)/(oe-he)))),o=new se(e.transformations,te(()=>Je([{start:{x:0,y:2},end:{x:0,y:-6}}],De(he,oe,Math.max(e.nodes.Vout.value.voltage,e.nodes.M2_gate.value.voltage-1.25))/(oe-he)))),r=new se(t.transformations,te(()=>e.devices.mosfets.Mb.selected.value?{x:5,y:2}:{x:0,y:0})),a=new se(t.transformations,te(()=>e.devices.mosfets.M1.selected.value?{x:-8,y:0}:{x:0,y:0})),l=new se(s.transformations,te(()=>e.devices.mosfets.M2.selected.value?{x:8,y:0}:{x:0,y:0})),f=new se(i.transformations,te(()=>e.devices.mosfets.M3.selected.value?{x:-3,y:-3}:{x:0,y:0})),h=new se(i.transformations,te(()=>e.devices.mosfets.M4.selected.value?{x:3,y:-3}:{x:0,y:0}));return e.boundingBox=[new K(a.transformations,{x:-12,y:-14}),new K(l.transformations,{x:12,y:-14}),new K(f.transformations,{x:-12,y:-14}),new K(h.transformations,{x:12,y:-14}),new K(e.transformations,{x:-12,y:14}),new K(r.transformations,{x:12,y:14})],e.devices.mosfets={Mb:new _e(e.transformations,"nmos",0,6,e.nodes.Mb_gate,e.nodes[N],e.nodes.Vnode,e.nodes[N],e.nodes[N],void 0,void 0,!1,"locked","locked","lowerVoltageSource"),M1:new _e(t.transformations,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes.M1_drain,e.nodes[N],e.nodes[N],void 0,void 0,!0,"locked","locked","voltageSource"),M2:new _e(s.transformations,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes.Vout,e.nodes[N],e.nodes[N],void 0,void 0,!1,"locked","locked","voltageSource"),M3:new _e(i.transformations,"pmos",-4,-9,e.nodes.M1_drain,e.nodes[ve],e.nodes.M1_drain,e.nodes[ve],e.nodes[N],void 0,void 0,!1,"locked","locked","lowerBase"),M4:new _e(i.transformations,"pmos",4,-9,e.nodes.M1_drain,e.nodes[ve],e.nodes.Vout,e.nodes[ve],e.nodes[N],void 0,void 0,!0,"locked","locked","lowerBase")},e.devices.voltageSources={V1:new Xe(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[N],e.nodes.M1_gate,"V1","gnd",!0),V2:new Xe(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[N],e.nodes.M2_gate,"V2","gnd"),Vb:new Xe(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[N],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new Bt(e.transformations,[new Le(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new Le(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new Le(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new Le(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],[new ft(...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new ft(...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply"))],[new ja(o.transformations,e.nodes.Vout,{x:6,y:-4},[{start:{x:6,y:-5},end:{x:6,y:-4}}])],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes[N],lines:[new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes[ve],lines:[new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M1_gate,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_gate,lines:[new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Mb_gate,lines:[new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vnode,lines:[new C(n.transformations,{x:-4,y:3},...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs")),new C(n.transformations,{x:4,y:3},...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vs")),new C(n.transformations,{x:-4,y:3},n.transformations,{x:4,y:3}),new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vd"),n.transformations,{x:0,y:3})],voltageDisplayLabel:"V",voltageDisplayLocations:[new K(n.transformations,{x:-1,y:2.5})]},{node:e.nodes.M1_drain,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vd")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vg"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vout,lines:[new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vd")),new C(o.transformations,{x:4,y:-5},o.transformations,{x:6,y:-5})],voltageDisplayLabel:"Vout",voltageDisplayLocations:[new K(o.transformations,{x:6.5,y:-5})]}]),e.finishSetup(),e},Xf=()=>{const e=new Bs("nMos9TransistorOpAmp",{x:10,y:-2},50,30);e.nodes={[N]:P(new ce(he,!0)),[ve]:P(new ce(oe,!0)),M1_gate:P(new ce(2,!1)),M1_drain:P(new ce(4,!1)),M2_gate:P(new ce(2,!1)),M2_drain:P(new ce(4,!1)),M7_drain:P(new ce(1,!1)),Mb_gate:P(new ce(.7,!1)),Vout:P(new ce(4,!1)),Vnode:P(new ce(1,!1))};const t=new se(e.transformations,te(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],De(he,oe,Math.max(e.nodes.M1_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-he)))),s=new se(e.transformations,te(()=>Je([{start:{x:0,y:1},end:{x:0,y:-7}}],De(he,oe,Math.max(e.nodes.M2_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-he)))),i=new se(e.transformations,te(()=>e.devices.mosfets.M5.selected.value||e.devices.mosfets.M6.selected.value?{x:0,y:e.devices.mosfets.M2.selected.value?-14:-10}:{x:0,y:-5})),n=new se(e.transformations,te(()=>{let y=[e.devices.mosfets.M2.selected.value,e.devices.mosfets.M5.selected.value,e.devices.mosfets.M6.selected.value,e.devices.mosfets.Mb.selected.value,e.devices.mosfets.M7.selected.value].filter(Boolean).length;return y==0?{x:0,y:0}:y==1?{x:5,y:0}:e.devices.mosfets.M5.selected.value&&e.devices.mosfets.M6.selected.value||e.devices.mosfets.Mb.selected.value&&e.devices.mosfets.M7.selected.value?{x:10,y:0}:{x:5,y:0}})),o=new se(i.transformations,te(()=>{let y=[e.devices.mosfets.M2.selected.value,e.devices.mosfets.M5.selected.value,e.devices.mosfets.M6.selected.value,e.devices.mosfets.Mb.selected.value,e.devices.mosfets.M7.selected.value].filter(Boolean).length;return y==0?{x:0,y:0}:y==1?{x:5,y:0}:e.devices.mosfets.M5.selected.value&&e.devices.mosfets.M6.selected.value||e.devices.mosfets.Mb.selected.value&&e.devices.mosfets.M7.selected.value?{x:10,y:0}:{x:5,y:0}})),r=new se(e.transformations,te(()=>Je([{start:{x:0,y:0},end:{x:0,y:-8}}],De(he,oe,e.nodes.Vnode.value.voltage)/(oe-he)))),a=new se(n.transformations,te(()=>Je([{start:{x:0,y:8.5},end:e.devices.mosfets.M5.selected.value||e.devices.mosfets.M6.selected.value?{x:0,y:e.devices.mosfets.M2.selected.value?-20:-15}:{x:0,y:-9}}],De(he,oe,e.nodes.Vout.value.voltage)/(oe-he)))),l=new se(e.transformations,te(()=>e.devices.mosfets.Mb.selected.value||e.devices.mosfets.M7.selected.value||e.devices.mosfets.M8.selected.value?{x:0,y:2}:{x:0,y:0})),f=new se(e.transformations,te(()=>e.devices.mosfets.M1.selected.value?{x:-8,y:0}:{x:0,y:0})),h=new se(i.transformations,te(()=>e.devices.mosfets.M3.selected.value?{x:-3,y:-4}:{x:0,y:0})),g=new se(o.transformations,te(()=>e.devices.mosfets.M4.selected.value?{x:2,y:-4}:{x:0,y:0})),v=new se(n.transformations,te(()=>e.devices.mosfets.M8.selected.value?{x:2,y:2}:{x:0,y:0}));return e.boundingBox=[new K(h.transformations,{x:-12,y:-16}),new K(g.transformations,{x:33,y:-16}),new K(l.transformations,{x:-12,y:12}),new K(f.transformations,{x:-12,y:0}),new K(v.transformations,{x:33,y:12})],e.devices.mosfets={Mb:new _e(e.transformations,"nmos",0,6,e.nodes.Mb_gate,e.nodes[N],e.nodes.Vnode,e.nodes[N],e.nodes[N],void 0,void 0,!1,"locked","locked","lowerVoltageSource"),M1:new _e(t.transformations,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes.M1_drain,e.nodes[N],e.nodes[N],void 0,void 0,!0,"locked","locked","voltageSource"),M2:new _e(s.transformations,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes.M2_drain,e.nodes[N],e.nodes[N],void 0,void 0,!1,"locked","locked","voltageSource"),M3:new _e(i.transformations,"pmos",-4,-12,e.nodes.M1_drain,e.nodes[ve],e.nodes.M1_drain,e.nodes[ve],e.nodes[N],void 0,void 0,!1,"locked","locked","lowerBase"),M4:new _e(o.transformations,"pmos",24,-12,e.nodes.M1_drain,e.nodes[ve],e.nodes.Vout,e.nodes[ve],e.nodes[N],void 0,void 0,!0,"locked","locked","lowerBase"),M5:new _e(i.transformations,"pmos",4,-7,e.nodes.M2_drain,e.nodes[ve],e.nodes.M2_drain,e.nodes[ve],e.nodes[N],void 0,void 0,!1,"locked","locked","mirrorDriver"),M6:new _e(o.transformations,"pmos",16,-7,e.nodes.M2_drain,e.nodes[ve],e.nodes.M7_drain,e.nodes[ve],e.nodes[N],void 0,void 0,!0,"locked","locked","mirrorDriver"),M7:new _e(n.transformations,"nmos",16,6,e.nodes.M7_drain,e.nodes[N],e.nodes.M7_drain,e.nodes[N],e.nodes[N],void 0,void 0,!1,"locked","locked","lowerBase"),M8:new _e(n.transformations,"nmos",24,6,e.nodes.M7_drain,e.nodes[N],e.nodes.Vout,e.nodes[N],e.nodes[N],void 0,void 0,!0,"locked","locked","lowerBase")},e.devices.voltageSources={V1:new Xe(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[N],e.nodes.M1_gate,"V1","gnd",!0),V2:new Xe(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[N],e.nodes.M2_gate,"V2","gnd"),Vb:new Xe(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[N],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new Bt(e.transformations,[new Le(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new Le(...e.devices.mosfets.M7.getAnchorPointWithTransformations("SourceSupply")),new Le(...e.devices.mosfets.M8.getAnchorPointWithTransformations("SourceSupply")),new Le(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new Le(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new Le(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],[new ft(...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new ft(...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply")),new ft(...e.devices.mosfets.M5.getAnchorPointWithTransformations("SourceSupply")),new ft(...e.devices.mosfets.M6.getAnchorPointWithTransformations("SourceSupply"))],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes[N],lines:[new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M8.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M8.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes[ve],lines:[new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("SourceSupply")),new C(...e.devices.mosfets.M6.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M6.getAnchorPointWithTransformations("SourceSupply"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M1_gate,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_gate,lines:[new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Mb_gate,lines:[new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate")),new C(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vnode,lines:[new C(r.transformations,{x:-4,y:3},...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs")),new C(r.transformations,{x:4,y:3},...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vs")),new C(r.transformations,{x:-4,y:3},r.transformations,{x:4,y:3}),new C(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vd"),r.transformations,{x:0,y:3})],voltageDisplayLabel:"V",voltageDisplayLocations:[new K(r.transformations,{x:-1,y:2.5})]},{node:e.nodes.M1_drain,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vd")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vg"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_drain,lines:[new C(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vd")),new C(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M6.getAnchorPointWithTransformations("Vg")),new C(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_corner"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M7_drain,lines:[new C(...e.devices.mosfets.M6.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vd")),new C(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M8.getAnchorPointWithTransformations("Vg")),new C(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_corner")),new C(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_corner"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vout,lines:[new C(...e.devices.mosfets.M8.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vd")),new C(a.transformations,{x:24,y:-5},a.transformations,{x:28,y:-5})],voltageDisplayLabel:"Vout",voltageDisplayLocations:[new K(a.transformations,{x:28.5,y:-5})]}]),e.finishSetup(),e},Zf=()=>{const e=new Bs("pMosSingle",{x:0,y:3},10,20);e.nodes={[N]:P(new ce(he,!0)),[ve]:P(new ce(oe,!0)),M1_drain:P(new ce(2,!1)),M1_gate:P(new ce(1,!1))};const t=new se(e.transformations,te(()=>Je([{start:{x:0,y:4},end:{x:0,y:-2}}],De(he,oe,e.nodes.M1_drain.value.voltage)/(oe-he)))),s=new se(e.transformations,te(()=>({x:0,y:4}))),i=new se(e.transformations,te(()=>e.devices.mosfets.M1.selected.value?{x:7,y:0}:{x:0,y:0}));return e.boundingBox=[new K(e.transformations,{x:-5,y:-6}),new K(i.transformations,{x:5,y:-6}),new K(s.transformations,{x:-5,y:12}),new K(s.transformations,{x:5,y:12})],e.devices.mosfets={M1:new _e(e.transformations,"pmos",0,0,e.nodes.M1_gate,e.nodes[ve],e.nodes.M1_drain,e.nodes[ve],e.nodes[N],3,5,!1,"visible","visible","furtherGate")},e.devices.mosfets.M1.vgsChart.originalVisibility="visible",e.devices.mosfets.M1.vdsChart.originalVisibility="visible",e.devices.voltageSources={Vd:new Xe(t.transformations,{x:0,y:6},e.nodes[N],e.nodes.M1_drain,"Vd","gnd",!0)},e.schematic=new Bt(e.transformations,[new Le(s.transformations,{x:0,y:8})],[new ft(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs"))],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes.M1_drain,lines:[new C(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vplus"))],voltageDisplayLabel:"Drain",voltageDisplayLocations:[new K(t.transformations,{x:.5,y:4.5})]},{node:e.nodes[N],lines:[new C(s.transformations,{x:0,y:8},...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vminus"))],voltageDisplayLabel:"",voltageDisplayLocations:[]}]),e.finishSetup(),e},Ai={nMosSingle:qf(),nMosDiffPair:Yf(),pMosSingle:Zf(),nMos5TransistorOpAmp:Jf(),nMos9TransistorOpAmp:Xf()},Qf=e=>(Xr("data-v-e876c244"),e=e(),Zr(),e),eh={style:{"margin-right":"10px","text-align":"right"}},th={style:{display:"flex","margin-bottom":"-30px",width:"100px"}},sh={style:{display:"flex","margin-top":"15px","margin-bottom":"15px"}},ih=Qf(()=>ne("div",{style:{width:"15px",height:"3px","background-color":"black","border-radius":"2px"}},null,-1)),nh={style:{display:"flex","margin-top":"-30px",width:"100px"}},oh=Qi({__name:"Switch",props:{labelUp:{},labelDown:{},option:{},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,i=typeof s.modelValue=="boolean",n=t,o=()=>{if(i)n("update:modelValue",!s.modelValue);else{const r=s.modelValue===s.labelUp?s.labelDown:s.labelUp;n("update:modelValue",r)}};return(r,a)=>(Wt(),es("div",{onClick:o,style:{cursor:"pointer",display:"flex","align-items":"center","max-width":"250px",height:"50px",padding:"10px"},class:"prevent-select"},[ne("p",eh,ss(s.option),1),ne("div",null,[ne("div",th,[ne("div",{style:Ke(`width: 15px; border-radius: 2px; margin-top: 26px; background-color: black; height: ${i?s.modelValue?"3px":"2px":s.modelValue===s.labelUp?"3px":"2px"}; margin-left: 34px;`)},null,4),ne("p",{style:Ke(`margin-left: 7px; font-weight: ${i?s.modelValue?"bold":"":s.modelValue===s.labelUp?"bold":""}`)},ss(s.labelUp),5)]),ne("div",sh,[ih,ne("div",{style:Ke(`width: 26px; height: 3px; background-color: black; border-radius: 2px; margin-left: -1px; transform: rotate(${i?s.modelValue?"-33deg":"33deg":s.modelValue===s.labelUp?"-33deg":"33deg"}); transform-origin: 0% 50%; transition-duration: 200ms;`)},null,4)]),ne("div",nh,[ne("div",{style:Ke(`width: 15px; border-radius: 2px; margin-top: 26px; background-color: black; height: ${i?s.modelValue?"2px":"3px":s.modelValue===s.labelUp?"2px":"3px"}; margin-left: 34px;`)},null,4),ne("p",{style:Ke(`margin-left: 7px; font-weight: ${i?s.modelValue?"":"bold":s.modelValue===s.labelDown?"bold":""}`)},ss(s.labelDown),5)])])]))}}),$a=(e,t)=>{const s=e.__vccOpts||e;for(const[i,n]of t)s[i]=n;return s},_n=$a(oh,[["__scopeId","data-v-e876c244"]]);function rh(){const e=P(window.innerWidth),t=P(window.innerHeight),s=P(!1),i=P(!1),n=P(!1),o=P(!1),r=P(!1),a=P(!1),l=P(!1),f=P(!1),h=P(!1),g=P(!1),v=P(!1),y=()=>{e.value=window.innerWidth,t.value=window.innerHeight,e.value<600?r.value=!0:e.value<960?(o.value=!0,a.value=!0):e.value<1264?(n.value=!0,l.value=!0):e.value<1904?(i.value=!0,f.value=!0):s.value=!0,e.value>1904?v.value=!0:e.value>1264?g.value=!0:e.value>960&&(h.value=!0)};return Jl(()=>(window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)})),sn(()=>y()),{xs:r,sm:o,md:n,lg:i,xl:s,smAndDown:a,mdAndDown:l,lgAndDown:f,smAndUp:h,mdAndUp:g,lgAndUp:v,screenWidth:e,screenHeight:t}}const Vo=e=>(Xr("data-v-b085bbcb"),e=e(),Zr(),e),ah={style:{position:"absolute",top:"10px",left:"10px"}},lh=Vo(()=>ne("h3",{style:{"text-align":"center"}},"Circuits",-1)),ch=Vo(()=>ne("div",{style:{border:"1px solid grey"}},null,-1)),fh=["onClick"],hh=Vo(()=>ne("div",{style:{border:"1px solid grey","margin-top":"20px","margin-bottom":"30px"}},null,-1)),uh={style:{display:"flex","flex-wrap":"wrap",width:"210px","justify-content":"end"}},dh=Qi({__name:"Diagram",setup(e){const{screenHeight:t,screenWidth:s,xs:i}=rh(),n=te(()=>{const W=t.value/4,L=s.value/4,E=2,ut=i.value?{width:s.value-30,height:A.value?t.value-30-W+5:t.value-30}:{width:A.value?s.value-30-L+5:s.value-30,height:t.value-30},_s=i.value?{width:(s.value-30)/2-E,height:W}:{width:L,height:(t.value-30)/2-E},kt=i.value?{width:(s.value-30)/2-E,height:W}:{width:L,height:(t.value-30)/2-E};return{mainCanvas:ut,graphBarChartCanvas:_s,graphBarMosfetCanvas:kt,borderWidth:E}}),o=P(null),r=P(null),a=P(null),l=P(null),f=P(null),h=P(null);let g=0;const v=P(null),y=P(!1),A=P(!0),O=G=>{v.value&&!v.value.contains(G.target)&&(y.value=!1)},R=P("nMosSingle"),_=Object.keys(Ai),S=Dl(Ai[R.value]),z=()=>{Object.values(Ai).forEach(G=>{G.setSlidersActive(Ti.value)})};z(),window.Worker||console.log("Your browser doesn't support web workers.");const $=new Worker(new URL("/assets/incrementCircuitWorker-Yfkbz8Kh.js",import.meta.url),{type:"module"});$.onmessage=G=>{S.value.nodeVoltagesFromJson(G.data)};const ee=G=>{R.value=G,S.value=Ai[G]},Y=()=>{S.value.allSliders.forEach(G=>{G.updateValueBasedOnNodeVoltages()})},de=()=>{S.value.allSliders.forEach(G=>{G.updateNodeVoltagesBasedOnValue()})},j=G=>{const W=G.target;if(!W)return{mouseX:0,mouseY:0};const L=W.getBoundingClientRect(),E=(G.clientX-L.left)*ot.value,ut=(G.clientY-L.top)*ot.value;return{mouseX:E,mouseY:ut}},fe=G=>{const{mouseX:W,mouseY:L}=j(G);S.value.allSliders.forEach(E=>{E.canvasId==G.target.className&&E.checkDrag({x:W,y:L},G.button==1)}),S.value.anySlidersDragging||(Object.values(S.value.devices.mosfets).forEach(E=>{E.canvasId==G.target.className&&(E.mouseDownInsideSelectionArea=E.checkSelectionArea({x:W,y:L}))}),Object.values(S.value.devices.voltageSources).forEach(E=>{E.canvasId==G.target.className&&(E.mouseDownInsideSelectionArea=E.checkSelectionArea({x:W,y:L}))})),le(G),document.addEventListener("pointermove",le),document.addEventListener("pointerup",Ce)},le=G=>{const{mouseX:W,mouseY:L}=j(G);S.value.allSliders.forEach(E=>{E.dragSlider({x:W,y:L})}),de()},Ce=G=>{const{mouseX:W,mouseY:L}=j(G);!S.value.anySlidersDragging&&G.target.className=="main"&&(S.value.resetSelectedDevice(),Object.values(S.value.devices.mosfets).forEach(E=>{E.mouseDownInsideSelectionArea&&E.checkSelectionArea({x:W,y:L})?(E.selectedFocus.value&&E.toggleSelected(),E.selectedFocus.value=!0,S.value.setSelectedDevice(E)):E.selectedFocus.value=!1,E.mouseDownInsideSelectionArea=!1}),Object.values(S.value.devices.voltageSources).forEach(E=>{E.mouseDownInsideSelectionArea&&E.checkSelectionArea({x:W,y:L})?(E.selectedFocus.value=!0,S.value.setSelectedDevice(E)):E.selectedFocus.value=!1,E.mouseDownInsideSelectionArea=!1})),S.value.allSliders.forEach(E=>{E.releaseSlider()}),document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",Ce)},I=(G,W,L)=>{if(!G.value||(W.value=G.value.getContext("2d"),!W.value))return!1;Uf(W.value,L);const E=ot.value;return G.value.width=L.value.width*E,G.value.height=L.value.height*E,G.value.style.width=`${L.value.width}px`,G.value.style.height=`${L.value.height}px`,W.value.resetTransform(),W.value.clearRect(0,0,G.value.width,G.value.height),!0},pe=()=>{var W;if(!I(o,r,Gn)||!I(a,l,jf)||!I(f,h,$f))return;const G=S.value.fixedNodeVoltagesToJson();$.postMessage(G),Y(),S.value.draw(r.value),S.value.anyDevicesSelected&&y&&(Fe.textTransformationMatrix.relativeScale=S.value.circuitCopy.transformationMatrix.relativeScale/zn,(W=S.value.circuitCopy)==null||W.draw(l.value),S.value.drawSelectedDeviceCharts(h.value))},Ne=G=>{const W=G-g;g=G,S.value.allSliders.forEach(L=>{L.adjustPreciseSlider(W)}),de(),Object.values(S.value.devices.mosfets).forEach(L=>{L.currentDots.updateDotPositionBasedOnTimestamp(L.current,W)}),Object.values(S.value.circuitCopy.devices.mosfets).forEach(L=>{L.currentDots.updateDotPositionBasedOnTimestamp(L.current,W)}),Object.values(S.value.schematic.parasiticCapacitors).forEach(L=>{L.currentDots.updateDotPositionBasedOnTimestamp(L.node.value.netCurrent,W)}),pe(),requestAnimationFrame(Ne)};return sn(()=>{o.value&&(r.value=o.value.getContext("2d"),document.addEventListener("click",O),pe(),requestAnimationFrame(Ne)),a.value&&(l.value=a.value.getContext("2d")),f.value&&(h.value=f.value.getContext("2d"))}),po(()=>{}),(G,W)=>(Wt(),es(at,null,[ne("div",ah,[ne("button",{onClick:W[0]||(W[0]=vr(L=>y.value=!y.value,["stop"]))},"Menu")]),Re(wo,null,{default:Qr(()=>[jo(ne("div",{ref_key:"sideBar",ref:v,style:{display:"flex","flex-direction":"column",width:"250px",height:"100vh",padding:"10px","background-color":"whitesmoke",position:"absolute"}},[lh,ch,(Wt(!0),es(at,null,hc(It(_),L=>(Wt(),es("button",{onClick:vr(E=>ee(L),["prevent"]),style:Ke(`margin-bottom: 10px; background-color: ${L===R.value?"rgb(200, 200, 200)":""};`)},ss(L),13,fh))),256)),hh,jo(ne("input",{type:"range",min:"1",max:"5",step:"1","onUpdate:modelValue":W[1]||(W[1]=L=>ke(ot)?ot.value=L:null)},null,512),[[xf,It(ot)]]),ne("div",uh,[Re(_n,{"label-up":"On","label-down":"Off",option:"Draw Grid",modelValue:It(ti),"onUpdate:modelValue":W[2]||(W[2]=L=>ke(ti)?ti.value=L:null)},null,8,["modelValue"]),Re(_n,{"label-up":"On","label-down":"Off",option:"Sliders Active",modelValue:It(Ti),"onUpdate:modelValue":W[3]||(W[3]=L=>ke(Ti)?Ti.value=L:null),onClick:W[4]||(W[4]=L=>z())},null,8,["modelValue"]),Re(_n,{"label-up":"On","label-down":"Off",option:"Floating Nodes",modelValue:It(Wi),"onUpdate:modelValue":W[5]||(W[5]=L=>ke(Wi)?Wi.value=L:null)},null,8,["modelValue"])]),ne("button",{onClick:W[6]||(W[6]=L=>y.value=!1),style:{position:"absolute",bottom:"40px",right:"15px"}},"Close")],512),[[sf,y.value]])]),_:1}),It(i)?(Wt(),es("button",{key:0,onClick:W[7]||(W[7]=L=>A.value=!A.value),style:{position:"absolute",bottom:"0","font-size":"xx-large",padding:"5px",width:"100px",right:"calc(50% - 50px)"}},ss(A.value?"V":"^"),1)):(Wt(),es("button",{key:1,onClick:W[8]||(W[8]=L=>A.value=!A.value),style:{position:"absolute",right:"0","font-size":"xx-large",padding:"5px",height:"100px",top:"calc(50vh - 50px)"}},ss(A.value?">":"<"),1)),ne("div",null,[ne("div",{style:Ke({display:"flex",flexDirection:It(i)?"column":"row"})},[ne("canvas",{ref_key:"canvas",ref:o,onPointerdown:fe,style:Ke(`border-color: blue; border-width: 2px; background-color: white; width: ${n.value.mainCanvas.width}px; height: ${n.value.mainCanvas.height}px; touch-action: none`),class:"main"},null,36),ne("div",{style:Ke({display:"flex",flexDirection:It(i)?"row":"column"})},[ne("canvas",{ref_key:"graphBarChartCanvas",ref:f,onPointerdown:fe,style:Ke(`border-color: blue; border-width: ${n.value.borderWidth}px; background-color: white; width: ${n.value.graphBarChartCanvas.width}px; height: ${n.value.graphBarChartCanvas.height}px; display: ${A.value?"block":"none"}; touch-action: none`),class:"chart"},null,36),ne("canvas",{ref_key:"graphBarMosfetCanvas",ref:a,onPointerdown:fe,style:Ke(`border-color: blue; border-width: ${n.value.borderWidth}px; background-color: white; width: ${n.value.graphBarMosfetCanvas.width}px; height: ${n.value.graphBarMosfetCanvas.height}px; display: ${A.value?"block":"none"}; touch-action: none`),class:"mosfet"},null,36)],4)],4)])],64))}}),gh=$a(dh,[["__scopeId","data-v-b085bbcb"]]),mh={key:0},vh={style:{color:"white"}},ph={style:{color:"white"}},yh={style:{display:"flex","justify-content":"space-around"}},bh=Qi({__name:"Tutorial",props:{setTutorialStep:{type:Function},data:{}},setup(e){const t=e;return(s,i)=>t.data.title!==""?(Wt(),es("div",mh,[ne("div",{style:Ke(`background-color: #FF7F7F; border-radius: 10px; border: 2px solid red; position: absolute; max-width: 400px; padding: 20px; ${t.data.location?t.data.location.y:"top: 45vh"}; ${t.data.location?t.data.location.x:"left: calc(50vw - 200px"}); box-shadow: rgba(0, 0, 0, 0.4) 0px 8px 24px;`)},[ne("h3",vh,ss(t.data.title),1),ne("p",ph,ss(t.data.text),1),ne("div",yh,[ne("button",{onClick:i[0]||(i[0]=n=>s.setTutorialStep())},"Ok"),ne("button",{onClick:i[1]||(i[1]=n=>s.setTutorialStep(!0))},"Skip")])],4)])):wa("",!0)}}),xh=Qi({__name:"App",setup(e){const t=[{title:"",text:""},{title:"Welcome to Mosfets",text:"This will show you around the program."},{title:"Side Bar",text:"These buttons allow you to switch circuits.",location:{x:"left: 200px;",y:"top: 50px;"}},{title:"Circuits",text:"Highlighted sliders allow you to manipulate the voltages on each voltage source. Move one to see how they work.",location:{x:"right: 45vw;",y:"top: 200px;"}},{title:"Current",text:"Blue dots move relative to the current flowing through the mosfet. Move the orange voltage sliders to see it change.",location:{x:"right: 45vw;",y:"top: 200px;"}}],s=P(1),i=(a=!1)=>{a?s.value=t.length:s.value++,s.value>t.length-1&&(s.value=0)},o=P((()=>{const a="firstTimeLoad",l=localStorage.getItem(a)===null;return l&&localStorage.setItem(a,"false"),l})()),r=()=>{o.value=!0,s.value=1};return document.body.onmousedown=function(a){if(a.button==1)return a.preventDefault(),!1},(a,l)=>(Wt(),es("div",null,[Re(gh),o.value?(Wt(),ba(bh,{key:0,data:t[s.value],setTutorialStep:i},null,8,["data"])):wa("",!0),ne("button",{onClick:r,style:{position:"absolute",bottom:"5px",left:"5px"}},"?")]))}});Sf(xh).mount("#app");
