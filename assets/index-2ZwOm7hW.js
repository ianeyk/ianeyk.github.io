var xl=Object.defineProperty;var wl=(e,t,s)=>t in e?xl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var m=(e,t,s)=>(wl(e,typeof t!="symbol"?t+"":t,s),s),Wn=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var u=(e,t,s)=>(Wn(e,t,"read from private field"),s?s.call(e):t.get(e)),ee=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},K=(e,t,s,i)=>(Wn(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s);var Bi=(e,t,s,i)=>({set _(n){K(e,t,n,s)},get _(){return u(e,t,i)}}),N=(e,t,s)=>(Wn(e,t,"access private method"),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ao(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const xe={},Bs=[],Gt=()=>{},Ml=()=>!1,yn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Do=e=>e.startsWith("onUpdate:"),Fe=Object.assign,Po=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Sl=Object.prototype.hasOwnProperty,ve=(e,t)=>Sl.call(e,t),X=Array.isArray,Hs=e=>bn(e)==="[object Map]",Br=e=>bn(e)==="[object Set]",ie=e=>typeof e=="function",Ee=e=>typeof e=="string",ps=e=>typeof e=="symbol",Te=e=>e!==null&&typeof e=="object",Hr=e=>(Te(e)||ie(e))&&ie(e.then)&&ie(e.catch),$r=Object.prototype.toString,bn=e=>$r.call(e),Vl=e=>bn(e).slice(8,-1),Ur=e=>bn(e)==="[object Object]",Lo=e=>Ee(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gi=Ao(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Tl=/-(\w)/g,ms=xn(e=>e.replace(Tl,(t,s)=>s?s.toUpperCase():"")),_l=/\B([A-Z])/g,Os=xn(e=>e.replace(_l,"-$1").toLowerCase()),Gr=xn(e=>e.charAt(0).toUpperCase()+e.slice(1)),kn=xn(e=>e?`on${Gr(e)}`:""),gs=(e,t)=>!Object.is(e,t),Zi=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Kr=(e,t,s,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:s})},Xn=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Cl=e=>{const t=Ee(e)?Number(e):NaN;return isNaN(t)?e:t};let ir;const wn=()=>ir||(ir=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ke(e){if(X(e)){const t={};for(let s=0;s<e.length;s++){const i=e[s],n=Ee(i)?Ll(i):ke(i);if(n)for(const o in n)t[o]=n[o]}return t}else if(Ee(e)||Te(e))return e}const Al=/;(?![^(]*\))/g,Dl=/:([^]+)/,Pl=/\/\*[^]*?\*\//g;function Ll(e){const t={};return e.replace(Pl,"").split(Al).forEach(s=>{if(s){const i=s.split(Dl);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function $t(e){let t="";if(Ee(e))t=e;else if(X(e))for(let s=0;s<e.length;s++){const i=$t(e[s]);i&&(t+=i+" ")}else if(Te(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Ol="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",El=Ao(Ol);function qr(e){return!!e||e===""}const Yr=e=>!!(e&&e.__v_isRef===!0),st=e=>Ee(e)?e:e==null?"":X(e)||Te(e)&&(e.toString===$r||!ie(e.toString))?Yr(e)?st(e.value):JSON.stringify(e,Jr,2):String(e),Jr=(e,t)=>Yr(t)?Jr(e,t.value):Hs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[i,n],o)=>(s[Fn(i,o)+" =>"]=n,s),{})}:Br(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Fn(s))}:ps(t)?Fn(t):Te(t)&&!X(t)&&!Ur(t)?String(t):t,Fn=(e,t="")=>{var s;return ps(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tt;class Wl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=tt,!t&&tt&&(this.index=(tt.scopes||(tt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=tt;try{return tt=this,t()}finally{tt=s}}}on(){tt=this}off(){tt=this.parent}stop(t){if(this._active){this._active=!1;let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(this.effects.length=0,s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Xr(){return tt}function kl(e,t=!1){tt&&tt.cleanups.push(e)}let Me;const Rn=new WeakSet;class Zr{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,tt&&tt.active&&tt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Rn.has(this)&&(Rn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ea(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,nr(this),ta(this);const t=Me,s=Wt;Me=this,Wt=!0;try{return this.fn()}finally{sa(this),Me=t,Wt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Wo(t);this.deps=this.depsTail=void 0,nr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Rn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Zn(this)&&this.run()}get dirty(){return Zn(this)}}let Qr=0,mi,vi;function ea(e,t=!1){if(e.flags|=8,t){e.next=vi,vi=e;return}e.next=mi,mi=e}function Oo(){Qr++}function Eo(){if(--Qr>0)return;if(vi){let t=vi;for(vi=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;mi;){let t=mi;for(mi=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=s}}if(e)throw e}function ta(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function sa(e){let t,s=e.depsTail,i=s;for(;i;){const n=i.prevDep;i.version===-1?(i===s&&(s=n),Wo(i),Fl(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}e.deps=t,e.depsTail=s}function Zn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ia(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ia(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Si))return;e.globalVersion=Si;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Zn(e)){e.flags&=-3;return}const s=Me,i=Wt;Me=e,Wt=!0;try{ta(e);const n=e.fn(e._value);(t.version===0||gs(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Me=s,Wt=i,sa(e),e.flags&=-3}}function Wo(e,t=!1){const{dep:s,prevSub:i,nextSub:n}=e;if(i&&(i.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=i,e.nextSub=void 0),s.subs===e&&(s.subs=i,!i&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)Wo(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Fl(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Wt=!0;const na=[];function ys(){na.push(Wt),Wt=!1}function bs(){const e=na.pop();Wt=e===void 0?!0:e}function nr(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Me;Me=void 0;try{t()}finally{Me=s}}}let Si=0;class Rl{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ko{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Me||!Wt||Me===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Me)s=this.activeLink=new Rl(Me,this),Me.deps?(s.prevDep=Me.depsTail,Me.depsTail.nextDep=s,Me.depsTail=s):Me.deps=Me.depsTail=s,oa(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const i=s.nextDep;i.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=i),s.prevDep=Me.depsTail,s.nextDep=void 0,Me.depsTail.nextDep=s,Me.depsTail=s,Me.deps===s&&(Me.deps=i)}return s}trigger(t){this.version++,Si++,this.notify(t)}notify(t){Oo();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Eo()}}}function oa(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)oa(i)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Qn=new WeakMap,Ps=Symbol(""),eo=Symbol(""),Vi=Symbol("");function qe(e,t,s){if(Wt&&Me){let i=Qn.get(e);i||Qn.set(e,i=new Map);let n=i.get(s);n||(i.set(s,n=new ko),n.map=i,n.key=s),n.track()}}function Qt(e,t,s,i,n,o){const r=Qn.get(e);if(!r){Si++;return}const a=l=>{l&&l.trigger()};if(Oo(),t==="clear")r.forEach(a);else{const l=X(e),f=l&&Lo(s);if(l&&s==="length"){const c=Number(i);r.forEach((d,v)=>{(v==="length"||v===Vi||!ps(v)&&v>=c)&&a(d)})}else switch((s!==void 0||r.has(void 0))&&a(r.get(s)),f&&a(r.get(Vi)),t){case"add":l?f&&a(r.get("length")):(a(r.get(Ps)),Hs(e)&&a(r.get(eo)));break;case"delete":l||(a(r.get(Ps)),Hs(e)&&a(r.get(eo)));break;case"set":Hs(e)&&a(r.get(Ps));break}}Eo()}function Ws(e){const t=ue(e);return t===e?t:(qe(t,"iterate",Vi),Mt(e)?t:t.map(Ye))}function Mn(e){return qe(e=ue(e),"iterate",Vi),e}const Il={__proto__:null,[Symbol.iterator](){return In(this,Symbol.iterator,Ye)},concat(...e){return Ws(this).concat(...e.map(t=>X(t)?Ws(t):t))},entries(){return In(this,"entries",e=>(e[1]=Ye(e[1]),e))},every(e,t){return Yt(this,"every",e,t,void 0,arguments)},filter(e,t){return Yt(this,"filter",e,t,s=>s.map(Ye),arguments)},find(e,t){return Yt(this,"find",e,t,Ye,arguments)},findIndex(e,t){return Yt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Yt(this,"findLast",e,t,Ye,arguments)},findLastIndex(e,t){return Yt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Yt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Nn(this,"includes",e)},indexOf(...e){return Nn(this,"indexOf",e)},join(e){return Ws(this).join(e)},lastIndexOf(...e){return Nn(this,"lastIndexOf",e)},map(e,t){return Yt(this,"map",e,t,void 0,arguments)},pop(){return ai(this,"pop")},push(...e){return ai(this,"push",e)},reduce(e,...t){return or(this,"reduce",e,t)},reduceRight(e,...t){return or(this,"reduceRight",e,t)},shift(){return ai(this,"shift")},some(e,t){return Yt(this,"some",e,t,void 0,arguments)},splice(...e){return ai(this,"splice",e)},toReversed(){return Ws(this).toReversed()},toSorted(e){return Ws(this).toSorted(e)},toSpliced(...e){return Ws(this).toSpliced(...e)},unshift(...e){return ai(this,"unshift",e)},values(){return In(this,"values",Ye)}};function In(e,t,s){const i=Mn(e),n=i[t]();return i!==e&&!Mt(e)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.value&&(o.value=s(o.value)),o}),n}const Nl=Array.prototype;function Yt(e,t,s,i,n,o){const r=Mn(e),a=r!==e&&!Mt(e),l=r[t];if(l!==Nl[t]){const d=l.apply(e,o);return a?Ye(d):d}let f=s;r!==e&&(a?f=function(d,v){return s.call(this,Ye(d),v,e)}:s.length>2&&(f=function(d,v){return s.call(this,d,v,e)}));const c=l.call(r,f,i);return a&&n?n(c):c}function or(e,t,s,i){const n=Mn(e);let o=s;return n!==e&&(Mt(e)?s.length>3&&(o=function(r,a,l){return s.call(this,r,a,l,e)}):o=function(r,a,l){return s.call(this,r,Ye(a),l,e)}),n[t](o,...i)}function Nn(e,t,s){const i=ue(e);qe(i,"iterate",Vi);const n=i[t](...s);return(n===-1||n===!1)&&No(s[0])?(s[0]=ue(s[0]),i[t](...s)):n}function ai(e,t,s=[]){ys(),Oo();const i=ue(e)[t].apply(e,s);return Eo(),bs(),i}const jl=Ao("__proto__,__v_isRef,__isVue"),ra=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ps));function zl(e){ps(e)||(e=String(e));const t=ue(this);return qe(t,"has",e),t.hasOwnProperty(e)}class aa{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,i){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return o;if(s==="__v_raw")return i===(n?o?Xl:ua:o?fa:ca).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const r=X(t);if(!n){let l;if(r&&(l=Il[s]))return l;if(s==="hasOwnProperty")return zl}const a=Reflect.get(t,s,Oe(t)?t:i);return(ps(s)?ra.has(s):jl(s))||(n||qe(t,"get",s),o)?a:Oe(a)?r&&Lo(s)?a:a.value:Te(a)?n?ha(a):Ro(a):a}}class la extends aa{constructor(t=!1){super(!1,t)}set(t,s,i,n){let o=t[s];if(!this._isShallow){const l=Ls(o);if(!Mt(i)&&!Ls(i)&&(o=ue(o),i=ue(i)),!X(t)&&Oe(o)&&!Oe(i))return l?!1:(o.value=i,!0)}const r=X(t)&&Lo(s)?Number(s)<t.length:ve(t,s),a=Reflect.set(t,s,i,Oe(t)?t:n);return t===ue(n)&&(r?gs(i,o)&&Qt(t,"set",s,i):Qt(t,"add",s,i)),a}deleteProperty(t,s){const i=ve(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&i&&Qt(t,"delete",s,void 0),n}has(t,s){const i=Reflect.has(t,s);return(!ps(s)||!ra.has(s))&&qe(t,"has",s),i}ownKeys(t){return qe(t,"iterate",X(t)?"length":Ps),Reflect.ownKeys(t)}}class Bl extends aa{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Hl=new la,$l=new Bl,Ul=new la(!0);const to=e=>e,Hi=e=>Reflect.getPrototypeOf(e);function Gl(e,t,s){return function(...i){const n=this.__v_raw,o=ue(n),r=Hs(o),a=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,f=n[e](...i),c=s?to:t?so:Ye;return!t&&qe(o,"iterate",l?eo:Ps),{next(){const{value:d,done:v}=f.next();return v?{value:d,done:v}:{value:a?[c(d[0]),c(d[1])]:c(d),done:v}},[Symbol.iterator](){return this}}}}function $i(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Kl(e,t){const s={get(n){const o=this.__v_raw,r=ue(o),a=ue(n);e||(gs(n,a)&&qe(r,"get",n),qe(r,"get",a));const{has:l}=Hi(r),f=t?to:e?so:Ye;if(l.call(r,n))return f(o.get(n));if(l.call(r,a))return f(o.get(a));o!==r&&o.get(n)},get size(){const n=this.__v_raw;return!e&&qe(ue(n),"iterate",Ps),Reflect.get(n,"size",n)},has(n){const o=this.__v_raw,r=ue(o),a=ue(n);return e||(gs(n,a)&&qe(r,"has",n),qe(r,"has",a)),n===a?o.has(n):o.has(n)||o.has(a)},forEach(n,o){const r=this,a=r.__v_raw,l=ue(a),f=t?to:e?so:Ye;return!e&&qe(l,"iterate",Ps),a.forEach((c,d)=>n.call(o,f(c),f(d),r))}};return Fe(s,e?{add:$i("add"),set:$i("set"),delete:$i("delete"),clear:$i("clear")}:{add(n){!t&&!Mt(n)&&!Ls(n)&&(n=ue(n));const o=ue(this);return Hi(o).has.call(o,n)||(o.add(n),Qt(o,"add",n,n)),this},set(n,o){!t&&!Mt(o)&&!Ls(o)&&(o=ue(o));const r=ue(this),{has:a,get:l}=Hi(r);let f=a.call(r,n);f||(n=ue(n),f=a.call(r,n));const c=l.call(r,n);return r.set(n,o),f?gs(o,c)&&Qt(r,"set",n,o):Qt(r,"add",n,o),this},delete(n){const o=ue(this),{has:r,get:a}=Hi(o);let l=r.call(o,n);l||(n=ue(n),l=r.call(o,n)),a&&a.call(o,n);const f=o.delete(n);return l&&Qt(o,"delete",n,void 0),f},clear(){const n=ue(this),o=n.size!==0,r=n.clear();return o&&Qt(n,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Gl(n,e,t)}),s}function Fo(e,t){const s=Kl(e,t);return(i,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(ve(s,n)&&n in i?s:i,n,o)}const ql={get:Fo(!1,!1)},Yl={get:Fo(!1,!0)},Jl={get:Fo(!0,!1)};const ca=new WeakMap,fa=new WeakMap,ua=new WeakMap,Xl=new WeakMap;function Zl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ql(e){return e.__v_skip||!Object.isExtensible(e)?0:Zl(Vl(e))}function Ro(e){return Ls(e)?e:Io(e,!1,Hl,ql,ca)}function ec(e){return Io(e,!1,Ul,Yl,fa)}function ha(e){return Io(e,!0,$l,Jl,ua)}function Io(e,t,s,i,n){if(!Te(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=n.get(e);if(o)return o;const r=Ql(e);if(r===0)return e;const a=new Proxy(e,r===2?i:s);return n.set(e,a),a}function $s(e){return Ls(e)?$s(e.__v_raw):!!(e&&e.__v_isReactive)}function Ls(e){return!!(e&&e.__v_isReadonly)}function Mt(e){return!!(e&&e.__v_isShallow)}function No(e){return e?!!e.__v_raw:!1}function ue(e){const t=e&&e.__v_raw;return t?ue(t):e}function tc(e){return!ve(e,"__v_skip")&&Object.isExtensible(e)&&Kr(e,"__v_skip",!0),e}const Ye=e=>Te(e)?Ro(e):e,so=e=>Te(e)?ha(e):e;function Oe(e){return e?e.__v_isRef===!0:!1}function V(e){return da(e,!1)}function sc(e){return da(e,!0)}function da(e,t){return Oe(e)?e:new ic(e,t)}class ic{constructor(t,s){this.dep=new ko,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ue(t),this._value=s?t:Ye(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,i=this.__v_isShallow||Mt(t)||Ls(t);t=i?t:ue(t),gs(t,s)&&(this._rawValue=t,this._value=i?t:Ye(t),this.dep.trigger())}}function Ce(e){return Oe(e)?e.value:e}function ga(e){return ie(e)?e():Ce(e)}const nc={get:(e,t,s)=>t==="__v_raw"?e:Ce(Reflect.get(e,t,s)),set:(e,t,s,i)=>{const n=e[t];return Oe(n)&&!Oe(s)?(n.value=s,!0):Reflect.set(e,t,s,i)}};function ma(e){return $s(e)?e:new Proxy(e,nc)}class oc{constructor(t,s,i){this.fn=t,this.setter=s,this._value=void 0,this.dep=new ko(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Si-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Me!==this)return ea(this,!0),!0}get value(){const t=this.dep.track();return ia(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function rc(e,t,s=!1){let i,n;return ie(e)?i=e:(i=e.get,n=e.set),new oc(i,n,s)}const Ui={},an=new WeakMap;let Vs;function ac(e,t=!1,s=Vs){if(s){let i=an.get(s);i||an.set(s,i=[]),i.push(e)}}function lc(e,t,s=xe){const{immediate:i,deep:n,once:o,scheduler:r,augmentJob:a,call:l}=s,f=L=>n?L:Mt(L)||n===!1||n===0?es(L,1):es(L);let c,d,v,p,b=!1,x=!1;if(Oe(e)?(d=()=>e.value,b=Mt(e)):$s(e)?(d=()=>f(e),b=!0):X(e)?(x=!0,b=e.some(L=>$s(L)||Mt(L)),d=()=>e.map(L=>{if(Oe(L))return L.value;if($s(L))return f(L);if(ie(L))return l?l(L,2):L()})):ie(e)?t?d=l?()=>l(e,2):e:d=()=>{if(v){ys();try{v()}finally{bs()}}const L=Vs;Vs=c;try{return l?l(e,3,[p]):e(p)}finally{Vs=L}}:d=Gt,t&&n){const L=d,Z=n===!0?1/0:n;d=()=>es(L(),Z)}const k=Xr(),M=()=>{c.stop(),k&&k.active&&Po(k.effects,c)};if(o&&t){const L=t;t=(...Z)=>{L(...Z),M()}}let j=x?new Array(e.length).fill(Ui):Ui;const $=L=>{if(!(!(c.flags&1)||!c.dirty&&!L))if(t){const Z=c.run();if(n||b||(x?Z.some((D,U)=>gs(D,j[U])):gs(Z,j))){v&&v();const D=Vs;Vs=c;try{const U=[Z,j===Ui?void 0:x&&j[0]===Ui?[]:j,p];l?l(t,3,U):t(...U),j=Z}finally{Vs=D}}}else c.run()};return a&&a($),c=new Zr(d),c.scheduler=r?()=>r($,!1):$,p=L=>ac(L,!1,c),v=c.onStop=()=>{const L=an.get(c);if(L){if(l)l(L,4);else for(const Z of L)Z();an.delete(c)}},t?i?$(!0):j=c.run():r?r($.bind(null,!0),!0):c.run(),M.pause=c.pause.bind(c),M.resume=c.resume.bind(c),M.stop=M,M}function es(e,t=1/0,s){if(t<=0||!Te(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Oe(e))es(e.value,t,s);else if(X(e))for(let i=0;i<e.length;i++)es(e[i],t,s);else if(Br(e)||Hs(e))e.forEach(i=>{es(i,t,s)});else if(Ur(e)){for(const i in e)es(e[i],t,s);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&es(e[i],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ii(e,t,s,i){try{return i?e(...i):e()}catch(n){Sn(n,t,s)}}function kt(e,t,s,i){if(ie(e)){const n=Ii(e,t,s,i);return n&&Hr(n)&&n.catch(o=>{Sn(o,t,s)}),n}if(X(e)){const n=[];for(let o=0;o<e.length;o++)n.push(kt(e[o],t,s,i));return n}}function Sn(e,t,s,i=!0){const n=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||xe;if(t){let a=t.parent;const l=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,f)===!1)return}a=a.parent}if(o){ys(),Ii(o,null,10,[e,l,f]),bs();return}}cc(e,s,n,i,r)}function cc(e,t,s,i=!0,n=!1){if(n)throw e;console.error(e)}const it=[];let Nt=-1;const Us=[];let fs=null,Fs=0;const va=Promise.resolve();let ln=null;function fc(e){const t=ln||va;return e?t.then(this?e.bind(this):e):t}function uc(e){let t=Nt+1,s=it.length;for(;t<s;){const i=t+s>>>1,n=it[i],o=Ti(n);o<e||o===e&&n.flags&2?t=i+1:s=i}return t}function jo(e){if(!(e.flags&1)){const t=Ti(e),s=it[it.length-1];!s||!(e.flags&2)&&t>=Ti(s)?it.push(e):it.splice(uc(t),0,e),e.flags|=1,pa()}}function pa(){ln||(ln=va.then(ba))}function hc(e){X(e)?Us.push(...e):fs&&e.id===-1?fs.splice(Fs+1,0,e):e.flags&1||(Us.push(e),e.flags|=1),pa()}function rr(e,t,s=Nt+1){for(;s<it.length;s++){const i=it[s];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;it.splice(s,1),s--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function ya(e){if(Us.length){const t=[...new Set(Us)].sort((s,i)=>Ti(s)-Ti(i));if(Us.length=0,fs){fs.push(...t);return}for(fs=t,Fs=0;Fs<fs.length;Fs++){const s=fs[Fs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}fs=null,Fs=0}}const Ti=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ba(e){try{for(Nt=0;Nt<it.length;Nt++){const t=it[Nt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ii(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Nt<it.length;Nt++){const t=it[Nt];t&&(t.flags&=-2)}Nt=-1,it.length=0,ya(),ln=null,(it.length||Us.length)&&ba()}}let pt=null,xa=null;function cn(e){const t=pt;return pt=e,xa=e&&e.type.__scopeId||null,t}function wa(e,t=pt,s){if(!t||e._n)return e;const i=(...n)=>{i._d&&mr(-1);const o=cn(t);let r;try{r=e(...n)}finally{cn(o),i._d&&mr(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function Ns(e,t){if(pt===null)return e;const s=Dn(pt),i=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[o,r,a,l=xe]=t[n];o&&(ie(o)&&(o={mounted:o,updated:o}),o.deep&&es(r),i.push({dir:o,instance:s,value:r,oldValue:void 0,arg:a,modifiers:l}))}return e}function xs(e,t,s,i){const n=e.dirs,o=t&&t.dirs;for(let r=0;r<n.length;r++){const a=n[r];o&&(a.oldValue=o[r].value);let l=a.dir[i];l&&(ys(),kt(l,s,8,[e.el,a,e,t]),bs())}}const dc=Symbol("_vte"),Ma=e=>e.__isTeleport,us=Symbol("_leaveCb"),Gi=Symbol("_enterCb");function gc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return si(()=>{e.isMounted=!0}),zo(()=>{e.isUnmounting=!0}),e}const xt=[Function,Array],Sa={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xt,onEnter:xt,onAfterEnter:xt,onEnterCancelled:xt,onBeforeLeave:xt,onLeave:xt,onAfterLeave:xt,onLeaveCancelled:xt,onBeforeAppear:xt,onAppear:xt,onAfterAppear:xt,onAppearCancelled:xt},Va=e=>{const t=e.subTree;return t.component?Va(t.component):t},mc={name:"BaseTransition",props:Sa,setup(e,{slots:t}){const s=Ya(),i=gc();return()=>{const n=t.default&&Ca(t.default(),!0);if(!n||!n.length)return;const o=Ta(n),r=ue(e),{mode:a}=r;if(i.isLeaving)return jn(o);const l=ar(o);if(!l)return jn(o);let f=io(l,r,i,s,d=>f=d);l.type!==nt&&_i(l,f);let c=s.subTree&&ar(s.subTree);if(c&&c.type!==nt&&!Ts(l,c)&&Va(s).type!==nt){let d=io(c,r,i,s);if(_i(c,d),a==="out-in"&&l.type!==nt)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,s.job.flags&8||s.update(),delete d.afterLeave,c=void 0},jn(o);a==="in-out"&&l.type!==nt?d.delayLeave=(v,p,b)=>{const x=_a(i,c);x[String(c.key)]=c,v[us]=()=>{p(),v[us]=void 0,delete f.delayedLeave,c=void 0},f.delayedLeave=()=>{b(),delete f.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return o}}};function Ta(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==nt){t=s;break}}return t}const vc=mc;function _a(e,t){const{leavingVNodes:s}=e;let i=s.get(t.type);return i||(i=Object.create(null),s.set(t.type,i)),i}function io(e,t,s,i,n){const{appear:o,mode:r,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:v,onLeave:p,onAfterLeave:b,onLeaveCancelled:x,onBeforeAppear:k,onAppear:M,onAfterAppear:j,onAppearCancelled:$}=t,L=String(e.key),Z=_a(s,e),D=(z,oe)=>{z&&kt(z,i,9,oe)},U=(z,oe)=>{const ge=oe[1];D(z,oe),X(z)?z.every(I=>I.length<=1)&&ge():z.length<=1&&ge()},ne={mode:r,persisted:a,beforeEnter(z){let oe=l;if(!s.isMounted)if(o)oe=k||l;else return;z[us]&&z[us](!0);const ge=Z[L];ge&&Ts(e,ge)&&ge.el[us]&&ge.el[us](),D(oe,[z])},enter(z){let oe=f,ge=c,I=d;if(!s.isMounted)if(o)oe=M||f,ge=j||c,I=$||d;else return;let me=!1;const Re=z[Gi]=bt=>{me||(me=!0,bt?D(I,[z]):D(ge,[z]),ne.delayedLeave&&ne.delayedLeave(),z[Gi]=void 0)};oe?U(oe,[z,Re]):Re()},leave(z,oe){const ge=String(e.key);if(z[Gi]&&z[Gi](!0),s.isUnmounting)return oe();D(v,[z]);let I=!1;const me=z[us]=Re=>{I||(I=!0,oe(),Re?D(x,[z]):D(b,[z]),z[us]=void 0,Z[ge]===e&&delete Z[ge])};Z[ge]=e,p?U(p,[z,me]):me()},clone(z){const oe=io(z,t,s,i,n);return n&&n(oe),oe}};return ne}function jn(e){if(Vn(e))return e=vs(e),e.children=null,e}function ar(e){if(!Vn(e))return Ma(e.type)&&e.children?Ta(e.children):e;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&ie(s.default))return s.default()}}function _i(e,t){e.shapeFlag&6&&e.component?(e.transition=t,_i(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ca(e,t=!1,s){let i=[],n=0;for(let o=0;o<e.length;o++){let r=e[o];const a=s==null?r.key:String(s)+String(r.key!=null?r.key:o);r.type===Je?(r.patchFlag&128&&n++,i=i.concat(Ca(r.children,t,a))):(t||r.type!==nt)&&i.push(a!=null?vs(r,{key:a}):r)}if(n>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Es(e,t){return ie(e)?Fe({name:e.name},t,{setup:e}):e}function Aa(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function fn(e,t,s,i,n=!1){if(X(e)){e.forEach((b,x)=>fn(b,t&&(X(t)?t[x]:t),s,i,n));return}if(pi(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&fn(e,t,s,i.component.subTree);return}const o=i.shapeFlag&4?Dn(i.component):i.el,r=n?null:o,{i:a,r:l}=e,f=t&&t.r,c=a.refs===xe?a.refs={}:a.refs,d=a.setupState,v=ue(d),p=d===xe?()=>!1:b=>ve(v,b);if(f!=null&&f!==l&&(Ee(f)?(c[f]=null,p(f)&&(d[f]=null)):Oe(f)&&(f.value=null)),ie(l))Ii(l,a,12,[r,c]);else{const b=Ee(l),x=Oe(l);if(b||x){const k=()=>{if(e.f){const M=b?p(l)?d[l]:c[l]:l.value;n?X(M)&&Po(M,o):X(M)?M.includes(o)||M.push(o):b?(c[l]=[o],p(l)&&(d[l]=c[l])):(l.value=[o],e.k&&(c[e.k]=l.value))}else b?(c[l]=r,p(l)&&(d[l]=r)):x&&(l.value=r,e.k&&(c[e.k]=r))};r?(k.id=-1,ft(k,s)):k()}}}wn().requestIdleCallback;wn().cancelIdleCallback;const pi=e=>!!e.type.__asyncLoader,Vn=e=>e.type.__isKeepAlive;function pc(e,t){Da(e,"a",t)}function yc(e,t){Da(e,"da",t)}function Da(e,t,s=Xe){const i=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Tn(t,i,s),s){let n=s.parent;for(;n&&n.parent;)Vn(n.parent.vnode)&&bc(i,t,s,n),n=n.parent}}function bc(e,t,s,i){const n=Tn(t,e,i,!0);Pa(()=>{Po(i[t],n)},s)}function Tn(e,t,s=Xe,i=!1){if(s){const n=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{ys();const a=Ni(s),l=kt(t,s,e,r);return a(),bs(),l});return i?n.unshift(o):n.push(o),o}}const is=e=>(t,s=Xe)=>{(!Di||e==="sp")&&Tn(e,(...i)=>t(...i),s)},xc=is("bm"),si=is("m"),wc=is("bu"),Mc=is("u"),zo=is("bum"),Pa=is("um"),Sc=is("sp"),Vc=is("rtg"),Tc=is("rtc");function _c(e,t=Xe){Tn("ec",e,t)}const Cc=Symbol.for("v-ndc");function Ci(e,t,s,i){let n;const o=s,r=X(e);if(r||Ee(e)){const a=r&&$s(e);let l=!1;a&&(l=!Mt(e),e=Mn(e)),n=new Array(e.length);for(let f=0,c=e.length;f<c;f++)n[f]=t(l?Ye(e[f]):e[f],f,void 0,o)}else if(typeof e=="number"){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,o)}else if(Te(e))if(e[Symbol.iterator])n=Array.from(e,(a,l)=>t(a,l,void 0,o));else{const a=Object.keys(e);n=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const c=a[l];n[l]=t(e[c],c,l,o)}}else n=[];return n}const no=e=>e?Ja(e)?Dn(e):no(e.parent):null,yi=Fe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>no(e.parent),$root:e=>no(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Bo(e),$forceUpdate:e=>e.f||(e.f=()=>{jo(e.update)}),$nextTick:e=>e.n||(e.n=fc.bind(e.proxy)),$watch:e=>Jc.bind(e)}),zn=(e,t)=>e!==xe&&!e.__isScriptSetup&&ve(e,t),Ac={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:i,data:n,props:o,accessCache:r,type:a,appContext:l}=e;let f;if(t[0]!=="$"){const p=r[t];if(p!==void 0)switch(p){case 1:return i[t];case 2:return n[t];case 4:return s[t];case 3:return o[t]}else{if(zn(i,t))return r[t]=1,i[t];if(n!==xe&&ve(n,t))return r[t]=2,n[t];if((f=e.propsOptions[0])&&ve(f,t))return r[t]=3,o[t];if(s!==xe&&ve(s,t))return r[t]=4,s[t];oo&&(r[t]=0)}}const c=yi[t];let d,v;if(c)return t==="$attrs"&&qe(e.attrs,"get",""),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(s!==xe&&ve(s,t))return r[t]=4,s[t];if(v=l.config.globalProperties,ve(v,t))return v[t]},set({_:e},t,s){const{data:i,setupState:n,ctx:o}=e;return zn(n,t)?(n[t]=s,!0):i!==xe&&ve(i,t)?(i[t]=s,!0):ve(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:i,appContext:n,propsOptions:o}},r){let a;return!!s[r]||e!==xe&&ve(e,r)||zn(t,r)||(a=o[0])&&ve(a,r)||ve(i,r)||ve(yi,r)||ve(n.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ve(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function lr(e){return X(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let oo=!0;function Dc(e){const t=Bo(e),s=e.proxy,i=e.ctx;oo=!1,t.beforeCreate&&cr(t.beforeCreate,e,"bc");const{data:n,computed:o,methods:r,watch:a,provide:l,inject:f,created:c,beforeMount:d,mounted:v,beforeUpdate:p,updated:b,activated:x,deactivated:k,beforeDestroy:M,beforeUnmount:j,destroyed:$,unmounted:L,render:Z,renderTracked:D,renderTriggered:U,errorCaptured:ne,serverPrefetch:z,expose:oe,inheritAttrs:ge,components:I,directives:me,filters:Re}=t;if(f&&Pc(f,i,null),r)for(const C in r){const A=r[C];ie(A)&&(i[C]=A.bind(s))}if(n){const C=n.call(s,s);Te(C)&&(e.data=Ro(C))}if(oo=!0,o)for(const C in o){const A=o[C],Y=ie(A)?A.bind(s,s):ie(A.get)?A.get.bind(s,s):Gt,ns=!ie(A)&&ie(A.set)?A.set.bind(s):Gt,qt=se({get:Y,set:ns});Object.defineProperty(i,C,{enumerable:!0,configurable:!0,get:()=>qt.value,set:Ft=>qt.value=Ft})}if(a)for(const C in a)La(a[C],i,s,C);if(l){const C=ie(l)?l.call(s):l;Reflect.ownKeys(C).forEach(A=>{Fc(A,C[A])})}c&&cr(c,e,"c");function W(C,A){X(A)?A.forEach(Y=>C(Y.bind(s))):A&&C(A.bind(s))}if(W(xc,d),W(si,v),W(wc,p),W(Mc,b),W(pc,x),W(yc,k),W(_c,ne),W(Tc,D),W(Vc,U),W(zo,j),W(Pa,L),W(Sc,z),X(oe))if(oe.length){const C=e.exposed||(e.exposed={});oe.forEach(A=>{Object.defineProperty(C,A,{get:()=>s[A],set:Y=>s[A]=Y})})}else e.exposed||(e.exposed={});Z&&e.render===Gt&&(e.render=Z),ge!=null&&(e.inheritAttrs=ge),I&&(e.components=I),me&&(e.directives=me),z&&Aa(e)}function Pc(e,t,s=Gt){X(e)&&(e=ro(e));for(const i in e){const n=e[i];let o;Te(n)?"default"in n?o=Qi(n.from||i,n.default,!0):o=Qi(n.from||i):o=Qi(n),Oe(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[i]=o}}function cr(e,t,s){kt(X(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,s)}function La(e,t,s,i){let n=i.includes(".")?$a(s,i):()=>s[i];if(Ee(e)){const o=t[e];ie(o)&&Ut(n,o)}else if(ie(e))Ut(n,e.bind(s));else if(Te(e))if(X(e))e.forEach(o=>La(o,t,s,i));else{const o=ie(e.handler)?e.handler.bind(s):t[e.handler];ie(o)&&Ut(n,o,e)}}function Bo(e){const t=e.type,{mixins:s,extends:i}=t,{mixins:n,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,a=o.get(t);let l;return a?l=a:!n.length&&!s&&!i?l=t:(l={},n.length&&n.forEach(f=>un(l,f,r,!0)),un(l,t,r)),Te(t)&&o.set(t,l),l}function un(e,t,s,i=!1){const{mixins:n,extends:o}=t;o&&un(e,o,s,!0),n&&n.forEach(r=>un(e,r,s,!0));for(const r in t)if(!(i&&r==="expose")){const a=Lc[r]||s&&s[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const Lc={data:fr,props:ur,emits:ur,methods:ui,computed:ui,beforeCreate:Ze,created:Ze,beforeMount:Ze,mounted:Ze,beforeUpdate:Ze,updated:Ze,beforeDestroy:Ze,beforeUnmount:Ze,destroyed:Ze,unmounted:Ze,activated:Ze,deactivated:Ze,errorCaptured:Ze,serverPrefetch:Ze,components:ui,directives:ui,watch:Ec,provide:fr,inject:Oc};function fr(e,t){return t?e?function(){return Fe(ie(e)?e.call(this,this):e,ie(t)?t.call(this,this):t)}:t:e}function Oc(e,t){return ui(ro(e),ro(t))}function ro(e){if(X(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ze(e,t){return e?[...new Set([].concat(e,t))]:t}function ui(e,t){return e?Fe(Object.create(null),e,t):t}function ur(e,t){return e?X(e)&&X(t)?[...new Set([...e,...t])]:Fe(Object.create(null),lr(e),lr(t??{})):t}function Ec(e,t){if(!e)return t;if(!t)return e;const s=Fe(Object.create(null),e);for(const i in t)s[i]=Ze(e[i],t[i]);return s}function Oa(){return{app:null,config:{isNativeTag:Ml,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wc=0;function kc(e,t){return function(i,n=null){ie(i)||(i=Fe({},i)),n!=null&&!Te(n)&&(n=null);const o=Oa(),r=new WeakSet,a=[];let l=!1;const f=o.app={_uid:Wc++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:yf,get config(){return o.config},set config(c){},use(c,...d){return r.has(c)||(c&&ie(c.install)?(r.add(c),c.install(f,...d)):ie(c)&&(r.add(c),c(f,...d))),f},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),f},component(c,d){return d?(o.components[c]=d,f):o.components[c]},directive(c,d){return d?(o.directives[c]=d,f):o.directives[c]},mount(c,d,v){if(!l){const p=f._ceVNode||Le(i,n);return p.appContext=o,v===!0?v="svg":v===!1&&(v=void 0),d&&t?t(p,c):e(p,c,v),l=!0,f._container=c,c.__vue_app__=f,Dn(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(kt(a,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(c,d){return o.provides[c]=d,f},runWithContext(c){const d=Gs;Gs=f;try{return c()}finally{Gs=d}}};return f}}let Gs=null;function Fc(e,t){if(Xe){let s=Xe.provides;const i=Xe.parent&&Xe.parent.provides;i===s&&(s=Xe.provides=Object.create(i)),s[e]=t}}function Qi(e,t,s=!1){const i=Xe||pt;if(i||Gs){const n=Gs?Gs._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&ie(t)?t.call(i&&i.proxy):t}}const Ea={},Wa=()=>Object.create(Ea),ka=e=>Object.getPrototypeOf(e)===Ea;function Rc(e,t,s,i=!1){const n={},o=Wa();e.propsDefaults=Object.create(null),Fa(e,t,n,o);for(const r in e.propsOptions[0])r in n||(n[r]=void 0);s?e.props=i?n:ec(n):e.type.props?e.props=n:e.props=o,e.attrs=o}function Ic(e,t,s,i){const{props:n,attrs:o,vnode:{patchFlag:r}}=e,a=ue(n),[l]=e.propsOptions;let f=!1;if((i||r>0)&&!(r&16)){if(r&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let v=c[d];if(_n(e.emitsOptions,v))continue;const p=t[v];if(l)if(ve(o,v))p!==o[v]&&(o[v]=p,f=!0);else{const b=ms(v);n[b]=ao(l,a,b,p,e,!1)}else p!==o[v]&&(o[v]=p,f=!0)}}}else{Fa(e,t,n,o)&&(f=!0);let c;for(const d in a)(!t||!ve(t,d)&&((c=Os(d))===d||!ve(t,c)))&&(l?s&&(s[d]!==void 0||s[c]!==void 0)&&(n[d]=ao(l,a,d,void 0,e,!0)):delete n[d]);if(o!==a)for(const d in o)(!t||!ve(t,d))&&(delete o[d],f=!0)}f&&Qt(e.attrs,"set","")}function Fa(e,t,s,i){const[n,o]=e.propsOptions;let r=!1,a;if(t)for(let l in t){if(gi(l))continue;const f=t[l];let c;n&&ve(n,c=ms(l))?!o||!o.includes(c)?s[c]=f:(a||(a={}))[c]=f:_n(e.emitsOptions,l)||(!(l in i)||f!==i[l])&&(i[l]=f,r=!0)}if(o){const l=ue(s),f=a||xe;for(let c=0;c<o.length;c++){const d=o[c];s[d]=ao(n,l,d,f[d],e,!ve(f,d))}}return r}function ao(e,t,s,i,n,o){const r=e[s];if(r!=null){const a=ve(r,"default");if(a&&i===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&ie(l)){const{propsDefaults:f}=n;if(s in f)i=f[s];else{const c=Ni(n);i=f[s]=l.call(null,t),c()}}else i=l;n.ce&&n.ce._setProp(s,i)}r[0]&&(o&&!a?i=!1:r[1]&&(i===""||i===Os(s))&&(i=!0))}return i}const Nc=new WeakMap;function Ra(e,t,s=!1){const i=s?Nc:t.propsCache,n=i.get(e);if(n)return n;const o=e.props,r={},a=[];let l=!1;if(!ie(e)){const c=d=>{l=!0;const[v,p]=Ra(d,t,!0);Fe(r,v),p&&a.push(...p)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!o&&!l)return Te(e)&&i.set(e,Bs),Bs;if(X(o))for(let c=0;c<o.length;c++){const d=ms(o[c]);hr(d)&&(r[d]=xe)}else if(o)for(const c in o){const d=ms(c);if(hr(d)){const v=o[c],p=r[d]=X(v)||ie(v)?{type:v}:Fe({},v),b=p.type;let x=!1,k=!0;if(X(b))for(let M=0;M<b.length;++M){const j=b[M],$=ie(j)&&j.name;if($==="Boolean"){x=!0;break}else $==="String"&&(k=!1)}else x=ie(b)&&b.name==="Boolean";p[0]=x,p[1]=k,(x||ve(p,"default"))&&a.push(d)}}const f=[r,a];return Te(e)&&i.set(e,f),f}function hr(e){return e[0]!=="$"&&!gi(e)}const Ia=e=>e[0]==="_"||e==="$stable",Ho=e=>X(e)?e.map(Ht):[Ht(e)],jc=(e,t,s)=>{if(t._n)return t;const i=wa((...n)=>Ho(t(...n)),s);return i._c=!1,i},Na=(e,t,s)=>{const i=e._ctx;for(const n in e){if(Ia(n))continue;const o=e[n];if(ie(o))t[n]=jc(n,o,i);else if(o!=null){const r=Ho(o);t[n]=()=>r}}},ja=(e,t)=>{const s=Ho(t);e.slots.default=()=>s},za=(e,t,s)=>{for(const i in t)(s||i!=="_")&&(e[i]=t[i])},zc=(e,t,s)=>{const i=e.slots=Wa();if(e.vnode.shapeFlag&32){const n=t._;n?(za(i,t,s),s&&Kr(i,"_",n,!0)):Na(t,i)}else t&&ja(e,t)},Bc=(e,t,s)=>{const{vnode:i,slots:n}=e;let o=!0,r=xe;if(i.shapeFlag&32){const a=t._;a?s&&a===1?o=!1:za(n,t,s):(o=!t.$stable,Na(t,n)),r=t}else t&&(ja(e,t),r={default:1});if(o)for(const a in n)!Ia(a)&&r[a]==null&&delete n[a]},ft=nf;function Hc(e){return $c(e)}function $c(e,t){const s=wn();s.__VUE__=!0;const{insert:i,remove:n,patchProp:o,createElement:r,createText:a,createComment:l,setText:f,setElementText:c,parentNode:d,nextSibling:v,setScopeId:p=Gt,insertStaticContent:b}=e,x=(h,g,y,T=null,w=null,S=null,F=void 0,O=null,P=!!g.dynamicChildren)=>{if(h===g)return;h&&!Ts(h,g)&&(T=zi(h),Ft(h,w,S,!0),h=null),g.patchFlag===-2&&(P=!1,g.dynamicChildren=null);const{type:_,ref:J,shapeFlag:R}=g;switch(_){case Cn:k(h,g,y,T);break;case nt:M(h,g,y,T);break;case $n:h==null&&j(g,y,T,F);break;case Je:I(h,g,y,T,w,S,F,O,P);break;default:R&1?Z(h,g,y,T,w,S,F,O,P):R&6?me(h,g,y,T,w,S,F,O,P):(R&64||R&128)&&_.process(h,g,y,T,w,S,F,O,P,oi)}J!=null&&w&&fn(J,h&&h.ref,S,g||h,!g)},k=(h,g,y,T)=>{if(h==null)i(g.el=a(g.children),y,T);else{const w=g.el=h.el;g.children!==h.children&&f(w,g.children)}},M=(h,g,y,T)=>{h==null?i(g.el=l(g.children||""),y,T):g.el=h.el},j=(h,g,y,T)=>{[h.el,h.anchor]=b(h.children,g,y,T,h.el,h.anchor)},$=({el:h,anchor:g},y,T)=>{let w;for(;h&&h!==g;)w=v(h),i(h,y,T),h=w;i(g,y,T)},L=({el:h,anchor:g})=>{let y;for(;h&&h!==g;)y=v(h),n(h),h=y;n(g)},Z=(h,g,y,T,w,S,F,O,P)=>{g.type==="svg"?F="svg":g.type==="math"&&(F="mathml"),h==null?D(g,y,T,w,S,F,O,P):z(h,g,w,S,F,O,P)},D=(h,g,y,T,w,S,F,O)=>{let P,_;const{props:J,shapeFlag:R,transition:H,dirs:Q}=h;if(P=h.el=r(h.type,S,J&&J.is,J),R&8?c(P,h.children):R&16&&ne(h.children,P,null,T,w,Bn(h,S),F,O),Q&&xs(h,null,T,"created"),U(P,h,h.scopeId,F,T),J){for(const we in J)we!=="value"&&!gi(we)&&o(P,we,null,J[we],S,T);"value"in J&&o(P,"value",null,J.value,S),(_=J.onVnodeBeforeMount)&&It(_,T,h)}Q&&xs(h,null,T,"beforeMount");const ae=Uc(w,H);ae&&H.beforeEnter(P),i(P,g,y),((_=J&&J.onVnodeMounted)||ae||Q)&&ft(()=>{_&&It(_,T,h),ae&&H.enter(P),Q&&xs(h,null,T,"mounted")},w)},U=(h,g,y,T,w)=>{if(y&&p(h,y),T)for(let S=0;S<T.length;S++)p(h,T[S]);if(w){let S=w.subTree;if(g===S||Ga(S.type)&&(S.ssContent===g||S.ssFallback===g)){const F=w.vnode;U(h,F,F.scopeId,F.slotScopeIds,w.parent)}}},ne=(h,g,y,T,w,S,F,O,P=0)=>{for(let _=P;_<h.length;_++){const J=h[_]=O?hs(h[_]):Ht(h[_]);x(null,J,g,y,T,w,S,F,O)}},z=(h,g,y,T,w,S,F)=>{const O=g.el=h.el;let{patchFlag:P,dynamicChildren:_,dirs:J}=g;P|=h.patchFlag&16;const R=h.props||xe,H=g.props||xe;let Q;if(y&&ws(y,!1),(Q=H.onVnodeBeforeUpdate)&&It(Q,y,g,h),J&&xs(g,h,y,"beforeUpdate"),y&&ws(y,!0),(R.innerHTML&&H.innerHTML==null||R.textContent&&H.textContent==null)&&c(O,""),_?oe(h.dynamicChildren,_,O,y,T,Bn(g,w),S):F||A(h,g,O,null,y,T,Bn(g,w),S,!1),P>0){if(P&16)ge(O,R,H,y,w);else if(P&2&&R.class!==H.class&&o(O,"class",null,H.class,w),P&4&&o(O,"style",R.style,H.style,w),P&8){const ae=g.dynamicProps;for(let we=0;we<ae.length;we++){const pe=ae[we],at=R[pe],Ue=H[pe];(Ue!==at||pe==="value")&&o(O,pe,at,Ue,w,y)}}P&1&&h.children!==g.children&&c(O,g.children)}else!F&&_==null&&ge(O,R,H,y,w);((Q=H.onVnodeUpdated)||J)&&ft(()=>{Q&&It(Q,y,g,h),J&&xs(g,h,y,"updated")},T)},oe=(h,g,y,T,w,S,F)=>{for(let O=0;O<g.length;O++){const P=h[O],_=g[O],J=P.el&&(P.type===Je||!Ts(P,_)||P.shapeFlag&70)?d(P.el):y;x(P,_,J,null,T,w,S,F,!0)}},ge=(h,g,y,T,w)=>{if(g!==y){if(g!==xe)for(const S in g)!gi(S)&&!(S in y)&&o(h,S,g[S],null,w,T);for(const S in y){if(gi(S))continue;const F=y[S],O=g[S];F!==O&&S!=="value"&&o(h,S,O,F,w,T)}"value"in y&&o(h,"value",g.value,y.value,w)}},I=(h,g,y,T,w,S,F,O,P)=>{const _=g.el=h?h.el:a(""),J=g.anchor=h?h.anchor:a("");let{patchFlag:R,dynamicChildren:H,slotScopeIds:Q}=g;Q&&(O=O?O.concat(Q):Q),h==null?(i(_,y,T),i(J,y,T),ne(g.children||[],y,J,w,S,F,O,P)):R>0&&R&64&&H&&h.dynamicChildren?(oe(h.dynamicChildren,H,y,w,S,F,O),(g.key!=null||w&&g===w.subTree)&&Ba(h,g,!0)):A(h,g,y,J,w,S,F,O,P)},me=(h,g,y,T,w,S,F,O,P)=>{g.slotScopeIds=O,h==null?g.shapeFlag&512?w.ctx.activate(g,y,T,F,P):Re(g,y,T,w,S,F,P):bt(h,g,P)},Re=(h,g,y,T,w,S,F)=>{const O=h.component=uf(h,T,w);if(Vn(h)&&(O.ctx.renderer=oi),hf(O,!1,F),O.asyncDep){if(w&&w.registerDep(O,W,F),!h.el){const P=O.subTree=Le(nt);M(null,P,g,y)}}else W(O,h,g,y,w,S,F)},bt=(h,g,y)=>{const T=g.component=h.component;if(tf(h,g,y))if(T.asyncDep&&!T.asyncResolved){C(T,g,y);return}else T.next=g,T.update();else g.el=h.el,T.vnode=g},W=(h,g,y,T,w,S,F)=>{const O=()=>{if(h.isMounted){let{next:R,bu:H,u:Q,parent:ae,vnode:we}=h;{const lt=Ha(h);if(lt){R&&(R.el=we.el,C(h,R,F)),lt.asyncDep.then(()=>{h.isUnmounted||O()});return}}let pe=R,at;ws(h,!1),R?(R.el=we.el,C(h,R,F)):R=we,H&&Zi(H),(at=R.props&&R.props.onVnodeBeforeUpdate)&&It(at,ae,R,we),ws(h,!0);const Ue=Hn(h),St=h.subTree;h.subTree=Ue,x(St,Ue,d(St.el),zi(St),h,w,S),R.el=Ue.el,pe===null&&sf(h,Ue.el),Q&&ft(Q,w),(at=R.props&&R.props.onVnodeUpdated)&&ft(()=>It(at,ae,R,we),w)}else{let R;const{el:H,props:Q}=g,{bm:ae,m:we,parent:pe,root:at,type:Ue}=h,St=pi(g);if(ws(h,!1),ae&&Zi(ae),!St&&(R=Q&&Q.onVnodeBeforeMount)&&It(R,pe,g),ws(h,!0),H&&er){const lt=()=>{h.subTree=Hn(h),er(H,h.subTree,h,w,null)};St&&Ue.__asyncHydrate?Ue.__asyncHydrate(H,h,lt):lt()}else{at.ce&&at.ce._injectChildStyle(Ue);const lt=h.subTree=Hn(h);x(null,lt,y,T,h,w,S),g.el=lt.el}if(we&&ft(we,w),!St&&(R=Q&&Q.onVnodeMounted)){const lt=g;ft(()=>It(R,pe,lt),w)}(g.shapeFlag&256||pe&&pi(pe.vnode)&&pe.vnode.shapeFlag&256)&&h.a&&ft(h.a,w),h.isMounted=!0,g=y=T=null}};h.scope.on();const P=h.effect=new Zr(O);h.scope.off();const _=h.update=P.run.bind(P),J=h.job=P.runIfDirty.bind(P);J.i=h,J.id=h.uid,P.scheduler=()=>jo(J),ws(h,!0),_()},C=(h,g,y)=>{g.component=h;const T=h.vnode.props;h.vnode=g,h.next=null,Ic(h,g.props,T,y),Bc(h,g.children,y),ys(),rr(h),bs()},A=(h,g,y,T,w,S,F,O,P=!1)=>{const _=h&&h.children,J=h?h.shapeFlag:0,R=g.children,{patchFlag:H,shapeFlag:Q}=g;if(H>0){if(H&128){ns(_,R,y,T,w,S,F,O,P);return}else if(H&256){Y(_,R,y,T,w,S,F,O,P);return}}Q&8?(J&16&&ni(_,w,S),R!==_&&c(y,R)):J&16?Q&16?ns(_,R,y,T,w,S,F,O,P):ni(_,w,S,!0):(J&8&&c(y,""),Q&16&&ne(R,y,T,w,S,F,O,P))},Y=(h,g,y,T,w,S,F,O,P)=>{h=h||Bs,g=g||Bs;const _=h.length,J=g.length,R=Math.min(_,J);let H;for(H=0;H<R;H++){const Q=g[H]=P?hs(g[H]):Ht(g[H]);x(h[H],Q,y,null,w,S,F,O,P)}_>J?ni(h,w,S,!0,!1,R):ne(g,y,T,w,S,F,O,P,R)},ns=(h,g,y,T,w,S,F,O,P)=>{let _=0;const J=g.length;let R=h.length-1,H=J-1;for(;_<=R&&_<=H;){const Q=h[_],ae=g[_]=P?hs(g[_]):Ht(g[_]);if(Ts(Q,ae))x(Q,ae,y,null,w,S,F,O,P);else break;_++}for(;_<=R&&_<=H;){const Q=h[R],ae=g[H]=P?hs(g[H]):Ht(g[H]);if(Ts(Q,ae))x(Q,ae,y,null,w,S,F,O,P);else break;R--,H--}if(_>R){if(_<=H){const Q=H+1,ae=Q<J?g[Q].el:T;for(;_<=H;)x(null,g[_]=P?hs(g[_]):Ht(g[_]),y,ae,w,S,F,O,P),_++}}else if(_>H)for(;_<=R;)Ft(h[_],w,S,!0),_++;else{const Q=_,ae=_,we=new Map;for(_=ae;_<=H;_++){const ct=g[_]=P?hs(g[_]):Ht(g[_]);ct.key!=null&&we.set(ct.key,_)}let pe,at=0;const Ue=H-ae+1;let St=!1,lt=0;const ri=new Array(Ue);for(_=0;_<Ue;_++)ri[_]=0;for(_=Q;_<=R;_++){const ct=h[_];if(at>=Ue){Ft(ct,w,S,!0);continue}let Rt;if(ct.key!=null)Rt=we.get(ct.key);else for(pe=ae;pe<=H;pe++)if(ri[pe-ae]===0&&Ts(ct,g[pe])){Rt=pe;break}Rt===void 0?Ft(ct,w,S,!0):(ri[Rt-ae]=_+1,Rt>=lt?lt=Rt:St=!0,x(ct,g[Rt],y,null,w,S,F,O,P),at++)}const tr=St?Gc(ri):Bs;for(pe=tr.length-1,_=Ue-1;_>=0;_--){const ct=ae+_,Rt=g[ct],sr=ct+1<J?g[ct+1].el:T;ri[_]===0?x(null,Rt,y,sr,w,S,F,O,P):St&&(pe<0||_!==tr[pe]?qt(Rt,y,sr,2):pe--)}}},qt=(h,g,y,T,w=null)=>{const{el:S,type:F,transition:O,children:P,shapeFlag:_}=h;if(_&6){qt(h.component.subTree,g,y,T);return}if(_&128){h.suspense.move(g,y,T);return}if(_&64){F.move(h,g,y,oi);return}if(F===Je){i(S,g,y);for(let R=0;R<P.length;R++)qt(P[R],g,y,T);i(h.anchor,g,y);return}if(F===$n){$(h,g,y);return}if(T!==2&&_&1&&O)if(T===0)O.beforeEnter(S),i(S,g,y),ft(()=>O.enter(S),w);else{const{leave:R,delayLeave:H,afterLeave:Q}=O,ae=()=>i(S,g,y),we=()=>{R(S,()=>{ae(),Q&&Q()})};H?H(S,ae,we):we()}else i(S,g,y)},Ft=(h,g,y,T=!1,w=!1)=>{const{type:S,props:F,ref:O,children:P,dynamicChildren:_,shapeFlag:J,patchFlag:R,dirs:H,cacheIndex:Q}=h;if(R===-2&&(w=!1),O!=null&&fn(O,null,y,h,!0),Q!=null&&(g.renderCache[Q]=void 0),J&256){g.ctx.deactivate(h);return}const ae=J&1&&H,we=!pi(h);let pe;if(we&&(pe=F&&F.onVnodeBeforeUnmount)&&It(pe,g,h),J&6)bl(h.component,y,T);else{if(J&128){h.suspense.unmount(y,T);return}ae&&xs(h,null,g,"beforeUnmount"),J&64?h.type.remove(h,g,y,oi,T):_&&!_.hasOnce&&(S!==Je||R>0&&R&64)?ni(_,g,y,!1,!0):(S===Je&&R&384||!w&&J&16)&&ni(P,g,y),T&&Xo(h)}(we&&(pe=F&&F.onVnodeUnmounted)||ae)&&ft(()=>{pe&&It(pe,g,h),ae&&xs(h,null,g,"unmounted")},y)},Xo=h=>{const{type:g,el:y,anchor:T,transition:w}=h;if(g===Je){yl(y,T);return}if(g===$n){L(h);return}const S=()=>{n(y),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(h.shapeFlag&1&&w&&!w.persisted){const{leave:F,delayLeave:O}=w,P=()=>F(y,S);O?O(h.el,S,P):P()}else S()},yl=(h,g)=>{let y;for(;h!==g;)y=v(h),n(h),h=y;n(g)},bl=(h,g,y)=>{const{bum:T,scope:w,job:S,subTree:F,um:O,m:P,a:_}=h;dr(P),dr(_),T&&Zi(T),w.stop(),S&&(S.flags|=8,Ft(F,h,g,y)),O&&ft(O,g),ft(()=>{h.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},ni=(h,g,y,T=!1,w=!1,S=0)=>{for(let F=S;F<h.length;F++)Ft(h[F],g,y,T,w)},zi=h=>{if(h.shapeFlag&6)return zi(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const g=v(h.anchor||h.el),y=g&&g[dc];return y?v(y):g};let En=!1;const Zo=(h,g,y)=>{h==null?g._vnode&&Ft(g._vnode,null,null,!0):x(g._vnode||null,h,g,null,null,null,y),g._vnode=h,En||(En=!0,rr(),ya(),En=!1)},oi={p:x,um:Ft,m:qt,r:Xo,mt:Re,mc:ne,pc:A,pbc:oe,n:zi,o:e};let Qo,er;return{render:Zo,hydrate:Qo,createApp:kc(Zo,Qo)}}function Bn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function ws({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Uc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ba(e,t,s=!1){const i=e.children,n=t.children;if(X(i)&&X(n))for(let o=0;o<i.length;o++){const r=i[o];let a=n[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[o]=hs(n[o]),a.el=r.el),!s&&a.patchFlag!==-2&&Ba(r,a)),a.type===Cn&&(a.el=r.el)}}function Gc(e){const t=e.slice(),s=[0];let i,n,o,r,a;const l=e.length;for(i=0;i<l;i++){const f=e[i];if(f!==0){if(n=s[s.length-1],e[n]<f){t[i]=n,s.push(i);continue}for(o=0,r=s.length-1;o<r;)a=o+r>>1,e[s[a]]<f?o=a+1:r=a;f<e[s[o]]&&(o>0&&(t[i]=s[o-1]),s[o]=i)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}function Ha(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ha(t)}function dr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Kc=Symbol.for("v-scx"),qc=()=>Qi(Kc);function Yc(e,t){return $o(e,null,t)}function Ut(e,t,s){return $o(e,t,s)}function $o(e,t,s=xe){const{immediate:i,deep:n,flush:o,once:r}=s,a=Fe({},s),l=t&&i||!t&&o!=="post";let f;if(Di){if(o==="sync"){const p=qc();f=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Gt,p.resume=Gt,p.pause=Gt,p}}const c=Xe;a.call=(p,b,x)=>kt(p,c,b,x);let d=!1;o==="post"?a.scheduler=p=>{ft(p,c&&c.suspense)}:o!=="sync"&&(d=!0,a.scheduler=(p,b)=>{b?p():jo(p)}),a.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const v=lc(e,t,a);return Di&&(f?f.push(v):l&&v()),v}function Jc(e,t,s){const i=this.proxy,n=Ee(e)?e.includes(".")?$a(i,e):()=>i[e]:e.bind(i,i);let o;ie(t)?o=t:(o=t.handler,s=t);const r=Ni(this),a=$o(n,o.bind(i),s);return r(),a}function $a(e,t){const s=t.split(".");return()=>{let i=e;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}const Xc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ms(t)}Modifiers`]||e[`${Os(t)}Modifiers`];function Zc(e,t,...s){if(e.isUnmounted)return;const i=e.vnode.props||xe;let n=s;const o=t.startsWith("update:"),r=o&&Xc(i,t.slice(7));r&&(r.trim&&(n=s.map(c=>Ee(c)?c.trim():c)),r.number&&(n=s.map(Xn)));let a,l=i[a=kn(t)]||i[a=kn(ms(t))];!l&&o&&(l=i[a=kn(Os(t))]),l&&kt(l,e,6,n);const f=i[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,kt(f,e,6,n)}}function Ua(e,t,s=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const o=e.emits;let r={},a=!1;if(!ie(e)){const l=f=>{const c=Ua(f,t,!0);c&&(a=!0,Fe(r,c))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Te(e)&&i.set(e,null),null):(X(o)?o.forEach(l=>r[l]=null):Fe(r,o),Te(e)&&i.set(e,r),r)}function _n(e,t){return!e||!yn(t)?!1:(t=t.slice(2).replace(/Once$/,""),ve(e,t[0].toLowerCase()+t.slice(1))||ve(e,Os(t))||ve(e,t))}function Hn(e){const{type:t,vnode:s,proxy:i,withProxy:n,propsOptions:[o],slots:r,attrs:a,emit:l,render:f,renderCache:c,props:d,data:v,setupState:p,ctx:b,inheritAttrs:x}=e,k=cn(e);let M,j;try{if(s.shapeFlag&4){const L=n||i,Z=L;M=Ht(f.call(Z,L,c,d,p,v,b)),j=a}else{const L=t;M=Ht(L.length>1?L(d,{attrs:a,slots:r,emit:l}):L(d,null)),j=t.props?a:Qc(a)}}catch(L){bi.length=0,Sn(L,e,1),M=Le(nt)}let $=M;if(j&&x!==!1){const L=Object.keys(j),{shapeFlag:Z}=$;L.length&&Z&7&&(o&&L.some(Do)&&(j=ef(j,o)),$=vs($,j,!1,!0))}return s.dirs&&($=vs($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(s.dirs):s.dirs),s.transition&&_i($,s.transition),M=$,cn(k),M}const Qc=e=>{let t;for(const s in e)(s==="class"||s==="style"||yn(s))&&((t||(t={}))[s]=e[s]);return t},ef=(e,t)=>{const s={};for(const i in e)(!Do(i)||!(i.slice(9)in t))&&(s[i]=e[i]);return s};function tf(e,t,s){const{props:i,children:n,component:o}=e,{props:r,children:a,patchFlag:l}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return i?gr(i,r,f):!!r;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const v=c[d];if(r[v]!==i[v]&&!_n(f,v))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===r?!1:i?r?gr(i,r,f):!0:!!r;return!1}function gr(e,t,s){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const o=i[n];if(t[o]!==e[o]&&!_n(s,o))return!0}return!1}function sf({vnode:e,parent:t},s){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=s,t=t.parent;else break}}const Ga=e=>e.__isSuspense;function nf(e,t){t&&t.pendingBranch?X(e)?t.effects.push(...e):t.effects.push(e):hc(e)}const Je=Symbol.for("v-fgt"),Cn=Symbol.for("v-txt"),nt=Symbol.for("v-cmt"),$n=Symbol.for("v-stc"),bi=[];let yt=null;function De(e=!1){bi.push(yt=e?null:[])}function of(){bi.pop(),yt=bi[bi.length-1]||null}let Ai=1;function mr(e,t=!1){Ai+=e,e<0&&yt&&t&&(yt.hasOnce=!0)}function Ka(e){return e.dynamicChildren=Ai>0?yt||Bs:null,of(),Ai>0&&yt&&yt.push(e),e}function Ne(e,t,s,i,n,o){return Ka(G(e,t,s,i,n,o,!0))}function Uo(e,t,s,i,n){return Ka(Le(e,t,s,i,n,!0))}function hn(e){return e?e.__v_isVNode===!0:!1}function Ts(e,t){return e.type===t.type&&e.key===t.key}const qa=({key:e})=>e??null,en=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ee(e)||Oe(e)||ie(e)?{i:pt,r:e,k:t,f:!!s}:e:null);function G(e,t=null,s=null,i=0,n=null,o=e===Je?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&qa(t),ref:t&&en(t),scopeId:xa,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:pt};return a?(Go(l,s),o&128&&e.normalize(l)):s&&(l.shapeFlag|=Ee(s)?8:16),Ai>0&&!r&&yt&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&yt.push(l),l}const Le=rf;function rf(e,t=null,s=null,i=0,n=null,o=!1){if((!e||e===Cc)&&(e=nt),hn(e)){const a=vs(e,t,!0);return s&&Go(a,s),Ai>0&&!o&&yt&&(a.shapeFlag&6?yt[yt.indexOf(e)]=a:yt.push(a)),a.patchFlag=-2,a}if(vf(e)&&(e=e.__vccOpts),t){t=af(t);let{class:a,style:l}=t;a&&!Ee(a)&&(t.class=$t(a)),Te(l)&&(No(l)&&!X(l)&&(l=Fe({},l)),t.style=ke(l))}const r=Ee(e)?1:Ga(e)?128:Ma(e)?64:Te(e)?4:ie(e)?2:0;return G(e,t,s,i,n,r,o,!0)}function af(e){return e?No(e)||ka(e)?Fe({},e):e:null}function vs(e,t,s=!1,i=!1){const{props:n,ref:o,patchFlag:r,children:a,transition:l}=e,f=t?lf(n||{},t):n,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&qa(f),ref:t&&t.ref?s&&o?X(o)?o.concat(en(t)):[o,en(t)]:en(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Je?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&vs(e.ssContent),ssFallback:e.ssFallback&&vs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&_i(c,l.clone(c)),c}function lo(e=" ",t=0){return Le(Cn,null,e,t)}function An(e="",t=!1){return t?(De(),Uo(nt,null,e)):Le(nt,null,e)}function Ht(e){return e==null||typeof e=="boolean"?Le(nt):X(e)?Le(Je,null,e.slice()):hn(e)?hs(e):Le(Cn,null,String(e))}function hs(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:vs(e)}function Go(e,t){let s=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(X(t))s=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),Go(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!ka(t)?t._ctx=pt:n===3&&pt&&(pt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ie(t)?(t={default:t,_ctx:pt},s=32):(t=String(t),i&64?(s=16,t=[lo(t)]):s=8);e.children=t,e.shapeFlag|=s}function lf(...e){const t={};for(let s=0;s<e.length;s++){const i=e[s];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=$t([t.class,i.class]));else if(n==="style")t.style=ke([t.style,i.style]);else if(yn(n)){const o=t[n],r=i[n];r&&o!==r&&!(X(o)&&o.includes(r))&&(t[n]=o?[].concat(o,r):r)}else n!==""&&(t[n]=i[n])}return t}function It(e,t,s,i=null){kt(e,t,7,[s,i])}const cf=Oa();let ff=0;function uf(e,t,s){const i=e.type,n=(t?t.appContext:e.appContext)||cf,o={uid:ff++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Wl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ra(i,n),emitsOptions:Ua(i,n),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:i.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Zc.bind(null,o),e.ce&&e.ce(o),o}let Xe=null;const Ya=()=>Xe||pt;let dn,co;{const e=wn(),t=(s,i)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(i),o=>{n.length>1?n.forEach(r=>r(o)):n[0](o)}};dn=t("__VUE_INSTANCE_SETTERS__",s=>Xe=s),co=t("__VUE_SSR_SETTERS__",s=>Di=s)}const Ni=e=>{const t=Xe;return dn(e),e.scope.on(),()=>{e.scope.off(),dn(t)}},vr=()=>{Xe&&Xe.scope.off(),dn(null)};function Ja(e){return e.vnode.shapeFlag&4}let Di=!1;function hf(e,t=!1,s=!1){t&&co(t);const{props:i,children:n}=e.vnode,o=Ja(e);Rc(e,i,o,t),zc(e,n,s);const r=o?df(e,t):void 0;return t&&co(!1),r}function df(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ac);const{setup:i}=s;if(i){ys();const n=e.setupContext=i.length>1?mf(e):null,o=Ni(e),r=Ii(i,e,0,[e.props,n]),a=Hr(r);if(bs(),o(),(a||e.sp)&&!pi(e)&&Aa(e),a){if(r.then(vr,vr),t)return r.then(l=>{pr(e,l,t)}).catch(l=>{Sn(l,e,0)});e.asyncDep=r}else pr(e,r,t)}else Xa(e,t)}function pr(e,t,s){ie(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Te(t)&&(e.setupState=ma(t)),Xa(e,s)}let yr;function Xa(e,t,s){const i=e.type;if(!e.render){if(!t&&yr&&!i.render){const n=i.template||Bo(e).template;if(n){const{isCustomElement:o,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,f=Fe(Fe({isCustomElement:o,delimiters:a},r),l);i.render=yr(n,f)}}e.render=i.render||Gt}{const n=Ni(e);ys();try{Dc(e)}finally{bs(),n()}}}const gf={get(e,t){return qe(e,"get",""),e[t]}};function mf(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,gf),slots:e.slots,emit:e.emit,expose:t}}function Dn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ma(tc(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in yi)return yi[s](e)},has(t,s){return s in t||s in yi}})):e.proxy}function vf(e){return ie(e)&&"__vccOpts"in e}const se=(e,t)=>rc(e,t,Di);function pf(e,t,s){const i=arguments.length;return i===2?Te(t)&&!X(t)?hn(t)?Le(e,null,[t]):Le(e,t):Le(e,null,t):(i>3?s=Array.prototype.slice.call(arguments,2):i===3&&hn(s)&&(s=[s]),Le(e,t,s))}const yf="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fo;const br=typeof window<"u"&&window.trustedTypes;if(br)try{fo=br.createPolicy("vue",{createHTML:e=>e})}catch{}const Za=fo?e=>fo.createHTML(e):e=>e,bf="http://www.w3.org/2000/svg",xf="http://www.w3.org/1998/Math/MathML",Xt=typeof document<"u"?document:null,xr=Xt&&Xt.createElement("template"),wf={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,i)=>{const n=t==="svg"?Xt.createElementNS(bf,e):t==="mathml"?Xt.createElementNS(xf,e):s?Xt.createElement(e,{is:s}):Xt.createElement(e);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Xt.createTextNode(e),createComment:e=>Xt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Xt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,i,n,o){const r=s?s.previousSibling:t.lastChild;if(n&&(n===o||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===o||!(n=n.nextSibling)););else{xr.innerHTML=Za(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const a=xr.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},os="transition",li="animation",Pi=Symbol("_vtc"),Qa={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Mf=Fe({},Sa,Qa),Sf=e=>(e.displayName="Transition",e.props=Mf,e),Vf=Sf((e,{slots:t})=>pf(vc,Tf(e),t)),Ms=(e,t=[])=>{X(e)?e.forEach(s=>s(...t)):e&&e(...t)},wr=e=>e?X(e)?e.some(t=>t.length>1):e.length>1:!1;function Tf(e){const t={};for(const I in e)I in Qa||(t[I]=e[I]);if(e.css===!1)return t;const{name:s="v",type:i,duration:n,enterFromClass:o=`${s}-enter-from`,enterActiveClass:r=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=o,appearActiveClass:f=r,appearToClass:c=a,leaveFromClass:d=`${s}-leave-from`,leaveActiveClass:v=`${s}-leave-active`,leaveToClass:p=`${s}-leave-to`}=e,b=_f(n),x=b&&b[0],k=b&&b[1],{onBeforeEnter:M,onEnter:j,onEnterCancelled:$,onLeave:L,onLeaveCancelled:Z,onBeforeAppear:D=M,onAppear:U=j,onAppearCancelled:ne=$}=t,z=(I,me,Re,bt)=>{I._enterCancelled=bt,Ss(I,me?c:a),Ss(I,me?f:r),Re&&Re()},oe=(I,me)=>{I._isLeaving=!1,Ss(I,d),Ss(I,p),Ss(I,v),me&&me()},ge=I=>(me,Re)=>{const bt=I?U:j,W=()=>z(me,I,Re);Ms(bt,[me,W]),Mr(()=>{Ss(me,I?l:o),Jt(me,I?c:a),wr(bt)||Sr(me,i,x,W)})};return Fe(t,{onBeforeEnter(I){Ms(M,[I]),Jt(I,o),Jt(I,r)},onBeforeAppear(I){Ms(D,[I]),Jt(I,l),Jt(I,f)},onEnter:ge(!1),onAppear:ge(!0),onLeave(I,me){I._isLeaving=!0;const Re=()=>oe(I,me);Jt(I,d),I._enterCancelled?(Jt(I,v),_r()):(_r(),Jt(I,v)),Mr(()=>{I._isLeaving&&(Ss(I,d),Jt(I,p),wr(L)||Sr(I,i,k,Re))}),Ms(L,[I,Re])},onEnterCancelled(I){z(I,!1,void 0,!0),Ms($,[I])},onAppearCancelled(I){z(I,!0,void 0,!0),Ms(ne,[I])},onLeaveCancelled(I){oe(I),Ms(Z,[I])}})}function _f(e){if(e==null)return null;if(Te(e))return[Un(e.enter),Un(e.leave)];{const t=Un(e);return[t,t]}}function Un(e){return Cl(e)}function Jt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[Pi]||(e[Pi]=new Set)).add(t)}function Ss(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const s=e[Pi];s&&(s.delete(t),s.size||(e[Pi]=void 0))}function Mr(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Cf=0;function Sr(e,t,s,i){const n=e._endId=++Cf,o=()=>{n===e._endId&&i()};if(s!=null)return setTimeout(o,s);const{type:r,timeout:a,propCount:l}=Af(e,t);if(!r)return i();const f=r+"end";let c=0;const d=()=>{e.removeEventListener(f,v),o()},v=p=>{p.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),e.addEventListener(f,v)}function Af(e,t){const s=window.getComputedStyle(e),i=b=>(s[b]||"").split(", "),n=i(`${os}Delay`),o=i(`${os}Duration`),r=Vr(n,o),a=i(`${li}Delay`),l=i(`${li}Duration`),f=Vr(a,l);let c=null,d=0,v=0;t===os?r>0&&(c=os,d=r,v=o.length):t===li?f>0&&(c=li,d=f,v=l.length):(d=Math.max(r,f),c=d>0?r>f?os:li:null,v=c?c===os?o.length:l.length:0);const p=c===os&&/\b(transform|all)(,|$)/.test(i(`${os}Property`).toString());return{type:c,timeout:d,propCount:v,hasTransform:p}}function Vr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,i)=>Tr(s)+Tr(e[i])))}function Tr(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function _r(){return document.body.offsetHeight}function Df(e,t,s){const i=e[Pi];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const gn=Symbol("_vod"),el=Symbol("_vsh"),tn={beforeMount(e,{value:t},{transition:s}){e[gn]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):ci(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:i}){!t!=!s&&(i?t?(i.beforeEnter(e),ci(e,!0),i.enter(e)):i.leave(e,()=>{ci(e,!1)}):ci(e,t))},beforeUnmount(e,{value:t}){ci(e,t)}};function ci(e,t){e.style.display=t?e[gn]:"none",e[el]=!t}const Pf=Symbol(""),Lf=/(^|;)\s*display\s*:/;function Of(e,t,s){const i=e.style,n=Ee(s);let o=!1;if(s&&!n){if(t)if(Ee(t))for(const r of t.split(";")){const a=r.slice(0,r.indexOf(":")).trim();s[a]==null&&sn(i,a,"")}else for(const r in t)s[r]==null&&sn(i,r,"");for(const r in s)r==="display"&&(o=!0),sn(i,r,s[r])}else if(n){if(t!==s){const r=i[Pf];r&&(s+=";"+r),i.cssText=s,o=Lf.test(s)}}else t&&e.removeAttribute("style");gn in e&&(e[gn]=o?i.display:"",e[el]&&(i.display="none"))}const Cr=/\s*!important$/;function sn(e,t,s){if(X(s))s.forEach(i=>sn(e,t,i));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const i=Ef(e,t);Cr.test(s)?e.setProperty(Os(i),s.replace(Cr,""),"important"):e[i]=s}}const Ar=["Webkit","Moz","ms"],Gn={};function Ef(e,t){const s=Gn[t];if(s)return s;let i=ms(t);if(i!=="filter"&&i in e)return Gn[t]=i;i=Gr(i);for(let n=0;n<Ar.length;n++){const o=Ar[n]+i;if(o in e)return Gn[t]=o}return t}const Dr="http://www.w3.org/1999/xlink";function Pr(e,t,s,i,n,o=El(t)){i&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Dr,t.slice(6,t.length)):e.setAttributeNS(Dr,t,s):s==null||o&&!qr(s)?e.removeAttribute(t):e.setAttribute(t,o?"":ps(s)?String(s):s)}function Lr(e,t,s,i,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Za(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let r=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=qr(s):s==null&&a==="string"?(s="",r=!0):a==="number"&&(s=0,r=!0)}try{e[t]=s}catch{}r&&e.removeAttribute(n||t)}function Rs(e,t,s,i){e.addEventListener(t,s,i)}function Wf(e,t,s,i){e.removeEventListener(t,s,i)}const Or=Symbol("_vei");function kf(e,t,s,i,n=null){const o=e[Or]||(e[Or]={}),r=o[t];if(i&&r)r.value=i;else{const[a,l]=Ff(t);if(i){const f=o[t]=Nf(i,n);Rs(e,a,f,l)}else r&&(Wf(e,a,r,l),o[t]=void 0)}}const Er=/(?:Once|Passive|Capture)$/;function Ff(e){let t;if(Er.test(e)){t={};let i;for(;i=e.match(Er);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Os(e.slice(2)),t]}let Kn=0;const Rf=Promise.resolve(),If=()=>Kn||(Rf.then(()=>Kn=0),Kn=Date.now());function Nf(e,t){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;kt(jf(i,s.value),t,5,[i])};return s.value=e,s.attached=If(),s}function jf(e,t){if(X(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const Wr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,zf=(e,t,s,i,n,o)=>{const r=n==="svg";t==="class"?Df(e,i,r):t==="style"?Of(e,s,i):yn(t)?Do(t)||kf(e,t,s,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Bf(e,t,i,r))?(Lr(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Pr(e,t,i,r,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ee(i))?Lr(e,ms(t),i,o,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Pr(e,t,i,r))};function Bf(e,t,s,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Wr(t)&&ie(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Wr(t)&&Ee(s)?!1:t in e}const kr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return X(t)?s=>Zi(t,s):t};function Hf(e){e.target.composing=!0}function Fr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const qn=Symbol("_assign"),tl={created(e,{modifiers:{lazy:t,trim:s,number:i}},n){e[qn]=kr(n);const o=i||n.props&&n.props.type==="number";Rs(e,t?"change":"input",r=>{if(r.target.composing)return;let a=e.value;s&&(a=a.trim()),o&&(a=Xn(a)),e[qn](a)}),s&&Rs(e,"change",()=>{e.value=e.value.trim()}),t||(Rs(e,"compositionstart",Hf),Rs(e,"compositionend",Fr),Rs(e,"change",Fr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:i,trim:n,number:o}},r){if(e[qn]=kr(r),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?Xn(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(i&&t===s||n&&e.value.trim()===l)||(e.value=l))}},$f=["ctrl","shift","alt","meta"],Uf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>$f.some(s=>e[`${s}Key`]&&!t.includes(s))},Yn=(e,t)=>{const s=e._withMods||(e._withMods={}),i=t.join(".");return s[i]||(s[i]=(n,...o)=>{for(let r=0;r<t.length;r++){const a=Uf[t[r]];if(a&&a(n,t))return}return e(n,...o)})},Gf=Fe({patchProp:zf},wf);let Rr;function Kf(){return Rr||(Rr=Hc(Gf))}const qf=(...e)=>{const t=Kf().createApp(...e),{mount:s}=t;return t.mount=i=>{const n=Jf(i);if(!n)return;const o=t._component;!ie(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const r=s(n,!1,Yf(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),r},t};function Yf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Jf(e){return Ee(e)?document.querySelector(e):e}const sl=4,Xf=5,uo=30,B="GND",be="VDD",he=0,de=5,Zf=5e-7,Qf=100,Ki=1.5;var eu=Object.defineProperty,tu=(e,t,s)=>t in e?eu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,xi=(e,t,s)=>(tu(e,typeof t!="symbol"?t+"":t,s),s);class Ke{constructor(t,s,i){xi(this,"_rows"),xi(this,"_columns"),xi(this,"_values"),this._rows=Math.max(t,1),this._columns=Math.max(s,1),this._values=new Array(this._rows).fill([]).map(()=>new Array(this._columns).fill(0)),i&&(this.values=i)}get rows(){return this._rows}get columns(){return this._columns}get values(){return this._values}set values(t){const s=Math.min(t.length,this.rows),i=Math.min(t[0].length,this.columns);for(let n=0;n<s;n++)for(let o=0;o<i;o++)this.values[n][o]=t[n][o]}at(t,s){return this.values[t][s]}reset(){this.values=this.values.map(t=>t.map(()=>0))}addAColumn(){return new Ke(this.rows,this.columns+1,this.values)}addARow(){return new Ke(this.rows+1,this.columns,this.values)}equals(t){return this.rows===t.rows&&this.columns===t.columns&&this.values.reduce((s,i,n)=>s&&i.reduce((o,r,a)=>o&&t.at(n,a)===r,s),!0)}setAsIdentity(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");return this.values.forEach((t,s)=>{t.forEach((i,n)=>{this.values[s][n]=s===n?1:0})}),this}static identity(t){if(t<1)throw Error("Dimension error! Matrix dimension must be positive.");return new Ke(t,t).setAsIdentity()}multiply(t){if(this.columns!==t.rows)throw new Error("Dimension error! The operand matrix must have the same number of rows as 'this' matrix columns!");const s=new Ke(this.rows,t.columns);return s.values=s.values.map((i,n)=>i.map((o,r)=>this.values[n].reduce((a,l,f)=>a+l*t.at(f,r),0))),s}indexOf(t){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)if(this.values[s][i]===t)return[s,i];return[-1,-1]}max(){return this.values.reduce((t,s)=>Math.max(t,...s),-1/0)}min(){return this.values.reduce((t,s)=>Math.min(t,...s),1/0)}round(){return new Ke(this.rows,this.columns,this.values.map(t=>t.map(s=>Math.round(s))))}determinant(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");if(this.rows===this.columns&&this.columns===1)return this.values[0][0];let t=0,s=1;if(this.rows===2)t=this.values[0][0]*this.values[1][1]-this.values[1][0]*this.values[0][1];else for(let i=0;i<this.rows;i++){const n=this.getCofactor(0,i);t+=s*this.at(0,i)*n.determinant(),s=-s}return t}getCofactor(t,s){return new Ke(this.rows-1,this.columns-1,this.values.filter((i,n)=>n!==t).map(i=>i.filter((n,o)=>o!==s)))}transpose(){return new Ke(this.columns,this.rows,new Array(this.columns).fill([]).map((t,s)=>new Array(this.rows).fill(0).map((i,n)=>this.at(n,s))))}inverse(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");const t=this.determinant();if(t===0)throw new Error("Determinant is 0, can't compute inverse.");const s=new Ke(this.rows,this.columns,this.values.map((i,n)=>i.map((o,r)=>Math.pow(-1,n+r)*this.getCofactor(n,r).determinant()))).transpose();return new Ke(this.rows,this.columns,this.values.map((i,n)=>i.map((o,r)=>s.at(n,r)/t)))}toString(){return`[${this.values.map(t=>`[${t.join(", ")}]`).join(`,
`)}]`}}const su=1e-5,Vt=class{constructor(e){xi(this,"values",new Float32Array(4)),e!==void 0&&(this.xyzw=e)}get x(){return this.values[0]}set x(e){this.values[0]=e}get y(){return this.values[1]}set y(e){this.values[1]=e}get z(){return this.values[2]}set z(e){this.values[2]=e}get w(){return this.values[3]}set w(e){this.values[3]=e}get xy(){return[this.values[0],this.values[1]]}set xy(e){this.values[0]=e[0],this.values[1]=e[1]}get xyz(){return[this.values[0],this.values[1],this.values[2]]}set xyz(e){this.values[0]=e[0],this.values[1]=e[1],this.values[2]=e[2]}get xyzw(){return[this.values[0],this.values[1],this.values[2],this.values[3]]}set xyzw(e){this.values[0]=e[0],this.values[1]=e[1],this.values[2]=e[2],this.values[3]=e[3]}at(e){return this.values[e]}reset(){for(let e=0;e<4;e++)this.values[e]=0}copy(e){e||(e=new Vt);for(let t=0;t<4;t++)e.values[t]=this.values[t];return e}roll(){const e=this.x,t=this.y,s=this.z,i=this.w;return Math.atan2(2*(e*t+i*s),i*i+e*e-t*t-s*s)}pitch(){const e=this.x,t=this.y,s=this.z,i=this.w;return Math.atan2(2*(t*s+i*e),i*i-e*e-t*t+s*s)}yaw(){return Math.asin(2*(this.x*this.z-this.w*this.y))}equals(e,t=su){for(let s=0;s<4;s++)if(Math.abs(this.values[s]-e.at(s))>t)return!1;return!0}setIdentity(){return this.x=0,this.y=0,this.z=0,this.w=1,this}calculateW(){const e=this.x,t=this.y,s=this.z;return this.w=-Math.sqrt(Math.abs(1-e*e-t*t-s*s)),this}inverse(){const e=Vt.dot(this,this);if(!e)return this.xyzw=[0,0,0,0],this;const t=e?1/e:0;return this.x*=-t,this.y*=-t,this.z*=-t,this.w*=t,this}conjugate(){return this.values[0]*=-1,this.values[1]*=-1,this.values[2]*=-1,this}length(){const e=this.x,t=this.y,s=this.z,i=this.w;return Math.sqrt(e*e+t*t+s*s+i*i)}normalize(e){e||(e=this);const t=this.x,s=this.y,i=this.z,n=this.w;let o=Math.sqrt(t*t+s*s+i*i+n*n);return o?(o=1/o,e.x=t*o,e.y=s*o,e.z=i*o,e.w=n*o,e):(e.x=0,e.y=0,e.z=0,e.w=0,e)}add(e){for(let t=0;t<4;t++)this.values[t]+=e.at(t);return this}multiply(e){const t=this.values[0],s=this.values[1],i=this.values[2],n=this.values[3],o=e.x,r=e.y,a=e.z,l=e.w;return this.x=t*l+n*o+s*a-i*r,this.y=s*l+n*r+i*o-t*a,this.z=i*l+n*a+t*r-s*o,this.w=n*l-t*o-s*r-i*a,this}static dot(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w}static sum(e,t){const s=new Vt;return s.x=e.x+t.x,s.y=e.y+t.y,s.z=e.z+t.z,s.w=e.w+t.w,s}static product(e,t){const s=new Vt,i=e.x,n=e.y,o=e.z,r=e.w,a=t.x,l=t.y,f=t.z,c=t.w;return s.x=i*c+r*a+n*f-o*l,s.y=n*c+r*l+o*a-i*f,s.z=o*c+r*f+i*l-n*a,s.w=r*c-i*a-n*l-o*f,s}static cross(e,t){const s=new Vt,i=e.x,n=e.y,o=e.z,r=e.w,a=t.x,l=t.y,f=t.z,c=t.w;return s.x=r*f+o*c+i*l-n*a,s.y=r*c-i*a-n*l-o*f,s.z=r*a+i*c+n*f-o*l,s.w=r*l+n*c+o*a-i*f,s}static shortMix(e,t,s){const i=new Vt;if(s<=0)return i.xyzw=e.xyzw,i;if(s>=1)return i.xyzw=t.xyzw,i;let n=Vt.dot(e,t);const o=t.copy();n<0&&(o.inverse(),n=-n);let r,a;if(n>.9999)r=1-s,a=0+s;else{const l=Math.sqrt(1-n*n),f=Math.atan2(l,n),c=1/l;r=Math.sin((1-s)*f)*c,a=Math.sin((0+s)*f)*c}return i.x=r*e.x+a*o.x,i.y=r*e.y+a*o.y,i.z=r*e.z+a*o.z,i.w=r*e.w+a*o.w,i}static mix(e,t,s){const i=new Vt,n=e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w;if(Math.abs(n)>=1)return i.xyzw=e.xyzw,i;const o=Math.acos(n),r=Math.sqrt(1-n*n);if(Math.abs(r)<.001)return i.x=e.x*.5+t.x*.5,i.y=e.y*.5+t.y*.5,i.z=e.z*.5+t.z*.5,i.w=e.w*.5+t.w*.5,i;const a=Math.sin((1-s)*o)/r,l=Math.sin(s*o)/r;return i.x=e.x*a+t.x*l,i.y=e.y*a+t.y*l,i.z=e.z*a+t.z*l,i.w=e.w*a+t.w*l,i}static fromAxisAngle(e,t){if(e.rows!==3)throw new Error("The axis vector must be in 3D!");const s=new Vt;t*=.5;const i=Math.sin(t);return s.x=e.at(0)*i,s.y=e.at(1)*i,s.z=e.at(2)*i,s.w=Math.cos(t),s}};let iu=Vt;xi(iu,"identity",new Vt().setIdentity());class le{constructor(){m(this,"matrix");this.matrix=new Ke(3,3,[[1,0,0],[0,1,0],[0,0,1]])}get scaleX(){return Math.sqrt(this.matrix.at(0,0)**2+this.matrix.at(1,0)**2)}get scaleY(){return Math.sqrt(this.matrix.at(0,1)**2+this.matrix.at(1,1)**2)}get relativeScale(){return Math.sqrt(Math.abs(this.matrix.determinant()))}get rotation(){return Math.atan2(-1*this.matrix.at(0,1),this.matrix.at(0,0))}get isMirrored(){return this.matrix.determinant()<0}get translation(){return{x:this.matrix.at(0,2),y:this.matrix.at(1,2)}}set scaleX(t){this.scale(1/this.scaleX,1,!0),this.scale(t,1,!0)}set scaleY(t){this.scale(1,1/this.scaleY,!0),this.scale(1,t,!0)}set relativeScale(t){this.scale(1/this.relativeScale,1/this.relativeScale,!0),this.scale(t,t,!0)}set rotation(t){this.rotate(-this.rotation,!0),this.rotate(t,!0)}set isMirrored(t){this.isMirrored!=t&&this.mirror(!0,!1,!0)}set translation(t){this.translate({x:-this.translation.x,y:-this.translation.y},!0),this.translate(t,!0)}rotate(t,s=!1){const i=new le;return Object.assign(i,this),i.matrix=this.matrix.multiply(new Ke(3,3,[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]])),s&&Object.assign(this,i),i}translate(t,s=!1){const i=new le;return Object.assign(i,this),i.matrix=this.matrix.multiply(new Ke(3,3,[[1,0,t.x],[0,1,t.y],[0,0,1]])),s&&Object.assign(this,i),i}mirror(t,s=!1,i=!1){const n=new le;Object.assign(n,this);const o=t?-1:1,r=s?-1:1;return n.matrix=this.matrix.multiply(new Ke(3,3,[[o,0,0],[0,r,0],[0,0,1]])),i&&Object.assign(this,n),n}scale(t,s=t,i=!1){const n=new le;return Object.assign(n,this),n.matrix=this.matrix.multiply(new Ke(3,3,[[t,0,0],[0,s,0],[0,0,1]])),i&&Object.assign(this,n),n}inverse(t=!1){const s=new le;return Object.assign(s,this),s.matrix=s.matrix.inverse(),t&&Object.assign(this,s),s}multiply(t,s=!1){const i=new le;return Object.assign(i,this),i.matrix=i.matrix.multiply(t.matrix),s&&Object.assign(this,i),i}transformCanvas(t,s=!0){s?t.setTransform(this.matrix.at(0,0),this.matrix.at(1,0),this.matrix.at(0,1),this.matrix.at(1,1),this.matrix.at(0,2),this.matrix.at(1,2)):t.transform(this.matrix.at(0,0),this.matrix.at(1,0),this.matrix.at(0,1),this.matrix.at(1,1),this.matrix.at(0,2),this.matrix.at(1,2))}transformPoint(t){const s=this.matrix.multiply(new Ke(3,1,[[t.x],[t.y],[1]]));return{x:s.at(0,0),y:s.at(1,0)}}transformLine(t){return{start:this.transformPoint(t.start),end:this.transformPoint(t.end)}}transformPath(t){return t.map(s=>this.transformLine(s))}}const il=(e,t,[s,...i])=>s===void 0?t:il(e,e(s,t),i),mt=e=>e*Math.PI/180,Ks=(e,t)=>(e%t+t)%t,Pe=(e,t,s)=>{const i=Math.max(e,t),n=Math.min(e,t);return s>i?i:s<n?n:s};class nu{constructor(){m(this,"updated",V(!1))}react(){this.updated.value=!this.updated.value}}const Tt=class Tt extends nu{constructor(s=[],i=new le,n="main"){super();m(this,"transformations",[]);m(this,"anchorPoints",{});m(this,"_transformationMatrix");m(this,"canvasId");m(this,"key","");s.forEach(o=>{this.transformations.push(o)}),this.transformations.push(V(i)),this._transformationMatrix=se(()=>il((o,r)=>r.multiply(o.value),new le,this.transformations)),Tt.allCtxArtists.push(this),this.canvasId=n}get transformationMatrix(){return this._transformationMatrix.value}get localTransformationMatrix(){return this.transformations[this.transformations.length-1].value}getAnchorPoint(s){return this.anchorPoints[s]==null&&console.error("Cannot find anchor point",s,"on CtxArtist"),Tt.circuitTransformationMatrix.inverse().multiply(this.transformationMatrix).transformPoint(this.anchorPoints[s])}getAnchorPointWithTransformations(s){return[this.transformations.slice(0,-1),this.getAnchorPoint(s)]}moveTo(s){this.transformations[this.transformations.length-1].value.translation=s}get localLineThickness(){return this.getLocalLineThickness()}fillTextGlobalReferenceFrame(s,i,n,o=!1,r=!1,a=16){if(Tt.textTransformationMatrix.transformCanvas(s),o){const f=this.transformationMatrix.transformPoint({x:0,y:0}),c=this.transformationMatrix.transformPoint(i);c.x<f.x==!r?s.textAlign="right":c.x>f.x==!r?s.textAlign="left":s.textAlign="center"}const l=Tt.textTransformationMatrix.inverse().transformPoint(this.transformationMatrix.transformPoint(i));return s.fillText(n,l.x,l.y),this.transformationMatrix.transformCanvas(s),this.transformationMatrix.inverse().transformPoint(Tt.textTransformationMatrix.transformPoint({x:l.x,y:l.y+a}))}getRelativeScaling(){return Tt.textTransformationMatrix.relativeScale/this.transformationMatrix.relativeScale}getLocalLineThickness(s=Xf){return s*this.getRelativeScaling()}};m(Tt,"textTransformationMatrix",new le),m(Tt,"circuitTransformationMatrix",new le),m(Tt,"allCtxArtists",[]);let He=Tt;const Pn=e=>Math.sqrt((e.end.x-e.start.x)**2+(e.end.y-e.start.y)**2),nl=e=>{let t=0;return e.forEach(s=>{t+=Pn(s)}),t},ol=(e,t)=>(t=Pe(0,1,t),{x:e.start.x+(e.end.x-e.start.x)*t,y:e.start.y+(e.end.y-e.start.y)*t}),ot=(e,t)=>{const s=nl(e),i=t*s;let n=0;for(let o of e){const r=Pn(o);if(n+=r,n>=i){const a=n-r,f=(i-a)/r;return ol(o,f)}}return console.error("Error finding point along path"),{x:0,y:0}},ou=(e,t,s,i=5)=>{const n=s.x-t.x,o=s.y-t.y,r=Math.sqrt(n**2+o**2),a=i/2/r*-o,l=i/2/r*n,f=i/2/r*n,c=i/2/r*o,d={x:t.x+a-f,y:t.y+l-c},v={x:t.x-a-f,y:t.y-l-c},p={x:s.x-a+f,y:s.y-l+c},b={x:s.x+a+f,y:s.y+l+c};e.moveTo(d.x,d.y),e.lineTo(v.x,v.y),e.lineTo(p.x,p.y),e.lineTo(b.x,b.y)},ru=(e,t,s)=>{const i=t.outerDiameter,n=i-2*s;e.moveTo(t.center.x,t.center.y),e.arc(t.center.x,t.center.y,i/2,0,2*Math.PI,!1),n>0&&e.arc(t.center.x,t.center.y,n/2,0,2*Math.PI,!0)},rl=(e,t,s,i="rgba(200, 200, 200, 1)")=>{const n=e.createRadialGradient(t.x,t.y,0,t.x,t.y,s);return n.addColorStop(0,i),n.addColorStop(.5,i),n.addColorStop(.99,"rgba(0, 0, 0, 1)"),n.addColorStop(1,"rgba(0, 0, 0, 0)"),n},al=(e,t)=>()=>{e.save(),e.clip(),e.fillStyle=t,e.fill(),e.resetTransform(),e.fillRect(0,0,e.canvas.clientWidth,e.canvas.clientHeight),e.restore(),e.beginPath()},ll=(e,t="black")=>()=>{e.fillStyle=t,e.fill(),e.beginPath()},cl=(e,t,s=5,i)=>{const n=al(e,i);for(let o=0;o<sl;o++)fl(e,t,s,n)},Kt=(e,t,s=5,i="black")=>{const n=ll(e,i);for(let o=0;o<sl;o++)fl(e,t,s,n)},fl=(e,t,s=5,i)=>{e.beginPath(),t.forEach(n=>{ou(e,n.start,n.end,s),i()})},au=(e,t,s=5,i)=>{const n=al(e,i);ul(e,t,s,n)},Ko=(e,t,s=5,i="black")=>{const n=ll(e,i);ul(e,t,s,n)},ul=(e,t,s=5,i)=>{e.beginPath(),t.forEach(n=>{ru(e,n,s)}),i()},ts=(e,t,s=3)=>{if(e==0)return"0"+t;const i=e>=0?"":"-",n=Math.abs(e),o={30:"Q",27:"R",24:"Y",21:"Z",18:"E",15:"P",12:"T",9:"G",6:"M",3:"k",0:"","-3":"m","-6":"","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y","-27":"r","-30":"q"},r=Math.floor(Math.log10(n)/3)*3;let a=o[r.toString()];a==null&&(a="e"+r.toString()+" ");const l=parseFloat((n/10**r).toPrecision(s));return i+l+a+t};class ss extends He{constructor(s=[],i=[],n=[],o=[],r=[],a=[],l=[]){super(s,new le);m(this,"gndSymbols");m(this,"vddSymbols");m(this,"parasiticCapacitors");m(this,"mosfets");m(this,"nodes");m(this,"wires");this.gndSymbols=i,this.vddSymbols=n,this.parasiticCapacitors=o,this.mosfets=r,this.nodes=a,this.wires=l}copy(s){return new ss([s].concat(this.transformations.slice(1)),this.gndSymbols.map(n=>n.copy(s)),this.vddSymbols.map(n=>n.copy(s)),[],this.mosfets,this.nodes,this.wires.map(n=>({node:n.node,lines:n.lines,voltageDisplayLabel:"",voltageDisplayLocations:[]})))}draw(s){this.transformationMatrix.transformCanvas(s),this.gndSymbols.forEach(i=>{i.draw(s)}),this.vddSymbols.forEach(i=>{i.draw(s)}),this.parasiticCapacitors.forEach(i=>{i.draw(s)}),this.transformationMatrix.transformCanvas(s),this.nodes.forEach(i=>{i.value.schematicEffects=[]}),this.mosfets.forEach(i=>{Object.values(i.schematicEffects).forEach(n=>{const o=ss.flattenSchematicEffect(n);n.node.value.schematicEffects.push(o)})}),this.wires.forEach(i=>{Kt(s,i.lines.map(n=>n.toLine()),this.localLineThickness,"black"),i.node.value.schematicEffects.forEach(n=>{const o=n.origin,r=rl(s,o,n.gradientSize,n.color);cl(s,i.lines.map(a=>a.toLine()),this.localLineThickness,r)}),i.voltageDisplayLocations.forEach(n=>{s.fillStyle="black",s.font="18px sans-serif",this.fillTextGlobalReferenceFrame(s,n.toPoint(),i.voltageDisplayLabel+" = "+ts(i.node.value.voltage,"V"),!1)})})}static flattenSchematicEffect(s){return{origin:s.origin.toPoint(),color:s.color,gradientSize:s.gradientSize}}}class qo extends He{constructor(s=[],i=new le,n,o,r,a,l,f,c="visible",d="visible",v="main"){super(s,i);m(this,"visibility");m(this,"originalVisibility");m(this,"fromNode");m(this,"toNode");m(this,"dragging",!1);m(this,"location",{x:0,y:0});m(this,"minValue");m(this,"maxValue");m(this,"value");m(this,"drivenNode");m(this,"canvasId");m(this,"displayText","sliderName");m(this,"selected");m(this,"selectionChanged",V(!1));m(this,"preciseDragging",!1);m(this,"temporaryMinValue");m(this,"temporaryMaxValue");m(this,"previousValue");m(this,"valueRateOfChange",0);this.originalVisibility=c,this.visibility=d,this.fromNode=n,this.toNode=o,this.minValue=a,this.maxValue=l,this.value=a,this.temporaryMinValue=a,this.temporaryMaxValue=l,this.selected=f,this.previousValue=a,this.drivenNode=r,this.canvasId=v,Ut(this.selected,()=>{this.selectionChanged.value=!0})}draw(s){throw new Error("draw is a virtual function on the CtxSlider class. (Received"+s+")")}updateLocationBasedOnValue(){throw new Error("updateLocationBasedOnValue is a virtual function on the CtxSlider class.")}updateValueBasedOnMousePosition(s){throw new Error("updateValueBasedOnMousePosition is a virtual function on the CtxSlider class. (Received "+s+")")}mouseDownIntiatesDrag(s){throw new Error("mouseDownIntiatesDrag is a virtual function on the CtxSlider class. (Received "+s+")")}updateValueBasedOnNodeVoltages(){this.value=Pe(this.temporaryMinValue,this.temporaryMaxValue,this.toNode.value.voltage-this.fromNode.value.voltage),this.updateLocationBasedOnValue()}updateNodeVoltagesBasedOnValue(){this.dragging&&(this.drivenNode=="toNode"?(this.toNode.value.fixed=!0,this.toNode.value.voltage=this.fromNode.value.voltage+this.value):(this.fromNode.value.fixed=!0,this.fromNode.value.voltage=this.toNode.value.voltage-this.value))}dragSlider(s){if(this.dragging){const i=this.transformationMatrix.inverse().transformPoint(s);this.updateValueBasedOnMousePosition(i),this.value=Pe(this.temporaryMinValue,this.temporaryMaxValue,this.value);const n=Pe(0,1,(this.value-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue));n<.05&&this.value<=this.previousValue?this.valueRateOfChange=-.01:n>.95&&this.value>=this.previousValue?this.valueRateOfChange=.01:this.valueRateOfChange=0,this.updateLocationBasedOnValue(),this.updateNodeVoltagesBasedOnValue(),this.previousValue=this.value,this.react()}}releaseSlider(){this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.maxValue,this.preciseDragging=!1,this.dragging=!1,this.drivenNode=="toNode"?this.toNode.value.fixed=!1:this.fromNode.value.fixed=!1,this.react()}adjustPreciseSlider(s=10){if(this.dragging&&this.preciseDragging){if(this.value>=this.maxValue||this.temporaryMaxValue>this.maxValue)this.value=Pe(this.minValue,this.maxValue,this.value),this.temporaryMaxValue=this.maxValue,this.temporaryMinValue=this.maxValue-Ki,this.valueRateOfChange=0;else if(this.value<=this.minValue||this.temporaryMinValue<this.minValue)this.value=Pe(this.minValue,this.maxValue,this.value),this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.minValue+Ki,this.valueRateOfChange=0;else{const i=this.valueRateOfChange*(s/1e3)*70;this.temporaryMinValue+=i,this.temporaryMaxValue+=i,this.value+=i}this.react()}}checkDrag(s,i){if(this.visibility!="visible")return!1;const n=this.transformationMatrix.inverse().transformPoint(s);if(this.mouseDownIntiatesDrag(n)&&(this.dragging=!0),this.dragging){if(i){this.preciseDragging=!0;const o=(this.value-this.minValue)/(this.maxValue-this.minValue);this.temporaryMinValue=this.value-Ki*o,this.temporaryMaxValue=this.value+Ki*(1-o)}else this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.maxValue;this.react()}}toHtmlSlider(){return new lu(this.transformations,this.fromNode,this.toNode,this.drivenNode,this.minValue,this.maxValue,this.displayText,this.selected,this.visibility)}}class lu extends qo{constructor(s,i,n,o,r,a,l,f,c){super(s,new le,i,n,o,r,a,f,c,c);m(this,"name");m(this,"tabIndex",V(-1));this.name=l}draw(){}updateLocationBasedOnValue(){}updateValueBasedOnMousePosition(){}mouseDownIntiatesDrag(){return this.dragging}}const wi=V(!1),Mi=V(!1),qi=V(!1),vt=V(2),qs=V("canvas"),Yo=V("canvas"),Is=V(!1),ho=V({width:1,height:1}),cu=V({width:1,height:1}),fu=(e,t)=>{t.value={width:e.canvas.clientWidth,height:e.canvas.clientHeight}},Ys=V(!1);class js extends qo{constructor(s=[],i,n,o,r,a,l,f,c,d,v,p,b,x,k,M="main"){super(s,new le().translate({x:r,y:a}).rotate(f).mirror(!1,d),i,n,o,v,p,x,k,k,M);m(this,"radius");m(this,"originalRadius");m(this,"endAngle");this.radius=l,this.originalRadius=l,this.endAngle=c,this.displayText=b}draw(s){if(this.visibility=="hidden")return;if(this.transformationMatrix.transformCanvas(s),this.dragging&&this.preciseDragging?this.radius=this.originalRadius+10:this.radius=this.originalRadius,this.selected.value&&(qs.value=="keyboard"||qs.value=="htmlSlider")&&this.drawSliderPath(s,"blue",2),this.drawSliderPath(s,this.visibility=="visible"?"orange":"lightgrey"),this.dragging&&this.preciseDragging){const o=(a,l=!0)=>{const f=this.radius+(l?15:8);s.beginPath(),s.moveTo(this.radius*Math.cos(a),this.radius*Math.sin(a)),s.lineTo(f*Math.cos(a),f*Math.sin(a)),s.stroke()};let r=Math.ceil(this.temporaryMinValue);for(;r<this.temporaryMaxValue;){const a=(r-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue);o(this.endAngle*a,!0),r+=1}for(r=Math.ceil(this.temporaryMinValue+.5)-.5;r<this.temporaryMaxValue;){const a=(r-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue);o(this.endAngle*a,!1),r+=1}}s.beginPath(),s.arc(this.location.x,this.location.y,5,0,Math.PI*2),s.fillStyle=this.visibility=="visible"?"rgb(255, 0, 0)":"lightgrey",s.fill(),s.fillStyle=this.visibility=="visible"?"#000":"lightgrey";const i={x:this.location.x*(this.radius+15)/this.radius,y:this.location.y*(this.radius+15)/this.radius};s.font="18px Arial";const n=this.fillTextGlobalReferenceFrame(s,i,this.displayText,!0,!1,18);s.font="16px Arial",this.fillTextGlobalReferenceFrame(s,n,ts(this.value,"V",3),!0)}drawSliderPath(s,i="orange",n=1){s.strokeStyle=i,s.lineWidth=this.localLineThickness*n,s.lineCap="round",s.beginPath(),s.arc(0,0,this.radius,0,this.endAngle,!1);const o=this.endAngle,r=0,a=7;s.moveTo((this.radius+a)*Math.cos(r),(this.radius+a)*Math.sin(r)),s.lineTo((this.radius-a)*Math.cos(r),(this.radius-a)*Math.sin(r));const l=7,f=mt(-5);s.moveTo((this.radius+l)*Math.cos(o+f),(this.radius+l)*Math.sin(o+f)),s.lineTo(this.radius*Math.cos(o),this.radius*Math.sin(o)),s.lineTo((this.radius-l)*Math.cos(o+f),(this.radius-l)*Math.sin(o+f)),s.stroke()}updateLocationBasedOnValue(){const i=(this.value-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue)*this.endAngle;this.location={x:this.radius*Math.cos(i),y:this.radius*Math.sin(i)}}updateValueBasedOnMousePosition(s){const i=f=>Ks(f,2*Math.PI)<this.endAngle+.3||Ks(f,2*Math.PI)>2*Math.PI-.3;let n=Math.atan2(s.y,s.x);if(!i(n)&&(n=Ks(this.endAngle-n-Math.PI,Math.PI),!i(n)))return;const r=Pe(0,1,n/this.endAngle)*(this.temporaryMaxValue-this.temporaryMinValue)+this.temporaryMinValue;if(s.x**2+s.y**2<20**2){const f=Math.abs(this.maxValue-this.minValue)/10;Math.abs(r-this.value)>f?r-this.value>0?this.value+=f:r-this.value<0&&(this.value-=f):this.value=r}else this.value=r;this.updateLocationBasedOnValue()}mouseDownIntiatesDrag(s){const i=s.x**2+s.y**2,n=(s.x-this.location.x)**2+(s.y-this.location.y)**2,r=Math.atan2(s.y,s.x)/this.endAngle;return n<=10**2||(this.radius-20)**2<i&&i<(this.radius+20)**2&&0<r&&r<1}}const go=["up","down","left","right"],Jn={ArrowUp:"up",ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right",Up:"up",Down:"down",Left:"left",Right:"right"},vn=class vn extends He{constructor(s=[],i=se(()=>({x:0,y:0})),n=!1,o=se(()=>({x:0,y:0})),r={}){super(s,new le);m(this,"currentLocation",{x:0,y:0});m(this,"homeLocation");m(this,"desiredLocation");m(this,"locationIsFunctionOfChartVisibility");this.desiredLocation=i,this.locationIsFunctionOfChartVisibility=n,this.homeLocation=o,this.anchorPoints=r,vn.allTectonicPlates.push(this)}moveTowardDesiredLocation(){this.moveTowardLocation(this.desiredLocation.value)}moveTowardHomeLocation(){this.moveTowardLocation(this.homeLocation.value)}moveTowardLocation(s){const n={start:this.currentLocation,end:s};let o={x:0,y:0};Pn(He.textTransformationMatrix.transformLine(n))<.1?o=s:o=ol(n,.1),this.moveTo(o),this.currentLocation=o}};m(vn,"allTectonicPlates",[]);let re=vn;class q extends He{constructor(s=[],i={x:0,y:0}){super(s,new le);m(this,"point");this.point=i}toPoint(){return this.transformations[0].value.inverse().multiply(this.transformationMatrix).transformPoint(this.point)}}class E{constructor(t,s,i,n){m(this,"start");m(this,"end");this.start=new q(t,s),this.end=new q(i,n)}toLine(){return{start:this.start.toPoint(),end:this.end.toPoint()}}}class hl extends He{constructor(s=[],i=new le,n="main"){super(s,i,n);m(this,"order",0);m(this,"isDuplicate",!1);m(this,"mouseDownInsideSelectionArea",!1);m(this,"showCharts",V(!1));m(this,"selected",V(!1));m(this,"selectionChanged",V(!1));m(this,"boundingBox");m(this,"adjacentDevices",{});this.boundingBox=[new q(this.transformations,{x:-120,y:0}),new q(this.transformations,{x:120,y:0}),new q(this.transformations,{x:0,y:-120}),new q(this.transformations,{x:0,y:120})],Ut(this.selected,()=>this.selectionChanged.value=!0)}finishSetup(){Object.keys(this.adjacentDevices).forEach(s=>{go.includes(s)||console.error("Adjacency direction must be one of "+String(go)+" (inside of "+String(this.key)+")")})}checkSelectionArea(s){const i=this.transformationMatrix.inverse().transformPoint(s);return Pn({start:{x:0,y:0},end:i})<60}drawSelectedHalo(s){if(this.selected.value&&!this.isDuplicate){const i=s.createRadialGradient(0,0,0,0,0,100);i.addColorStop(0,"rgba(0, 0, 255, 0)"),i.addColorStop(.5,"rgba(0, 0, 255, 0)"),i.addColorStop(.8,"rgba(0, 0, 255, 0.2)"),i.addColorStop(1,"rgba(0, 0, 255, 0)"),s.fillStyle=i,s.arc(0,0,200,0,2*Math.PI),s.fill()}}get htmlSliders(){return console.error("Getter function device.htmlSliders is a virtual function."),[]}get namedHtmlSliders(){return{name:this.key,selectionChanged:this.selectionChanged,deviceType:"other",deviceSelected:this.selected,adjacencyList:this.adjacentDevices,value:this.htmlSliders}}}class rt extends hl{constructor(s=[],i,n,o,r,a,l=!1,f="main"){super(s,new le().translate(i).mirror(l,!1).scale(1/30),f);m(this,"voltageDrop");m(this,"vplus");m(this,"vminus");m(this,"schematicEffects");m(this,"current");m(this,"fixedAt");m(this,"isDuplicate",!1);m(this,"mouseDownInsideSelectionArea",!1);m(this,"htmlSlider");m(this,"sliderSelected",V(!1));this.vplus=o,this.vminus=n,this.fixedAt=a,a=="gnd"?this.voltageDrop=new js(this.transformations,n,o,"toNode",0,0,50,mt(40),mt(80),!0,0,5,r,this.sliderSelected,"visible",f):this.voltageDrop=new js(this.transformations.concat([V(new le().mirror(!1,!0))]),n,o,"fromNode",0,0,50,mt(40),mt(80),!0,0,5,r,this.sliderSelected,"visible",f),this.schematicEffects={},this.current=0,this.htmlSlider=this.voltageDrop.toHtmlSlider(),this.anchorPoints={Vplus:{x:0,y:-30},Vminus:{x:0,y:30},vdd:{x:0,y:-60},gnd:{x:0,y:60}}}get htmlSliders(){return[this.htmlSlider]}copy(s,i="main"){const n=new rt([s].concat(this.transformations.slice(1)),{x:0,y:0},this.vminus,this.vplus,this.voltageDrop.displayText,this.fixedAt,this.fixedAt=="gnd"==this.transformationMatrix.isMirrored,i);return n.transformations[n.transformations.length-1].value=new le,n}draw(s){this.transformationMatrix.transformCanvas(s),this.drawSelectedHalo(s);const i=30,n=11,o=10;s.strokeStyle="black",s.lineWidth=this.localLineThickness;const r=[],a=[{start:{x:n/2,y:-o},end:{x:-n/2,y:-o}},{start:{x:0,y:-o-n/2},end:{x:0,y:-o+n/2}},{start:{x:n/2,y:o},end:{x:-n/2,y:o}}],l=[{center:{x:0,y:0},outerDiameter:2*i}];Kt(s,r,this.localLineThickness,"black"),Kt(s,a,this.localLineThickness*.8,"black"),Ko(s,l,this.localLineThickness,"black"),this.voltageDrop.draw(s)}}const uu=55,hu=30,mo=(e,t=0,s=5,i=0)=>{const n=e-i,o=t-i,r=s-i,a=.0256,l=.648,f=.8051,c=164e-8,d=c*Math.log(1+Math.exp((f*(n-l)-o)/(2*a)))**2+1e-15,v=c*Math.log(1+Math.exp((f*(n-l)-r)/(2*a)))**2;let p=1;if(Ys.value){const k=uu;p=1+(s-t)/k}const b=(d-v)*p,x=b/d;return{I:b,IF:d,saturationLevel:x}},vo=(e,t=5,s=0,i=5)=>{const n=i-e,o=i-t,r=i-s,a=.0256,l=.7283,f=.7609,c=6108e-10,d=c*Math.log(1+Math.exp((f*(n-l)-o)/(2*a)))**2+1e-15,v=c*Math.log(1+Math.exp((f*(n-l)-r)/(2*a)))**2;let p=1;if(Ys.value){const k=hu;p=1+(t-s)/k}const b=(d-v)*p,x=b/d;return{I:b,IF:d,saturationLevel:x}};function Ln(e){for(var t=e.length/6|0,s=new Array(t),i=0;i<t;)s[i]="#"+e.slice(i*6,++i*6);return s}function On(e){var t=e.length;return function(s){return e[Math.max(0,Math.min(t-1,Math.floor(s*t)))]}}On(Ln("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));On(Ln("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));var du=On(Ln("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));On(Ln("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function hi(e,t,s){this.k=e,this.x=t,this.y=s}hi.prototype={constructor:hi,scale:function(e){return e===1?this:new hi(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new hi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};hi.prototype;class po{constructor(t=[]){m(this,"dotPath");m(this,"dotPercentage");m(this,"dotSize");m(this,"dotSpacing");m(this,"gradientSize");this.dotPath=t,this.dotPercentage=0,this.dotSize=8,this.dotSpacing=20,t.length==0?this.gradientSize=0:this.gradientSize=Math.sqrt((t[t.length-1].end.x-t[0].start.x)**2+(t[t.length-1].end.y-t[0].start.y)**2)/2}draw(t){const s=this.getMovingDotPositions(this.dotPath,this.dotSpacing).map(n=>({center:n,outerDiameter:this.dotSize})),i=t.createRadialGradient(0,0,0,0,0,this.gradientSize);i.addColorStop(0,"rgba(0, 0, 255, 1)"),i.addColorStop(1,"rgba(0, 0, 255, 0)"),au(t,s,this.dotSize/2,i)}updateDotPositionBasedOnTimestamp(t,s=10){const i=this.getDotSpeedFromCurrent(t);this.dotPercentage=Ks(this.dotPercentage+i*(s/1e3),1)}getMovingDotPositions(t,s){const i=nl(t),n=[],o=Math.floor(i/s);for(let r=0;r<o;r++){const a=(r+this.dotPercentage)/o,l=ot(t,a);n.push(l)}return n}getDotSpeedFromCurrent(t){let n=1,o=!1;return t==0?0:(t<0&&(t=Math.abs(t),o=!0),t>1e-4?n=(Math.log10(t/1e-4)+1)**2*1:n=1/(1-Math.log10(t/1e-4))**2*1,n>5*1?n=5*1:n<.001*1&&(n=.001*1),o?-n:n)}}const gu=(e,t)=>Math.floor(e/t)*t,yo=(e,t,s=!1)=>{if(s)return vu(e,t);const i=t-e;let n=10**Math.floor(Math.log10(i));const o=Math.floor(i/n);o>=5?n=n*5:o>=4?n=n*2:o<=2&&(n=n/2);let a=gu(e,n),l=[];for(;a<=t;)l.push(a),a=a+n;return l.push(a),l},mu=e=>Math.abs(Math.round(e)-e)<.1?10**Math.round(3*e):5*10**Math.floor(3*e),vu=(e,t)=>{e<=0&&console.error(`Lower bound, ${e} <= 0. Log will return NaN`);const s=Math.log10(e)/3,i=Math.log10(t)/3;return i-s<1?yo(e,t):yo(s,i).map(mu)},Yi=(e,t,s)=>{if(s<=0)throw new Error("num must be a positive integer");if(s===1)return[e];const i=(t-e)/(s-1),n=[];for(let o=0;o<s;o++)n.push(e+i*o);return n},ks=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,dl=new Set,bo=typeof process=="object"&&process?process:{},gl=(e,t,s,i)=>{typeof bo.emitWarning=="function"?bo.emitWarning(e,t,s,i):console.error(`[${s}] ${t}: ${e}`)};let mn=globalThis.AbortController,Ir=globalThis.AbortSignal;var zr;if(typeof mn>"u"){Ir=class{constructor(){m(this,"onabort");m(this,"_onabort",[]);m(this,"reason");m(this,"aborted",!1)}addEventListener(i,n){this._onabort.push(n)}},mn=class{constructor(){m(this,"signal",new Ir);t()}abort(i){var n,o;if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const r of this.signal._onabort)r(i);(o=(n=this.signal).onabort)==null||o.call(n,i)}}};let e=((zr=bo.env)==null?void 0:zr.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const t=()=>{e&&(e=!1,gl("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const pu=e=>!dl.has(e),rs=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),ml=e=>rs(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?nn:null:null;class nn extends Array{constructor(t){super(t),this.fill(0)}}var Js;const _s=class _s{constructor(t,s){m(this,"heap");m(this,"length");if(!u(_s,Js))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new s(t),this.length=0}static create(t){const s=ml(t);if(!s)return[];K(_s,Js,!0);const i=new _s(t,s);return K(_s,Js,!1),i}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};Js=new WeakMap,ee(_s,Js,!1);let xo=_s;var _t,ut,Ct,At,Xs,Zs,Ie,Dt,We,Ve,te,Qe,ht,Ge,ze,Pt,Be,Lt,Ot,dt,Et,ds,et,Oi,Mo,Cs,Zt,Ei,gt,pn,vl,As,Qs,Wi,jt,as,zt,ls,ki,So,gh,ei,on,ti,rn,ye,Se,Fi,Vo,Ds,di,Bt,cs,Ri,To;const Jo=class Jo{constructor(t){ee(this,Oi);ee(this,pn);ee(this,jt);ee(this,zt);ee(this,ki);ee(this,ei);ee(this,ti);ee(this,ye);ee(this,Fi);ee(this,Ds);ee(this,Bt);ee(this,Ri);ee(this,_t,void 0);ee(this,ut,void 0);ee(this,Ct,void 0);ee(this,At,void 0);ee(this,Xs,void 0);ee(this,Zs,void 0);m(this,"ttl");m(this,"ttlResolution");m(this,"ttlAutopurge");m(this,"updateAgeOnGet");m(this,"updateAgeOnHas");m(this,"allowStale");m(this,"noDisposeOnSet");m(this,"noUpdateTTL");m(this,"maxEntrySize");m(this,"sizeCalculation");m(this,"noDeleteOnFetchRejection");m(this,"noDeleteOnStaleGet");m(this,"allowStaleOnFetchAbort");m(this,"allowStaleOnFetchRejection");m(this,"ignoreFetchAbort");ee(this,Ie,void 0);ee(this,Dt,void 0);ee(this,We,void 0);ee(this,Ve,void 0);ee(this,te,void 0);ee(this,Qe,void 0);ee(this,ht,void 0);ee(this,Ge,void 0);ee(this,ze,void 0);ee(this,Pt,void 0);ee(this,Be,void 0);ee(this,Lt,void 0);ee(this,Ot,void 0);ee(this,dt,void 0);ee(this,Et,void 0);ee(this,ds,void 0);ee(this,et,void 0);ee(this,Cs,()=>{});ee(this,Zt,()=>{});ee(this,Ei,()=>{});ee(this,gt,()=>!1);ee(this,As,t=>{});ee(this,Qs,(t,s,i)=>{});ee(this,Wi,(t,s,i,n)=>{if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});m(this,gh,"LRUCache");const{max:s=0,ttl:i,ttlResolution:n=1,ttlAutopurge:o,updateAgeOnGet:r,updateAgeOnHas:a,allowStale:l,dispose:f,disposeAfter:c,noDisposeOnSet:d,noUpdateTTL:v,maxSize:p=0,maxEntrySize:b=0,sizeCalculation:x,fetchMethod:k,memoMethod:M,noDeleteOnFetchRejection:j,noDeleteOnStaleGet:$,allowStaleOnFetchRejection:L,allowStaleOnFetchAbort:Z,ignoreFetchAbort:D}=t;if(s!==0&&!rs(s))throw new TypeError("max option must be a nonnegative integer");const U=s?ml(s):Array;if(!U)throw new Error("invalid max value: "+s);if(K(this,_t,s),K(this,ut,p),this.maxEntrySize=b||u(this,ut),this.sizeCalculation=x,this.sizeCalculation){if(!u(this,ut)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(M!==void 0&&typeof M!="function")throw new TypeError("memoMethod must be a function if defined");if(K(this,Zs,M),k!==void 0&&typeof k!="function")throw new TypeError("fetchMethod must be a function if specified");if(K(this,Xs,k),K(this,ds,!!k),K(this,We,new Map),K(this,Ve,new Array(s).fill(void 0)),K(this,te,new Array(s).fill(void 0)),K(this,Qe,new U(s)),K(this,ht,new U(s)),K(this,Ge,0),K(this,ze,0),K(this,Pt,xo.create(s)),K(this,Ie,0),K(this,Dt,0),typeof f=="function"&&K(this,Ct,f),typeof c=="function"?(K(this,At,c),K(this,Be,[])):(K(this,At,void 0),K(this,Be,void 0)),K(this,Et,!!u(this,Ct)),K(this,et,!!u(this,At)),this.noDisposeOnSet=!!d,this.noUpdateTTL=!!v,this.noDeleteOnFetchRejection=!!j,this.allowStaleOnFetchRejection=!!L,this.allowStaleOnFetchAbort=!!Z,this.ignoreFetchAbort=!!D,this.maxEntrySize!==0){if(u(this,ut)!==0&&!rs(u(this,ut)))throw new TypeError("maxSize must be a positive integer if specified");if(!rs(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");N(this,pn,vl).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!$,this.updateAgeOnGet=!!r,this.updateAgeOnHas=!!a,this.ttlResolution=rs(n)||n===0?n:1,this.ttlAutopurge=!!o,this.ttl=i||0,this.ttl){if(!rs(this.ttl))throw new TypeError("ttl must be a positive integer if specified");N(this,Oi,Mo).call(this)}if(u(this,_t)===0&&this.ttl===0&&u(this,ut)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!u(this,_t)&&!u(this,ut)){const ne="LRU_CACHE_UNBOUNDED";pu(ne)&&(dl.add(ne),gl("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",ne,Jo))}}static unsafeExposeInternals(t){return{starts:u(t,Ot),ttls:u(t,dt),sizes:u(t,Lt),keyMap:u(t,We),keyList:u(t,Ve),valList:u(t,te),next:u(t,Qe),prev:u(t,ht),get head(){return u(t,Ge)},get tail(){return u(t,ze)},free:u(t,Pt),isBackgroundFetch:s=>{var i;return N(i=t,ye,Se).call(i,s)},backgroundFetch:(s,i,n,o)=>{var r;return N(r=t,ti,rn).call(r,s,i,n,o)},moveToTail:s=>{var i;return N(i=t,Ds,di).call(i,s)},indexes:s=>{var i;return N(i=t,jt,as).call(i,s)},rindexes:s=>{var i;return N(i=t,zt,ls).call(i,s)},isStale:s=>{var i;return u(i=t,gt).call(i,s)}}}get max(){return u(this,_t)}get maxSize(){return u(this,ut)}get calculatedSize(){return u(this,Dt)}get size(){return u(this,Ie)}get fetchMethod(){return u(this,Xs)}get memoMethod(){return u(this,Zs)}get dispose(){return u(this,Ct)}get disposeAfter(){return u(this,At)}getRemainingTTL(t){return u(this,We).has(t)?1/0:0}*entries(){for(const t of N(this,jt,as).call(this))u(this,te)[t]!==void 0&&u(this,Ve)[t]!==void 0&&!N(this,ye,Se).call(this,u(this,te)[t])&&(yield[u(this,Ve)[t],u(this,te)[t]])}*rentries(){for(const t of N(this,zt,ls).call(this))u(this,te)[t]!==void 0&&u(this,Ve)[t]!==void 0&&!N(this,ye,Se).call(this,u(this,te)[t])&&(yield[u(this,Ve)[t],u(this,te)[t]])}*keys(){for(const t of N(this,jt,as).call(this)){const s=u(this,Ve)[t];s!==void 0&&!N(this,ye,Se).call(this,u(this,te)[t])&&(yield s)}}*rkeys(){for(const t of N(this,zt,ls).call(this)){const s=u(this,Ve)[t];s!==void 0&&!N(this,ye,Se).call(this,u(this,te)[t])&&(yield s)}}*values(){for(const t of N(this,jt,as).call(this))u(this,te)[t]!==void 0&&!N(this,ye,Se).call(this,u(this,te)[t])&&(yield u(this,te)[t])}*rvalues(){for(const t of N(this,zt,ls).call(this))u(this,te)[t]!==void 0&&!N(this,ye,Se).call(this,u(this,te)[t])&&(yield u(this,te)[t])}[Symbol.iterator](){return this.entries()}find(t,s={}){for(const i of N(this,jt,as).call(this)){const n=u(this,te)[i],o=N(this,ye,Se).call(this,n)?n.__staleWhileFetching:n;if(o!==void 0&&t(o,u(this,Ve)[i],this))return this.get(u(this,Ve)[i],s)}}forEach(t,s=this){for(const i of N(this,jt,as).call(this)){const n=u(this,te)[i],o=N(this,ye,Se).call(this,n)?n.__staleWhileFetching:n;o!==void 0&&t.call(s,o,u(this,Ve)[i],this)}}rforEach(t,s=this){for(const i of N(this,zt,ls).call(this)){const n=u(this,te)[i],o=N(this,ye,Se).call(this,n)?n.__staleWhileFetching:n;o!==void 0&&t.call(s,o,u(this,Ve)[i],this)}}purgeStale(){let t=!1;for(const s of N(this,zt,ls).call(this,{allowStale:!0}))u(this,gt).call(this,s)&&(N(this,Bt,cs).call(this,u(this,Ve)[s],"expire"),t=!0);return t}info(t){const s=u(this,We).get(t);if(s===void 0)return;const i=u(this,te)[s],n=N(this,ye,Se).call(this,i)?i.__staleWhileFetching:i;if(n===void 0)return;const o={value:n};if(u(this,dt)&&u(this,Ot)){const r=u(this,dt)[s],a=u(this,Ot)[s];if(r&&a){const l=r-(ks.now()-a);o.ttl=l,o.start=Date.now()}}return u(this,Lt)&&(o.size=u(this,Lt)[s]),o}dump(){const t=[];for(const s of N(this,jt,as).call(this,{allowStale:!0})){const i=u(this,Ve)[s],n=u(this,te)[s],o=N(this,ye,Se).call(this,n)?n.__staleWhileFetching:n;if(o===void 0||i===void 0)continue;const r={value:o};if(u(this,dt)&&u(this,Ot)){r.ttl=u(this,dt)[s];const a=ks.now()-u(this,Ot)[s];r.start=Math.floor(Date.now()-a)}u(this,Lt)&&(r.size=u(this,Lt)[s]),t.unshift([i,r])}return t}load(t){this.clear();for(const[s,i]of t){if(i.start){const n=Date.now()-i.start;i.start=ks.now()-n}this.set(s,i.value,i)}}set(t,s,i={}){var v,p,b,x,k;if(s===void 0)return this.delete(t),this;const{ttl:n=this.ttl,start:o,noDisposeOnSet:r=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=i;let{noUpdateTTL:f=this.noUpdateTTL}=i;const c=u(this,Wi).call(this,t,s,i.size||0,a);if(this.maxEntrySize&&c>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),N(this,Bt,cs).call(this,t,"set"),this;let d=u(this,Ie)===0?void 0:u(this,We).get(t);if(d===void 0)d=u(this,Ie)===0?u(this,ze):u(this,Pt).length!==0?u(this,Pt).pop():u(this,Ie)===u(this,_t)?N(this,ei,on).call(this,!1):u(this,Ie),u(this,Ve)[d]=t,u(this,te)[d]=s,u(this,We).set(t,d),u(this,Qe)[u(this,ze)]=d,u(this,ht)[d]=u(this,ze),K(this,ze,d),Bi(this,Ie)._++,u(this,Qs).call(this,d,c,l),l&&(l.set="add"),f=!1;else{N(this,Ds,di).call(this,d);const M=u(this,te)[d];if(s!==M){if(u(this,ds)&&N(this,ye,Se).call(this,M)){M.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:j}=M;j!==void 0&&!r&&(u(this,Et)&&((v=u(this,Ct))==null||v.call(this,j,t,"set")),u(this,et)&&((p=u(this,Be))==null||p.push([j,t,"set"])))}else r||(u(this,Et)&&((b=u(this,Ct))==null||b.call(this,M,t,"set")),u(this,et)&&((x=u(this,Be))==null||x.push([M,t,"set"])));if(u(this,As).call(this,d),u(this,Qs).call(this,d,c,l),u(this,te)[d]=s,l){l.set="replace";const j=M&&N(this,ye,Se).call(this,M)?M.__staleWhileFetching:M;j!==void 0&&(l.oldValue=j)}}else l&&(l.set="update")}if(n!==0&&!u(this,dt)&&N(this,Oi,Mo).call(this),u(this,dt)&&(f||u(this,Ei).call(this,d,n,o),l&&u(this,Zt).call(this,l,d)),!r&&u(this,et)&&u(this,Be)){const M=u(this,Be);let j;for(;j=M==null?void 0:M.shift();)(k=u(this,At))==null||k.call(this,...j)}return this}pop(){var t;try{for(;u(this,Ie);){const s=u(this,te)[u(this,Ge)];if(N(this,ei,on).call(this,!0),N(this,ye,Se).call(this,s)){if(s.__staleWhileFetching)return s.__staleWhileFetching}else if(s!==void 0)return s}}finally{if(u(this,et)&&u(this,Be)){const s=u(this,Be);let i;for(;i=s==null?void 0:s.shift();)(t=u(this,At))==null||t.call(this,...i)}}}has(t,s={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:n}=s,o=u(this,We).get(t);if(o!==void 0){const r=u(this,te)[o];if(N(this,ye,Se).call(this,r)&&r.__staleWhileFetching===void 0)return!1;if(u(this,gt).call(this,o))n&&(n.has="stale",u(this,Zt).call(this,n,o));else return i&&u(this,Cs).call(this,o),n&&(n.has="hit",u(this,Zt).call(this,n,o)),!0}else n&&(n.has="miss");return!1}peek(t,s={}){const{allowStale:i=this.allowStale}=s,n=u(this,We).get(t);if(n===void 0||!i&&u(this,gt).call(this,n))return;const o=u(this,te)[n];return N(this,ye,Se).call(this,o)?o.__staleWhileFetching:o}async fetch(t,s={}){const{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:r=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:v=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:b=this.allowStaleOnFetchAbort,context:x,forceRefresh:k=!1,status:M,signal:j}=s;if(!u(this,ds))return M&&(M.fetch="get"),this.get(t,{allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,status:M});const $={allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,ttl:r,noDisposeOnSet:a,size:l,sizeCalculation:f,noUpdateTTL:c,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:v,allowStaleOnFetchAbort:b,ignoreFetchAbort:p,status:M,signal:j};let L=u(this,We).get(t);if(L===void 0){M&&(M.fetch="miss");const Z=N(this,ti,rn).call(this,t,L,$,x);return Z.__returned=Z}else{const Z=u(this,te)[L];if(N(this,ye,Se).call(this,Z)){const oe=i&&Z.__staleWhileFetching!==void 0;return M&&(M.fetch="inflight",oe&&(M.returnedStale=!0)),oe?Z.__staleWhileFetching:Z.__returned=Z}const D=u(this,gt).call(this,L);if(!k&&!D)return M&&(M.fetch="hit"),N(this,Ds,di).call(this,L),n&&u(this,Cs).call(this,L),M&&u(this,Zt).call(this,M,L),Z;const U=N(this,ti,rn).call(this,t,L,$,x),z=U.__staleWhileFetching!==void 0&&i;return M&&(M.fetch=D?"stale":"refresh",z&&D&&(M.returnedStale=!0)),z?U.__staleWhileFetching:U.__returned=U}}async forceFetch(t,s={}){const i=await this.fetch(t,s);if(i===void 0)throw new Error("fetch() returned undefined");return i}memo(t,s={}){const i=u(this,Zs);if(!i)throw new Error("no memoMethod provided to constructor");const{context:n,forceRefresh:o,...r}=s,a=this.get(t,r);if(!o&&a!==void 0)return a;const l=i(t,a,{options:r,context:n});return this.set(t,l,r),l}get(t,s={}){const{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:r}=s,a=u(this,We).get(t);if(a!==void 0){const l=u(this,te)[a],f=N(this,ye,Se).call(this,l);return r&&u(this,Zt).call(this,r,a),u(this,gt).call(this,a)?(r&&(r.get="stale"),f?(r&&i&&l.__staleWhileFetching!==void 0&&(r.returnedStale=!0),i?l.__staleWhileFetching:void 0):(o||N(this,Bt,cs).call(this,t,"expire"),r&&i&&(r.returnedStale=!0),i?l:void 0)):(r&&(r.get="hit"),f?l.__staleWhileFetching:(N(this,Ds,di).call(this,a),n&&u(this,Cs).call(this,a),l))}else r&&(r.get="miss")}delete(t){return N(this,Bt,cs).call(this,t,"delete")}clear(){return N(this,Ri,To).call(this,"delete")}};gh=Symbol.toStringTag,_t=new WeakMap,ut=new WeakMap,Ct=new WeakMap,At=new WeakMap,Xs=new WeakMap,Zs=new WeakMap,Ie=new WeakMap,Dt=new WeakMap,We=new WeakMap,Ve=new WeakMap,te=new WeakMap,Qe=new WeakMap,ht=new WeakMap,Ge=new WeakMap,ze=new WeakMap,Pt=new WeakMap,Be=new WeakMap,Lt=new WeakMap,Ot=new WeakMap,dt=new WeakMap,Et=new WeakMap,ds=new WeakMap,et=new WeakMap,Oi=new WeakSet,Mo=function(){const t=new nn(u(this,_t)),s=new nn(u(this,_t));K(this,dt,t),K(this,Ot,s),K(this,Ei,(o,r,a=ks.now())=>{if(s[o]=r!==0?a:0,t[o]=r,r!==0&&this.ttlAutopurge){const l=setTimeout(()=>{u(this,gt).call(this,o)&&N(this,Bt,cs).call(this,u(this,Ve)[o],"expire")},r+1);l.unref&&l.unref()}}),K(this,Cs,o=>{s[o]=t[o]!==0?ks.now():0}),K(this,Zt,(o,r)=>{if(t[r]){const a=t[r],l=s[r];if(!a||!l)return;o.ttl=a,o.start=l,o.now=i||n();const f=o.now-l;o.remainingTTL=a-f}});let i=0;const n=()=>{const o=ks.now();if(this.ttlResolution>0){i=o;const r=setTimeout(()=>i=0,this.ttlResolution);r.unref&&r.unref()}return o};this.getRemainingTTL=o=>{const r=u(this,We).get(o);if(r===void 0)return 0;const a=t[r],l=s[r];if(!a||!l)return 1/0;const f=(i||n())-l;return a-f},K(this,gt,o=>{const r=s[o],a=t[o];return!!a&&!!r&&(i||n())-r>a})},Cs=new WeakMap,Zt=new WeakMap,Ei=new WeakMap,gt=new WeakMap,pn=new WeakSet,vl=function(){const t=new nn(u(this,_t));K(this,Dt,0),K(this,Lt,t),K(this,As,s=>{K(this,Dt,u(this,Dt)-t[s]),t[s]=0}),K(this,Wi,(s,i,n,o)=>{if(N(this,ye,Se).call(this,i))return 0;if(!rs(n))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(n=o(i,s),!rs(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n}),K(this,Qs,(s,i,n)=>{if(t[s]=i,u(this,ut)){const o=u(this,ut)-t[s];for(;u(this,Dt)>o;)N(this,ei,on).call(this,!0)}K(this,Dt,u(this,Dt)+t[s]),n&&(n.entrySize=i,n.totalCalculatedSize=u(this,Dt))})},As=new WeakMap,Qs=new WeakMap,Wi=new WeakMap,jt=new WeakSet,as=function*({allowStale:t=this.allowStale}={}){if(u(this,Ie))for(let s=u(this,ze);!(!N(this,ki,So).call(this,s)||((t||!u(this,gt).call(this,s))&&(yield s),s===u(this,Ge)));)s=u(this,ht)[s]},zt=new WeakSet,ls=function*({allowStale:t=this.allowStale}={}){if(u(this,Ie))for(let s=u(this,Ge);!(!N(this,ki,So).call(this,s)||((t||!u(this,gt).call(this,s))&&(yield s),s===u(this,ze)));)s=u(this,Qe)[s]},ki=new WeakSet,So=function(t){return t!==void 0&&u(this,We).get(u(this,Ve)[t])===t},ei=new WeakSet,on=function(t){var o,r;const s=u(this,Ge),i=u(this,Ve)[s],n=u(this,te)[s];return u(this,ds)&&N(this,ye,Se).call(this,n)?n.__abortController.abort(new Error("evicted")):(u(this,Et)||u(this,et))&&(u(this,Et)&&((o=u(this,Ct))==null||o.call(this,n,i,"evict")),u(this,et)&&((r=u(this,Be))==null||r.push([n,i,"evict"]))),u(this,As).call(this,s),t&&(u(this,Ve)[s]=void 0,u(this,te)[s]=void 0,u(this,Pt).push(s)),u(this,Ie)===1?(K(this,Ge,K(this,ze,0)),u(this,Pt).length=0):K(this,Ge,u(this,Qe)[s]),u(this,We).delete(i),Bi(this,Ie)._--,s},ti=new WeakSet,rn=function(t,s,i,n){const o=s===void 0?void 0:u(this,te)[s];if(N(this,ye,Se).call(this,o))return o;const r=new mn,{signal:a}=i;a==null||a.addEventListener("abort",()=>r.abort(a.reason),{signal:r.signal});const l={signal:r.signal,options:i,context:n},f=(x,k=!1)=>{const{aborted:M}=r.signal,j=i.ignoreFetchAbort&&x!==void 0;if(i.status&&(M&&!k?(i.status.fetchAborted=!0,i.status.fetchError=r.signal.reason,j&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),M&&!j&&!k)return d(r.signal.reason);const $=p;return u(this,te)[s]===p&&(x===void 0?$.__staleWhileFetching?u(this,te)[s]=$.__staleWhileFetching:N(this,Bt,cs).call(this,t,"fetch"):(i.status&&(i.status.fetchUpdated=!0),this.set(t,x,l.options))),x},c=x=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=x),d(x)),d=x=>{const{aborted:k}=r.signal,M=k&&i.allowStaleOnFetchAbort,j=M||i.allowStaleOnFetchRejection,$=j||i.noDeleteOnFetchRejection,L=p;if(u(this,te)[s]===p&&(!$||L.__staleWhileFetching===void 0?N(this,Bt,cs).call(this,t,"fetch"):M||(u(this,te)[s]=L.__staleWhileFetching)),j)return i.status&&L.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),L.__staleWhileFetching;if(L.__returned===L)throw x},v=(x,k)=>{var j;const M=(j=u(this,Xs))==null?void 0:j.call(this,t,o,l);M&&M instanceof Promise&&M.then($=>x($===void 0?void 0:$),k),r.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(x(void 0),i.allowStaleOnFetchAbort&&(x=$=>f($,!0)))})};i.status&&(i.status.fetchDispatched=!0);const p=new Promise(v).then(f,c),b=Object.assign(p,{__abortController:r,__staleWhileFetching:o,__returned:void 0});return s===void 0?(this.set(t,b,{...l.options,status:void 0}),s=u(this,We).get(t)):u(this,te)[s]=b,b},ye=new WeakSet,Se=function(t){if(!u(this,ds))return!1;const s=t;return!!s&&s instanceof Promise&&s.hasOwnProperty("__staleWhileFetching")&&s.__abortController instanceof mn},Fi=new WeakSet,Vo=function(t,s){u(this,ht)[s]=t,u(this,Qe)[t]=s},Ds=new WeakSet,di=function(t){t!==u(this,ze)&&(t===u(this,Ge)?K(this,Ge,u(this,Qe)[t]):N(this,Fi,Vo).call(this,u(this,ht)[t],u(this,Qe)[t]),N(this,Fi,Vo).call(this,u(this,ze),t),K(this,ze,t))},Bt=new WeakSet,cs=function(t,s){var n,o,r,a;let i=!1;if(u(this,Ie)!==0){const l=u(this,We).get(t);if(l!==void 0)if(i=!0,u(this,Ie)===1)N(this,Ri,To).call(this,s);else{u(this,As).call(this,l);const f=u(this,te)[l];if(N(this,ye,Se).call(this,f)?f.__abortController.abort(new Error("deleted")):(u(this,Et)||u(this,et))&&(u(this,Et)&&((n=u(this,Ct))==null||n.call(this,f,t,s)),u(this,et)&&((o=u(this,Be))==null||o.push([f,t,s]))),u(this,We).delete(t),u(this,Ve)[l]=void 0,u(this,te)[l]=void 0,l===u(this,ze))K(this,ze,u(this,ht)[l]);else if(l===u(this,Ge))K(this,Ge,u(this,Qe)[l]);else{const c=u(this,ht)[l];u(this,Qe)[c]=u(this,Qe)[l];const d=u(this,Qe)[l];u(this,ht)[d]=u(this,ht)[l]}Bi(this,Ie)._--,u(this,Pt).push(l)}}if(u(this,et)&&((r=u(this,Be))!=null&&r.length)){const l=u(this,Be);let f;for(;f=l==null?void 0:l.shift();)(a=u(this,At))==null||a.call(this,...f)}return i},Ri=new WeakSet,To=function(t){var s,i,n;for(const o of N(this,zt,ls).call(this,{allowStale:!0})){const r=u(this,te)[o];if(N(this,ye,Se).call(this,r))r.__abortController.abort(new Error("deleted"));else{const a=u(this,Ve)[o];u(this,Et)&&((s=u(this,Ct))==null||s.call(this,r,a,t)),u(this,et)&&((i=u(this,Be))==null||i.push([r,a,t]))}}if(u(this,We).clear(),u(this,te).fill(void 0),u(this,Ve).fill(void 0),u(this,dt)&&u(this,Ot)&&(u(this,dt).fill(0),u(this,Ot).fill(0)),u(this,Lt)&&u(this,Lt).fill(0),K(this,Ge,0),K(this,ze,0),u(this,Pt).length=0,K(this,Dt,0),K(this,Ie,0),u(this,et)&&u(this,Be)){const o=u(this,Be);let r;for(;r=o==null?void 0:o.shift();)(n=u(this,At))==null||n.call(this,...r)}};let wo=Jo;const $e=class $e extends qo{constructor(s=[],i,n,o,r,a,l,f,c,d,v=5,p="x Var",b="y Var",x="xUnit",k="yUnit",M="linear",j="log",$=250,L=200,Z,D="visible",U="main"){const ne=d,z=n=="Vgs"?a:f;super(s,new le().translate({x:o,y:r}),ne,z,"toNode",0,v,Z,"hidden",D,U);m(this,"points");m(this,"xAxisLabel");m(this,"yAxisLabel");m(this,"xUnit");m(this,"yUnit");m(this,"width");m(this,"height");m(this,"axesWidth");m(this,"axesHeight");m(this,"cornerToCornerGraph",!0);m(this,"plottingValues",[]);m(this,"yValue",0);m(this,"pointsCache",new wo({max:1e3}));m(this,"cacheAttempts",0);m(this,"cacheHits",0);m(this,"memoize",!1);m(this,"Vg");m(this,"Vs");m(this,"Vd");m(this,"Vb");m(this,"mosfetType");m(this,"chartType");m(this,"originalMaxValue");m(this,"xScaleType");m(this,"yScaleType");m(this,"yMin",0);m(this,"yMax",0);m(this,"xTicks",[]);m(this,"yTicks",[]);m(this,"xScale",0);m(this,"yScale",0);m(this,"boundingBox");this.transformationMatrix.isMirrored&&this.transformations[this.transformations.length-1].value.mirror(!0,!1,!0),this.transformations[this.transformations.length-1].value.rotate(-this.transformationMatrix.rotation,!0),this.transformations[this.transformations.length-1].value.mirror(!1,!0,!0),n=="Vgs"?this.transformations[this.transformations.length-1].value.translate({x:-$/2,y:0},!0):this.transformations[this.transformations.length-1].value.translate({x:-$/2,y:-L},!0),this.transformations[this.transformations.length-1].value.translate({x:$e.paddingL,y:$e.paddingB},!0),this.displayText=p,this.points=[],this.xAxisLabel=p,this.yAxisLabel=b,this.xUnit=x,this.yUnit=k,this.xScaleType=M,this.yScaleType=j,this.width=$,this.height=L,this.axesWidth=$-$e.paddingL-$e.paddingR,this.axesHeight=L-$e.paddingT-$e.paddingB,this.Vg=a,this.Vs=l,this.Vd=f,this.Vb=c,this.mosfetType=i,this.chartType=n,this.originalMaxValue=v,this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.maxValue,this.boundingBox=[new q(this.transformations,{x:-100,y:0}),new q(this.transformations,{x:100,y:0}),new q(this.transformations,{x:0,y:-100}),new q(this.transformations,{x:0,y:100})]}copy(s,i="main"){return new $e([s],this.mosfetType,this.chartType,0,0,this.Vg,this.Vs,this.Vd,this.Vb,this.fromNode,this.maxValue,this.xAxisLabel,this.yAxisLabel,this.xUnit,this.yUnit,this.xScaleType,this.yScaleType,this.width,this.height,this.selected,this.visibility,i)}draw(s){if(this.visibility=="hidden")return;this.transformationMatrix.transformCanvas(s);const i=this.localLineThickness/2,n=this.localLineThickness/4;this.chartType=="Vgs"?this.sweepGateVoltages():this.sweepDrainVoltages(),this.preciseDragging?this.xTicks=yo(this.temporaryMinValue,this.temporaryMaxValue,this.xScaleType=="log").filter(c=>c>=this.temporaryMinValue&&c<=this.temporaryMaxValue):this.xTicks=[0,1,2,3,4,5],this.chartType=="Vgs"?this.yTicks=[.001,1e-6,1e-9,1e-12].filter(c=>c>=this.yMin&&c<=this.yMax):this.yTicks=[25,50,75,100].filter(c=>c>=this.yMin&&c<=this.yMax);const o=this.xValueToLocation(this.value),r=(this.temporaryMaxValue-this.temporaryMinValue)/4;this.xTicks=this.xTicks.filter(c=>!(this.value-r/2<c&&c<this.value+r/2)),this.plottingValues=this.points.map(c=>({x:this.xValueToLocation(c.x),y:this.yValueToLocation(c.y)})),s.clearRect(-$e.paddingL,-$e.paddingB,this.width,this.height),s.strokeStyle="#000",Kt(s,[{start:{x:0,y:0},end:{x:this.axesWidth,y:0}},{start:{x:0,y:0},end:{x:0,y:this.axesHeight}}],i,"black"),s.font="16px Arial",s.textAlign="center";let a=this.fillTextGlobalReferenceFrame(s,{x:o,y:-16},this.xAxisLabel,!1);s.font="12px Arial",this.fillTextGlobalReferenceFrame(s,{x:a.x,y:a.y+3},ts(this.value,"V"),!1),s.font="18px Arial",this.fillTextGlobalReferenceFrame(s,{x:-30,y:this.axesHeight+6},this.yAxisLabel,!0,!0),s.strokeStyle="#ccc",s.font="12px Arial",s.fillStyle="#000",s.textAlign="center",this.xTicks.forEach(c=>{const d=this.xValueToLocation(c),v=ts(c,this.xUnit);Kt(s,[{start:{x:d,y:0},end:{x:d,y:-5}}],n,"black"),this.fillTextGlobalReferenceFrame(s,{x:d,y:-18},v)}),this.yTicks.forEach(c=>{const d=this.yValueToLocation(c),v=ts(c,this.yUnit);Kt(s,[{start:{x:0,y:d},end:{x:-5,y:d}}],n,"black"),this.fillTextGlobalReferenceFrame(s,{x:-25,y:d-6},v)}),s.strokeStyle="#f00",s.lineWidth=i,s.beginPath(),this.plottingValues.forEach((c,d)=>{d===0?s.moveTo(c.x,c.y):s.lineTo(c.x,c.y)}),s.stroke(),s.lineWidth=n,this.updateLocationBasedOnValue(),s.beginPath(),s.arc(this.location.x,this.location.y,5,0,2*Math.PI),s.fill(),s.moveTo(this.location.x,0),s.lineTo(this.location.x,this.location.y),s.stroke();const l=ts(this.yValue,this.yUnit),f=l.length*5;this.fillTextGlobalReferenceFrame(s,{x:this.location.x<this.axesWidth-f?Math.max(5,this.location.x+f):this.location.x-f,y:Math.max(5,this.location.y-15)},l),Mi.value&&(s.lineWidth=5,s.strokeStyle="black",s.strokeRect(-$e.paddingL,-$e.paddingB,this.width,this.height))}sweepGateVoltages(s=this.width/3){if(this.yMin=1/0,this.yMax=-1/0,Yi(this.minValue,this.maxValue,5).forEach(r=>{const a=this.getMosfetCurrentFromGateVoltage(r);this.yMin=Math.min(this.yMin,a),this.yMax=Math.max(this.yMax,a)}),this.yMax=Math.max(this.yMax,1e-14),this.memoize){this.cacheAttempts+=1;const r=this.pointsCache.get(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage));if(r!==void 0){this.points=r,this.cacheHits+=1;return}}this.points=[];let n={x:0,y:0};Yi(this.temporaryMinValue,this.temporaryMaxValue,s).forEach(r=>{n={x:r,y:this.getMosfetCurrentFromGateVoltage(r)},this.points.push(n)}),this.memoize&&this.pointsCache.set(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage),this.points)}sweepDrainVoltages(s=this.width/3){if(this.points=[],this.yMin=1/0,this.yMax=-1/0,Yi(this.minValue,this.maxValue,5).forEach(r=>{let a=this.getMosfetSaturationFromDrainVoltage(r);a<0&&(a=0),this.yMax=Math.max(this.yMax,a)}),this.yMin=0,this.memoize){this.cacheAttempts+=1;const r=this.pointsCache.get(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vg.value.voltage,this.Vs.value.voltage,this.Vb.value.voltage));if(r!==void 0){this.points=r,this.cacheHits+=1;return}}const n=Yi(this.temporaryMinValue,this.temporaryMaxValue,s);let o={x:0,y:0};n.forEach(r=>{o={x:r,y:this.getMosfetSaturationFromDrainVoltage(r)},o.y<0&&(o.y=0),this.points.push(o)}),this.memoize&&this.pointsCache.set(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vg.value.voltage,this.Vs.value.voltage,this.Vb.value.voltage),this.points)}discretizeArgsForCache(s,i,n,o,r){return JSON.stringify([s.toFixed(3),i.toFixed(3),n.toFixed(3),o.toFixed(3),r.toFixed(3)])}xLocationToValue(s){let i=0;return this.xScaleType=="linear"?i=s/this.axesWidth*(this.temporaryMaxValue-this.temporaryMinValue)+this.temporaryMinValue:i=10**(Math.log10(s)/this.axesWidth*(Math.log10(this.temporaryMaxValue)-Math.log10(this.temporaryMinValue))+Math.log10(this.temporaryMinValue)),i}xValueToLocation(s){return this.xScaleType=="linear"?(s-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue)*this.axesWidth:(Math.log10(s)-Math.log10(this.temporaryMinValue))/(Math.log10(this.temporaryMaxValue)-Math.log10(this.temporaryMinValue))*this.axesWidth}yValueToLocation(s){return this.yScaleType=="linear"?(s-this.yMin)/(this.yMax-this.yMin)*this.axesHeight:(Math.log10(s)-Math.log10(this.yMin))/(Math.log10(this.yMax)-Math.log10(this.yMin))*this.axesHeight}toggleYAxisLog(){this.yScaleType=this.yScaleType==="log"?"linear":"log"}updateLocationBasedOnValue(){const s=this.value;this.chartType=="Vgs"?this.yValue=this.getMosfetCurrentFromGateVoltage(s):this.yValue=this.getMosfetSaturationFromDrainVoltage(s),this.location={x:this.xValueToLocation(s),y:this.yValueToLocation(this.yValue)}}getMosfetCurrentFromGateVoltage(s){return this.mosfetType=="nmos"?mo(s,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage).I:vo(s,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage).I}getMosfetSaturationFromDrainVoltage(s){return this.mosfetType=="nmos"?mo(this.Vg.value.voltage,this.Vs.value.voltage,s,this.Vb.value.voltage).saturationLevel*100:vo(this.Vg.value.voltage,this.Vs.value.voltage,s,this.Vb.value.voltage).saturationLevel*100}updateValueBasedOnMousePosition(s){this.value=this.xLocationToValue(s.x)}mouseDownIntiatesDrag(s){return s.x>0&&s.x<this.axesWidth&&s.y>0&&s.y<this.axesHeight}};m($e,"paddingL",40),m($e,"paddingR",10),m($e,"paddingT",20),m($e,"paddingB",30);let zs=$e;const _e=class _e extends hl{constructor(s=[],i,n,o,r,a,l,f,c,d=3,v=5,p=!1,b="visible",x="visible",k="gate",M="main"){super(s,new le().translate({x:n,y:o}).scale(1/30).mirror(p,i=="pmos"),M);m(this,"mosfetType");m(this,"isDuplicate",!1);m(this,"currentDots");m(this,"gradientSize",100);m(this,"schematicEffects");m(this,"vgs");m(this,"vds");m(this,"Vg");m(this,"Vs");m(this,"Vd");m(this,"Vb");m(this,"gndNode");m(this,"mouseDownInsideSelectionArea",!1);m(this,"vgsChart");m(this,"vdsChart");m(this,"vgsHtmlSlider");m(this,"vdsHtmlSlider");m(this,"vgsSelected",V(!1));m(this,"vdsSelected",V(!1));this.mosfetType=i,this.schematicEffects={gate:{node:r,origin:new q(this.transformations,{x:60,y:0}),color:"red",gradientSize:2},saturation:{node:l,origin:new q(this.transformations,{x:0,y:-60}),color:"red",gradientSize:100}},this.Vg=r,this.Vs=a,this.Vd=l,this.Vb=f,this.gndNode=c,this.anchorPoints={Vg:{x:60,y:0},Vs:{x:0,y:60},Vd:{x:0,y:-60},Vb:{x:0,y:0},SourceSupply:{x:0,y:90},DrainSupply:{x:0,y:-90},Vg_mirror_gate:{x:90,y:0},Vg_mirror_corner:{x:90,y:-90},Vg_mirror_drain:{x:0,y:-90},Vg_drive_gate:{x:120,y:0},Vg_drive_Vsource:{x:120,y:90}};let j="main";M=="mosfet"&&(j="chart"),this.mosfetType=="nmos"?(this.vgs=new js(this.transformations,a,r,"toNode",10,10,60,mt(75),mt(70),!0,0,d,"Vgs",this.vgsSelected,b,M),this.vds=new js(this.transformations,a,l,"toNode",30,0,75,mt(140),mt(80),!1,0,v,"Vds",this.vdsSelected,x,M),this.vgsChart=new zs(this.transformations,i,"Vgs",_e.chartLocations[k].x,_e.chartLocations[k].y,r,a,l,f,c,5,"Vg","Current","V","A","linear","log",200,115,this.vgsSelected,"hidden",j),this.vdsChart=new zs(this.transformations,i,"Vds",_e.chartLocations[k].x,_e.chartLocations[k].y,r,a,l,f,c,5,"Vd","Saturation Level","V","%","linear","linear",200,115,this.vdsSelected,"hidden",j),this.currentDots=new po([{start:{x:-15,y:-60},end:{x:-15,y:60}}])):(this.vgs=new js(this.transformations,r,a,"fromNode",10,10,60,mt(75),mt(70),!0,0,d,"Vsg",this.vgsSelected,b,M),this.vds=new js(this.transformations,l,a,"fromNode",30,0,75,mt(140),mt(80),!1,0,v,"Vsd",this.vdsSelected,x,M),this.vgsChart=new zs(this.transformations,i,"Vgs",_e.chartLocations[k].x,_e.chartLocations[k].y,r,a,l,f,c,5,"Vg","Current","V","A","linear","log",200,115,this.vgsSelected,"hidden",j),this.vdsChart=new zs(this.transformations,i,"Vds",_e.chartLocations[k].x,_e.chartLocations[k].y,r,a,l,f,c,5,"Vd","Saturation Level","V","%","linear","linear",200,115,this.vdsSelected,"hidden",j),this.currentDots=new po([{start:{x:-15,y:60},end:{x:-15,y:-60}}])),this.vgsHtmlSlider=this.vgs.toHtmlSlider(),this.vdsHtmlSlider=this.vds.toHtmlSlider()}get htmlSliders(){return[this.vgsHtmlSlider,this.vdsHtmlSlider]}copy(s,i="main"){const n=new _e([s].concat(this.transformations.slice(1)),this.mosfetType,0,0,this.Vg,this.Vs,this.Vd,this.Vb,this.gndNode,void 0,void 0,this.mosfetType=="nmos"==this.transformationMatrix.isMirrored,this.vgs.visibility,this.vds.visibility,"deviceOrigin",i);return n.vgsChart.visibility="hidden",n.vdsChart.visibility="hidden",n.isDuplicate=!0,n.transformations[n.transformations.length-1].value=new le,n}draw(s){this.transformationMatrix.transformCanvas(s),this.drawSelectedHalo(s);const i=[{start:{x:0,y:20},end:{x:0,y:59}},{start:{x:0,y:20},end:{x:26,y:20}},{start:{x:0,y:-20},end:{x:0,y:-59}},{start:{x:0,y:-20},end:{x:26,y:-20}},{start:{x:26,y:-40},end:{x:26,y:40}}],n=this.mosfetType=="nmos"?[{start:{x:40,y:30},end:{x:40,y:-30}},{start:{x:40,y:0},end:{x:60,y:0}}]:[{start:{x:40,y:30},end:{x:40,y:-30}},{start:{x:50,y:0},end:{x:60,y:0}}],o=this.mosfetType=="nmos"?[]:[{center:{x:45,y:0},outerDiameter:10}];this.gradientSize=this.getGradientSizeFromSaturationLevel();const a=rl(s,{x:0,y:-60},this.gradientSize,"rgba(200, 200, 200, 1)"),l=this.getForwardCurrentScaled(),f=this.getGateColorFromForwardCurrent();Kt(s,i,this.localLineThickness,"black"),Kt(s,n,this.localLineThickness,f),Ko(s,o,this.localLineThickness,f),cl(s,i,this.localLineThickness,a),this.schematicEffects.saturation.gradientSize=this.gradientSize/30*3.5,this.schematicEffects.saturation.color="rgba(200, 200, 200, 1)",this.schematicEffects.gate.gradientSize=l*3.5,this.schematicEffects.gate.color=f,this.currentDots.draw(s);const c=ts(this.current,"A");let d="";for(const b of c)"-0123456789.".indexOf(b)>-1&&(d+=b);const v=c.slice(d.length);s.fillStyle="black",s.font="14px sans-serif";const p=this.fillTextGlobalReferenceFrame(s,{x:20,y:this.mosfetType=="nmos"?-3:3},d,!0,!0,14);s.font="14px sans-serif",this.fillTextGlobalReferenceFrame(s,p,v,!0,!0),this.vgsChart.draw(s),this.vdsChart.draw(s),this.vgs.draw(s),this.vds.draw(s)}toggleSelected(){this.showCharts.value?(this.showCharts.value=!1,this.vgsChart.visibility="hidden",this.vdsChart.visibility="hidden"):(this.showCharts.value=!0,this.vgsChart.visibility=this.vgs.visibility,this.vdsChart.visibility=this.vds.visibility)}get current(){return this.getMosfetCurrent()}get saturationLevel(){return this.getMosfetSaturationLevel()}get forwardCurrent(){return this.getMosfetForwardCurrent()}getMosfetEkvResult(){return this.mosfetType=="pmos"?vo(this.Vg.value.voltage,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage):mo(this.Vg.value.voltage,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage)}getMosfetCurrent(){return this.getMosfetEkvResult().I}getMosfetSaturationLevel(){return this.getMosfetEkvResult().saturationLevel}getMosfetForwardCurrent(){return this.getMosfetEkvResult().IF}getGradientSizeFromSaturationLevel(){return this.getRelativeScaling()*60*Pe(0,1,1-this.saturationLevel)}getForwardCurrentScaled(){return Pe(0,1,Math.log10(this.forwardCurrent/.005)*.2+1)}getGateColorFromForwardCurrent(){const s=this.getForwardCurrentScaled();return du(s)}};m(_e,"chartWidth",200),m(_e,"chartHeight",120),m(_e,"chartLocations",{base:{x:-_e.chartWidth/2-100,y:0},lowerBase:{x:-_e.chartWidth/2-100,y:100},gate:{x:_e.chartWidth/2+120,y:0},furtherGate:{x:_e.chartWidth/2+150,y:0},voltageSource:{x:_e.chartWidth/2+240,y:0},lowerVoltageSource:{x:_e.chartWidth/2+240,y:100},mirrorDriver:{x:_e.chartWidth/2+110,y:-_e.chartHeight-20},mirrorReceiver:{x:_e.chartWidth/2+50,y:-_e.chartHeight-20},deviceOrigin:{x:0,y:0}});let Ae=_e;class ii extends He{constructor(s,i,n,o,r=new ss,a={},l={},f={},c=new le){super([V(new le)],new le);m(this,"name");m(this,"boundingBox");m(this,"schematic");m(this,"devices");m(this,"selectedDeviceCharts",[]);m(this,"selectedDeviceChartsBoundingBox");m(this,"selectedDeviceChartsTransformationMatrix",V(new le));m(this,"selectedDeviceKey","none");m(this,"nodes");m(this,"textTransformationMatrix");m(this,"originalTextTransformationMatrix");m(this,"circuitCopy");m(this,"anyDevicesSelected",!1);m(this,"moveTectonicPlatesWhileDragging",!0);this.name=s,this.boundingBox=[new q(this.transformations,{x:i.x-n/2,y:i.y-o/2}),new q(this.transformations,{x:i.x+n/2,y:i.y-o/2}),new q(this.transformations,{x:i.x-n/2,y:i.y+o/2}),new q(this.transformations,{x:i.x+n/2,y:i.y+o/2})],this.schematic=r,this.devices={mosfets:a,voltageSources:l},this.nodes=f,this.originalTextTransformationMatrix=c,this.textTransformationMatrix=this.transformationMatrix.scale(1/uo).multiply(this.originalTextTransformationMatrix),this.circuitCopy=this.copy(),this.selectedDeviceChartsBoundingBox=[new q(this.transformations,{x:-120,y:0}),new q(this.transformations,{x:120,y:0}),new q(this.transformations,{x:0,y:-120}),new q(this.transformations,{x:0,y:120})],He.circuitTransformationMatrix=this.transformationMatrix,He.textTransformationMatrix=this.textTransformationMatrix}assignKeysToDevices(){Object.entries(this.devices.mosfets).forEach(([s,i])=>{i.key=s}),Object.entries(this.devices.voltageSources).forEach(([s,i])=>{i.key=s})}finishSetup(){var s;this.assignKeysToDevices(),this.circuitCopy=this.copy(),(s=this.circuitCopy)==null||s.assignKeysToDevices(),this.allDevices.forEach(i=>{i.finishSetup()})}get allSliders(){return this.makeListOfSliders()}get htmlSliders(){const s=[];return Object.values(this.devices.voltageSources).sort((i,n)=>i.order-n.order).forEach(i=>{const n=i.namedHtmlSliders;n.deviceType="voltageSource",s.push(n)}),Object.values(this.devices.mosfets).sort((i,n)=>i.order-n.order).forEach(i=>{const n=i.namedHtmlSliders;n.deviceType="mosfet",s.push(n)}),s}get anySlidersDragging(){let s=!1;return this.allSliders.forEach(i=>{i.dragging&&(s=!0)}),s}get allDevices(){const s=Object.values(this.devices.mosfets),i=Object.values(this.devices.voltageSources);return s.concat(i)}copy(){const s=V(new le),i=new yu(this.name,{x:0,y:0},10,10,this.schematic.copy(s),Object.fromEntries(Object.entries(this.devices.mosfets).map(([n,o])=>[n,o.copy(s,"mosfet")])),Object.fromEntries(Object.entries(this.devices.voltageSources).map(([n,o])=>[n,o.copy(s,"mosfet")])),this.nodes,this.textTransformationMatrix);return i.transformations[0]=s,i}draw(s){s.save(),this.setScaleBasedOnBoundingBox(s),this.transformationMatrix.transformCanvas(s),(!this.anySlidersDragging||this.moveTectonicPlatesWhileDragging)&&re.allTectonicPlates.forEach(i=>{i.locationIsFunctionOfChartVisibility||wi.value?i.moveTowardDesiredLocation():i.moveTowardHomeLocation()}),this.schematic.draw(s),Object.values(this.devices.mosfets).forEach(i=>{i.draw(s)}),Object.values(this.devices.voltageSources).forEach(i=>{i.draw(s)}),Mi.value&&this.drawGrid(s),s.restore()}drawSelectedDeviceCharts(s){const i=this.calculateTransformationMatrixBasedOnBoundingBox(s,this.selectedDeviceChartsBoundingBox);this.selectedDeviceChartsTransformationMatrix.value=i,He.textTransformationMatrix.relativeScale=i.relativeScale,this.selectedDeviceCharts.forEach(n=>{n.draw(s)})}setSelectedDevice(s){if(this.circuitCopy&&(this.circuitCopy.boundingBox=s.boundingBox,this.anyDevicesSelected=!0,s.key!=this.selectedDeviceKey))if(this.selectedDeviceKey=s.key,s instanceof Ae){const i=this.circuitCopy.devices.mosfets[s.key];i.vgs.visibility=s.vgs.visibility,i.vds.visibility=s.vds.visibility,i.vgsChart.visibility="hidden",i.vdsChart.visibility="hidden",this.selectedDeviceCharts=[s.vgsChart.copy(this.selectedDeviceChartsTransformationMatrix,"chart"),s.vdsChart.copy(this.selectedDeviceChartsTransformationMatrix,"chart")],this.selectedDeviceCharts[0].visibility=s.vgs.visibility,this.selectedDeviceCharts[1].visibility=s.vds.visibility}else if(s instanceof rt){const i=this.circuitCopy.devices.voltageSources[s.key];i.voltageDrop.visibility=s.voltageDrop.visibility,this.selectedDeviceCharts=[]}else this.selectedDeviceCharts=[]}resetSelectedDevice(){this.selectedDeviceCharts=[],this.anyDevicesSelected=!1,this.selectedDeviceKey="none",this.circuitCopy&&this.circuitCopy.allSliders.forEach(s=>{s.visibility="hidden"})}makeListOfSliders(){const s=[];for(const i in this.devices.mosfets){const n=this.devices.mosfets[i];s.push(n.vgs),s.push(n.vds),s.push(n.vgsChart),s.push(n.vdsChart),s.push(n.vgsHtmlSlider),s.push(n.vdsHtmlSlider)}for(const i in this.devices.voltageSources){const n=this.devices.voltageSources[i];s.push(n.voltageDrop),s.push(n.htmlSlider)}return this.selectedDeviceCharts.forEach(i=>{s.push(i)}),this.circuitCopy?s.concat(this.circuitCopy.allSliders):s}setSlidersActive(s){const i=o=>{s?(o.vgs.visibility="visible",o.vds.visibility="visible",o.vgsHtmlSlider.visibility="visible",o.vdsHtmlSlider.visibility="visible",(o.vgsChart.visibility=="visible"||o.vgsChart.visibility=="locked")&&(o.vgsChart.visibility="visible"),(o.vdsChart.visibility=="visible"||o.vdsChart.visibility=="locked")&&(o.vdsChart.visibility="visible")):(o.vgs.visibility=o.vgs.originalVisibility,o.vds.visibility=o.vds.originalVisibility,o.vgsHtmlSlider.visibility=o.vgsHtmlSlider.originalVisibility,o.vdsHtmlSlider.visibility=o.vdsHtmlSlider.originalVisibility,(o.vgsChart.visibility=="visible"||o.vgsChart.visibility=="locked")&&(o.vgsChart.visibility=o.vgs.visibility),(o.vdsChart.visibility=="visible"||o.vdsChart.visibility=="locked")&&(o.vdsChart.visibility=o.vds.visibility)),o.vgsHtmlSlider.react(),o.vdsHtmlSlider.react()};Object.values(this.devices.mosfets).forEach(o=>{i(o),o.selected.value&&this.circuitCopy&&i(this.circuitCopy.devices.mosfets[o.key])});const n=o=>{s?(o.voltageDrop.visibility="visible",o.htmlSlider.visibility="visible"):(o.voltageDrop.visibility=o.voltageDrop.originalVisibility,o.htmlSlider.visibility=o.htmlSlider.originalVisibility),o.htmlSlider.react()};if(Object.values(this.devices.voltageSources).forEach(o=>{n(o),o.selected.value&&this.circuitCopy&&n(this.circuitCopy.devices.voltageSources[o.key])}),this.selectedDeviceCharts.length>=2)if(s)(this.selectedDeviceCharts[0].visibility=="visible"||this.selectedDeviceCharts[0].visibility=="locked")&&(this.selectedDeviceCharts[0].visibility="visible"),(this.selectedDeviceCharts[1].visibility=="visible"||this.selectedDeviceCharts[1].visibility=="locked")&&(this.selectedDeviceCharts[1].visibility="visible");else{const o=Object.values(this.devices.mosfets).filter(r=>r.selected);if(o.length>=1){const r=o[0];(this.selectedDeviceCharts[0].visibility=="visible"||this.selectedDeviceCharts[0].visibility=="locked")&&(this.selectedDeviceCharts[0].visibility=r.vgs.visibility=="hidden"?"locked":r.vgs.visibility),(this.selectedDeviceCharts[1].visibility=="visible"||this.selectedDeviceCharts[1].visibility=="locked")&&(this.selectedDeviceCharts[1].visibility=r.vds.visibility=="hidden"?"locked":r.vds.visibility)}}}drawGrid(s){this.transformationMatrix.transformCanvas(s);const i=this.transformationMatrix.inverse().transformPoint({x:0,y:0}),n=this.transformationMatrix.inverse().transformPoint({x:ho.value.width*vt.value,y:ho.value.height*vt.value});for(let o=Math.floor(i.x);o<=Math.ceil(n.x);o+=1)for(let r=Math.floor(i.y);r<=Math.ceil(n.y);r+=1){let a=.1;(Ks(o,10)==0||Ks(r,10)==0)&&(a=.2),s.fillStyle="brown",(o==0||r==0)&&(s.fillStyle="black"),s.beginPath(),s.arc(o,r,a,0,2*Math.PI),s.fill()}Ko(s,this.boundingBox.map(o=>({center:o.toPoint(),outerDiameter:2})),.2,"purple")}calculateTransformationMatrixBasedOnBoundingBox(s,i=this.boundingBox){const n=Math.min(...i.map(k=>k.toPoint().x)),o=Math.max(...i.map(k=>k.toPoint().x)),r=Math.min(...i.map(k=>k.toPoint().y)),a=Math.max(...i.map(k=>k.toPoint().y)),l=Math.abs(r-a),f=Math.abs(o-n),c={x:n+f/2,y:r+l/2},d=Math.max(s.canvas.width,1),v=Math.max(s.canvas.height,1),p=Math.min(d/vt.value/f,v/vt.value/l),b={x:(d/vt.value/p-f)/2,y:(v/vt.value/p-l)/2};return new le().scale(vt.value*p).translate(b).translate({x:-c.x+f/2,y:-c.y+l/2})}setScaleBasedOnBoundingBox(s,i=this.boundingBox){this.transformations[1].value=new le,this.transformations[0].value=this.calculateTransformationMatrixBasedOnBoundingBox(s,i),this.textTransformationMatrix=this.transformationMatrix.scale(1/uo).multiply(this.originalTextTransformationMatrix),this.setCtxArtistScale()}setCtxArtistScale(){He.circuitTransformationMatrix=this.transformationMatrix,He.textTransformationMatrix=this.textTransformationMatrix}resetNodeCapacitance(){for(const s in this.nodes){const i=this.nodes[s].value;i.capacitance=i.originalCapacitance}}nodeVoltagesToJson(){const s=Object.fromEntries(Object.entries(this.nodes).map(([n,o])=>[n,o.value.voltage]));return JSON.stringify([this.name,s])}fixedNodeVoltagesToJson(){const s=Object.fromEntries(Object.entries(this.nodes).filter(([o,r])=>r.value.fixed).map(([o,r])=>[o,r.value.voltage])),i=[this.name,s,{earlyEffect:Ys.value}];return JSON.stringify(i)}nodeVoltagesFromJson(s){const i=JSON.parse(s);if(i[0]!=this.name)return!1;let n=!1;const o=i[1];Object.entries(o).forEach(([r,a])=>{this.nodes[r].value.voltage=a,[B,be].includes(r)||(n=!0)}),n&&this.resetNodeCapacitance()}}class yu extends ii{copy(){return null}setCtxArtistScale(){}}class bu{constructor(){m(this,"items",[])}enqueue(t){this.items.push(t)}dequeue(){return this.items.shift()}peek(){return this.items[0]}isEmpty(){return this.items.length===0}size(){return this.items.length}toArray(){return this.items}fill(t,s){this.items=Array(s).fill(t)}}class fe{constructor(t,s){m(this,"voltage");m(this,"netCurrent");m(this,"capacitance");m(this,"originalCapacitance");m(this,"fixed");m(this,"historicVoltages");m(this,"schematicEffects",[]);const i=new bu;i.fill(0,10);const n=s?Qf:Zf;this.voltage=t,this.netCurrent=0,this.capacitance=n,this.originalCapacitance=n,this.fixed=!!s,this.historicVoltages=i}}class je extends He{constructor(t=[],s){super(t,new le().translate(s))}draw(t){this.transformationMatrix.transformCanvas(t);const s=.8;t.strokeStyle="black",t.lineWidth=this.localLineThickness,t.beginPath(),t.moveTo(0,0),t.lineTo(s/2,0),t.lineTo(0,s/2),t.lineTo(-s/2,0),t.lineTo(0,0),t.stroke()}copy(t){return new je([t].concat(this.transformations.slice(1)),{x:0,y:0})}}class wt extends He{constructor(t=[],s){super(t,new le().translate(s))}draw(t){this.transformationMatrix.transformCanvas(t);const s=.8;t.strokeStyle="black",t.lineWidth=this.localLineThickness,t.beginPath(),t.moveTo(s/2,0),t.lineTo(-s/2,0),t.stroke()}copy(t){return new wt([t].concat(this.transformations.slice(1)),{x:0,y:0})}}const xu=()=>{const e=new ii("nMosSingle",{x:0,y:-3},10,20);e.nodes={[B]:V(new fe(he,!0)),[be]:V(new fe(de,!0)),M1_drain:V(new fe(5,!1)),M1_gate:V(new fe(1,!1))};const t=new re(e.transformations,se(()=>ot([{start:{x:0,y:2},end:{x:0,y:-4}}],Pe(he,de,e.nodes.M1_drain.value.voltage)/(de-he)))),s=new re(e.transformations,se(()=>({x:0,y:-4}))),i=new re(e.transformations,se(()=>e.devices.mosfets.M1.showCharts.value?{x:7,y:0}:{x:0,y:0}),!0);return e.boundingBox=[new q(s.transformations,{x:-5,y:-12}),new q(t.transformations,{x:5,y:-12}),new q(e.transformations,{x:-5,y:6}),new q(i.transformations,{x:5,y:6})],e.devices.mosfets={M1:new Ae(e.transformations,"nmos",0,0,e.nodes.M1_gate,e.nodes[B],e.nodes.M1_drain,e.nodes[B],e.nodes[B],3,5,!1,"visible","visible","furtherGate")},e.devices.mosfets.M1.vgsChart.originalVisibility="visible",e.devices.mosfets.M1.vdsChart.originalVisibility="visible",e.devices.voltageSources={Vd:new rt(t.transformations,{x:0,y:-6},e.nodes.M1_drain,e.nodes[be],"Vdd-Vd","vdd",!0)},e.schematic=new ss(e.transformations,[new je(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs"))],[new wt(s.transformations,{x:0,y:-8})],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes.M1_drain,lines:[new E(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vminus"))],voltageDisplayLabel:"Drain",voltageDisplayLocations:[new q(t.transformations,{x:.5,y:-4})]},{node:e.nodes[be],lines:[new E(s.transformations,{x:0,y:-8},...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vplus"))],voltageDisplayLabel:"",voltageDisplayLocations:[]}]),e.devices.mosfets.M1.adjacentDevices={up:"Vd",down:"",left:"",right:""},e.devices.voltageSources.Vd.adjacentDevices={up:"",down:"M1",left:"",right:""},e.finishSetup(),e},wu=()=>{const e=new ii("nMosDiffPair",{x:0,y:4},25,20);e.nodes={[B]:V(new fe(he,!0)),[be]:V(new fe(de,!0)),M1_gate:V(new fe(2,!1)),M2_gate:V(new fe(2,!1)),Mb_gate:V(new fe(.7,!1)),Vnode:V(new fe(1,!1))};const t=new re(e.transformations,se(()=>ot([{start:{x:0,y:1},end:{x:0,y:-7}}],Pe(he,de,Math.max(e.nodes.M1_gate.value.voltage,e.nodes.Vnode.value.voltage))/(de-he)))),s=new re(e.transformations,se(()=>ot([{start:{x:0,y:1},end:{x:0,y:-7}}],Pe(he,de,Math.max(e.nodes.M2_gate.value.voltage,e.nodes.Vnode.value.voltage))/(de-he)))),i=new re(e.transformations,se(()=>ot([{start:{x:0,y:0},end:{x:0,y:-8}}],Pe(he,de,e.nodes.Vnode.value.voltage)/(de-he)))),n=new re(t.transformations,se(()=>e.devices.mosfets.Mb.showCharts.value?{x:5,y:2}:{x:0,y:0}),!0),o=new re(t.transformations,se(()=>e.devices.mosfets.M1.showCharts.value?{x:-8,y:0}:{x:0,y:0}),!0),r=new re(s.transformations,se(()=>e.devices.mosfets.M2.showCharts.value?{x:8,y:0}:{x:0,y:0}),!0);return e.boundingBox=[new q(o.transformations,{x:-11,y:-6}),new q(r.transformations,{x:11,y:-6}),new q(e.transformations,{x:-12,y:13}),new q(e.transformations,{x:12,y:13}),new q(n.transformations,{x:11,y:13})],e.devices.mosfets={Mb:new Ae(e.transformations,"nmos",0,6,e.nodes.Mb_gate,e.nodes[B],e.nodes.Vnode,e.nodes[B],e.nodes[B],void 0,void 0,!1,"locked","locked","lowerVoltageSource"),M1:new Ae(t.transformations,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes[be],e.nodes[B],e.nodes[B],void 0,void 0,!0,"locked","locked","voltageSource"),M2:new Ae(s.transformations,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes[be],e.nodes[B],e.nodes[B],void 0,void 0,!1,"locked","locked","voltageSource")},e.devices.voltageSources={V1:new rt(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.M1_gate,"V1","gnd",!0),V2:new rt(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.M2_gate,"V2","gnd"),Vb:new rt(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new ss(e.transformations,[new je(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new je(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new je(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new je(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],[new wt(...e.devices.mosfets.M1.getAnchorPointWithTransformations("DrainSupply")),new wt(...e.devices.mosfets.M2.getAnchorPointWithTransformations("DrainSupply"))],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes[B],lines:[new E(e.transformations,{x:0,y:8},e.transformations,{x:0,y:9}),new E(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new E(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new E(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes[be],lines:[new E(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("DrainSupply")),new E(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("DrainSupply"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M1_gate,lines:[new E(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate")),new E(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_gate,lines:[new E(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate")),new E(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Mb_gate,lines:[new E(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate")),new E(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vnode,lines:[new E(i.transformations,{x:-4,y:3},...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs")),new E(i.transformations,{x:4,y:3},...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vs")),new E(i.transformations,{x:-4,y:3},i.transformations,{x:4,y:3}),new E(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vd"),i.transformations,{x:0,y:3})],voltageDisplayLabel:"V",voltageDisplayLocations:[new q(i.transformations,{x:-1,y:2.5})]}]),e.devices.mosfets.M1.adjacentDevices={up:"",down:"Mb",left:"V1",right:"M2"},e.devices.mosfets.Mb.adjacentDevices={up:"M1",down:"Vb",left:"",right:"Vb"},e.devices.mosfets.M2.adjacentDevices={up:"",down:"Mb",left:"M1",right:"V2"},e.devices.voltageSources.Vb.adjacentDevices={up:"Mb",down:"",left:"Mb",right:""},e.devices.voltageSources.V1.adjacentDevices={up:"M1",down:"Mb",left:"",right:"M1"},e.devices.voltageSources.V2.adjacentDevices={up:"M2",down:"Vb",left:"M2",right:""},e.finishSetup(),e};class pl extends He{constructor(s=[],i,n,o){super(s,new le().translate(n).scale(1/30));m(this,"node");m(this,"extraNodeLines");m(this,"currentDots");m(this,"gndSymbol");this.node=i,this.extraNodeLines=o,this.currentDots=new po([{start:{x:10,y:-60},end:{x:10,y:60}}]),this.gndSymbol=new je(this.transformations,{x:0,y:30})}draw(s){this.transformationMatrix.scale(.5).transformCanvas(s);const i=7,n=[{start:{x:0,y:50},end:{x:0,y:i}},{start:{x:-30,y:i},end:{x:30,y:i}},{start:{x:-30,y:-i},end:{x:30,y:-i}},{start:{x:0,y:-60},end:{x:0,y:-i}}],o=this.transformationMatrix.transformPath(this.extraNodeLines);Kt(s,n,this.localLineThickness,"black"),Kt(s,o,this.localLineThickness,"black"),s.clearRect(-30-this.localLineThickness,-i+this.localLineThickness/2,60+2*this.localLineThickness,2*i-2*this.localLineThickness/2),this.gndSymbol.draw(s),this.transformationMatrix.scale(.5).transformCanvas(s),this.currentDots.draw(s)}}m(pl,"displayCurrent",!1);const Mu=()=>{const e=new ii("nMos5TransistorOpAmp",{x:0,y:0},25,28);e.nodes={[B]:V(new fe(he,!0)),[be]:V(new fe(de,!0)),M1_gate:V(new fe(2,!1)),M1_drain:V(new fe(4,!1)),M2_gate:V(new fe(2,!1)),Mb_gate:V(new fe(.7,!1)),Vout:V(new fe(4,!1)),Vnode:V(new fe(1,!1))};const t=new re(e.transformations,se(()=>ot([{start:{x:0,y:1},end:{x:0,y:-7}}],Pe(he,de,Math.max(e.nodes.M1_gate.value.voltage,e.nodes.Vnode.value.voltage))/(de-he)))),s=new re(e.transformations,se(()=>ot([{start:{x:0,y:1},end:{x:0,y:-7}}],Pe(he,de,Math.max(e.nodes.M2_gate.value.voltage,e.nodes.Vnode.value.voltage))/(de-he)))),i=new re(e.transformations,se(()=>({x:0,y:-4}))),n=new re(e.transformations,se(()=>ot([{start:{x:0,y:0},end:{x:0,y:-8}}],Pe(he,de,e.nodes.Vnode.value.voltage)/(de-he)))),o=new re(e.transformations,se(()=>ot([{start:{x:0,y:2},end:{x:0,y:-6}}],Pe(he,de,Math.max(e.nodes.Vout.value.voltage,e.nodes.M2_gate.value.voltage-1.25))/(de-he)))),r=new re(t.transformations,se(()=>e.devices.mosfets.Mb.showCharts.value?{x:5,y:2}:{x:0,y:0}),!0),a=new re(t.transformations,se(()=>e.devices.mosfets.M1.showCharts.value?{x:-8,y:0}:{x:0,y:0}),!0),l=new re(s.transformations,se(()=>e.devices.mosfets.M2.showCharts.value?{x:8,y:0}:{x:0,y:0}),!0),f=new re(i.transformations,se(()=>e.devices.mosfets.M3.showCharts.value?{x:-3,y:-3}:{x:0,y:0}),!0),c=new re(i.transformations,se(()=>e.devices.mosfets.M4.showCharts.value?{x:3,y:-3}:{x:0,y:0}),!0);return e.boundingBox=[new q(a.transformations,{x:-12,y:-14}),new q(l.transformations,{x:12,y:-14}),new q(f.transformations,{x:-12,y:-14}),new q(c.transformations,{x:12,y:-14}),new q(e.transformations,{x:-12,y:14}),new q(r.transformations,{x:12,y:14})],e.devices.mosfets={Mb:new Ae(e.transformations,"nmos",0,6,e.nodes.Mb_gate,e.nodes[B],e.nodes.Vnode,e.nodes[B],e.nodes[B],void 0,void 0,!1,"locked","locked","lowerVoltageSource"),M1:new Ae(t.transformations,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes.M1_drain,e.nodes[B],e.nodes[B],void 0,void 0,!0,"locked","locked","voltageSource"),M2:new Ae(s.transformations,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes.Vout,e.nodes[B],e.nodes[B],void 0,void 0,!1,"locked","locked","voltageSource"),M3:new Ae(i.transformations,"pmos",-4,-9,e.nodes.M1_drain,e.nodes[be],e.nodes.M1_drain,e.nodes[be],e.nodes[B],void 0,void 0,!1,"locked","locked","lowerBase"),M4:new Ae(i.transformations,"pmos",4,-9,e.nodes.M1_drain,e.nodes[be],e.nodes.Vout,e.nodes[be],e.nodes[B],void 0,void 0,!0,"locked","locked","lowerBase")},e.devices.voltageSources={V1:new rt(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.M1_gate,"V1","gnd",!0),V2:new rt(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.M2_gate,"V2","gnd"),Vb:new rt(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new ss(e.transformations,[new je(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new je(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new je(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new je(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],[new wt(...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new wt(...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply"))],[new pl(o.transformations,e.nodes.Vout,{x:6,y:-4},[{start:{x:6,y:-5},end:{x:6,y:-4}}])],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes[B],lines:[new E(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new E(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new E(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new E(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes[be],lines:[new E(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new E(...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M1_gate,lines:[new E(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate")),new E(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_gate,lines:[new E(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate")),new E(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Mb_gate,lines:[new E(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate")),new E(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vnode,lines:[new E(n.transformations,{x:-4,y:3},...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs")),new E(n.transformations,{x:4,y:3},...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vs")),new E(n.transformations,{x:-4,y:3},n.transformations,{x:4,y:3}),new E(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vd"),n.transformations,{x:0,y:3})],voltageDisplayLabel:"V",voltageDisplayLocations:[new q(n.transformations,{x:-1,y:2.5})]},{node:e.nodes.M1_drain,lines:[new E(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vd")),new E(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new E(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new E(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vg"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vout,lines:[new E(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vd")),new E(o.transformations,{x:4,y:-5},o.transformations,{x:6,y:-5})],voltageDisplayLabel:"Vout",voltageDisplayLocations:[new q(o.transformations,{x:6.5,y:-5})]}]),e.devices.mosfets.Mb.adjacentDevices={up:"M1",down:"Vb",left:"",right:"Vb"},e.devices.mosfets.M1.adjacentDevices={up:"M3",down:"Mb",left:"V1",right:"M2"},e.devices.mosfets.M2.adjacentDevices={up:"M4",down:"Mb",left:"M1",right:"V2"},e.devices.mosfets.M3.adjacentDevices={up:"",down:"M1",left:"",right:"M4"},e.devices.mosfets.M4.adjacentDevices={up:"",down:"M2",left:"M3",right:""},e.devices.voltageSources.Vb.adjacentDevices={up:"Mb",down:"",left:"Mb",right:"V2"},e.devices.voltageSources.V1.adjacentDevices={up:"M1",down:"Mb",left:"",right:"M1"},e.devices.voltageSources.V2.adjacentDevices={up:"M2",down:"Vb",left:"M2",right:""},e.finishSetup(),e},Su=()=>{const e=new ii("nMos9TransistorOpAmp",{x:10,y:-2},50,30);e.nodes={[B]:V(new fe(he,!0)),[be]:V(new fe(de,!0)),M1_gate:V(new fe(2,!1)),M1_drain:V(new fe(4,!1)),M2_gate:V(new fe(2,!1)),M2_drain:V(new fe(4,!1)),M7_drain:V(new fe(1,!1)),Mb_gate:V(new fe(.7,!1)),Vout:V(new fe(4,!1)),Vnode:V(new fe(1,!1))};const t=new re(e.transformations,se(()=>ot([{start:{x:0,y:1},end:{x:0,y:-7}}],Pe(he,de,Math.max(e.nodes.M1_gate.value.voltage,e.nodes.Vnode.value.voltage))/(de-he)))),s=new re(e.transformations,se(()=>ot([{start:{x:0,y:1},end:{x:0,y:-7}}],Pe(he,de,Math.max(e.nodes.M2_gate.value.voltage,e.nodes.Vnode.value.voltage))/(de-he)))),i=new re(e.transformations,se(()=>({x:0,y:-3}))),n=new re(i.transformations,se(()=>{let x=0;return(e.devices.mosfets.M5.showCharts.value||e.devices.mosfets.M6.showCharts.value)&&(e.devices.mosfets.M2.showCharts.value?x=-7:x=-4),wi.value&&(x-=3),{x:0,y:x}}),!0),o=new re(e.transformations,se(()=>{let x=[e.devices.mosfets.M2.showCharts.value,e.devices.mosfets.M5.showCharts.value,e.devices.mosfets.M6.showCharts.value,e.devices.mosfets.Mb.showCharts.value,e.devices.mosfets.M7.showCharts.value].filter(Boolean).length;return x==0?{x:0,y:0}:x==1?{x:5,y:0}:e.devices.mosfets.Mb.showCharts.value&&e.devices.mosfets.M7.showCharts.value?{x:10,y:0}:e.devices.mosfets.M5.showCharts.value&&e.devices.mosfets.M6.showCharts.value?{x:8,y:0}:{x:5,y:0}}),!0),r=new re(n.transformations,se(()=>o.desiredLocation.value),!0),a=new re(e.transformations,se(()=>ot([{start:{x:0,y:0},end:{x:0,y:-8}}],Pe(he,de,e.nodes.Vnode.value.voltage)/(de-he)))),l=new re(o.transformations,se(()=>({x:0,y:(n.desiredLocation.value.y-o.desiredLocation.value.y)/2})),!0),f=new re(l.transformations,se(()=>{const x=-(n.desiredLocation.value.y-o.desiredLocation.value.y);return ot([{start:{x:0,y:7+x/2},end:{x:0,y:-10-x/2}}],Pe(he,de,e.nodes.Vout.value.voltage)/(de-he))})),c=new re(e.transformations,se(()=>e.devices.mosfets.Mb.showCharts.value||e.devices.mosfets.M7.showCharts.value||e.devices.mosfets.M8.showCharts.value?{x:0,y:2}:{x:0,y:0}),!0),d=new re(e.transformations,se(()=>e.devices.mosfets.M1.showCharts.value?{x:-8,y:0}:{x:0,y:0}),!0),v=new re(n.transformations,se(()=>e.devices.mosfets.M3.showCharts.value?{x:-3,y:-4}:{x:0,y:0}),!0),p=new re(r.transformations,se(()=>e.devices.mosfets.M4.showCharts.value?{x:2,y:-4}:{x:0,y:0}),!0),b=new re(o.transformations,se(()=>e.devices.mosfets.M8.showCharts.value?{x:2,y:2}:{x:0,y:0}),!0);return e.boundingBox=[new q(v.transformations,{x:-12,y:-16}),new q(p.transformations,{x:33,y:-16}),new q(c.transformations,{x:-12,y:12}),new q(d.transformations,{x:-12,y:0}),new q(b.transformations,{x:33,y:12})],e.devices.mosfets={Mb:new Ae(e.transformations,"nmos",0,6,e.nodes.Mb_gate,e.nodes[B],e.nodes.Vnode,e.nodes[B],e.nodes[B],void 0,void 0,!1,"locked","locked","lowerVoltageSource"),M1:new Ae(t.transformations,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes.M1_drain,e.nodes[B],e.nodes[B],void 0,void 0,!0,"locked","locked","voltageSource"),M2:new Ae(s.transformations,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes.M2_drain,e.nodes[B],e.nodes[B],void 0,void 0,!1,"locked","locked","voltageSource"),M3:new Ae(n.transformations,"pmos",-4,-12,e.nodes.M1_drain,e.nodes[be],e.nodes.M1_drain,e.nodes[be],e.nodes[B],void 0,void 0,!1,"locked","locked","lowerBase"),M4:new Ae(r.transformations,"pmos",24,-12,e.nodes.M1_drain,e.nodes[be],e.nodes.Vout,e.nodes[be],e.nodes[B],void 0,void 0,!0,"locked","locked","lowerBase"),M5:new Ae(n.transformations,"pmos",4,-7,e.nodes.M2_drain,e.nodes[be],e.nodes.M2_drain,e.nodes[be],e.nodes[B],void 0,void 0,!1,"locked","locked","mirrorDriver"),M6:new Ae(r.transformations,"pmos",16,-7,e.nodes.M2_drain,e.nodes[be],e.nodes.M7_drain,e.nodes[be],e.nodes[B],void 0,void 0,!0,"locked","locked","mirrorReceiver"),M7:new Ae(o.transformations,"nmos",16,6,e.nodes.M7_drain,e.nodes[B],e.nodes.M7_drain,e.nodes[B],e.nodes[B],void 0,void 0,!1,"locked","locked","lowerBase"),M8:new Ae(o.transformations,"nmos",24,6,e.nodes.M7_drain,e.nodes[B],e.nodes.Vout,e.nodes[B],e.nodes[B],void 0,void 0,!0,"locked","locked","lowerBase")},e.devices.voltageSources={V1:new rt(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.M1_gate,"V1","gnd",!0),V2:new rt(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.M2_gate,"V2","gnd"),Vb:new rt(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[B],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new ss(e.transformations,[new je(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new je(...e.devices.mosfets.M7.getAnchorPointWithTransformations("SourceSupply")),new je(...e.devices.mosfets.M8.getAnchorPointWithTransformations("SourceSupply")),new je(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new je(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new je(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],[new wt(...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new wt(...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply")),new wt(...e.devices.mosfets.M5.getAnchorPointWithTransformations("SourceSupply")),new wt(...e.devices.mosfets.M6.getAnchorPointWithTransformations("SourceSupply"))],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes[B],lines:[new E(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new E(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("SourceSupply")),new E(...e.devices.mosfets.M8.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M8.getAnchorPointWithTransformations("SourceSupply")),new E(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("gnd")),new E(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V1.getAnchorPointWithTransformations("gnd")),new E(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vminus"),...e.devices.voltageSources.V2.getAnchorPointWithTransformations("gnd"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes[be],lines:[new E(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new E(...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply")),new E(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("SourceSupply")),new E(...e.devices.mosfets.M6.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M6.getAnchorPointWithTransformations("SourceSupply"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M1_gate,lines:[new E(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate")),new E(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_gate,lines:[new E(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate")),new E(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Mb_gate,lines:[new E(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate")),new E(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vnode,lines:[new E(a.transformations,{x:-4,y:3},...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs")),new E(a.transformations,{x:4,y:3},...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vs")),new E(a.transformations,{x:-4,y:3},a.transformations,{x:4,y:3}),new E(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vd"),a.transformations,{x:0,y:3})],voltageDisplayLabel:"V",voltageDisplayLocations:[new q(a.transformations,{x:-1,y:2.5})]},{node:e.nodes.M1_drain,lines:[new E(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vd")),new E(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new E(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new E(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vg"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_drain,lines:[new E(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vd")),new E(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M6.getAnchorPointWithTransformations("Vg")),new E(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_corner")),new E(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_corner"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M7_drain,lines:[new E(...e.devices.mosfets.M6.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vd")),new E(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M8.getAnchorPointWithTransformations("Vg")),new E(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_corner")),new E(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_corner"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vout,lines:[new E(...e.devices.mosfets.M8.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vd")),new E(f.transformations,{x:24,y:-3},f.transformations,{x:28,y:-3})],voltageDisplayLabel:"Vout",voltageDisplayLocations:[new q(f.transformations,{x:28.5,y:-3})]}]),e.devices.mosfets.Mb.adjacentDevices={up:"M1",down:"Vb",left:"",right:"Vb"},e.devices.mosfets.M1.adjacentDevices={up:"M3",down:"Mb",left:"V1",right:"M2"},e.devices.mosfets.M2.adjacentDevices={up:"M5",down:"Mb",left:"M1",right:"V2"},e.devices.mosfets.M3.adjacentDevices={up:"",down:"M1",left:"",right:"M4"},e.devices.mosfets.M4.adjacentDevices={up:"",down:"M8",left:"M3",right:""},e.devices.mosfets.M5.adjacentDevices={up:"M3",down:"M2",left:"M3",right:"M6"},e.devices.mosfets.M6.adjacentDevices={up:"M4",down:"M7",left:"M5",right:"M4"},e.devices.mosfets.M7.adjacentDevices={up:"M6",down:"",left:"V2",right:"M8"},e.devices.mosfets.M8.adjacentDevices={up:"M4",down:"",left:"M7",right:""},e.devices.voltageSources.Vb.adjacentDevices={up:"Mb",down:"",left:"Mb",right:"M7"},e.devices.voltageSources.V1.adjacentDevices={up:"M1",down:"Mb",left:"",right:"M1"},e.devices.voltageSources.V2.adjacentDevices={up:"M2",down:"Vb",left:"M2",right:"M7"},e.finishSetup(),e},Vu=()=>{const e=new ii("pMosSingle",{x:0,y:3},10,20);e.nodes={[B]:V(new fe(he,!0)),[be]:V(new fe(de,!0)),M1_drain:V(new fe(2,!1)),M1_gate:V(new fe(1,!1))};const t=new re(e.transformations,se(()=>ot([{start:{x:0,y:4},end:{x:0,y:-2}}],Pe(he,de,e.nodes.M1_drain.value.voltage)/(de-he)))),s=new re(e.transformations,se(()=>({x:0,y:4}))),i=new re(e.transformations,se(()=>e.devices.mosfets.M1.showCharts.value?{x:7,y:0}:{x:0,y:0}),!0);return e.boundingBox=[new q(e.transformations,{x:-5,y:-6}),new q(i.transformations,{x:5,y:-6}),new q(s.transformations,{x:-5,y:12}),new q(s.transformations,{x:5,y:12})],e.devices.mosfets={M1:new Ae(e.transformations,"pmos",0,0,e.nodes.M1_gate,e.nodes[be],e.nodes.M1_drain,e.nodes[be],e.nodes[B],3,5,!1,"visible","visible","furtherGate")},e.devices.mosfets.M1.vgsChart.originalVisibility="visible",e.devices.mosfets.M1.vdsChart.originalVisibility="visible",e.devices.voltageSources={Vd:new rt(t.transformations,{x:0,y:6},e.nodes[B],e.nodes.M1_drain,"Vd","gnd",!0)},e.schematic=new ss(e.transformations,[new je(s.transformations,{x:0,y:8})],[new wt(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs"))],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes.M1_drain,lines:[new E(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vplus"))],voltageDisplayLabel:"Drain",voltageDisplayLocations:[new q(t.transformations,{x:.5,y:4.5})]},{node:e.nodes[B],lines:[new E(s.transformations,{x:0,y:8},...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vminus"))],voltageDisplayLabel:"",voltageDisplayLocations:[]}]),e.devices.mosfets.M1.adjacentDevices={up:"",down:"Vd",left:"",right:""},e.devices.voltageSources.Vd.adjacentDevices={up:"M1",down:"",left:"",right:""},e.finishSetup(),e},Li={nMosSingle:xu(),nMosDiffPair:wu(),pMosSingle:Vu(),nMos5TransistorOpAmp:Mu(),nMos9TransistorOpAmp:Su()},Tu={style:{"margin-right":"10px","text-align":"right"}},_u={style:{display:"flex","margin-bottom":"-30px",width:"100px"}},Cu={style:{display:"flex","margin-top":"15px","margin-bottom":"15px"}},Au={style:{display:"flex","margin-top":"-30px",width:"100px"}},Du=Es({__name:"Switch",props:{labelUp:{},labelDown:{},option:{},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,i=typeof s.modelValue=="boolean",n=t,o=()=>{if(i)n("update:modelValue",!s.modelValue);else{const r=s.modelValue===s.labelUp?s.labelDown:s.labelUp;n("update:modelValue",r)}};return(r,a)=>(De(),Ne("div",{onClick:o,style:{cursor:"pointer",display:"flex","align-items":"center","max-width":"250px",height:"50px",padding:"10px"},class:"prevent-select"},[G("p",Tu,st(s.option),1),G("div",null,[G("div",_u,[G("div",{style:ke(`width: 15px; border-radius: 2px; margin-top: 26px; background-color: black; height: ${i?s.modelValue?"3px":"2px":s.modelValue===s.labelUp?"3px":"2px"}; margin-left: 34px;`)},null,4),G("p",{style:ke(`margin-left: 7px; font-weight: ${i?s.modelValue?"bold":"":s.modelValue===s.labelUp?"bold":""}`)},st(s.labelUp),5)]),G("div",Cu,[a[0]||(a[0]=G("div",{style:{width:"15px",height:"3px","background-color":"black","border-radius":"2px"}},null,-1)),G("div",{style:ke(`width: 26px; height: 3px; background-color: black; border-radius: 2px; margin-left: -1px; transform: rotate(${i?s.modelValue?"-33deg":"33deg":s.modelValue===s.labelUp?"-33deg":"33deg"}); transform-origin: 0% 50%; transition-duration: 200ms;`)},null,4)]),G("div",Au,[G("div",{style:ke(`width: 15px; border-radius: 2px; margin-top: 26px; background-color: black; height: ${i?s.modelValue?"2px":"3px":s.modelValue===s.labelUp?"2px":"3px"}; margin-left: 34px;`)},null,4),G("p",{style:ke(`margin-left: 7px; font-weight: ${i?s.modelValue?"":"bold":s.modelValue===s.labelDown?"bold":""}`)},st(s.labelDown),5)])])]))}}),ji=(e,t)=>{const s=e.__vccOpts||e;for(const[i,n]of t)s[i]=n;return s},Ji=ji(Du,[["__scopeId","data-v-e876c244"]]);function Pu(){const e=V(window.innerWidth),t=V(window.innerHeight),s=V(!1),i=V(!1),n=V(!1),o=V(!1),r=V(!1),a=V(!1),l=V(!1),f=V(!1),c=V(!1),d=V(!1),v=V(!1),p=()=>{e.value=window.innerWidth,t.value=window.innerHeight,e.value<600?r.value=!0:e.value<960?(o.value=!0,a.value=!0):e.value<1264?(n.value=!0,l.value=!0):e.value<1904?(i.value=!0,f.value=!0):s.value=!0,e.value>1904?v.value=!0:e.value>1264?d.value=!0:e.value>960&&(c.value=!0)};return Yc(()=>(window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p)})),si(()=>p()),{xs:r,sm:o,md:n,lg:i,xl:s,smAndDown:a,mdAndDown:l,lgAndDown:f,smAndUp:c,mdAndUp:d,lgAndUp:v,screenWidth:e,screenHeight:t}}const _o=e=>e instanceof PointerEvent||e instanceof KeyboardEvent?e.ctrlKey||e.shiftKey||e.altKey:(console.error("Error: eventInitiatesPreciseDragging requires a PointerEvent or a KeyboardEvent."),!1);function Lu(e){return Xr()?(kl(e),!0):!1}const Ou=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Eu=Ou?window:void 0;function Nr(e){var t;const s=ga(e);return(t=s==null?void 0:s.$el)!=null?t:s}function Wu(){const e=V(!1),t=Ya();return t&&si(()=>{e.value=!0},t),e}function ku(e){const t=Wu();return se(()=>(t.value,!!e()))}function jr(e,t,s={}){const{window:i=Eu,...n}=s;let o;const r=ku(()=>i&&"ResizeObserver"in i),a=()=>{o&&(o.disconnect(),o=void 0)},l=se(()=>{const d=ga(e);return Array.isArray(d)?d.map(v=>Nr(v)):[Nr(d)]}),f=Ut(l,d=>{if(a(),r.value&&i){o=new ResizeObserver(t);for(const v of d)v&&o.observe(v,n)}},{immediate:!0,flush:"post"}),c=()=>{a(),f()};return Lu(c),{isSupported:r,stop:c}}const Fu={style:{display:"inline-block","text-align":"right",width:"4rem","padding-right":"10px"}},Ru={style:{position:"relative",display:"inline-block"}},Iu={style:{position:"absolute",display:"flex","justify-content":"start","align-items":"center",top:"0",transform:"translate(1px, 19px)"}},Nu={style:{position:"relative",display:"flex","justify-content":"space-between","align-items":"center",top:"0"}},ju={style:{position:"relative"}},zu=["step","min","max","disabled"],Bu={style:{display:"inline-block","text-align":"right",width:"3rem","padding-left":"10px"}},Xi=5,Hu=Es({__name:"VoltageSlider",props:{htmlSlider:{}},emits:["sliderSelected","stepOutSelection","selectOtherSlider"],setup(e,{emit:t}){const s=e,i=t,n=V(null),o=V(200);jr(n,D=>{const U=D[0];o.value=U.contentRect.width});const r=V(null),a=V(60);jr(r,D=>{const U=D[0];a.value=U.contentRect.width});const l=V(s.htmlSlider.temporaryMinValue),f=V(s.htmlSlider.temporaryMaxValue),c=V(s.htmlSlider.value),d=V(s.htmlSlider.visibility),v=V(s.htmlSlider.preciseDragging),p=V(.05),b=se(()=>{const D=[];let U,ne=Math.ceil(l.value*2)/2,z=ne*2%2==0;const oe=a.value*.5/(f.value-l.value)-Xi/2*2,ge=a.value*(ne-l.value)/(f.value-l.value)-Xi/2;ge>=0?(D.push({type:"spacer",widthPx:ge}),U=!1):(D.push({type:z?"major":"minor",widthPx:Xi+ge}),z=!z,U=!0);let I=D[0].widthPx;for(;I<a.value;)U?D.push({type:"spacer",widthPx:oe}):(D.push({type:z?"major":"minor",widthPx:Xi}),z=!z),I+=D[D.length-1].widthPx,U=!U;I-=D[D.length-1].widthPx,D.pop(),U=!U,U||(z=!z);const me=a.value-I;return U?D.push({type:"spacer",widthPx:me}):D.push({type:z?"major":"minor",widthPx:me}),D});Ut([()=>s.htmlSlider.value,()=>s.htmlSlider.temporaryMinValue,()=>s.htmlSlider.temporaryMaxValue,()=>s.htmlSlider.visibility,()=>s.htmlSlider.preciseDragging,()=>s.htmlSlider.updated.value],([D,U,ne,z,oe,ge])=>{c.value=D,l.value=U,f.value=ne,d.value=z,v.value=oe}),Ut([()=>s.htmlSlider.value,()=>s.htmlSlider.fromNode.value.voltage,()=>s.htmlSlider.toNode.value.voltage],([D,U,ne])=>{c.value=D}),Ut(c,D=>{s.htmlSlider.value=Number(D),isNaN(s.htmlSlider.value)&&console.error("Html slider received non-numeric value"),s.htmlSlider.dragging&&s.htmlSlider.updateNodeVoltagesBasedOnValue()}),Ut(()=>s.htmlSlider.selected.value,()=>{s.htmlSlider.selected.value&&s.htmlSlider.selectionChanged.value&&(s.htmlSlider.selectionChanged.value=!1,i("sliderSelected",!0),s.htmlSlider.selected.value=!0,r.value&&r.value.focus())});const x=D=>{D.updateValueBasedOnNodeVoltages(),c.value=D.value,D.selected.value=!0},k=D=>{D.selected.value=!1,D.releaseSlider(),D.updateValueBasedOnNodeVoltages()},M=D=>{qs.value="htmlSlider",Yo.value="htmlSlider",s.htmlSlider.dragging=!0,s.htmlSlider.selected.value=!0,s.htmlSlider.checkDrag({x:0,y:0},_o(D)),s.htmlSlider.value=c.value},j=D=>{s.htmlSlider.dragSlider(D)},$=()=>{s.htmlSlider.releaseSlider()},L=D=>{if(["Up","ArrowUp","Down","ArrowDown","Left","ArrowLeft","Right","ArrowRight"].includes(D.key)&&D.preventDefault(),["Up","ArrowUp","Down","ArrowDown"].includes(D.key)&&(s.htmlSlider.dragging=!0,_o(D)&&(p.value=.01),["Up","ArrowUp"].includes(D.key)?s.htmlSlider.value=Math.ceil(s.htmlSlider.value/p.value+1)*p.value:["Down","ArrowDown"].includes(D.key)&&(s.htmlSlider.value=Math.floor(s.htmlSlider.value/p.value-1)*p.value)),["Vgs","Vds","Vsg","Vsd"].includes(s.htmlSlider.name)){const U=s.htmlSlider.name=="Vgs"||s.htmlSlider.name=="Vds",ne=s.htmlSlider.name=="Vgs"||s.htmlSlider.name=="Vsg",z=s.htmlSlider.transformationMatrix.isMirrored==U;["Left","ArrowLeft"].includes(D.key)&&z&&i("selectOtherSlider",ne?1:0),["Right","ArrowRight"].includes(D.key)&&(z||i("selectOtherSlider",ne?1:0))}D.key=="Enter"&&i("stepOutSelection",!0)},Z=D=>{["Up","ArrowUp","Down","ArrowDown"].includes(D.key)&&(s.htmlSlider.dragging=!1),p.value=.05};return si(()=>{s.htmlSlider.react()}),(D,U)=>d.value=="visible"||d.value=="locked"?(De(),Ne("div",{key:0,style:{"user-select":"none",display:"flex","align-items":"end"},ref_key:"outerDiv",ref:n},[G("div",Fu,st(s.htmlSlider.name)+": ",1),G("div",Ru,[Ns(G("div",Iu,[(De(!0),Ne(Je,null,Ci(b.value,ne=>(De(),Ne("div",{style:ke(`position: relative; width: ${ne.widthPx}px; height: ${ne.type=="major"?"18px":"12px"}; visibility: ${ne.type=="spacer"?"hidden":"visible"}`),class:$t({sliderBody:!0,visible:d.value=="visible",locked:d.value=="locked"})},null,6))),256))],512),[[tn,v.value]]),G("div",Nu,[G("div",{style:{position:"relative",width:"20px",transform:"translate(-5px, 22px) rotate(90deg)"},class:$t({sliderBody:!0,visible:d.value=="visible",locked:d.value=="locked"})},null,2),G("div",null,[G("div",ju,[G("div",{style:{width:"15px",transform:"translate(1px, 19px) rotate(65deg)"},class:$t({sliderBody:!0,visible:d.value=="visible",locked:d.value=="locked"})},null,2),G("div",{style:{width:"15px",transform:"translate(1px, 24px) rotate(-65deg)"},class:$t({sliderBody:!0,visible:d.value=="visible",locked:d.value=="locked"})},null,2)])])]),Ns(G("input",{type:"range",step:p.value,min:l.value,max:f.value,"onUpdate:modelValue":U[0]||(U[0]=ne=>c.value=ne),tabindex:2,onPointerdown:M,onPointerup:$,onPointermove:j,onKeydown:L,onKeyup:Z,onFocus:U[1]||(U[1]=ne=>x(D.htmlSlider)),onBlur:U[2]||(U[2]=ne=>k(D.htmlSlider)),disabled:d.value=="locked",class:$t({visible:d.value=="visible",locked:d.value=="locked"}),style:ke(`position: relative; width: calc(${o.value}px - 4rem - 3rem - 10px - 10px - 1rem)`),ref_key:"sliderElement",ref:r},null,46,zu),[[tl,c.value]])]),G("div",Bu,st(Ce(ts)(s.htmlSlider.value,"V",3)),1)],512)):An("",!0)}}),$u=ji(Hu,[["__scopeId","data-v-cf988964"]]),Uu=["tabindex","onFocus","onKeydown"],Gu={style:{display:"flex","justify-content":"center"}},Ku=Es({__name:"AllVoltageSliders",props:{htmlSliders:{}},setup(e){const t=e;let s=!1;const i=v=>{a(),l(),v.selectionChanged.value=!0,v.deviceSelected.value=!0},n=v=>{l(),v.value.forEach(p=>{p.tabIndex.value=1})},o=v=>{i(v),s=!0},r=(v,p)=>{p<v.value.length&&(l(),v.value[p].selected.value=!0,v.value[p].selectionChanged.value=!0)},a=()=>{t.htmlSliders.forEach(v=>{v.deviceSelected.value=!1})},l=()=>{t.htmlSliders.forEach(v=>{v.value.forEach(p=>{p.selected.value=!1,p.tabIndex.value=-1})})},f=()=>{let v=!1;return t.htmlSliders.forEach(p=>{p.value.forEach(b=>{b.selected.value&&(v=!0)})}),v},c=(v,p)=>{if(v.key=="Enter"&&(s||(l(),p.value[0].visibility=="visible"&&(p.value[0].selected.value=!0)),s=!1),!f()&&go.includes(Jn[v.key])&&Object.keys(p.adjacencyList).includes(Jn[v.key])){const b=p.adjacencyList[Jn[v.key]];if(b!=""){let x=!1;t.htmlSliders.forEach(k=>{k.name==b&&(x=!0,v.preventDefault(),a(),k.deviceSelected.value=!0,k.selectionChanged.value=!0)}),x||console.error("Could not find device by key ''"+String(b)+"'")}}},d=()=>{Yo.value="htmlSlider"};return(v,p)=>(De(),Ne("div",null,[(De(!0),Ne(Je,null,Ci(v.htmlSliders,b=>(De(),Ne("div",{style:{border:"1px solid black","padding-bottom":"20px","border-radius":"10px","margin-bottom":"5px"},tabindex:(b.deviceType=="voltageSource",1),class:$t({selected:b.deviceSelected.value}),onFocus:x=>i(b),onKeydown:x=>c(x,b),ref_for:!0,ref:x=>{x&&b.deviceSelected.value&&b.selectionChanged.value&&(b.selectionChanged.value=!1,"focus"in x&&x.focus())}},[G("div",Gu,st(b.name),1),(De(!0),Ne(Je,null,Ci(b.value,x=>(De(),Uo($u,{"html-slider":x,onSliderSelected:()=>n(b),onStepOutSelection:()=>o(b),onSelectOtherSlider:k=>r(b,k),onClick:d},null,8,["html-slider","onSliderSelected","onStepOutSelection","onSelectOtherSlider"]))),256))],42,Uu))),256))]))}}),qu=ji(Ku,[["__scopeId","data-v-7a81dec8"]]),Co=V("nMosSingle"),Yu=Object.keys(Li),ce=sc(Li[Co.value]),Ju={class:"menu"},Xu={style:{display:"flex"}},Zu=["onClick","onPointerover"],Qu=Es({__name:"ContextMenu",props:{menuOptions:{}},setup(e){const t=V(-1);return(s,i)=>(De(),Ne("div",Ju,[(De(!0),Ne(Je,null,Ci(s.menuOptions,(n,o)=>(De(),Ne("div",Xu,[G("div",{class:$t({menuOption:!0,preventSelect:!0,hovered:t.value==o}),onClick:n.action,onPointerover:()=>{t.value=o},onPointerleave:i[0]||(i[0]=()=>{t.value=-1})},st(n.name),43,Zu)]))),256))]))}}),eh=ji(Qu,[["__scopeId","data-v-0f52af25"]]),th={style:{display:"none",position:"absolute",top:"10px",left:"500px"}},sh={style:{position:"absolute",top:"10px",left:"10px"}},ih=["onClick"],nh={style:{display:"flex","flex-wrap":"wrap",width:"210px","justify-content":"end"}},oh={style:{display:"flex","padding-top":"10px","padding-bottom":"10px"}},rh=Es({__name:"Diagram",setup(e){const{screenHeight:t,screenWidth:s,xs:i}=Pu(),n=se(()=>{const C=t.value/4,A=s.value/4,Y=2,ns=i.value?{width:s.value-40,height:v.value?t.value-40-C+5:t.value-40}:{width:v.value?s.value-40-A+5:s.value-40,height:t.value-40/2-5},qt=i.value?{width:(s.value+10)/2-Y,height:C}:{width:A,height:(t.value-40)/2-Y};return{mainCanvas:ns,graphBarChartCanvas:qt,borderWidth:Y}}),o=V(null),r=V(null),a=V(null),l=V(null);let f=0;const c=V(null),d=V(!1),v=V(!0),p=W=>{c.value&&!c.value.contains(W.target)&&(Is.value=!1)},b=()=>{Object.values(Li).forEach(W=>{W.setSlidersActive(qi.value)})};b(),window.Worker||console.error("Your browser doesn't support web workers.");const x=new Worker(new URL("/assets/incrementCircuitWorker-DDjdk_Wo.js",import.meta.url),{type:"module"});x.onmessage=W=>{ce.value.nodeVoltagesFromJson(W.data)};const k=W=>{Co.value=W,ce.value=Li[W]},M=()=>{ce.value.allSliders.forEach(W=>{W.updateValueBasedOnNodeVoltages()})},j=()=>{ce.value.allSliders.forEach(W=>{W.updateNodeVoltagesBasedOnValue()})},$=W=>{const C=W.target;if(!C)return{mouseX:0,mouseY:0};const A=C.getBoundingClientRect(),Y=(W.clientX-A.left)*vt.value,ns=(W.clientY-A.top)*vt.value;return{mouseX:Y,mouseY:ns}},L=V(!1),Z=V({x:0,y:0}),D=V([]),U=W=>{const{mouseX:C,mouseY:A}=$(W);Z.value={x:W.clientX,y:W.clientY},W.preventDefault(),Object.values(ce.value.devices.mosfets).forEach(Y=>{Y.checkSelectionArea({x:C,y:A})&&(D.value=[{name:Y.showCharts.value?"Hide IV Characteristics":"Show IV Characteristics",action:()=>{Y.toggleSelected(),L.value=!1}}],L.value=!0)}),Object.values(ce.value.devices.voltageSources).forEach(Y=>{Y.checkSelectionArea({x:C,y:A})})},ne=W=>{if(qs.value="canvas",Yo.value="canvas",L.value=!1,W.button==2)return;const{mouseX:C,mouseY:A}=$(W);ce.value.allSliders.forEach(Y=>{Y.canvasId==W.target.className&&(Y.checkDrag({x:C,y:A},_o(W)),Y.dragging&&(W.preventDefault(),Y.selected.value=!0))}),ce.value.anySlidersDragging||ce.value.allDevices.forEach(Y=>{Y.canvasId==W.target.className&&(Y.mouseDownInsideSelectionArea=Y.checkSelectionArea({x:C,y:A}))}),z(W),document.addEventListener("pointermove",z),document.addEventListener("pointerup",oe)},z=W=>{const{mouseX:C,mouseY:A}=$(W);ce.value.allSliders.forEach(Y=>{Y.dragSlider({x:C,y:A})}),j()},oe=W=>{const{mouseX:C,mouseY:A}=$(W);!ce.value.anySlidersDragging&&W.target.className=="main"&&(ce.value.resetSelectedDevice(),Object.values(ce.value.devices.mosfets).forEach(Y=>{Y.mouseDownInsideSelectionArea&&Y.checkSelectionArea({x:C,y:A})?(Y.selected.value=!0,ce.value.setSelectedDevice(Y)):Y.selected.value=!1,Y.mouseDownInsideSelectionArea=!1}),Object.values(ce.value.devices.voltageSources).forEach(Y=>{Y.mouseDownInsideSelectionArea&&Y.checkSelectionArea({x:C,y:A})?(Y.selected.value=!0,ce.value.setSelectedDevice(Y)):Y.selected.value=!1,Y.mouseDownInsideSelectionArea=!1})),ce.value.allSliders.forEach(Y=>{Y.releaseSlider()}),document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",oe)},ge=W=>{["Tab","Enter","Up","ArrowUp","Down","ArrowDown"].includes(W.key)&&(qs.value="keyboard")},I=()=>{ce.value.allDevices.forEach(W=>{W.selected.value&&ce.value.setSelectedDevice(W)})},me=(W,C,A)=>{if(!W.value||(C.value=W.value.getContext("2d"),!C.value))return!1;fu(C.value,A);const Y=vt.value;return W.value.width=A.value.width*Y,W.value.height=A.value.height*Y,W.value.style.width=`${A.value.width}px`,W.value.style.height=`${A.value.height}px`,C.value.resetTransform(),C.value.clearRect(0,0,W.value.width,W.value.height),!0},Re=()=>{if(!me(o,r,ho)||!me(a,l,cu))return;I();const W=ce.value.fixedNodeVoltagesToJson();x.postMessage(W),M(),ce.value.draw(r.value),ce.value.anyDevicesSelected&&Is&&(He.textTransformationMatrix.relativeScale=ce.value.circuitCopy.transformationMatrix.relativeScale/uo,ce.value.drawSelectedDeviceCharts(l.value))},bt=W=>{const C=W-f;f=W,ce.value.allSliders.forEach(A=>{A.adjustPreciseSlider(C)}),j(),Object.values(ce.value.devices.mosfets).forEach(A=>{A.currentDots.updateDotPositionBasedOnTimestamp(A.current,C)}),Object.values(ce.value.circuitCopy.devices.mosfets).forEach(A=>{A.currentDots.updateDotPositionBasedOnTimestamp(A.current,C)}),Object.values(ce.value.schematic.parasiticCapacitors).forEach(A=>{A.currentDots.updateDotPositionBasedOnTimestamp(A.node.value.netCurrent,C)}),Re(),requestAnimationFrame(bt)};return si(()=>{o.value&&(r.value=o.value.getContext("2d"),document.addEventListener("click",p),document.addEventListener("keydown",ge),Re(),requestAnimationFrame(bt)),a.value&&(l.value=a.value.getContext("2d"))}),zo(()=>{}),(W,C)=>(De(),Ne(Je,null,[G("div",th,[lo(st(Ce(qs))+" Node Voltages:",1),C[10]||(C[10]=G("br",null,null,-1)),lo(" "+st(JSON.stringify(Object.fromEntries(Object.entries(Ce(ce).nodes).map(A=>[A[0],Ce(ts)(A[1].value.voltage,"V",3)])),null,2)),1)]),Ns(G("div",{style:ke(`left: ${Z.value.x}px; top: ${Z.value.y}px; position: absolute;`)},[Le(eh,{"menu-options":D.value},null,8,["menu-options"])],4),[[tn,L.value]]),G("div",sh,[G("button",{onClick:C[0]||(C[0]=Yn(A=>Is.value=!Ce(Is),["stop"]))},"Menu")]),Le(Vf,null,{default:wa(()=>[Ns(G("div",{ref_key:"sideBar",ref:c,style:{display:"flex","flex-direction":"column",width:"250px",height:"95%",padding:"10px","background-color":"whitesmoke",position:"absolute",overflow:"auto"}},[C[13]||(C[13]=G("h3",{style:{"text-align":"center"}},"Circuits",-1)),C[14]||(C[14]=G("div",{style:{border:"1px solid grey","margin-bottom":"5px"}},null,-1)),(De(!0),Ne(Je,null,Ci(Ce(Yu),A=>(De(),Ne("button",{onClick:Yn(Y=>k(A),["prevent"]),style:ke(`margin-bottom: 10px; background-color: ${A===Ce(Co)?"rgb(200, 200, 200)":""};`)},st(A),13,ih))),256)),C[15]||(C[15]=G("div",{style:{border:"1px solid grey","margin-top":"20px","margin-bottom":"30px"}},null,-1)),G("button",{onClick:C[1]||(C[1]=A=>d.value=!d.value)},st(d.value?"Hide Settings":"Show Settings"),1),Ns(G("div",nh,[Le(Ji,{"label-up":"On","label-down":"Off",option:"Early Effect",modelValue:Ce(Ys),"onUpdate:modelValue":C[2]||(C[2]=A=>Oe(Ys)?Ys.value=A:null)},null,8,["modelValue"]),Le(Ji,{"label-up":"Free","label-down":"Locked",option:"Extra Sliders",modelValue:Ce(qi),"onUpdate:modelValue":C[3]||(C[3]=A=>Oe(qi)?qi.value=A:null),onClick:C[4]||(C[4]=A=>b())},null,8,["modelValue"]),Le(Ji,{"label-up":"On","label-down":"Off",option:"Floating Nodes",modelValue:Ce(wi),"onUpdate:modelValue":C[5]||(C[5]=A=>Oe(wi)?wi.value=A:null)},null,8,["modelValue"]),Le(Ji,{"label-up":"On","label-down":"Off",option:"Draw Grid (dev only)",modelValue:Ce(Mi),"onUpdate:modelValue":C[6]||(C[6]=A=>Oe(Mi)?Mi.value=A:null)},null,8,["modelValue"]),G("div",oh,[C[11]||(C[11]=G("span",{style:{"padding-right":"5px"}},"Grainy",-1)),Ns(G("input",{style:{width:"75%"},type:"range",min:"1",max:"5",step:"1","onUpdate:modelValue":C[7]||(C[7]=A=>Oe(vt)?vt.value=A:null)},null,512),[[tl,Ce(vt)]]),C[12]||(C[12]=G("span",{style:{"padding-left":"5px"}},"Crisp",-1))])],512),[[tn,d.value]])],512),[[tn,Ce(Is)]])]),_:1}),Ce(i)?(De(),Ne("button",{key:0,onClick:C[8]||(C[8]=A=>v.value=!v.value),style:{position:"absolute",bottom:"0","font-size":"xx-large",padding:"5px",width:"100px",right:"calc(50% - 50px)"}},st(v.value?"V":"^"),1)):(De(),Ne("button",{key:1,onClick:C[9]||(C[9]=A=>v.value=!v.value),style:{position:"absolute",right:"0","font-size":"xx-large",padding:"5px",height:"100px",top:"calc(50vh - 50px)"}},st(v.value?">":"<"),1)),G("div",null,[G("div",{style:ke({display:"flex",flexDirection:Ce(i)?"column":"row"})},[G("canvas",{ref_key:"canvas",ref:o,onPointerdown:ne,onContextmenu:Yn(U,["prevent"]),style:ke(`background-color: white; margin-right: 5px; border-radius: 10px; width: ${n.value.mainCanvas.width}px; height: ${n.value.mainCanvas.height}px; touch-action: none`),class:"main"},null,36),G("div",{style:ke({display:"flex",flexDirection:Ce(i)?"row":"column"})},[G("canvas",{ref_key:"graphBarChartCanvas",ref:a,onPointerdown:ne,style:ke(`border-radius: 10px; margin-right: 5px; margin-top: ${Ce(i)?5:0}px; background-color: white; width: ${n.value.graphBarChartCanvas.width}px; height: ${n.value.graphBarChartCanvas.height}px; display: ${v.value?"block":"none"}; touch-action: none`),class:"chart"},null,36),v.value?(De(),Ne("div",{key:0,style:ke({maxWidth:n.value.graphBarChartCanvas.width,maxHeight:n.value.graphBarChartCanvas.height})},[G("div",{style:ke(`margin-top: 5px; overflow-y: auto; overflow-x: hidden; height: ${n.value.graphBarChartCanvas.height}px; border-radius: 10px; border: 1px solid black; padding: 5px;`)},[Le(qu,{"html-sliders":Ce(ce).htmlSliders},null,8,["html-sliders"])],4)],4)):An("",!0)],4)],4)])],64))}}),ah=ji(rh,[["__scopeId","data-v-25f50a53"]]),lh={key:0},ch={style:{color:"white"}},fh=["innerHTML"],uh={style:{display:"flex","justify-content":"space-around"}},hh=Es({__name:"Tutorial",props:{setTutorialStep:{type:Function},data:{}},setup(e){const t=e;return(s,i)=>t.data.title!==""?(De(),Ne("div",lh,[G("div",{style:ke(`background-color: #FF7F7F; border-radius: 10px; border: 2px solid red; position: absolute; max-width: 400px; padding: 20px; ${t.data.location?t.data.location.y:"top: 45vh"}; ${t.data.location?t.data.location.x:"left: calc(50vw - 200px"}); box-shadow: rgba(0, 0, 0, 0.4) 0px 8px 24px;`)},[G("h3",ch,st(t.data.title),1),G("div",{style:{color:"white"},innerHTML:t.data.text},null,8,fh),G("div",uh,[G("button",{onClick:i[0]||(i[0]=n=>s.setTutorialStep())},"Ok"),G("button",{onClick:i[1]||(i[1]=n=>s.setTutorialStep(!0))},"Skip")])],4)])):An("",!0)}}),fi=[{title:"",text:""},{title:"This is a mosfet.",text:`<p>
            The end closest to GROUND is the Source. <br>
            The end closest to VDD is the Drain. <br>
            The middle terminal is the Gate.
        </p>`,location:{x:"left: 50px;",y:"bottom: 50px;"},reaction:()=>{ce.value=Li.nMosSingle}},{title:"Click on the mosfet to see the IV Characteristics.",text:`<p>
            Two factors influence the current through the mosfet: <br>
            <li>The Gate to Source voltage (Vgs), and </li>
            <li>The Drain to source voltage (Vgs) </li>
        </p>`,location:{x:"left: 50px;",y:"bottom: 50px;"},reaction:()=>{ce.value.devices.mosfets.M1.selected.value=!0}},{title:"Adjust the voltages and see what happens.",text:`<p>
            <li>Vgs has a huge impact on the current.</li>
            <li>Vds doesn't matter beyond the first 200mV or so.</li>
            <li>If either Vds or Vgs is zero, no current flows.</li>
        </p>`,location:{x:"left: 50px;",y:"bottom: 50px;"}},{title:"This is a voltage source.",text:`<p>
        This voltage source controls the Vds of the mosfet. <br>
        <li>When Vds gets close to zero, the current through the mosfet is reduced dramatically.</li>
        <li>When Vds is near zero, we say the mosfet is no longer saturated, or "in the ohmic region".</li>
        <li>In this simulator, the color of the mosfet's drain will change when it is in the ohmic region.</li>
        </p>`,location:{x:"left: 50px;",y:"top: 50px;"}},{title:"Take your time",text:`<p>
            Play around with this circuit some more. <br>
            Get really familiar with it.<br>
            Then there's more to explore.
        </p>`,location:{x:"left: 200px;",y:"top: 50px;"}}],dh=Es({__name:"App",setup(e){const t=V(1),s=(r=!1)=>{r?t.value=fi.length:t.value++,t.value>fi.length-1&&(t.value=0),fi[t.value].reaction&&fi[t.value].reaction()},n=V((()=>{const r="firstTimeLoad",a=localStorage.getItem(r)===null;return a&&localStorage.setItem(r,"false"),a})()),o=()=>{n.value=!0,t.value=0,s(),t.value=1};return document.body.onmousedown=function(r){if(r.button==1)return r.preventDefault(),!1},(r,a)=>(De(),Ne("div",null,[Le(ah),n.value?(De(),Uo(hh,{key:0,data:Ce(fi)[t.value],setTutorialStep:s},null,8,["data"])):An("",!0),G("button",{onClick:o,style:ke(`position: absolute; bottom: 5px; left: ${Ce(Is)?285:5}px;`)},"?",4)]))}});qf(dh).mount("#app");
