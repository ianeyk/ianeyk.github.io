var Ga=Object.defineProperty;var Ka=(e,t,s)=>t in e?Ga(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var m=(e,t,s)=>(Ka(e,typeof t!="symbol"?t+"":t,s),s),fn=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var c=(e,t,s)=>(fn(e,t,"read from private field"),s?s.call(e):t.get(e)),Z=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},G=(e,t,s,i)=>(fn(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s);var vi=(e,t,s,i)=>({set _(n){G(e,t,n,s)},get _(){return c(e,t,i)}}),D=(e,t,s)=>(fn(e,t,"access private method"),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Qn(e,t){const s=new Set(e.split(","));return i=>s.has(i)}const Me={},Es=[],ct=()=>{},qa=()=>!1,Ui=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),eo=e=>e.startsWith("onUpdate:"),Le=Object.assign,to=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Ya=Object.prototype.hasOwnProperty,le=(e,t)=>Ya.call(e,t),q=Array.isArray,Ds=e=>Gi(e)==="[object Map]",wr=e=>Gi(e)==="[object Set]",ee=e=>typeof e=="function",Pe=e=>typeof e=="string",Vs=e=>typeof e=="symbol",_e=e=>e!==null&&typeof e=="object",Mr=e=>(_e(e)||ee(e))&&ee(e.then)&&ee(e.catch),_r=Object.prototype.toString,Gi=e=>_r.call(e),Xa=e=>Gi(e).slice(8,-1),Vr=e=>Gi(e)==="[object Object]",so=e=>Pe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Xs=Qn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ki=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Ja=/-(\w)/g,zs=Ki(e=>e.replace(Ja,(t,s)=>s?s.toUpperCase():"")),Za=/\B([A-Z])/g,Bs=Ki(e=>e.replace(Za,"-$1").toLowerCase()),Sr=Ki(e=>e.charAt(0).toUpperCase()+e.slice(1)),un=Ki(e=>e?`on${Sr(e)}`:""),os=(e,t)=>!Object.is(e,t),Ai=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},Tr=(e,t,s,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:s})},Vn=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Qa=e=>{const t=Pe(e)?Number(e):NaN;return isNaN(t)?e:t};let Eo;const Ar=()=>Eo||(Eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qe(e){if(q(e)){const t={};for(let s=0;s<e.length;s++){const i=e[s],n=Pe(i)?il(i):qe(i);if(n)for(const o in n)t[o]=n[o]}return t}else if(Pe(e)||_e(e))return e}const el=/;(?![^(]*\))/g,tl=/:([^]+)/,sl=/\/\*[^]*?\*\//g;function il(e){const t={};return e.replace(sl,"").split(el).forEach(s=>{if(s){const i=s.split(tl);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function io(e){let t="";if(Pe(e))t=e;else if(q(e))for(let s=0;s<e.length;s++){const i=io(e[s]);i&&(t+=i+" ")}else if(_e(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const nl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ol=Qn(nl);function Cr(e){return!!e||e===""}const ss=e=>Pe(e)?e:e==null?"":q(e)||_e(e)&&(e.toString===_r||!ee(e.toString))?JSON.stringify(e,Lr,2):String(e),Lr=(e,t)=>t&&t.__v_isRef?Lr(e,t.value):Ds(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[i,n],o)=>(s[hn(i,o)+" =>"]=n,s),{})}:wr(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>hn(s))}:Vs(t)?hn(t):_e(t)&&!q(t)&&!Vr(t)?String(t):t,hn=(e,t="")=>{var s;return Vs(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gt;class rl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=gt,!t&&gt&&(this.index=(gt.scopes||(gt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=gt;try{return gt=this,t()}finally{gt=s}}}on(){gt=this}off(){gt=this.parent}stop(t){if(this._active){let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.scopes)for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function al(e,t=gt){t&&t.active&&t.effects.push(e)}function ll(){return gt}let Ms;class no{constructor(t,s,i,n){this.fn=t,this.trigger=s,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,al(this,n)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,as();for(let t=0;t<this._depsLength;t++){const s=this.deps[t];if(s.computed&&(cl(s.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ls()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=is,s=Ms;try{return is=!0,Ms=this,this._runnings++,Do(this),this.fn()}finally{Oo(this),this._runnings--,Ms=s,is=t}}stop(){this.active&&(Do(this),Oo(this),this.onStop&&this.onStop(),this.active=!1)}}function cl(e){return e.value}function Do(e){e._trackId++,e._depsLength=0}function Oo(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Pr(e.deps[t],e);e.deps.length=e._depsLength}}function Pr(e,t){const s=e.get(t);s!==void 0&&t._trackId!==s&&(e.delete(t),e.size===0&&e.cleanup())}let is=!0,Sn=0;const Er=[];function as(){Er.push(is),is=!1}function ls(){const e=Er.pop();is=e===void 0?!0:e}function oo(){Sn++}function ro(){for(Sn--;!Sn&&Tn.length;)Tn.shift()()}function Dr(e,t,s){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const i=e.deps[e._depsLength];i!==t?(i&&Pr(i,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Tn=[];function Or(e,t,s){oo();for(const i of e.keys()){let n;i._dirtyLevel<t&&(n??(n=e.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=t),i._shouldSchedule&&(n??(n=e.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&Tn.push(i.scheduler)))}ro()}const Wr=(e,t)=>{const s=new Map;return s.cleanup=e,s.computed=t,s},An=new WeakMap,_s=Symbol(""),Cn=Symbol("");function Qe(e,t,s){if(is&&Ms){let i=An.get(e);i||An.set(e,i=new Map);let n=i.get(s);n||i.set(s,n=Wr(()=>i.delete(s))),Dr(Ms,n)}}function Nt(e,t,s,i,n,o){const r=An.get(e);if(!r)return;let a=[];if(t==="clear")a=[...r.values()];else if(s==="length"&&q(e)){const l=Number(i);r.forEach((f,h)=>{(h==="length"||!Vs(h)&&h>=l)&&a.push(f)})}else switch(s!==void 0&&a.push(r.get(s)),t){case"add":q(e)?so(s)&&a.push(r.get("length")):(a.push(r.get(_s)),Ds(e)&&a.push(r.get(Cn)));break;case"delete":q(e)||(a.push(r.get(_s)),Ds(e)&&a.push(r.get(Cn)));break;case"set":Ds(e)&&a.push(r.get(_s));break}oo();for(const l of a)l&&Or(l,4);ro()}const fl=Qn("__proto__,__v_isRef,__isVue"),Fr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Vs)),Wo=ul();function ul(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const i=ge(this);for(let o=0,r=this.length;o<r;o++)Qe(i,"get",o+"");const n=i[t](...s);return n===-1||n===!1?i[t](...s.map(ge)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){as(),oo();const i=ge(this)[t].apply(this,s);return ro(),ls(),i}}),e}function hl(e){Vs(e)||(e=String(e));const t=ge(this);return Qe(t,"has",e),t.hasOwnProperty(e)}class kr{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,i){const n=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return o;if(s==="__v_raw")return i===(n?o?Sl:zr:o?Nr:Ir).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const r=q(t);if(!n){if(r&&le(Wo,s))return Reflect.get(Wo,s,i);if(s==="hasOwnProperty")return hl}const a=Reflect.get(t,s,i);return(Vs(s)?Fr.has(s):fl(s))||(n||Qe(t,"get",s),o)?a:ze(a)?r&&so(s)?a:a.value:_e(a)?n?Br(a):co(a):a}}class Rr extends kr{constructor(t=!1){super(!1,t)}set(t,s,i,n){let o=t[s];if(!this._isShallow){const l=ii(o);if(!Ri(i)&&!ii(i)&&(o=ge(o),i=ge(i)),!q(t)&&ze(o)&&!ze(i))return l?!1:(o.value=i,!0)}const r=q(t)&&so(s)?Number(s)<t.length:le(t,s),a=Reflect.set(t,s,i,n);return t===ge(n)&&(r?os(i,o)&&Nt(t,"set",s,i):Nt(t,"add",s,i)),a}deleteProperty(t,s){const i=le(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&i&&Nt(t,"delete",s,void 0),n}has(t,s){const i=Reflect.has(t,s);return(!Vs(s)||!Fr.has(s))&&Qe(t,"has",s),i}ownKeys(t){return Qe(t,"iterate",q(t)?"length":_s),Reflect.ownKeys(t)}}class dl extends kr{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const gl=new Rr,ml=new dl,pl=new Rr(!0);const ao=e=>e,qi=e=>Reflect.getPrototypeOf(e);function yi(e,t,s=!1,i=!1){e=e.__v_raw;const n=ge(e),o=ge(t);s||(os(t,o)&&Qe(n,"get",t),Qe(n,"get",o));const{has:r}=qi(n),a=i?ao:s?uo:ni;if(r.call(n,t))return a(e.get(t));if(r.call(n,o))return a(e.get(o));e!==n&&e.get(t)}function bi(e,t=!1){const s=this.__v_raw,i=ge(s),n=ge(e);return t||(os(e,n)&&Qe(i,"has",e),Qe(i,"has",n)),e===n?s.has(e):s.has(e)||s.has(n)}function xi(e,t=!1){return e=e.__v_raw,!t&&Qe(ge(e),"iterate",_s),Reflect.get(e,"size",e)}function Fo(e){e=ge(e);const t=ge(this);return qi(t).has.call(t,e)||(t.add(e),Nt(t,"add",e,e)),this}function ko(e,t){t=ge(t);const s=ge(this),{has:i,get:n}=qi(s);let o=i.call(s,e);o||(e=ge(e),o=i.call(s,e));const r=n.call(s,e);return s.set(e,t),o?os(t,r)&&Nt(s,"set",e,t):Nt(s,"add",e,t),this}function Ro(e){const t=ge(this),{has:s,get:i}=qi(t);let n=s.call(t,e);n||(e=ge(e),n=s.call(t,e)),i&&i.call(t,e);const o=t.delete(e);return n&&Nt(t,"delete",e,void 0),o}function Io(){const e=ge(this),t=e.size!==0,s=e.clear();return t&&Nt(e,"clear",void 0,void 0),s}function wi(e,t){return function(i,n){const o=this,r=o.__v_raw,a=ge(r),l=t?ao:e?uo:ni;return!e&&Qe(a,"iterate",_s),r.forEach((f,h)=>i.call(n,l(f),l(h),o))}}function Mi(e,t,s){return function(...i){const n=this.__v_raw,o=ge(n),r=Ds(o),a=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,f=n[e](...i),h=s?ao:t?uo:ni;return!t&&Qe(o,"iterate",l?Cn:_s),{next(){const{value:d,done:p}=f.next();return p?{value:d,done:p}:{value:a?[h(d[0]),h(d[1])]:h(d),done:p}},[Symbol.iterator](){return this}}}}function jt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function vl(){const e={get(o){return yi(this,o)},get size(){return xi(this)},has:bi,add:Fo,set:ko,delete:Ro,clear:Io,forEach:wi(!1,!1)},t={get(o){return yi(this,o,!1,!0)},get size(){return xi(this)},has:bi,add:Fo,set:ko,delete:Ro,clear:Io,forEach:wi(!1,!0)},s={get(o){return yi(this,o,!0)},get size(){return xi(this,!0)},has(o){return bi.call(this,o,!0)},add:jt("add"),set:jt("set"),delete:jt("delete"),clear:jt("clear"),forEach:wi(!0,!1)},i={get(o){return yi(this,o,!0,!0)},get size(){return xi(this,!0)},has(o){return bi.call(this,o,!0)},add:jt("add"),set:jt("set"),delete:jt("delete"),clear:jt("clear"),forEach:wi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Mi(o,!1,!1),s[o]=Mi(o,!0,!1),t[o]=Mi(o,!1,!0),i[o]=Mi(o,!0,!0)}),[e,s,t,i]}const[yl,bl,xl,wl]=vl();function lo(e,t){const s=t?e?wl:xl:e?bl:yl;return(i,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(le(s,n)&&n in i?s:i,n,o)}const Ml={get:lo(!1,!1)},_l={get:lo(!1,!0)},Vl={get:lo(!0,!1)};const Ir=new WeakMap,Nr=new WeakMap,zr=new WeakMap,Sl=new WeakMap;function Tl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Al(e){return e.__v_skip||!Object.isExtensible(e)?0:Tl(Xa(e))}function co(e){return ii(e)?e:fo(e,!1,gl,Ml,Ir)}function Cl(e){return fo(e,!1,pl,_l,Nr)}function Br(e){return fo(e,!0,ml,Vl,zr)}function fo(e,t,s,i,n){if(!_e(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=n.get(e);if(o)return o;const r=Al(e);if(r===0)return e;const a=new Proxy(e,r===2?i:s);return n.set(e,a),a}function Js(e){return ii(e)?Js(e.__v_raw):!!(e&&e.__v_isReactive)}function ii(e){return!!(e&&e.__v_isReadonly)}function Ri(e){return!!(e&&e.__v_isShallow)}function jr(e){return e?!!e.__v_raw:!1}function ge(e){const t=e&&e.__v_raw;return t?ge(t):e}function Ll(e){return Object.isExtensible(e)&&Tr(e,"__v_skip",!0),e}const ni=e=>_e(e)?co(e):e,uo=e=>_e(e)?Br(e):e;class $r{constructor(t,s,i,n){this.getter=t,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new no(()=>t(this._value),()=>Ci(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const t=ge(this);return(!t._cacheable||t.effect.dirty)&&os(t._value,t._value=t.effect.run())&&Ci(t,4),Hr(t),t.effect._dirtyLevel>=2&&Ci(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Pl(e,t,s=!1){let i,n;const o=ee(e);return o?(i=e,n=ct):(i=e.get,n=e.set),new $r(i,n,o||!n,s)}function Hr(e){var t;is&&Ms&&(e=ge(e),Dr(Ms,(t=e.dep)!=null?t:e.dep=Wr(()=>e.dep=void 0,e instanceof $r?e:void 0)))}function Ci(e,t=4,s){e=ge(e);const i=e.dep;i&&Or(i,t)}function ze(e){return!!(e&&e.__v_isRef===!0)}function L(e){return Ur(e,!1)}function El(e){return Ur(e,!0)}function Ur(e,t){return ze(e)?e:new Dl(e,t)}class Dl{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:ge(t),this._value=s?t:ni(t)}get value(){return Hr(this),this._value}set value(t){const s=this.__v_isShallow||Ri(t)||ii(t);t=s?t:ge(t),os(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:ni(t),Ci(this,4))}}function Ut(e){return ze(e)?e.value:e}const Ol={get:(e,t,s)=>Ut(Reflect.get(e,t,s)),set:(e,t,s,i)=>{const n=e[t];return ze(n)&&!ze(s)?(n.value=s,!0):Reflect.set(e,t,s,i)}};function Gr(e){return Js(e)?e:new Proxy(e,Ol)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ns(e,t,s,i){try{return i?e(...i):e()}catch(n){Yi(n,t,s)}}function ht(e,t,s,i){if(ee(e)){const n=ns(e,t,s,i);return n&&Mr(n)&&n.catch(o=>{Yi(o,t,s)}),n}if(q(e)){const n=[];for(let o=0;o<e.length;o++)n.push(ht(e[o],t,s,i));return n}}function Yi(e,t,s,i=!0){const n=t?t.vnode:null;if(t){let o=t.parent;const r=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${s}`;for(;o;){const f=o.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](e,r,a)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){as(),ns(l,null,10,[e,r,a]),ls();return}}Wl(e,s,n,i)}function Wl(e,t,s,i=!0){console.error(e)}let oi=!1,Ln=!1;const $e=[];let Ot=0;const Os=[];let Xt=null,gs=0;const Kr=Promise.resolve();let ho=null;function Fl(e){const t=ho||Kr;return e?t.then(this?e.bind(this):e):t}function kl(e){let t=Ot+1,s=$e.length;for(;t<s;){const i=t+s>>>1,n=$e[i],o=ri(n);o<e||o===e&&n.pre?t=i+1:s=i}return t}function go(e){(!$e.length||!$e.includes(e,oi&&e.allowRecurse?Ot+1:Ot))&&(e.id==null?$e.push(e):$e.splice(kl(e.id),0,e),qr())}function qr(){!oi&&!Ln&&(Ln=!0,ho=Kr.then(Xr))}function Rl(e){const t=$e.indexOf(e);t>Ot&&$e.splice(t,1)}function Il(e){q(e)?Os.push(...e):(!Xt||!Xt.includes(e,e.allowRecurse?gs+1:gs))&&Os.push(e),qr()}function No(e,t,s=oi?Ot+1:0){for(;s<$e.length;s++){const i=$e[s];if(i&&i.pre){if(e&&i.id!==e.uid)continue;$e.splice(s,1),s--,i()}}}function Yr(e){if(Os.length){const t=[...new Set(Os)].sort((s,i)=>ri(s)-ri(i));if(Os.length=0,Xt){Xt.push(...t);return}for(Xt=t,gs=0;gs<Xt.length;gs++)Xt[gs]();Xt=null,gs=0}}const ri=e=>e.id==null?1/0:e.id,Nl=(e,t)=>{const s=ri(e)-ri(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function Xr(e){Ln=!1,oi=!0,$e.sort(Nl);try{for(Ot=0;Ot<$e.length;Ot++){const t=$e[Ot];t&&t.active!==!1&&ns(t,null,14)}}finally{Ot=0,$e.length=0,Yr(),oi=!1,ho=null,($e.length||Os.length)&&Xr()}}function zl(e,t,...s){if(e.isUnmounted)return;const i=e.vnode.props||Me;let n=s;const o=t.startsWith("update:"),r=o&&t.slice(7);if(r&&r in i){const h=`${r==="modelValue"?"model":r}Modifiers`,{number:d,trim:p}=i[h]||Me;p&&(n=s.map(y=>Pe(y)?y.trim():y)),d&&(n=s.map(Vn))}let a,l=i[a=un(t)]||i[a=un(zs(t))];!l&&o&&(l=i[a=un(Bs(t))]),l&&ht(l,e,6,n);const f=i[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ht(f,e,6,n)}}function Jr(e,t,s=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const o=e.emits;let r={},a=!1;if(!ee(e)){const l=f=>{const h=Jr(f,t,!0);h&&(a=!0,Le(r,h))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(_e(e)&&i.set(e,null),null):(q(o)?o.forEach(l=>r[l]=null):Le(r,o),_e(e)&&i.set(e,r),r)}function Xi(e,t){return!e||!Ui(t)?!1:(t=t.slice(2).replace(/Once$/,""),le(e,t[0].toLowerCase()+t.slice(1))||le(e,Bs(t))||le(e,t))}let Je=null,Ji=null;function Ii(e){const t=Je;return Je=e,Ji=e&&e.type.__scopeId||null,t}function Zr(e){Ji=e}function Qr(){Ji=null}function ea(e,t=Je,s){if(!t||e._n)return e;const i=(...n)=>{i._d&&Jo(-1);const o=Ii(t);let r;try{r=e(...n)}finally{Ii(o),i._d&&Jo(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function dn(e){const{type:t,vnode:s,proxy:i,withProxy:n,propsOptions:[o],slots:r,attrs:a,emit:l,render:f,renderCache:h,props:d,data:p,setupState:y,ctx:M,inheritAttrs:P}=e,W=Ii(e);let S,A;try{if(s.shapeFlag&4){const K=n||i,te=K;S=Dt(f.call(te,K,h,d,y,p,M)),A=a}else{const K=t;S=Dt(K.length>1?K(d,{attrs:a,slots:r,emit:l}):K(d,null)),A=t.props?a:Bl(a)}}catch(K){ei.length=0,Yi(K,e,1),S=Ne(ft)}let $=S;if(A&&P!==!1){const K=Object.keys(A),{shapeFlag:te}=$;K.length&&te&7&&(o&&K.some(eo)&&(A=jl(A,o)),$=rs($,A,!1,!0))}return s.dirs&&($=rs($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(s.dirs):s.dirs),s.transition&&($.transition=s.transition),S=$,Ii(W),S}const Bl=e=>{let t;for(const s in e)(s==="class"||s==="style"||Ui(s))&&((t||(t={}))[s]=e[s]);return t},jl=(e,t)=>{const s={};for(const i in e)(!eo(i)||!(i.slice(9)in t))&&(s[i]=e[i]);return s};function $l(e,t,s){const{props:i,children:n,component:o}=e,{props:r,children:a,patchFlag:l}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return i?zo(i,r,f):!!r;if(l&8){const h=t.dynamicProps;for(let d=0;d<h.length;d++){const p=h[d];if(r[p]!==i[p]&&!Xi(f,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===r?!1:i?r?zo(i,r,f):!0:!!r;return!1}function zo(e,t,s){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const o=i[n];if(t[o]!==e[o]&&!Xi(s,o))return!0}return!1}function Hl({vnode:e,parent:t},s){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=s,t=t.parent;else break}}const Ul=Symbol.for("v-ndc"),Gl=e=>e.__isSuspense;function Kl(e,t){t&&t.pendingBranch?q(e)?t.effects.push(...e):t.effects.push(e):Il(e)}const ql=Symbol.for("v-scx"),Yl=()=>Pi(ql);function Xl(e,t){return mo(e,null,t)}const _i={};function gn(e,t,s){return mo(e,t,s)}function mo(e,t,{immediate:s,deep:i,flush:n,once:o,onTrack:r,onTrigger:a}=Me){if(t&&o){const Y=t;t=(...me)=>{Y(...me),te()}}const l=He,f=Y=>i===!0?Y:vs(Y,i===!1?1:void 0);let h,d=!1,p=!1;if(ze(e)?(h=()=>e.value,d=Ri(e)):Js(e)?(h=()=>f(e),d=!0):q(e)?(p=!0,d=e.some(Y=>Js(Y)||Ri(Y)),h=()=>e.map(Y=>{if(ze(Y))return Y.value;if(Js(Y))return f(Y);if(ee(Y))return ns(Y,l,2)})):ee(e)?t?h=()=>ns(e,l,2):h=()=>(y&&y(),ht(e,l,3,[M])):h=ct,t&&i){const Y=h;h=()=>vs(Y())}let y,M=Y=>{y=$.onStop=()=>{ns(Y,l,4),y=$.onStop=void 0}},P;if(nn)if(M=ct,t?s&&ht(t,l,3,[h(),p?[]:void 0,M]):h(),n==="sync"){const Y=Yl();P=Y.__watcherHandles||(Y.__watcherHandles=[])}else return ct;let W=p?new Array(e.length).fill(_i):_i;const S=()=>{if(!(!$.active||!$.dirty))if(t){const Y=$.run();(i||d||(p?Y.some((me,H)=>os(me,W[H])):os(Y,W)))&&(y&&y(),ht(t,l,3,[Y,W===_i?void 0:p&&W[0]===_i?[]:W,M]),W=Y)}else $.run()};S.allowRecurse=!!t;let A;n==="sync"?A=S:n==="post"?A=()=>Xe(S,l&&l.suspense):(S.pre=!0,l&&(S.id=l.uid),A=()=>go(S));const $=new no(h,ct,A),K=ll(),te=()=>{$.stop(),K&&to(K.effects,$)};return t?s?S():W=$.run():n==="post"?Xe($.run.bind($),l&&l.suspense):$.run(),P&&P.push(te),te}function Jl(e,t,s){const i=this.proxy,n=Pe(e)?e.includes(".")?ta(i,e):()=>i[e]:e.bind(i,i);let o;ee(t)?o=t:(o=t.handler,s=t);const r=mi(this),a=mo(n,o.bind(i),s);return r(),a}function ta(e,t){const s=t.split(".");return()=>{let i=e;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}function vs(e,t=1/0,s){if(t<=0||!_e(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,ze(e))vs(e.value,t,s);else if(q(e))for(let i=0;i<e.length;i++)vs(e[i],t,s);else if(wr(e)||Ds(e))e.forEach(i=>{vs(i,t,s)});else if(Vr(e))for(const i in e)vs(e[i],t,s);return e}function Bo(e,t){if(Je===null)return e;const s=on(Je)||Je.proxy,i=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[o,r,a,l=Me]=t[n];o&&(ee(o)&&(o={mounted:o,updated:o}),o.deep&&vs(r),i.push({dir:o,instance:s,value:r,oldValue:void 0,arg:a,modifiers:l}))}return e}function fs(e,t,s,i){const n=e.dirs,o=t&&t.dirs;for(let r=0;r<n.length;r++){const a=n[r];o&&(a.oldValue=o[r].value);let l=a.dir[i];l&&(as(),ht(l,s,8,[e.el,a,e,t]),ls())}}const Jt=Symbol("_leaveCb"),Vi=Symbol("_enterCb");function Zl(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return tn(()=>{e.isMounted=!0}),po(()=>{e.isUnmounting=!0}),e}const at=[Function,Array],sa={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:at,onEnter:at,onAfterEnter:at,onEnterCancelled:at,onBeforeLeave:at,onLeave:at,onAfterLeave:at,onLeaveCancelled:at,onBeforeAppear:at,onAppear:at,onAfterAppear:at,onAppearCancelled:at},Ql={name:"BaseTransition",props:sa,setup(e,{slots:t}){const s=Nc(),i=Zl();return()=>{const n=t.default&&na(t.default(),!0);if(!n||!n.length)return;let o=n[0];if(n.length>1){for(const p of n)if(p.type!==ft){o=p;break}}const r=ge(e),{mode:a}=r;if(i.isLeaving)return mn(o);const l=jo(o);if(!l)return mn(o);const f=Pn(l,r,i,s);En(l,f);const h=s.subTree,d=h&&jo(h);if(d&&d.type!==ft&&!ms(l,d)){const p=Pn(d,r,i,s);if(En(d,p),a==="out-in"&&l.type!==ft)return i.isLeaving=!0,p.afterLeave=()=>{i.isLeaving=!1,s.update.active!==!1&&(s.effect.dirty=!0,s.update())},mn(o);a==="in-out"&&l.type!==ft&&(p.delayLeave=(y,M,P)=>{const W=ia(i,d);W[String(d.key)]=d,y[Jt]=()=>{M(),y[Jt]=void 0,delete f.delayedLeave},f.delayedLeave=P})}return o}}},ec=Ql;function ia(e,t){const{leavingVNodes:s}=e;let i=s.get(t.type);return i||(i=Object.create(null),s.set(t.type,i)),i}function Pn(e,t,s,i){const{appear:n,mode:o,persisted:r=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:d,onLeave:p,onAfterLeave:y,onLeaveCancelled:M,onBeforeAppear:P,onAppear:W,onAfterAppear:S,onAppearCancelled:A}=t,$=String(e.key),K=ia(s,e),te=(H,he)=>{H&&ht(H,i,9,he)},Y=(H,he)=>{const de=he[1];te(H,he),q(H)?H.every(Ae=>Ae.length<=1)&&de():H.length<=1&&de()},me={mode:o,persisted:r,beforeEnter(H){let he=a;if(!s.isMounted)if(n)he=P||a;else return;H[Jt]&&H[Jt](!0);const de=K[$];de&&ms(e,de)&&de.el[Jt]&&de.el[Jt](),te(he,[H])},enter(H){let he=l,de=f,Ae=h;if(!s.isMounted)if(n)he=W||l,de=S||f,Ae=A||h;else return;let R=!1;const ye=H[Vi]=I=>{R||(R=!0,I?te(Ae,[H]):te(de,[H]),me.delayedLeave&&me.delayedLeave(),H[Vi]=void 0)};he?Y(he,[H,ye]):ye()},leave(H,he){const de=String(e.key);if(H[Vi]&&H[Vi](!0),s.isUnmounting)return he();te(d,[H]);let Ae=!1;const R=H[Jt]=ye=>{Ae||(Ae=!0,he(),ye?te(M,[H]):te(y,[H]),H[Jt]=void 0,K[de]===e&&delete K[de])};K[de]=e,p?Y(p,[H,R]):R()},clone(H){return Pn(H,t,s,i)}};return me}function mn(e){if(Qi(e))return e=rs(e),e.children=null,e}function jo(e){if(!Qi(e))return e;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&ee(s.default))return s.default()}}function En(e,t){e.shapeFlag&6&&e.component?En(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function na(e,t=!1,s){let i=[],n=0;for(let o=0;o<e.length;o++){let r=e[o];const a=s==null?r.key:String(s)+String(r.key!=null?r.key:o);r.type===lt?(r.patchFlag&128&&n++,i=i.concat(na(r.children,t,a))):(t||r.type!==ft)&&i.push(a!=null?rs(r,{key:a}):r)}if(n>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Zi(e,t){return ee(e)?Le({name:e.name},t,{setup:e}):e}const Li=e=>!!e.type.__asyncLoader,Qi=e=>e.type.__isKeepAlive;function tc(e,t){oa(e,"a",t)}function sc(e,t){oa(e,"da",t)}function oa(e,t,s=He){const i=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(en(t,i,s),s){let n=s.parent;for(;n&&n.parent;)Qi(n.parent.vnode)&&ic(i,t,s,n),n=n.parent}}function ic(e,t,s,i){const n=en(t,e,i,!0);ra(()=>{to(i[t],n)},s)}function en(e,t,s=He,i=!1){if(s){const n=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(s.isUnmounted)return;as();const a=mi(s),l=ht(t,s,e,r);return a(),ls(),l});return i?n.unshift(o):n.push(o),o}}const Bt=e=>(t,s=He)=>(!nn||e==="sp")&&en(e,(...i)=>t(...i),s),nc=Bt("bm"),tn=Bt("m"),oc=Bt("bu"),rc=Bt("u"),po=Bt("bum"),ra=Bt("um"),ac=Bt("sp"),lc=Bt("rtg"),cc=Bt("rtc");function fc(e,t=He){en("ec",e,t)}function uc(e,t,s,i){let n;const o=s;if(q(e)||Pe(e)){n=new Array(e.length);for(let r=0,a=e.length;r<a;r++)n[r]=t(e[r],r,void 0,o)}else if(typeof e=="number"){n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r,void 0,o)}else if(_e(e))if(e[Symbol.iterator])n=Array.from(e,(r,a)=>t(r,a,void 0,o));else{const r=Object.keys(e);n=new Array(r.length);for(let a=0,l=r.length;a<l;a++){const f=r[a];n[a]=t(e[f],f,a,o)}}else n=[];return n}const Dn=e=>e?_a(e)?on(e)||e.proxy:Dn(e.parent):null,Zs=Le(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Dn(e.parent),$root:e=>Dn(e.root),$emit:e=>e.emit,$options:e=>vo(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,go(e.update)}),$nextTick:e=>e.n||(e.n=Fl.bind(e.proxy)),$watch:e=>Jl.bind(e)}),pn=(e,t)=>e!==Me&&!e.__isScriptSetup&&le(e,t),hc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:i,data:n,props:o,accessCache:r,type:a,appContext:l}=e;let f;if(t[0]!=="$"){const y=r[t];if(y!==void 0)switch(y){case 1:return i[t];case 2:return n[t];case 4:return s[t];case 3:return o[t]}else{if(pn(i,t))return r[t]=1,i[t];if(n!==Me&&le(n,t))return r[t]=2,n[t];if((f=e.propsOptions[0])&&le(f,t))return r[t]=3,o[t];if(s!==Me&&le(s,t))return r[t]=4,s[t];On&&(r[t]=0)}}const h=Zs[t];let d,p;if(h)return t==="$attrs"&&Qe(e.attrs,"get",""),h(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(s!==Me&&le(s,t))return r[t]=4,s[t];if(p=l.config.globalProperties,le(p,t))return p[t]},set({_:e},t,s){const{data:i,setupState:n,ctx:o}=e;return pn(n,t)?(n[t]=s,!0):i!==Me&&le(i,t)?(i[t]=s,!0):le(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:i,appContext:n,propsOptions:o}},r){let a;return!!s[r]||e!==Me&&le(e,r)||pn(t,r)||(a=o[0])&&le(a,r)||le(i,r)||le(Zs,r)||le(n.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:le(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function $o(e){return q(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let On=!0;function dc(e){const t=vo(e),s=e.proxy,i=e.ctx;On=!1,t.beforeCreate&&Ho(t.beforeCreate,e,"bc");const{data:n,computed:o,methods:r,watch:a,provide:l,inject:f,created:h,beforeMount:d,mounted:p,beforeUpdate:y,updated:M,activated:P,deactivated:W,beforeDestroy:S,beforeUnmount:A,destroyed:$,unmounted:K,render:te,renderTracked:Y,renderTriggered:me,errorCaptured:H,serverPrefetch:he,expose:de,inheritAttrs:Ae,components:R,directives:ye,filters:I}=t;if(f&&gc(f,i,null),r)for(const k in r){const ae=r[k];ee(ae)&&(i[k]=ae.bind(s))}if(n){const k=n.call(s,s);_e(k)&&(e.data=co(k))}if(On=!0,o)for(const k in o){const ae=o[k],kt=ee(ae)?ae.bind(s,s):ee(ae.get)?ae.get.bind(s,s):ct,Ss=!ee(ae)&&ee(ae.set)?ae.set.bind(s):ct,cs=ie({get:kt,set:Ss});Object.defineProperty(i,k,{enumerable:!0,configurable:!0,get:()=>cs.value,set:Tt=>cs.value=Tt})}if(a)for(const k in a)aa(a[k],i,s,k);if(l){const k=ee(l)?l.call(s):l;Reflect.ownKeys(k).forEach(ae=>{xc(ae,k[ae])})}h&&Ho(h,e,"c");function F(k,ae){q(ae)?ae.forEach(kt=>k(kt.bind(s))):ae&&k(ae.bind(s))}if(F(nc,d),F(tn,p),F(oc,y),F(rc,M),F(tc,P),F(sc,W),F(fc,H),F(cc,Y),F(lc,me),F(po,A),F(ra,K),F(ac,he),q(de))if(de.length){const k=e.exposed||(e.exposed={});de.forEach(ae=>{Object.defineProperty(k,ae,{get:()=>s[ae],set:kt=>s[ae]=kt})})}else e.exposed||(e.exposed={});te&&e.render===ct&&(e.render=te),Ae!=null&&(e.inheritAttrs=Ae),R&&(e.components=R),ye&&(e.directives=ye)}function gc(e,t,s=ct){q(e)&&(e=Wn(e));for(const i in e){const n=e[i];let o;_e(n)?"default"in n?o=Pi(n.from||i,n.default,!0):o=Pi(n.from||i):o=Pi(n),ze(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[i]=o}}function Ho(e,t,s){ht(q(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,s)}function aa(e,t,s,i){const n=i.includes(".")?ta(s,i):()=>s[i];if(Pe(e)){const o=t[e];ee(o)&&gn(n,o)}else if(ee(e))gn(n,e.bind(s));else if(_e(e))if(q(e))e.forEach(o=>aa(o,t,s,i));else{const o=ee(e.handler)?e.handler.bind(s):t[e.handler];ee(o)&&gn(n,o,e)}}function vo(e){const t=e.type,{mixins:s,extends:i}=t,{mixins:n,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,a=o.get(t);let l;return a?l=a:!n.length&&!s&&!i?l=t:(l={},n.length&&n.forEach(f=>Ni(l,f,r,!0)),Ni(l,t,r)),_e(t)&&o.set(t,l),l}function Ni(e,t,s,i=!1){const{mixins:n,extends:o}=t;o&&Ni(e,o,s,!0),n&&n.forEach(r=>Ni(e,r,s,!0));for(const r in t)if(!(i&&r==="expose")){const a=mc[r]||s&&s[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const mc={data:Uo,props:Go,emits:Go,methods:Ks,computed:Ks,beforeCreate:Ue,created:Ue,beforeMount:Ue,mounted:Ue,beforeUpdate:Ue,updated:Ue,beforeDestroy:Ue,beforeUnmount:Ue,destroyed:Ue,unmounted:Ue,activated:Ue,deactivated:Ue,errorCaptured:Ue,serverPrefetch:Ue,components:Ks,directives:Ks,watch:vc,provide:Uo,inject:pc};function Uo(e,t){return t?e?function(){return Le(ee(e)?e.call(this,this):e,ee(t)?t.call(this,this):t)}:t:e}function pc(e,t){return Ks(Wn(e),Wn(t))}function Wn(e){if(q(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ue(e,t){return e?[...new Set([].concat(e,t))]:t}function Ks(e,t){return e?Le(Object.create(null),e,t):t}function Go(e,t){return e?q(e)&&q(t)?[...new Set([...e,...t])]:Le(Object.create(null),$o(e),$o(t??{})):t}function vc(e,t){if(!e)return t;if(!t)return e;const s=Le(Object.create(null),e);for(const i in t)s[i]=Ue(e[i],t[i]);return s}function la(){return{app:null,config:{isNativeTag:qa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yc=0;function bc(e,t){return function(i,n=null){ee(i)||(i=Le({},i)),n!=null&&!_e(n)&&(n=null);const o=la(),r=new WeakSet;let a=!1;const l=o.app={_uid:yc++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:Gc,get config(){return o.config},set config(f){},use(f,...h){return r.has(f)||(f&&ee(f.install)?(r.add(f),f.install(l,...h)):ee(f)&&(r.add(f),f(l,...h))),l},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),l},component(f,h){return h?(o.components[f]=h,l):o.components[f]},directive(f,h){return h?(o.directives[f]=h,l):o.directives[f]},mount(f,h,d){if(!a){const p=Ne(i,n);return p.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),h&&t?t(p,f):e(p,f,d),a=!0,l._container=f,f.__vue_app__=l,on(p.component)||p.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(f,h){return o.provides[f]=h,l},runWithContext(f){const h=Qs;Qs=l;try{return f()}finally{Qs=h}}};return l}}let Qs=null;function xc(e,t){if(He){let s=He.provides;const i=He.parent&&He.parent.provides;i===s&&(s=He.provides=Object.create(i)),s[e]=t}}function Pi(e,t,s=!1){const i=He||Je;if(i||Qs){const n=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Qs._context.provides;if(n&&e in n)return n[e];if(arguments.length>1)return s&&ee(t)?t.call(i&&i.proxy):t}}const ca={},fa=()=>Object.create(ca),ua=e=>Object.getPrototypeOf(e)===ca;function wc(e,t,s,i=!1){const n={},o=fa();e.propsDefaults=Object.create(null),ha(e,t,n,o);for(const r in e.propsOptions[0])r in n||(n[r]=void 0);s?e.props=i?n:Cl(n):e.type.props?e.props=n:e.props=o,e.attrs=o}function Mc(e,t,s,i){const{props:n,attrs:o,vnode:{patchFlag:r}}=e,a=ge(n),[l]=e.propsOptions;let f=!1;if((i||r>0)&&!(r&16)){if(r&8){const h=e.vnode.dynamicProps;for(let d=0;d<h.length;d++){let p=h[d];if(Xi(e.emitsOptions,p))continue;const y=t[p];if(l)if(le(o,p))y!==o[p]&&(o[p]=y,f=!0);else{const M=zs(p);n[M]=Fn(l,a,M,y,e,!1)}else y!==o[p]&&(o[p]=y,f=!0)}}}else{ha(e,t,n,o)&&(f=!0);let h;for(const d in a)(!t||!le(t,d)&&((h=Bs(d))===d||!le(t,h)))&&(l?s&&(s[d]!==void 0||s[h]!==void 0)&&(n[d]=Fn(l,a,d,void 0,e,!0)):delete n[d]);if(o!==a)for(const d in o)(!t||!le(t,d))&&(delete o[d],f=!0)}f&&Nt(e.attrs,"set","")}function ha(e,t,s,i){const[n,o]=e.propsOptions;let r=!1,a;if(t)for(let l in t){if(Xs(l))continue;const f=t[l];let h;n&&le(n,h=zs(l))?!o||!o.includes(h)?s[h]=f:(a||(a={}))[h]=f:Xi(e.emitsOptions,l)||(!(l in i)||f!==i[l])&&(i[l]=f,r=!0)}if(o){const l=ge(s),f=a||Me;for(let h=0;h<o.length;h++){const d=o[h];s[d]=Fn(n,l,d,f[d],e,!le(f,d))}}return r}function Fn(e,t,s,i,n,o){const r=e[s];if(r!=null){const a=le(r,"default");if(a&&i===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&ee(l)){const{propsDefaults:f}=n;if(s in f)i=f[s];else{const h=mi(n);i=f[s]=l.call(null,t),h()}}else i=l}r[0]&&(o&&!a?i=!1:r[1]&&(i===""||i===Bs(s))&&(i=!0))}return i}function da(e,t,s=!1){const i=t.propsCache,n=i.get(e);if(n)return n;const o=e.props,r={},a=[];let l=!1;if(!ee(e)){const h=d=>{l=!0;const[p,y]=da(d,t,!0);Le(r,p),y&&a.push(...y)};!s&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!o&&!l)return _e(e)&&i.set(e,Es),Es;if(q(o))for(let h=0;h<o.length;h++){const d=zs(o[h]);Ko(d)&&(r[d]=Me)}else if(o)for(const h in o){const d=zs(h);if(Ko(d)){const p=o[h],y=r[d]=q(p)||ee(p)?{type:p}:Le({},p);if(y){const M=Xo(Boolean,y.type),P=Xo(String,y.type);y[0]=M>-1,y[1]=P<0||M<P,(M>-1||le(y,"default"))&&a.push(d)}}}const f=[r,a];return _e(e)&&i.set(e,f),f}function Ko(e){return e[0]!=="$"&&!Xs(e)}function qo(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Yo(e,t){return qo(e)===qo(t)}function Xo(e,t){return q(t)?t.findIndex(s=>Yo(s,e)):ee(t)&&Yo(t,e)?0:-1}const ga=e=>e[0]==="_"||e==="$stable",yo=e=>q(e)?e.map(Dt):[Dt(e)],_c=(e,t,s)=>{if(t._n)return t;const i=ea((...n)=>yo(t(...n)),s);return i._c=!1,i},ma=(e,t,s)=>{const i=e._ctx;for(const n in e){if(ga(n))continue;const o=e[n];if(ee(o))t[n]=_c(n,o,i);else if(o!=null){const r=yo(o);t[n]=()=>r}}},pa=(e,t)=>{const s=yo(t);e.slots.default=()=>s},Vc=(e,t)=>{const s=e.slots=fa();if(e.vnode.shapeFlag&32){const i=t._;i?(Le(s,t),Tr(s,"_",i,!0)):ma(t,s)}else t&&pa(e,t)},Sc=(e,t,s)=>{const{vnode:i,slots:n}=e;let o=!0,r=Me;if(i.shapeFlag&32){const a=t._;a?s&&a===1?o=!1:(Le(n,t),!s&&a===1&&delete n._):(o=!t.$stable,ma(t,n)),r=t}else t&&(pa(e,t),r={default:1});if(o)for(const a in n)!ga(a)&&r[a]==null&&delete n[a]};function kn(e,t,s,i,n=!1){if(q(e)){e.forEach((p,y)=>kn(p,t&&(q(t)?t[y]:t),s,i,n));return}if(Li(i)&&!n)return;const o=i.shapeFlag&4?on(i.component)||i.component.proxy:i.el,r=n?null:o,{i:a,r:l}=e,f=t&&t.r,h=a.refs===Me?a.refs={}:a.refs,d=a.setupState;if(f!=null&&f!==l&&(Pe(f)?(h[f]=null,le(d,f)&&(d[f]=null)):ze(f)&&(f.value=null)),ee(l))ns(l,a,12,[r,h]);else{const p=Pe(l),y=ze(l);if(p||y){const M=()=>{if(e.f){const P=p?le(d,l)?d[l]:h[l]:l.value;n?q(P)&&to(P,o):q(P)?P.includes(o)||P.push(o):p?(h[l]=[o],le(d,l)&&(d[l]=h[l])):(l.value=[o],e.k&&(h[e.k]=l.value))}else p?(h[l]=r,le(d,l)&&(d[l]=r)):y&&(l.value=r,e.k&&(h[e.k]=r))};r?(M.id=-1,Xe(M,s)):M()}}}const Xe=Kl;function Tc(e){return Ac(e)}function Ac(e,t){const s=Ar();s.__VUE__=!0;const{insert:i,remove:n,patchProp:o,createElement:r,createText:a,createComment:l,setText:f,setElementText:h,parentNode:d,nextSibling:p,setScopeId:y=ct,insertStaticContent:M}=e,P=(u,g,v,b=null,x=null,V=null,C=void 0,_=null,T=!!g.dynamicChildren)=>{if(u===g)return;u&&!ms(u,g)&&(b=pi(u),Tt(u,x,V,!0),u=null),g.patchFlag===-2&&(T=!1,g.dynamicChildren=null);const{type:w,ref:E,shapeFlag:U}=g;switch(w){case sn:W(u,g,v,b);break;case ft:S(u,g,v,b);break;case yn:u==null&&A(g,v,b,C);break;case lt:R(u,g,v,b,x,V,C,_,T);break;default:U&1?te(u,g,v,b,x,V,C,_,T):U&6?ye(u,g,v,b,x,V,C,_,T):(U&64||U&128)&&w.process(u,g,v,b,x,V,C,_,T,$s)}E!=null&&x&&kn(E,u&&u.ref,V,g||u,!g)},W=(u,g,v,b)=>{if(u==null)i(g.el=a(g.children),v,b);else{const x=g.el=u.el;g.children!==u.children&&f(x,g.children)}},S=(u,g,v,b)=>{u==null?i(g.el=l(g.children||""),v,b):g.el=u.el},A=(u,g,v,b)=>{[u.el,u.anchor]=M(u.children,g,v,b,u.el,u.anchor)},$=({el:u,anchor:g},v,b)=>{let x;for(;u&&u!==g;)x=p(u),i(u,v,b),u=x;i(g,v,b)},K=({el:u,anchor:g})=>{let v;for(;u&&u!==g;)v=p(u),n(u),u=v;n(g)},te=(u,g,v,b,x,V,C,_,T)=>{g.type==="svg"?C="svg":g.type==="math"&&(C="mathml"),u==null?Y(g,v,b,x,V,C,_,T):he(u,g,x,V,C,_,T)},Y=(u,g,v,b,x,V,C,_)=>{let T,w;const{props:E,shapeFlag:U,transition:j,dirs:J}=u;if(T=u.el=r(u.type,V,E&&E.is,E),U&8?h(T,u.children):U&16&&H(u.children,T,null,b,x,vn(u,V),C,_),J&&fs(u,null,b,"created"),me(T,u,u.scopeId,C,b),E){for(const pe in E)pe!=="value"&&!Xs(pe)&&o(T,pe,null,E[pe],V,u.children,b,x,Rt);"value"in E&&o(T,"value",null,E.value,V),(w=E.onVnodeBeforeMount)&&Ct(w,b,u)}J&&fs(u,null,b,"beforeMount");const se=Cc(x,j);se&&j.beforeEnter(T),i(T,g,v),((w=E&&E.onVnodeMounted)||se||J)&&Xe(()=>{w&&Ct(w,b,u),se&&j.enter(T),J&&fs(u,null,b,"mounted")},x)},me=(u,g,v,b,x)=>{if(v&&y(u,v),b)for(let V=0;V<b.length;V++)y(u,b[V]);if(x){let V=x.subTree;if(g===V){const C=x.vnode;me(u,C,C.scopeId,C.slotScopeIds,x.parent)}}},H=(u,g,v,b,x,V,C,_,T=0)=>{for(let w=T;w<u.length;w++){const E=u[w]=_?Zt(u[w]):Dt(u[w]);P(null,E,g,v,b,x,V,C,_)}},he=(u,g,v,b,x,V,C)=>{const _=g.el=u.el;let{patchFlag:T,dynamicChildren:w,dirs:E}=g;T|=u.patchFlag&16;const U=u.props||Me,j=g.props||Me;let J;if(v&&us(v,!1),(J=j.onVnodeBeforeUpdate)&&Ct(J,v,g,u),E&&fs(g,u,v,"beforeUpdate"),v&&us(v,!0),w?de(u.dynamicChildren,w,_,v,b,vn(g,x),V):C||ae(u,g,_,null,v,b,vn(g,x),V,!1),T>0){if(T&16)Ae(_,g,U,j,v,b,x);else if(T&2&&U.class!==j.class&&o(_,"class",null,j.class,x),T&4&&o(_,"style",U.style,j.style,x),T&8){const se=g.dynamicProps;for(let pe=0;pe<se.length;pe++){const Ve=se[pe],We=U[Ve],dt=j[Ve];(dt!==We||Ve==="value")&&o(_,Ve,We,dt,x,u.children,v,b,Rt)}}T&1&&u.children!==g.children&&h(_,g.children)}else!C&&w==null&&Ae(_,g,U,j,v,b,x);((J=j.onVnodeUpdated)||E)&&Xe(()=>{J&&Ct(J,v,g,u),E&&fs(g,u,v,"updated")},b)},de=(u,g,v,b,x,V,C)=>{for(let _=0;_<g.length;_++){const T=u[_],w=g[_],E=T.el&&(T.type===lt||!ms(T,w)||T.shapeFlag&70)?d(T.el):v;P(T,w,E,null,b,x,V,C,!0)}},Ae=(u,g,v,b,x,V,C)=>{if(v!==b){if(v!==Me)for(const _ in v)!Xs(_)&&!(_ in b)&&o(u,_,v[_],null,C,g.children,x,V,Rt);for(const _ in b){if(Xs(_))continue;const T=b[_],w=v[_];T!==w&&_!=="value"&&o(u,_,w,T,C,g.children,x,V,Rt)}"value"in b&&o(u,"value",v.value,b.value,C)}},R=(u,g,v,b,x,V,C,_,T)=>{const w=g.el=u?u.el:a(""),E=g.anchor=u?u.anchor:a("");let{patchFlag:U,dynamicChildren:j,slotScopeIds:J}=g;J&&(_=_?_.concat(J):J),u==null?(i(w,v,b),i(E,v,b),H(g.children||[],v,E,x,V,C,_,T)):U>0&&U&64&&j&&u.dynamicChildren?(de(u.dynamicChildren,j,v,x,V,C,_),(g.key!=null||x&&g===x.subTree)&&va(u,g,!0)):ae(u,g,v,E,x,V,C,_,T)},ye=(u,g,v,b,x,V,C,_,T)=>{g.slotScopeIds=_,u==null?g.shapeFlag&512?x.ctx.activate(g,v,b,C,T):I(g,v,b,x,V,C,T):X(u,g,T)},I=(u,g,v,b,x,V,C)=>{const _=u.component=Ic(u,b,x);if(Qi(u)&&(_.ctx.renderer=$s),zc(_),_.asyncDep){if(x&&x.registerDep(_,F),!u.el){const T=_.subTree=Ne(ft);S(null,T,g,v)}}else F(_,u,g,v,x,V,C)},X=(u,g,v)=>{const b=g.component=u.component;if($l(u,g,v))if(b.asyncDep&&!b.asyncResolved){k(b,g,v);return}else b.next=g,Rl(b.update),b.effect.dirty=!0,b.update();else g.el=u.el,b.vnode=g},F=(u,g,v,b,x,V,C)=>{const _=()=>{if(u.isMounted){let{next:E,bu:U,u:j,parent:J,vnode:se}=u;{const Ts=ya(u);if(Ts){E&&(E.el=se.el,k(u,E,C)),Ts.asyncDep.then(()=>{u.isUnmounted||_()});return}}let pe=E,Ve;us(u,!1),E?(E.el=se.el,k(u,E,C)):E=se,U&&Ai(U),(Ve=E.props&&E.props.onVnodeBeforeUpdate)&&Ct(Ve,J,E,se),us(u,!0);const We=dn(u),dt=u.subTree;u.subTree=We,P(dt,We,d(dt.el),pi(dt),u,x,V),E.el=We.el,pe===null&&Hl(u,We.el),j&&Xe(j,x),(Ve=E.props&&E.props.onVnodeUpdated)&&Xe(()=>Ct(Ve,J,E,se),x)}else{let E;const{el:U,props:j}=g,{bm:J,m:se,parent:pe}=u,Ve=Li(g);if(us(u,!1),J&&Ai(J),!Ve&&(E=j&&j.onVnodeBeforeMount)&&Ct(E,pe,g),us(u,!0),U&&Ao){const We=()=>{u.subTree=dn(u),Ao(U,u.subTree,u,x,null)};Ve?g.type.__asyncLoader().then(()=>!u.isUnmounted&&We()):We()}else{const We=u.subTree=dn(u);P(null,We,v,b,u,x,V),g.el=We.el}if(se&&Xe(se,x),!Ve&&(E=j&&j.onVnodeMounted)){const We=g;Xe(()=>Ct(E,pe,We),x)}(g.shapeFlag&256||pe&&Li(pe.vnode)&&pe.vnode.shapeFlag&256)&&u.a&&Xe(u.a,x),u.isMounted=!0,g=v=b=null}},T=u.effect=new no(_,ct,()=>go(w),u.scope),w=u.update=()=>{T.dirty&&T.run()};w.id=u.uid,us(u,!0),w()},k=(u,g,v)=>{g.component=u;const b=u.vnode.props;u.vnode=g,u.next=null,Mc(u,g.props,b,v),Sc(u,g.children,v),as(),No(u),ls()},ae=(u,g,v,b,x,V,C,_,T=!1)=>{const w=u&&u.children,E=u?u.shapeFlag:0,U=g.children,{patchFlag:j,shapeFlag:J}=g;if(j>0){if(j&128){Ss(w,U,v,b,x,V,C,_,T);return}else if(j&256){kt(w,U,v,b,x,V,C,_,T);return}}J&8?(E&16&&Rt(w,x,V),U!==w&&h(v,U)):E&16?J&16?Ss(w,U,v,b,x,V,C,_,T):Rt(w,x,V,!0):(E&8&&h(v,""),J&16&&H(U,v,b,x,V,C,_,T))},kt=(u,g,v,b,x,V,C,_,T)=>{u=u||Es,g=g||Es;const w=u.length,E=g.length,U=Math.min(w,E);let j;for(j=0;j<U;j++){const J=g[j]=T?Zt(g[j]):Dt(g[j]);P(u[j],J,v,null,x,V,C,_,T)}w>E?Rt(u,x,V,!0,!1,U):H(g,v,b,x,V,C,_,T,U)},Ss=(u,g,v,b,x,V,C,_,T)=>{let w=0;const E=g.length;let U=u.length-1,j=E-1;for(;w<=U&&w<=j;){const J=u[w],se=g[w]=T?Zt(g[w]):Dt(g[w]);if(ms(J,se))P(J,se,v,null,x,V,C,_,T);else break;w++}for(;w<=U&&w<=j;){const J=u[U],se=g[j]=T?Zt(g[j]):Dt(g[j]);if(ms(J,se))P(J,se,v,null,x,V,C,_,T);else break;U--,j--}if(w>U){if(w<=j){const J=j+1,se=J<E?g[J].el:b;for(;w<=j;)P(null,g[w]=T?Zt(g[w]):Dt(g[w]),v,se,x,V,C,_,T),w++}}else if(w>j)for(;w<=U;)Tt(u[w],x,V,!0),w++;else{const J=w,se=w,pe=new Map;for(w=se;w<=j;w++){const et=g[w]=T?Zt(g[w]):Dt(g[w]);et.key!=null&&pe.set(et.key,w)}let Ve,We=0;const dt=j-se+1;let Ts=!1,Co=0;const Hs=new Array(dt);for(w=0;w<dt;w++)Hs[w]=0;for(w=J;w<=U;w++){const et=u[w];if(We>=dt){Tt(et,x,V,!0);continue}let At;if(et.key!=null)At=pe.get(et.key);else for(Ve=se;Ve<=j;Ve++)if(Hs[Ve-se]===0&&ms(et,g[Ve])){At=Ve;break}At===void 0?Tt(et,x,V,!0):(Hs[At-se]=w+1,At>=Co?Co=At:Ts=!0,P(et,g[At],v,null,x,V,C,_,T),We++)}const Lo=Ts?Lc(Hs):Es;for(Ve=Lo.length-1,w=dt-1;w>=0;w--){const et=se+w,At=g[et],Po=et+1<E?g[et+1].el:b;Hs[w]===0?P(null,At,v,Po,x,V,C,_,T):Ts&&(Ve<0||w!==Lo[Ve]?cs(At,v,Po,2):Ve--)}}},cs=(u,g,v,b,x=null)=>{const{el:V,type:C,transition:_,children:T,shapeFlag:w}=u;if(w&6){cs(u.component.subTree,g,v,b);return}if(w&128){u.suspense.move(g,v,b);return}if(w&64){C.move(u,g,v,$s);return}if(C===lt){i(V,g,v);for(let U=0;U<T.length;U++)cs(T[U],g,v,b);i(u.anchor,g,v);return}if(C===yn){$(u,g,v);return}if(b!==2&&w&1&&_)if(b===0)_.beforeEnter(V),i(V,g,v),Xe(()=>_.enter(V),x);else{const{leave:U,delayLeave:j,afterLeave:J}=_,se=()=>i(V,g,v),pe=()=>{U(V,()=>{se(),J&&J()})};j?j(V,se,pe):pe()}else i(V,g,v)},Tt=(u,g,v,b=!1,x=!1)=>{const{type:V,props:C,ref:_,children:T,dynamicChildren:w,shapeFlag:E,patchFlag:U,dirs:j}=u;if(_!=null&&kn(_,null,v,u,!0),E&256){g.ctx.deactivate(u);return}const J=E&1&&j,se=!Li(u);let pe;if(se&&(pe=C&&C.onVnodeBeforeUnmount)&&Ct(pe,g,u),E&6)Ua(u.component,v,b);else{if(E&128){u.suspense.unmount(v,b);return}J&&fs(u,null,g,"beforeUnmount"),E&64?u.type.remove(u,g,v,x,$s,b):w&&(V!==lt||U>0&&U&64)?Rt(w,g,v,!1,!0):(V===lt&&U&384||!x&&E&16)&&Rt(T,g,v),b&&Vo(u)}(se&&(pe=C&&C.onVnodeUnmounted)||J)&&Xe(()=>{pe&&Ct(pe,g,u),J&&fs(u,null,g,"unmounted")},v)},Vo=u=>{const{type:g,el:v,anchor:b,transition:x}=u;if(g===lt){Ha(v,b);return}if(g===yn){K(u);return}const V=()=>{n(v),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(u.shapeFlag&1&&x&&!x.persisted){const{leave:C,delayLeave:_}=x,T=()=>C(v,V);_?_(u.el,V,T):T()}else V()},Ha=(u,g)=>{let v;for(;u!==g;)v=p(u),n(u),u=v;n(g)},Ua=(u,g,v)=>{const{bum:b,scope:x,update:V,subTree:C,um:_}=u;b&&Ai(b),x.stop(),V&&(V.active=!1,Tt(C,u,g,v)),_&&Xe(_,g),Xe(()=>{u.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Rt=(u,g,v,b=!1,x=!1,V=0)=>{for(let C=V;C<u.length;C++)Tt(u[C],g,v,b,x)},pi=u=>u.shapeFlag&6?pi(u.component.subTree):u.shapeFlag&128?u.suspense.next():p(u.anchor||u.el);let cn=!1;const So=(u,g,v)=>{u==null?g._vnode&&Tt(g._vnode,null,null,!0):P(g._vnode||null,u,g,null,null,null,v),cn||(cn=!0,No(),Yr(),cn=!1),g._vnode=u},$s={p:P,um:Tt,m:cs,r:Vo,mt:I,mc:H,pc:ae,pbc:de,n:pi,o:e};let To,Ao;return{render:So,hydrate:To,createApp:bc(So,To)}}function vn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function us({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function Cc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function va(e,t,s=!1){const i=e.children,n=t.children;if(q(i)&&q(n))for(let o=0;o<i.length;o++){const r=i[o];let a=n[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[o]=Zt(n[o]),a.el=r.el),s||va(r,a)),a.type===sn&&(a.el=r.el)}}function Lc(e){const t=e.slice(),s=[0];let i,n,o,r,a;const l=e.length;for(i=0;i<l;i++){const f=e[i];if(f!==0){if(n=s[s.length-1],e[n]<f){t[i]=n,s.push(i);continue}for(o=0,r=s.length-1;o<r;)a=o+r>>1,e[s[a]]<f?o=a+1:r=a;f<e[s[o]]&&(o>0&&(t[i]=s[o-1]),s[o]=i)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}function ya(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ya(t)}const Pc=e=>e.__isTeleport,lt=Symbol.for("v-fgt"),sn=Symbol.for("v-txt"),ft=Symbol.for("v-cmt"),yn=Symbol.for("v-stc"),ei=[];let St=null;function Wt(e=!1){ei.push(St=e?null:[])}function Ec(){ei.pop(),St=ei[ei.length-1]||null}let ai=1;function Jo(e){ai+=e}function ba(e){return e.dynamicChildren=ai>0?St||Es:null,Ec(),ai>0&&St&&St.push(e),e}function es(e,t,s,i,n,o){return ba(re(e,t,s,i,n,o,!0))}function xa(e,t,s,i,n){return ba(Ne(e,t,s,i,n,!0))}function Rn(e){return e?e.__v_isVNode===!0:!1}function ms(e,t){return e.type===t.type&&e.key===t.key}const wa=({key:e})=>e??null,Ei=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Pe(e)||ze(e)||ee(e)?{i:Je,r:e,k:t,f:!!s}:e:null);function re(e,t=null,s=null,i=0,n=null,o=e===lt?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wa(t),ref:t&&Ei(t),scopeId:Ji,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Je};return a?(bo(l,s),o&128&&e.normalize(l)):s&&(l.shapeFlag|=Pe(s)?8:16),ai>0&&!r&&St&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&St.push(l),l}const Ne=Dc;function Dc(e,t=null,s=null,i=0,n=null,o=!1){if((!e||e===Ul)&&(e=ft),Rn(e)){const a=rs(e,t,!0);return s&&bo(a,s),ai>0&&!o&&St&&(a.shapeFlag&6?St[St.indexOf(e)]=a:St.push(a)),a.patchFlag|=-2,a}if(Hc(e)&&(e=e.__vccOpts),t){t=Oc(t);let{class:a,style:l}=t;a&&!Pe(a)&&(t.class=io(a)),_e(l)&&(jr(l)&&!q(l)&&(l=Le({},l)),t.style=qe(l))}const r=Pe(e)?1:Gl(e)?128:Pc(e)?64:_e(e)?4:ee(e)?2:0;return re(e,t,s,i,n,r,o,!0)}function Oc(e){return e?jr(e)||ua(e)?Le({},e):e:null}function rs(e,t,s=!1,i=!1){const{props:n,ref:o,patchFlag:r,children:a,transition:l}=e,f=t?Fc(n||{},t):n,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&wa(f),ref:t&&t.ref?s&&o?q(o)?o.concat(Ei(t)):[o,Ei(t)]:Ei(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==lt?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rs(e.ssContent),ssFallback:e.ssFallback&&rs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&(h.transition=l.clone(h)),h}function Wc(e=" ",t=0){return Ne(sn,null,e,t)}function Ma(e="",t=!1){return t?(Wt(),xa(ft,null,e)):Ne(ft,null,e)}function Dt(e){return e==null||typeof e=="boolean"?Ne(ft):q(e)?Ne(lt,null,e.slice()):typeof e=="object"?Zt(e):Ne(sn,null,String(e))}function Zt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:rs(e)}function bo(e,t){let s=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(q(t))s=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),bo(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!ua(t)?t._ctx=Je:n===3&&Je&&(Je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ee(t)?(t={default:t,_ctx:Je},s=32):(t=String(t),i&64?(s=16,t=[Wc(t)]):s=8);e.children=t,e.shapeFlag|=s}function Fc(...e){const t={};for(let s=0;s<e.length;s++){const i=e[s];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=io([t.class,i.class]));else if(n==="style")t.style=qe([t.style,i.style]);else if(Ui(n)){const o=t[n],r=i[n];r&&o!==r&&!(q(o)&&o.includes(r))&&(t[n]=o?[].concat(o,r):r)}else n!==""&&(t[n]=i[n])}return t}function Ct(e,t,s,i=null){ht(e,t,7,[s,i])}const kc=la();let Rc=0;function Ic(e,t,s){const i=e.type,n=(t?t.appContext:e.appContext)||kc,o={uid:Rc++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new rl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:da(i,n),emitsOptions:Jr(i,n),emit:null,emitted:null,propsDefaults:Me,inheritAttrs:i.inheritAttrs,ctx:Me,data:Me,props:Me,attrs:Me,slots:Me,refs:Me,setupState:Me,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=zl.bind(null,o),e.ce&&e.ce(o),o}let He=null;const Nc=()=>He||Je;let zi,In;{const e=Ar(),t=(s,i)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(i),o=>{n.length>1?n.forEach(r=>r(o)):n[0](o)}};zi=t("__VUE_INSTANCE_SETTERS__",s=>He=s),In=t("__VUE_SSR_SETTERS__",s=>nn=s)}const mi=e=>{const t=He;return zi(e),e.scope.on(),()=>{e.scope.off(),zi(t)}},Zo=()=>{He&&He.scope.off(),zi(null)};function _a(e){return e.vnode.shapeFlag&4}let nn=!1;function zc(e,t=!1){t&&In(t);const{props:s,children:i}=e.vnode,n=_a(e);wc(e,s,n,t),Vc(e,i);const o=n?Bc(e,t):void 0;return t&&In(!1),o}function Bc(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,hc);const{setup:i}=s;if(i){const n=e.setupContext=i.length>1?$c(e):null,o=mi(e);as();const r=ns(i,e,0,[e.props,n]);if(ls(),o(),Mr(r)){if(r.then(Zo,Zo),t)return r.then(a=>{Qo(e,a,t)}).catch(a=>{Yi(a,e,0)});e.asyncDep=r}else Qo(e,r,t)}else Va(e,t)}function Qo(e,t,s){ee(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:_e(t)&&(e.setupState=Gr(t)),Va(e,s)}let er;function Va(e,t,s){const i=e.type;if(!e.render){if(!t&&er&&!i.render){const n=i.template||vo(e).template;if(n){const{isCustomElement:o,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,f=Le(Le({isCustomElement:o,delimiters:a},r),l);i.render=er(n,f)}}e.render=i.render||ct}{const n=mi(e);as();try{dc(e)}finally{ls(),n()}}}const jc={get(e,t){return Qe(e,"get",""),e[t]}};function $c(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,jc),slots:e.slots,emit:e.emit,expose:t}}function on(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Gr(Ll(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Zs)return Zs[s](e)},has(t,s){return s in t||s in Zs}}))}function Hc(e){return ee(e)&&"__vccOpts"in e}const ie=(e,t)=>Pl(e,t,nn);function Uc(e,t,s){const i=arguments.length;return i===2?_e(t)&&!q(t)?Rn(t)?Ne(e,null,[t]):Ne(e,t):Ne(e,null,t):(i>3?s=Array.prototype.slice.call(arguments,2):i===3&&Rn(s)&&(s=[s]),Ne(e,t,s))}const Gc="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Kc="http://www.w3.org/2000/svg",qc="http://www.w3.org/1998/Math/MathML",Qt=typeof document<"u"?document:null,tr=Qt&&Qt.createElement("template"),Yc={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,i)=>{const n=t==="svg"?Qt.createElementNS(Kc,e):t==="mathml"?Qt.createElementNS(qc,e):Qt.createElement(e,s?{is:s}:void 0);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Qt.createTextNode(e),createComment:e=>Qt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Qt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,i,n,o){const r=s?s.previousSibling:t.lastChild;if(n&&(n===o||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===o||!(n=n.nextSibling)););else{tr.innerHTML=i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e;const a=tr.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},$t="transition",Us="animation",li=Symbol("_vtc"),xo=(e,{slots:t})=>Uc(ec,Xc(e),t);xo.displayName="Transition";const Sa={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};xo.props=Le({},sa,Sa);const hs=(e,t=[])=>{q(e)?e.forEach(s=>s(...t)):e&&e(...t)},sr=e=>e?q(e)?e.some(t=>t.length>1):e.length>1:!1;function Xc(e){const t={};for(const R in e)R in Sa||(t[R]=e[R]);if(e.css===!1)return t;const{name:s="v",type:i,duration:n,enterFromClass:o=`${s}-enter-from`,enterActiveClass:r=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=o,appearActiveClass:f=r,appearToClass:h=a,leaveFromClass:d=`${s}-leave-from`,leaveActiveClass:p=`${s}-leave-active`,leaveToClass:y=`${s}-leave-to`}=e,M=Jc(n),P=M&&M[0],W=M&&M[1],{onBeforeEnter:S,onEnter:A,onEnterCancelled:$,onLeave:K,onLeaveCancelled:te,onBeforeAppear:Y=S,onAppear:me=A,onAppearCancelled:H=$}=t,he=(R,ye,I)=>{ds(R,ye?h:a),ds(R,ye?f:r),I&&I()},de=(R,ye)=>{R._isLeaving=!1,ds(R,d),ds(R,y),ds(R,p),ye&&ye()},Ae=R=>(ye,I)=>{const X=R?me:A,F=()=>he(ye,R,I);hs(X,[ye,F]),ir(()=>{ds(ye,R?l:o),Ht(ye,R?h:a),sr(X)||nr(ye,i,P,F)})};return Le(t,{onBeforeEnter(R){hs(S,[R]),Ht(R,o),Ht(R,r)},onBeforeAppear(R){hs(Y,[R]),Ht(R,l),Ht(R,f)},onEnter:Ae(!1),onAppear:Ae(!0),onLeave(R,ye){R._isLeaving=!0;const I=()=>de(R,ye);Ht(R,d),Ht(R,p),ef(),ir(()=>{R._isLeaving&&(ds(R,d),Ht(R,y),sr(K)||nr(R,i,W,I))}),hs(K,[R,I])},onEnterCancelled(R){he(R,!1),hs($,[R])},onAppearCancelled(R){he(R,!0),hs(H,[R])},onLeaveCancelled(R){de(R),hs(te,[R])}})}function Jc(e){if(e==null)return null;if(_e(e))return[bn(e.enter),bn(e.leave)];{const t=bn(e);return[t,t]}}function bn(e){return Qa(e)}function Ht(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[li]||(e[li]=new Set)).add(t)}function ds(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const s=e[li];s&&(s.delete(t),s.size||(e[li]=void 0))}function ir(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Zc=0;function nr(e,t,s,i){const n=e._endId=++Zc,o=()=>{n===e._endId&&i()};if(s)return setTimeout(o,s);const{type:r,timeout:a,propCount:l}=Qc(e,t);if(!r)return i();const f=r+"end";let h=0;const d=()=>{e.removeEventListener(f,p),o()},p=y=>{y.target===e&&++h>=l&&d()};setTimeout(()=>{h<l&&d()},a+1),e.addEventListener(f,p)}function Qc(e,t){const s=window.getComputedStyle(e),i=M=>(s[M]||"").split(", "),n=i(`${$t}Delay`),o=i(`${$t}Duration`),r=or(n,o),a=i(`${Us}Delay`),l=i(`${Us}Duration`),f=or(a,l);let h=null,d=0,p=0;t===$t?r>0&&(h=$t,d=r,p=o.length):t===Us?f>0&&(h=Us,d=f,p=l.length):(d=Math.max(r,f),h=d>0?r>f?$t:Us:null,p=h?h===$t?o.length:l.length:0);const y=h===$t&&/\b(transform|all)(,|$)/.test(i(`${$t}Property`).toString());return{type:h,timeout:d,propCount:p,hasTransform:y}}function or(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,i)=>rr(s)+rr(e[i])))}function rr(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ef(){return document.body.offsetHeight}function tf(e,t,s){const i=e[li];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Bi=Symbol("_vod"),Ta=Symbol("_vsh"),sf={beforeMount(e,{value:t},{transition:s}){e[Bi]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Gs(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:i}){!t!=!s&&(i?t?(i.beforeEnter(e),Gs(e,!0),i.enter(e)):i.leave(e,()=>{Gs(e,!1)}):Gs(e,t))},beforeUnmount(e,{value:t}){Gs(e,t)}};function Gs(e,t){e.style.display=t?e[Bi]:"none",e[Ta]=!t}const nf=Symbol(""),of=/(^|;)\s*display\s*:/;function rf(e,t,s){const i=e.style,n=Pe(s);let o=!1;if(s&&!n){if(t)if(Pe(t))for(const r of t.split(";")){const a=r.slice(0,r.indexOf(":")).trim();s[a]==null&&Di(i,a,"")}else for(const r in t)s[r]==null&&Di(i,r,"");for(const r in s)r==="display"&&(o=!0),Di(i,r,s[r])}else if(n){if(t!==s){const r=i[nf];r&&(s+=";"+r),i.cssText=s,o=of.test(s)}}else t&&e.removeAttribute("style");Bi in e&&(e[Bi]=o?i.display:"",e[Ta]&&(i.display="none"))}const ar=/\s*!important$/;function Di(e,t,s){if(q(s))s.forEach(i=>Di(e,t,i));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const i=af(e,t);ar.test(s)?e.setProperty(Bs(i),s.replace(ar,""),"important"):e[i]=s}}const lr=["Webkit","Moz","ms"],xn={};function af(e,t){const s=xn[t];if(s)return s;let i=zs(t);if(i!=="filter"&&i in e)return xn[t]=i;i=Sr(i);for(let n=0;n<lr.length;n++){const o=lr[n]+i;if(o in e)return xn[t]=o}return t}const cr="http://www.w3.org/1999/xlink";function lf(e,t,s,i,n){if(i&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(cr,t.slice(6,t.length)):e.setAttributeNS(cr,t,s);else{const o=ol(t);s==null||o&&!Cr(s)?e.removeAttribute(t):e.setAttribute(t,o?"":s)}}function cf(e,t,s,i,n,o,r){if(t==="innerHTML"||t==="textContent"){i&&r(i,n,o),e[t]=s??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const f=a==="OPTION"?e.getAttribute("value")||"":e.value,h=s??"";(f!==h||!("_value"in e))&&(e.value=h),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const f=typeof e[t];f==="boolean"?s=Cr(s):s==null&&f==="string"?(s="",l=!0):f==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(t)}function Cs(e,t,s,i){e.addEventListener(t,s,i)}function ff(e,t,s,i){e.removeEventListener(t,s,i)}const fr=Symbol("_vei");function uf(e,t,s,i,n=null){const o=e[fr]||(e[fr]={}),r=o[t];if(i&&r)r.value=i;else{const[a,l]=hf(t);if(i){const f=o[t]=mf(i,n);Cs(e,a,f,l)}else r&&(ff(e,a,r,l),o[t]=void 0)}}const ur=/(?:Once|Passive|Capture)$/;function hf(e){let t;if(ur.test(e)){t={};let i;for(;i=e.match(ur);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Bs(e.slice(2)),t]}let wn=0;const df=Promise.resolve(),gf=()=>wn||(df.then(()=>wn=0),wn=Date.now());function mf(e,t){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;ht(pf(i,s.value),t,5,[i])};return s.value=e,s.attached=gf(),s}function pf(e,t){if(q(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const hr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,vf=(e,t,s,i,n,o,r,a,l)=>{const f=n==="svg";t==="class"?tf(e,i,f):t==="style"?rf(e,s,i):Ui(t)?eo(t)||uf(e,t,s,i,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yf(e,t,i,f))?cf(e,t,i,o,r,a,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),lf(e,t,i,f))};function yf(e,t,s,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&hr(t)&&ee(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return hr(t)&&Pe(s)?!1:t in e}const dr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return q(t)?s=>Ai(t,s):t};function bf(e){e.target.composing=!0}function gr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Mn=Symbol("_assign"),xf={created(e,{modifiers:{lazy:t,trim:s,number:i}},n){e[Mn]=dr(n);const o=i||n.props&&n.props.type==="number";Cs(e,t?"change":"input",r=>{if(r.target.composing)return;let a=e.value;s&&(a=a.trim()),o&&(a=Vn(a)),e[Mn](a)}),s&&Cs(e,"change",()=>{e.value=e.value.trim()}),t||(Cs(e,"compositionstart",bf),Cs(e,"compositionend",gr),Cs(e,"change",gr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:i,number:n}},o){if(e[Mn]=dr(o),e.composing)return;const r=(n||e.type==="number")&&!/^0\d/.test(e.value)?Vn(e.value):e.value,a=t??"";r!==a&&(document.activeElement===e&&e.type!=="range"&&(s||i&&e.value.trim()===a)||(e.value=a))}},wf=["ctrl","shift","alt","meta"],Mf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>wf.some(s=>e[`${s}Key`]&&!t.includes(s))},mr=(e,t)=>{const s=e._withMods||(e._withMods={}),i=t.join(".");return s[i]||(s[i]=(n,...o)=>{for(let r=0;r<t.length;r++){const a=Mf[t[r]];if(a&&a(n,t))return}return e(n,...o)})},_f=Le({patchProp:vf},Yc);let pr;function Vf(){return pr||(pr=Tc(_f))}const Sf=(...e)=>{const t=Vf().createApp(...e),{mount:s}=t;return t.mount=i=>{const n=Af(i);if(!n)return;const o=t._component;!ee(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.innerHTML="";const r=s(n,!1,Tf(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),r},t};function Tf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Af(e){return Pe(e)?document.querySelector(e):e}const Aa=4,Cf=5,vr=30,z="GND",be="VDD",fe=0,oe=5,Lf=5e-7,Pf=100,Si=1.5,Ef=(e,t=10)=>{for(let s in e.nodes){const i=e.nodes[s];i.value.netCurrent=0}for(let s in e.devices.mosfets){const i=e.devices.mosfets[s],n=i.getMosfetCurrent();i.mosfetType=="nmos"?(i.Vd.value.netCurrent-=n,i.Vs.value.netCurrent+=n):i.mosfetType=="pmos"&&(i.Vd.value.netCurrent+=n,i.Vs.value.netCurrent-=n)}for(let s in e.devices.voltageSources){const i=e.devices.voltageSources[s];i.fixedAt=="gnd"?(i.current=i.vplus.value.netCurrent,i.vminus.value.netCurrent+=i.current,i.vplus.value.netCurrent=0):i.fixedAt=="vdd"?(i.current=-i.vminus.value.netCurrent,i.vplus.value.netCurrent+=i.current,i.vminus.value.netCurrent=0):console.log("Cannot solve voltage source not attached to GND or VDD")}for(let s in e.nodes){const i=e.nodes[s];if(s==z){i.value.voltage=fe;continue}if(s==be){i.value.voltage=oe;continue}if(i.value.fixed)continue;Df(i);let n=i.value.netCurrent/i.value.capacitance*(t/1e3)*.5;n>.1?n=.1:n<-.1&&(n=-.1),i.value.voltage+=n,i.value.historicVoltages.dequeue(),i.value.historicVoltages.enqueue(i.value.voltage)}},Df=e=>{let t=0,s=0,i=!0;e.value.historicVoltages.toArray().forEach((n,o)=>{const r=n-s>0;n-s==0||r!==i&&(t+=1),i=r,s=n,o<=1&&(t=0)}),t>=2&&(e.value.capacitance+=e.value.originalCapacitance),e.value.capacitance<e.value.originalCapacitance&&(e.value.capacitance=e.value.originalCapacitance)};var N=(e=>(e[e.Hidden=0]="Hidden",e[e.Locked=1]="Locked",e[e.Visible=2]="Visible",e))(N||{}),Nn=(e=>(e[e.Right=0]="Right",e[e.Left=1]="Left",e[e.Up=2]="Up",e[e.Down=3]="Down",e))(Nn||{}),Of=Object.defineProperty,Wf=(e,t,s)=>t in e?Of(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,ti=(e,t,s)=>(Wf(e,typeof t!="symbol"?t+"":t,s),s);class je{constructor(t,s,i){ti(this,"_rows"),ti(this,"_columns"),ti(this,"_values"),this._rows=Math.max(t,1),this._columns=Math.max(s,1),this._values=new Array(this._rows).fill([]).map(()=>new Array(this._columns).fill(0)),i&&(this.values=i)}get rows(){return this._rows}get columns(){return this._columns}get values(){return this._values}set values(t){const s=Math.min(t.length,this.rows),i=Math.min(t[0].length,this.columns);for(let n=0;n<s;n++)for(let o=0;o<i;o++)this.values[n][o]=t[n][o]}at(t,s){return this.values[t][s]}reset(){this.values=this.values.map(t=>t.map(()=>0))}addAColumn(){return new je(this.rows,this.columns+1,this.values)}addARow(){return new je(this.rows+1,this.columns,this.values)}equals(t){return this.rows===t.rows&&this.columns===t.columns&&this.values.reduce((s,i,n)=>s&&i.reduce((o,r,a)=>o&&t.at(n,a)===r,s),!0)}setAsIdentity(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");return this.values.forEach((t,s)=>{t.forEach((i,n)=>{this.values[s][n]=s===n?1:0})}),this}static identity(t){if(t<1)throw Error("Dimension error! Matrix dimension must be positive.");return new je(t,t).setAsIdentity()}multiply(t){if(this.columns!==t.rows)throw new Error("Dimension error! The operand matrix must have the same number of rows as 'this' matrix columns!");const s=new je(this.rows,t.columns);return s.values=s.values.map((i,n)=>i.map((o,r)=>this.values[n].reduce((a,l,f)=>a+l*t.at(f,r),0))),s}indexOf(t){for(let s=0;s<this.rows;s++)for(let i=0;i<this.columns;i++)if(this.values[s][i]===t)return[s,i];return[-1,-1]}max(){return this.values.reduce((t,s)=>Math.max(t,...s),-1/0)}min(){return this.values.reduce((t,s)=>Math.min(t,...s),1/0)}round(){return new je(this.rows,this.columns,this.values.map(t=>t.map(s=>Math.round(s))))}determinant(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");if(this.rows===this.columns&&this.columns===1)return this.values[0][0];let t=0,s=1;if(this.rows===2)t=this.values[0][0]*this.values[1][1]-this.values[1][0]*this.values[0][1];else for(let i=0;i<this.rows;i++){const n=this.getCofactor(0,i);t+=s*this.at(0,i)*n.determinant(),s=-s}return t}getCofactor(t,s){return new je(this.rows-1,this.columns-1,this.values.filter((i,n)=>n!==t).map(i=>i.filter((n,o)=>o!==s)))}transpose(){return new je(this.columns,this.rows,new Array(this.columns).fill([]).map((t,s)=>new Array(this.rows).fill(0).map((i,n)=>this.at(n,s))))}inverse(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");const t=this.determinant();if(t===0)throw new Error("Determinant is 0, can't compute inverse.");const s=new je(this.rows,this.columns,this.values.map((i,n)=>i.map((o,r)=>Math.pow(-1,n+r)*this.getCofactor(n,r).determinant()))).transpose();return new je(this.rows,this.columns,this.values.map((i,n)=>i.map((o,r)=>s.at(n,r)/t)))}toString(){return`[${this.values.map(t=>`[${t.join(", ")}]`).join(`,
`)}]`}}const Ff=1e-5,mt=class{constructor(e){ti(this,"values",new Float32Array(4)),e!==void 0&&(this.xyzw=e)}get x(){return this.values[0]}set x(e){this.values[0]=e}get y(){return this.values[1]}set y(e){this.values[1]=e}get z(){return this.values[2]}set z(e){this.values[2]=e}get w(){return this.values[3]}set w(e){this.values[3]=e}get xy(){return[this.values[0],this.values[1]]}set xy(e){this.values[0]=e[0],this.values[1]=e[1]}get xyz(){return[this.values[0],this.values[1],this.values[2]]}set xyz(e){this.values[0]=e[0],this.values[1]=e[1],this.values[2]=e[2]}get xyzw(){return[this.values[0],this.values[1],this.values[2],this.values[3]]}set xyzw(e){this.values[0]=e[0],this.values[1]=e[1],this.values[2]=e[2],this.values[3]=e[3]}at(e){return this.values[e]}reset(){for(let e=0;e<4;e++)this.values[e]=0}copy(e){e||(e=new mt);for(let t=0;t<4;t++)e.values[t]=this.values[t];return e}roll(){const e=this.x,t=this.y,s=this.z,i=this.w;return Math.atan2(2*(e*t+i*s),i*i+e*e-t*t-s*s)}pitch(){const e=this.x,t=this.y,s=this.z,i=this.w;return Math.atan2(2*(t*s+i*e),i*i-e*e-t*t+s*s)}yaw(){return Math.asin(2*(this.x*this.z-this.w*this.y))}equals(e,t=Ff){for(let s=0;s<4;s++)if(Math.abs(this.values[s]-e.at(s))>t)return!1;return!0}setIdentity(){return this.x=0,this.y=0,this.z=0,this.w=1,this}calculateW(){const e=this.x,t=this.y,s=this.z;return this.w=-Math.sqrt(Math.abs(1-e*e-t*t-s*s)),this}inverse(){const e=mt.dot(this,this);if(!e)return this.xyzw=[0,0,0,0],this;const t=e?1/e:0;return this.x*=-t,this.y*=-t,this.z*=-t,this.w*=t,this}conjugate(){return this.values[0]*=-1,this.values[1]*=-1,this.values[2]*=-1,this}length(){const e=this.x,t=this.y,s=this.z,i=this.w;return Math.sqrt(e*e+t*t+s*s+i*i)}normalize(e){e||(e=this);const t=this.x,s=this.y,i=this.z,n=this.w;let o=Math.sqrt(t*t+s*s+i*i+n*n);return o?(o=1/o,e.x=t*o,e.y=s*o,e.z=i*o,e.w=n*o,e):(e.x=0,e.y=0,e.z=0,e.w=0,e)}add(e){for(let t=0;t<4;t++)this.values[t]+=e.at(t);return this}multiply(e){const t=this.values[0],s=this.values[1],i=this.values[2],n=this.values[3],o=e.x,r=e.y,a=e.z,l=e.w;return this.x=t*l+n*o+s*a-i*r,this.y=s*l+n*r+i*o-t*a,this.z=i*l+n*a+t*r-s*o,this.w=n*l-t*o-s*r-i*a,this}static dot(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w}static sum(e,t){const s=new mt;return s.x=e.x+t.x,s.y=e.y+t.y,s.z=e.z+t.z,s.w=e.w+t.w,s}static product(e,t){const s=new mt,i=e.x,n=e.y,o=e.z,r=e.w,a=t.x,l=t.y,f=t.z,h=t.w;return s.x=i*h+r*a+n*f-o*l,s.y=n*h+r*l+o*a-i*f,s.z=o*h+r*f+i*l-n*a,s.w=r*h-i*a-n*l-o*f,s}static cross(e,t){const s=new mt,i=e.x,n=e.y,o=e.z,r=e.w,a=t.x,l=t.y,f=t.z,h=t.w;return s.x=r*f+o*h+i*l-n*a,s.y=r*h-i*a-n*l-o*f,s.z=r*a+i*h+n*f-o*l,s.w=r*l+n*h+o*a-i*f,s}static shortMix(e,t,s){const i=new mt;if(s<=0)return i.xyzw=e.xyzw,i;if(s>=1)return i.xyzw=t.xyzw,i;let n=mt.dot(e,t);const o=t.copy();n<0&&(o.inverse(),n=-n);let r,a;if(n>.9999)r=1-s,a=0+s;else{const l=Math.sqrt(1-n*n),f=Math.atan2(l,n),h=1/l;r=Math.sin((1-s)*f)*h,a=Math.sin((0+s)*f)*h}return i.x=r*e.x+a*o.x,i.y=r*e.y+a*o.y,i.z=r*e.z+a*o.z,i.w=r*e.w+a*o.w,i}static mix(e,t,s){const i=new mt,n=e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w;if(Math.abs(n)>=1)return i.xyzw=e.xyzw,i;const o=Math.acos(n),r=Math.sqrt(1-n*n);if(Math.abs(r)<.001)return i.x=e.x*.5+t.x*.5,i.y=e.y*.5+t.y*.5,i.z=e.z*.5+t.z*.5,i.w=e.w*.5+t.w*.5,i;const a=Math.sin((1-s)*o)/r,l=Math.sin(s*o)/r;return i.x=e.x*a+t.x*l,i.y=e.y*a+t.y*l,i.z=e.z*a+t.z*l,i.w=e.w*a+t.w*l,i}static fromAxisAngle(e,t){if(e.rows!==3)throw new Error("The axis vector must be in 3D!");const s=new mt;t*=.5;const i=Math.sin(t);return s.x=e.at(0)*i,s.y=e.at(1)*i,s.z=e.at(2)*i,s.w=Math.cos(t),s}};let kf=mt;ti(kf,"identity",new mt().setIdentity());class ue{constructor(){m(this,"matrix");this.matrix=new je(3,3,[[1,0,0],[0,1,0],[0,0,1]])}get scaleX(){return Math.sqrt(this.matrix.at(0,0)**2+this.matrix.at(1,0)**2)}get scaleY(){return Math.sqrt(this.matrix.at(0,1)**2+this.matrix.at(1,1)**2)}get relativeScale(){return Math.sqrt(Math.abs(this.matrix.determinant()))}get rotation(){return Math.atan2(-1*this.matrix.at(0,1),this.matrix.at(0,0))}get isMirrored(){return this.matrix.determinant()<0}get translation(){return{x:this.matrix.at(0,2),y:this.matrix.at(1,2)}}set scaleX(t){this.scale(1/this.scaleX,1,!0),this.scale(t,1,!0)}set scaleY(t){this.scale(1,1/this.scaleY,!0),this.scale(1,t,!0)}set relativeScale(t){this.scale(1/this.relativeScale,1/this.relativeScale,!0),this.scale(t,t,!0)}set rotation(t){this.rotate(-this.rotation,!0),this.rotate(t,!0)}set isMirrored(t){this.isMirrored!=t&&this.mirror(!0,!1,!0)}set translation(t){this.translate({x:-this.translation.x,y:-this.translation.y},!0),this.translate(t,!0)}rotate(t,s=!1){const i=new ue;return Object.assign(i,this),i.matrix=this.matrix.multiply(new je(3,3,[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]])),s&&Object.assign(this,i),i}translate(t,s=!1){const i=new ue;return Object.assign(i,this),i.matrix=this.matrix.multiply(new je(3,3,[[1,0,t.x],[0,1,t.y],[0,0,1]])),s&&Object.assign(this,i),i}mirror(t,s=!1,i=!1){const n=new ue;Object.assign(n,this);const o=t?-1:1,r=s?-1:1;return n.matrix=this.matrix.multiply(new je(3,3,[[o,0,0],[0,r,0],[0,0,1]])),i&&Object.assign(this,n),n}scale(t,s=t,i=!1){const n=new ue;return Object.assign(n,this),n.matrix=this.matrix.multiply(new je(3,3,[[t,0,0],[0,s,0],[0,0,1]])),i&&Object.assign(this,n),n}inverse(t=!1){const s=new ue;return Object.assign(s,this),s.matrix=s.matrix.inverse(),t&&Object.assign(this,s),s}multiply(t,s=!1){const i=new ue;return Object.assign(i,this),i.matrix=i.matrix.multiply(t.matrix),s&&Object.assign(this,i),i}transformCanvas(t,s=!0){s?t.setTransform(this.matrix.at(0,0),this.matrix.at(1,0),this.matrix.at(0,1),this.matrix.at(1,1),this.matrix.at(0,2),this.matrix.at(1,2)):t.transform(this.matrix.at(0,0),this.matrix.at(1,0),this.matrix.at(0,1),this.matrix.at(1,1),this.matrix.at(0,2),this.matrix.at(1,2))}transformPoint(t){const s=this.matrix.multiply(new je(3,1,[[t.x],[t.y],[1]]));return{x:s.at(0,0),y:s.at(1,0)}}transformLine(t){return{start:this.transformPoint(t.start),end:this.transformPoint(t.end)}}transformPath(t){return t.map(s=>this.transformLine(s))}}const Ca=(e,t,[s,...i])=>s===void 0?t:Ca(e,e(s,t),i),ot=e=>e*Math.PI/180,zn=(e,t)=>(e%t+t)%t,Oe=(e,t,s)=>{const i=Math.max(e,t),n=Math.min(e,t);return s>i?i:s<n?n:s},pt=class pt{constructor(t=[],s=new ue,i="main"){m(this,"transformations",[]);m(this,"anchorPoints",{});m(this,"_transformationMatrix");m(this,"canvasId");m(this,"key","");t.forEach(n=>{this.transformations.push(n)}),this.transformations.push(L(s)),this._transformationMatrix=ie(()=>Ca((n,o)=>o.multiply(n.value),new ue,this.transformations)),pt.allCtxArtists.push(this),this.canvasId=i}get transformationMatrix(){return this._transformationMatrix.value}get localTransformationMatrix(){return this.transformations[this.transformations.length-1].value}getAnchorPoint(t){return this.anchorPoints[t]==null&&console.log("Cannot find anchor point",t,"on CtxArtist"),pt.circuitTransformationMatrix.inverse().multiply(this.transformationMatrix).transformPoint(this.anchorPoints[t])}getAnchorPointWithTransformations(t){return[this.transformations.slice(0,-1),this.getAnchorPoint(t)]}moveTo(t){this.transformations[this.transformations.length-1].value.translation=t}get localLineThickness(){return this.getLocalLineThickness()}fillTextGlobalReferenceFrame(t,s,i,n=!1,o=!1,r=16){if(pt.textTransformationMatrix.transformCanvas(t),n){const l=this.transformationMatrix.transformPoint({x:0,y:0}),f=this.transformationMatrix.transformPoint(s);f.x<l.x==!o?t.textAlign="right":f.x>l.x==!o?t.textAlign="left":t.textAlign="center"}const a=pt.textTransformationMatrix.inverse().transformPoint(this.transformationMatrix.transformPoint(s));return t.fillText(i,a.x,a.y),this.transformationMatrix.transformCanvas(t),this.transformationMatrix.inverse().transformPoint(pt.textTransformationMatrix.transformPoint({x:a.x,y:a.y+r}))}getRelativeScaling(){return pt.textTransformationMatrix.relativeScale/this.transformationMatrix.relativeScale}getLocalLineThickness(t=Cf){return t*this.getRelativeScaling()}};m(pt,"textTransformationMatrix",new ue),m(pt,"circuitTransformationMatrix",new ue),m(pt,"allCtxArtists",[]);let Ie=pt;const rn=e=>Math.sqrt((e.end.x-e.start.x)**2+(e.end.y-e.start.y)**2),La=e=>{let t=0;return e.forEach(s=>{t+=rn(s)}),t},Pa=(e,t)=>(t=Oe(0,1,t),{x:e.start.x+(e.end.x-e.start.x)*t,y:e.start.y+(e.end.y-e.start.y)*t}),Ze=(e,t)=>{const s=La(e),i=t*s;let n=0;for(let o of e){const r=rn(o);if(n+=r,n>=i){const a=n-r,f=(i-a)/r;return Pa(o,f)}}return console.log("Error finding point along path"),{x:0,y:0}},Rf=(e,t,s,i=5)=>{const n=s.x-t.x,o=s.y-t.y,r=Math.sqrt(n**2+o**2),a=i/2/r*-o,l=i/2/r*n,f=i/2/r*n,h=i/2/r*o,d={x:t.x+a-f,y:t.y+l-h},p={x:t.x-a-f,y:t.y-l-h},y={x:s.x-a+f,y:s.y-l+h},M={x:s.x+a+f,y:s.y+l+h};e.moveTo(d.x,d.y),e.lineTo(p.x,p.y),e.lineTo(y.x,y.y),e.lineTo(M.x,M.y)},If=(e,t,s)=>{const i=t.outerDiameter,n=i-2*s;e.moveTo(t.center.x,t.center.y),e.arc(t.center.x,t.center.y,i/2,0,2*Math.PI,!1),n>0&&e.arc(t.center.x,t.center.y,n/2,0,2*Math.PI,!0)},Ea=(e,t,s,i="rgba(200, 200, 200, 1)")=>{const n=e.createRadialGradient(t.x,t.y,0,t.x,t.y,s);return n.addColorStop(0,i),n.addColorStop(.5,i),n.addColorStop(.99,"rgba(0, 0, 0, 1)"),n.addColorStop(1,"rgba(0, 0, 0, 0)"),n},Da=(e,t)=>()=>{e.save(),e.clip(),e.fillStyle=t,e.fill(),e.resetTransform(),e.fillRect(0,0,e.canvas.clientWidth,e.canvas.clientHeight),e.restore(),e.beginPath()},Oa=(e,t="black")=>()=>{e.fillStyle=t,e.fill(),e.beginPath()},Wa=(e,t,s=5,i)=>{const n=Da(e,i);for(let o=0;o<Aa;o++)Fa(e,t,s,n)},Ft=(e,t,s=5,i="black")=>{const n=Oa(e,i);for(let o=0;o<Aa;o++)Fa(e,t,s,n)},Fa=(e,t,s=5,i)=>{e.beginPath(),t.forEach(n=>{Rf(e,n.start,n.end,s),i()})},Nf=(e,t,s=5,i)=>{const n=Da(e,i);ka(e,t,s,n)},wo=(e,t,s=5,i="black")=>{const n=Oa(e,i);ka(e,t,s,n)},ka=(e,t,s=5,i)=>{e.beginPath(),t.forEach(n=>{If(e,n,s)}),i()},ys=(e,t,s=3)=>{if(e==0)return"0"+t;const i=e>=0?"":"-",n=Math.abs(e),o={30:"Q",27:"R",24:"Y",21:"Z",18:"E",15:"P",12:"T",9:"G",6:"M",3:"k",0:"","-3":"m","-6":"µ","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y","-27":"r","-30":"q"},r=Math.floor(Math.log10(n)/3)*3;let a=o[r.toString()];a==null&&(a="e"+r.toString()+" ");const l=parseFloat((n/10**r).toPrecision(s));return i+l+a+t};class zt extends Ie{constructor(s=[],i=[],n=[],o=[],r=[],a=[],l=[]){super(s,new ue);m(this,"gndSymbols");m(this,"vddSymbols");m(this,"parasiticCapacitors");m(this,"mosfets");m(this,"nodes");m(this,"wires");this.gndSymbols=i,this.vddSymbols=n,this.parasiticCapacitors=o,this.mosfets=r,this.nodes=a,this.wires=l}copy(s){return new zt([s].concat(this.transformations.slice(1)),this.gndSymbols.map(n=>n.copy(s)),this.vddSymbols.map(n=>n.copy(s)),[],this.mosfets,this.nodes,this.wires.map(n=>({node:n.node,lines:n.lines,voltageDisplayLabel:"",voltageDisplayLocations:[]})))}draw(s){this.transformationMatrix.transformCanvas(s),this.gndSymbols.forEach(i=>{i.draw(s)}),this.vddSymbols.forEach(i=>{i.draw(s)}),this.parasiticCapacitors.forEach(i=>{i.draw(s)}),this.transformationMatrix.transformCanvas(s),this.nodes.forEach(i=>{i.value.schematicEffects=[]}),this.mosfets.forEach(i=>{Object.values(i.schematicEffects).forEach(n=>{const o=zt.flattenSchematicEffect(n);n.node.value.schematicEffects.push(o)})}),this.wires.forEach(i=>{Ft(s,i.lines.map(n=>n.toLine()),this.localLineThickness,"black"),i.node.value.schematicEffects.forEach(n=>{const o=n.origin,r=Ea(s,o,n.gradientSize,n.color);Wa(s,i.lines.map(a=>a.toLine()),this.localLineThickness,r)}),i.voltageDisplayLocations.forEach(n=>{s.fillStyle="black",s.font="18px sans-serif",this.fillTextGlobalReferenceFrame(s,n.toPoint(),i.voltageDisplayLabel+" = "+ys(i.node.value.voltage,"V"),!1)})})}static flattenSchematicEffect(s){return{origin:s.origin.toPoint(),color:s.color,gradientSize:s.gradientSize}}}class Ra extends Ie{constructor(s=[],i=new ue,n,o,r,a,l,f=N.Visible,h="main"){super(s,i);m(this,"visibility");m(this,"fromNode");m(this,"toNode");m(this,"dragging",!1);m(this,"location",{x:0,y:0});m(this,"minValue");m(this,"maxValue");m(this,"value");m(this,"drivenNode");m(this,"canvasId");m(this,"preciseDragging",!1);m(this,"temporaryMinValue");m(this,"temporaryMaxValue");m(this,"previousValue");m(this,"valueRateOfChange",0);this.visibility=f,this.fromNode=n,this.toNode=o,this.minValue=a,this.maxValue=l,this.value=a,this.temporaryMinValue=a,this.temporaryMaxValue=l,this.previousValue=a,this.drivenNode=r,this.canvasId=h}draw(s){throw new Error("draw is a virtual function on the CtxSlider class. (Received"+s+")")}updateLocationBasedOnValue(){throw new Error("updateLocationBasedOnValue is a virtual function on the CtxSlider class.")}updateValueBasedOnMousePosition(s){throw new Error("updateValueBasedOnMousePosition is a virtual function on the CtxSlider class. (Received"+s+")")}mouseDownIntiatesDrag(s){throw new Error("mouseDownIntiatesDrag is a virtual function on the CtxSlider class. (Received"+s+")")}updateValueBasedOnNodeVoltages(){this.value=Oe(this.temporaryMinValue,this.temporaryMaxValue,this.toNode.value.voltage-this.fromNode.value.voltage),this.updateLocationBasedOnValue()}updateNodeVoltagesBasedOnValue(){this.dragging&&(this.drivenNode=="toNode"?(this.toNode.value.fixed=!0,this.toNode.value.voltage=this.fromNode.value.voltage+this.value):(this.fromNode.value.fixed=!0,this.fromNode.value.voltage=this.toNode.value.voltage-this.value))}dragSlider(s){if(this.dragging){const i=this.transformationMatrix.inverse().transformPoint(s);this.updateValueBasedOnMousePosition(i),this.value=Oe(this.temporaryMinValue,this.temporaryMaxValue,this.value);const n=Oe(0,1,(this.value-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue));n<.05&&this.value<=this.previousValue?this.valueRateOfChange=-.01:n>.95&&this.value>=this.previousValue?this.valueRateOfChange=.01:this.valueRateOfChange=0,this.updateLocationBasedOnValue(),this.updateNodeVoltagesBasedOnValue(),this.previousValue=this.value}}releaseSlider(){this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.maxValue,this.preciseDragging=!1,this.dragging=!1,this.drivenNode=="toNode"?this.toNode.value.fixed=!1:this.fromNode.value.fixed=!1}adjustPreciseSlider(s=10){this.dragging&&this.preciseDragging&&(this.value>=this.maxValue||this.temporaryMaxValue>this.maxValue?(this.value=this.maxValue,this.temporaryMaxValue=this.maxValue,this.temporaryMinValue=this.maxValue-Si,this.valueRateOfChange=0):this.value<=this.minValue||this.temporaryMinValue<this.minValue?(this.value=this.minValue,this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.minValue+Si,this.valueRateOfChange=0):(this.temporaryMinValue+=this.valueRateOfChange*(s/1e3)*70,this.temporaryMaxValue+=this.valueRateOfChange*(s/1e3)*70,this.value+=this.valueRateOfChange*(s/1e3)*70))}checkDrag(s,i){if(this.visibility!=N.Visible)return;const n=this.transformationMatrix.inverse().transformPoint(s);if(this.mouseDownIntiatesDrag(n)&&(this.dragging=!0),this.dragging)if(i){this.preciseDragging=!0;const o=(this.value-this.minValue)/(this.maxValue-this.minValue);this.temporaryMinValue=this.value-Si*o,this.temporaryMaxValue=this.value+Si*(1-o)}else this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.maxValue}}class Ls extends Ra{constructor(s=[],i,n,o,r,a,l,f,h,d,p,y,M,P,W="main"){super(s,new ue().translate({x:r,y:a}).rotate(f).mirror(!1,d),i,n,o,p,y,P,W);m(this,"radius");m(this,"originalRadius");m(this,"endAngle");m(this,"displayText");m(this,"displayTextLocation");this.radius=l,this.originalRadius=l,this.endAngle=h,this.displayText=M,this.displayTextLocation=d?Nn.Right:Nn.Left}draw(s){if(this.visibility==N.Hidden)return;this.transformationMatrix.transformCanvas(s),this.dragging&&this.preciseDragging?this.radius=this.originalRadius+10:this.radius=this.originalRadius,s.strokeStyle=this.visibility==N.Visible?"orange":"lightgrey",s.lineWidth=this.localLineThickness,s.beginPath(),s.arc(0,0,this.radius,0,this.endAngle,!1);const i=this.endAngle,n=0,o=7;s.moveTo((this.radius+o)*Math.cos(n),(this.radius+o)*Math.sin(n)),s.lineTo((this.radius-o)*Math.cos(n),(this.radius-o)*Math.sin(n));const r=7,a=ot(-5);if(s.moveTo((this.radius+r)*Math.cos(i+a),(this.radius+r)*Math.sin(i+a)),s.lineTo(this.radius*Math.cos(i),this.radius*Math.sin(i)),s.lineTo((this.radius-r)*Math.cos(i+a),(this.radius-r)*Math.sin(i+a)),s.stroke(),this.dragging&&this.preciseDragging){const h=(p,y=!0)=>{const M=this.radius+(y?15:8);s.beginPath(),s.moveTo(this.radius*Math.cos(p),this.radius*Math.sin(p)),s.lineTo(M*Math.cos(p),M*Math.sin(p)),s.stroke()};let d=Math.ceil(this.temporaryMinValue);for(;d<this.temporaryMaxValue;){const p=(d-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue);h(this.endAngle*p,!0),d+=1}for(d=Math.ceil(this.temporaryMinValue+.5)-.5;d<this.temporaryMaxValue;){const p=(d-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue);h(this.endAngle*p,!1),d+=1}}s.beginPath(),s.arc(this.location.x,this.location.y,5,0,Math.PI*2),s.fillStyle=this.visibility==N.Visible?"rgb(255, 0, 0)":"lightgrey",s.fill(),s.fillStyle=this.visibility==N.Visible?"#000":"lightgrey";const l={x:this.location.x*(this.radius+15)/this.radius,y:this.location.y*(this.radius+15)/this.radius};s.font="18px Arial";const f=this.fillTextGlobalReferenceFrame(s,l,this.displayText,!0,!1,18);s.font="16px Arial",this.fillTextGlobalReferenceFrame(s,f,ys(this.value,"V",3),!0)}updateLocationBasedOnValue(){const i=(this.value-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue)*this.endAngle;this.location={x:this.radius*Math.cos(i),y:this.radius*Math.sin(i)}}updateValueBasedOnMousePosition(s){const i=Math.atan2(s.y,s.x),n=Oe(0,1,i/this.endAngle);this.value=n*(this.temporaryMaxValue-this.temporaryMinValue)+this.temporaryMinValue,this.updateLocationBasedOnValue()}mouseDownIntiatesDrag(s){const i=s.x**2+s.y**2,n=(s.x-this.location.x)**2+(s.y-this.location.y)**2,r=Math.atan2(s.y,s.x)/this.endAngle;return n<=10**2||(this.radius-20)**2<i&&i<(this.radius+20)**2&&0<r&&r<1}}const $i=class $i extends Ie{constructor(s=[],i=ie(()=>({x:0,y:0})),n={}){super(s,new ue);m(this,"currentLocation",{x:0,y:0});m(this,"desiredLocation");this.desiredLocation=i,this.anchorPoints=n,$i.allTectonicPlates.push(this)}moveTowardDesiredLocation(){this.moveTowardLocation(this.desiredLocation.value)}moveTowardLocation(s){const n={start:this.currentLocation,end:s};let o={x:0,y:0};rn(Ie.textTransformationMatrix.transformLine(n))<.1?o=s:o=Pa(n,.1),this.moveTo(o),this.currentLocation=o}};m($i,"allTectonicPlates",[]);let ne=$i;class B extends Ie{constructor(s=[],i={x:0,y:0}){super(s,new ue);m(this,"point");this.point=i}toPoint(){return this.transformations[0].value.inverse().multiply(this.transformationMatrix).transformPoint(this.point)}}class O{constructor(t,s,i,n){m(this,"start");m(this,"end");this.start=new B(t,s),this.end=new B(i,n)}toLine(){return{start:this.start.toPoint(),end:this.end.toPoint()}}}class Ye extends Ie{constructor(s=[],i,n,o,r,a,l=!1,f="main"){super(s,new ue().translate(i).mirror(l,!1).scale(1/30),f);m(this,"voltageDrop");m(this,"vplus");m(this,"vminus");m(this,"schematicEffects");m(this,"current");m(this,"fixedAt");m(this,"isDuplicate",!1);m(this,"boundingBox");this.vplus=o,this.vminus=n,this.fixedAt=a,a=="gnd"?this.voltageDrop=new Ls(this.transformations,n,o,"toNode",0,0,50,ot(40),ot(80),!0,0,5,r,N.Visible,f):this.voltageDrop=new Ls(this.transformations.concat([L(new ue().mirror(!1,!0))]),n,o,"fromNode",0,0,50,ot(40),ot(80),!0,0,5,r,N.Visible,f),this.schematicEffects={},this.current=0,this.anchorPoints={Vplus:{x:0,y:-60},Vminus:{x:0,y:60}},this.boundingBox=[new B(this.transformations,{x:-100,y:0}),new B(this.transformations,{x:100,y:0}),new B(this.transformations,{x:0,y:-100}),new B(this.transformations,{x:0,y:100})]}copy(s,i="main"){const n=new Ye([s].concat(this.transformations.slice(1)),{x:0,y:0},this.vminus,this.vplus,this.voltageDrop.displayText,this.fixedAt,this.fixedAt=="gnd"==this.transformationMatrix.isMirrored,i);return n.transformations[n.transformations.length-1].value=new ue,n}draw(s,i=void 0){i!==void 0?i.transformCanvas(s):this.transformationMatrix.transformCanvas(s);const n=30,o=11,r=10;s.strokeStyle="black",s.lineWidth=this.localLineThickness;const a=[{start:{x:0,y:n},end:{x:0,y:60}},{start:{x:0,y:-n},end:{x:0,y:-60}}],l=[{start:{x:o/2,y:-r},end:{x:-o/2,y:-r}},{start:{x:0,y:-r-o/2},end:{x:0,y:-r+o/2}},{start:{x:o/2,y:r},end:{x:-o/2,y:r}}],f=[{center:{x:0,y:0},outerDiameter:2*n}];Ft(s,a,this.localLineThickness,"black"),Ft(s,l,this.localLineThickness*.8,"black"),wo(s,f,this.localLineThickness,"black"),this.voltageDrop.draw(s)}}const Bn=(e,t=0,s=5,i=0)=>{const n=e-i,o=t-i,r=s-i,a=.0256,l=.648,f=.8051,h=164e-8,d=h*Math.log(1+Math.exp((f*(n-l)-o)/(2*a)))**2+1e-15,p=h*Math.log(1+Math.exp((f*(n-l)-r)/(2*a)))**2,y=d-p,M=y/d;return{I:y,IF:d,saturationLevel:M}},jn=(e,t=5,s=0,i=5)=>{const n=i-e,o=i-t,r=i-s,a=.0256,l=.7283,f=.7609,h=6108e-10,d=h*Math.log(1+Math.exp((f*(n-l)-o)/(2*a)))**2+1e-15,p=h*Math.log(1+Math.exp((f*(n-l)-r)/(2*a)))**2,y=d-p,M=y/d;return{I:y,IF:d,saturationLevel:M}};function an(e){for(var t=e.length/6|0,s=new Array(t),i=0;i<t;)s[i]="#"+e.slice(i*6,++i*6);return s}function ln(e){var t=e.length;return function(s){return e[Math.max(0,Math.min(t-1,Math.floor(s*t)))]}}ln(an("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));ln(an("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));var zf=ln(an("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));ln(an("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function qs(e,t,s){this.k=e,this.x=t,this.y=s}qs.prototype={constructor:qs,scale:function(e){return e===1?this:new qs(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new qs(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};qs.prototype;class $n{constructor(t=[]){m(this,"dotPath");m(this,"dotPercentage");m(this,"dotSize");m(this,"dotSpacing");m(this,"gradientSize");this.dotPath=t,this.dotPercentage=0,this.dotSize=8,this.dotSpacing=20,t.length==0?this.gradientSize=0:this.gradientSize=Math.sqrt((t[t.length-1].end.x-t[0].start.x)**2+(t[t.length-1].end.y-t[0].start.y)**2)/2}draw(t){const s=this.getMovingDotPositions(this.dotPath,this.dotSpacing).map(n=>({center:n,outerDiameter:this.dotSize})),i=t.createRadialGradient(0,0,0,0,0,this.gradientSize);i.addColorStop(0,"rgba(0, 0, 255, 1)"),i.addColorStop(1,"rgba(0, 0, 255, 0)"),Nf(t,s,this.dotSize/2,i)}updateDotPositionBasedOnTimestamp(t,s=10){const i=this.getDotSpeedFromCurrent(t);this.dotPercentage=zn(this.dotPercentage+i*(s/1e3),1)}getMovingDotPositions(t,s){const i=La(t),n=[],o=Math.floor(i/s);for(let r=0;r<o;r++){const a=(r+this.dotPercentage)/o,l=Ze(t,a);n.push(l)}return n}getDotSpeedFromCurrent(t){let n=1,o=!1;return t==0?0:(t<0&&(t=Math.abs(t),o=!0),t>1e-4?n=(Math.log10(t/1e-4)+1)**2*1:n=1/(1-Math.log10(t/1e-4))**2*1,n>5*1?n=5*1:n<.001*1&&(n=.001*1),o?-n:n)}}const Bf=(e,t)=>Math.floor(e/t)*t,Hn=(e,t,s=!1)=>{if(s)return $f(e,t);const i=t-e;let n=10**Math.floor(Math.log10(i));const o=Math.floor(i/n);o>=5?n=n*5:o>=4?n=n*2:o<=2&&(n=n/2);let a=Bf(e,n),l=[];for(;a<=t;)l.push(a),a=a+n;return l.push(a),l},jf=e=>Math.abs(Math.round(e)-e)<.1?10**Math.round(3*e):5*10**Math.floor(3*e),$f=(e,t)=>{e<=0&&console.error(`Lower bound, ${e} <= 0. Log will return NaN`);const s=Math.log10(e)/3,i=Math.log10(t)/3;return i-s<1?Hn(e,t):Hn(s,i).map(jf)},Ti=(e,t,s)=>{if(s<=0)throw new Error("num must be a positive integer");if(s===1)return[e];const i=(t-e)/(s-1),n=[];for(let o=0;o<s;o++)n.push(e+i*o);return n},Oi=L(!0),si=L(!1),rt=L(2),Un=L({width:1,height:1}),Hf=L({width:1,height:1}),Uf=L({width:1,height:1}),Gf=(e,t)=>{t.value={width:e.canvas.clientWidth,height:e.canvas.clientHeight}},As=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Ia=new Set,Gn=typeof process=="object"&&process?process:{},Na=(e,t,s,i)=>{typeof Gn.emitWarning=="function"?Gn.emitWarning(e,t,s,i):console.error(`[${s}] ${t}: ${e}`)};let ji=globalThis.AbortController,yr=globalThis.AbortSignal;var xr;if(typeof ji>"u"){yr=class{constructor(){m(this,"onabort");m(this,"_onabort",[]);m(this,"reason");m(this,"aborted",!1)}addEventListener(i,n){this._onabort.push(n)}},ji=class{constructor(){m(this,"signal",new yr);t()}abort(i){var n,o;if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const r of this.signal._onabort)r(i);(o=(n=this.signal).onabort)==null||o.call(n,i)}}};let e=((xr=Gn.env)==null?void 0:xr.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const t=()=>{e&&(e=!1,Na("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const Kf=e=>!Ia.has(e),Gt=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),za=e=>Gt(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?Wi:null:null;class Wi extends Array{constructor(t){super(t),this.fill(0)}}var Ws;const ps=class ps{constructor(t,s){m(this,"heap");m(this,"length");if(!c(ps,Ws))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new s(t),this.length=0}static create(t){const s=za(t);if(!s)return[];G(ps,Ws,!0);const i=new ps(t,s);return G(ps,Ws,!1),i}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};Ws=new WeakMap,Z(ps,Ws,!1);let Kn=ps;var vt,tt,yt,bt,Fs,ks,Ee,xt,Ce,we,Q,Ge,st,Be,Fe,wt,ke,Mt,_t,it,Vt,ts,Ke,ci,Yn,bs,It,fi,nt,Hi,Ba,xs,Rs,ui,Lt,Kt,Pt,qt,hi,Xn,_u,Is,Fi,Ns,ki,ve,xe,di,Jn,ws,Ys,Et,Yt,gi,Zn;const _o=class _o{constructor(t){Z(this,ci);Z(this,Hi);Z(this,Lt);Z(this,Pt);Z(this,hi);Z(this,Is);Z(this,Ns);Z(this,ve);Z(this,di);Z(this,ws);Z(this,Et);Z(this,gi);Z(this,vt,void 0);Z(this,tt,void 0);Z(this,yt,void 0);Z(this,bt,void 0);Z(this,Fs,void 0);Z(this,ks,void 0);m(this,"ttl");m(this,"ttlResolution");m(this,"ttlAutopurge");m(this,"updateAgeOnGet");m(this,"updateAgeOnHas");m(this,"allowStale");m(this,"noDisposeOnSet");m(this,"noUpdateTTL");m(this,"maxEntrySize");m(this,"sizeCalculation");m(this,"noDeleteOnFetchRejection");m(this,"noDeleteOnStaleGet");m(this,"allowStaleOnFetchAbort");m(this,"allowStaleOnFetchRejection");m(this,"ignoreFetchAbort");Z(this,Ee,void 0);Z(this,xt,void 0);Z(this,Ce,void 0);Z(this,we,void 0);Z(this,Q,void 0);Z(this,Ge,void 0);Z(this,st,void 0);Z(this,Be,void 0);Z(this,Fe,void 0);Z(this,wt,void 0);Z(this,ke,void 0);Z(this,Mt,void 0);Z(this,_t,void 0);Z(this,it,void 0);Z(this,Vt,void 0);Z(this,ts,void 0);Z(this,Ke,void 0);Z(this,bs,()=>{});Z(this,It,()=>{});Z(this,fi,()=>{});Z(this,nt,()=>!1);Z(this,xs,t=>{});Z(this,Rs,(t,s,i)=>{});Z(this,ui,(t,s,i,n)=>{if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});m(this,_u,"LRUCache");const{max:s=0,ttl:i,ttlResolution:n=1,ttlAutopurge:o,updateAgeOnGet:r,updateAgeOnHas:a,allowStale:l,dispose:f,disposeAfter:h,noDisposeOnSet:d,noUpdateTTL:p,maxSize:y=0,maxEntrySize:M=0,sizeCalculation:P,fetchMethod:W,memoMethod:S,noDeleteOnFetchRejection:A,noDeleteOnStaleGet:$,allowStaleOnFetchRejection:K,allowStaleOnFetchAbort:te,ignoreFetchAbort:Y}=t;if(s!==0&&!Gt(s))throw new TypeError("max option must be a nonnegative integer");const me=s?za(s):Array;if(!me)throw new Error("invalid max value: "+s);if(G(this,vt,s),G(this,tt,y),this.maxEntrySize=M||c(this,tt),this.sizeCalculation=P,this.sizeCalculation){if(!c(this,tt)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(S!==void 0&&typeof S!="function")throw new TypeError("memoMethod must be a function if defined");if(G(this,ks,S),W!==void 0&&typeof W!="function")throw new TypeError("fetchMethod must be a function if specified");if(G(this,Fs,W),G(this,ts,!!W),G(this,Ce,new Map),G(this,we,new Array(s).fill(void 0)),G(this,Q,new Array(s).fill(void 0)),G(this,Ge,new me(s)),G(this,st,new me(s)),G(this,Be,0),G(this,Fe,0),G(this,wt,Kn.create(s)),G(this,Ee,0),G(this,xt,0),typeof f=="function"&&G(this,yt,f),typeof h=="function"?(G(this,bt,h),G(this,ke,[])):(G(this,bt,void 0),G(this,ke,void 0)),G(this,Vt,!!c(this,yt)),G(this,Ke,!!c(this,bt)),this.noDisposeOnSet=!!d,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!A,this.allowStaleOnFetchRejection=!!K,this.allowStaleOnFetchAbort=!!te,this.ignoreFetchAbort=!!Y,this.maxEntrySize!==0){if(c(this,tt)!==0&&!Gt(c(this,tt)))throw new TypeError("maxSize must be a positive integer if specified");if(!Gt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");D(this,Hi,Ba).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!$,this.updateAgeOnGet=!!r,this.updateAgeOnHas=!!a,this.ttlResolution=Gt(n)||n===0?n:1,this.ttlAutopurge=!!o,this.ttl=i||0,this.ttl){if(!Gt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");D(this,ci,Yn).call(this)}if(c(this,vt)===0&&this.ttl===0&&c(this,tt)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!c(this,vt)&&!c(this,tt)){const H="LRU_CACHE_UNBOUNDED";Kf(H)&&(Ia.add(H),Na("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",H,_o))}}static unsafeExposeInternals(t){return{starts:c(t,_t),ttls:c(t,it),sizes:c(t,Mt),keyMap:c(t,Ce),keyList:c(t,we),valList:c(t,Q),next:c(t,Ge),prev:c(t,st),get head(){return c(t,Be)},get tail(){return c(t,Fe)},free:c(t,wt),isBackgroundFetch:s=>{var i;return D(i=t,ve,xe).call(i,s)},backgroundFetch:(s,i,n,o)=>{var r;return D(r=t,Ns,ki).call(r,s,i,n,o)},moveToTail:s=>{var i;return D(i=t,ws,Ys).call(i,s)},indexes:s=>{var i;return D(i=t,Lt,Kt).call(i,s)},rindexes:s=>{var i;return D(i=t,Pt,qt).call(i,s)},isStale:s=>{var i;return c(i=t,nt).call(i,s)}}}get max(){return c(this,vt)}get maxSize(){return c(this,tt)}get calculatedSize(){return c(this,xt)}get size(){return c(this,Ee)}get fetchMethod(){return c(this,Fs)}get memoMethod(){return c(this,ks)}get dispose(){return c(this,yt)}get disposeAfter(){return c(this,bt)}getRemainingTTL(t){return c(this,Ce).has(t)?1/0:0}*entries(){for(const t of D(this,Lt,Kt).call(this))c(this,Q)[t]!==void 0&&c(this,we)[t]!==void 0&&!D(this,ve,xe).call(this,c(this,Q)[t])&&(yield[c(this,we)[t],c(this,Q)[t]])}*rentries(){for(const t of D(this,Pt,qt).call(this))c(this,Q)[t]!==void 0&&c(this,we)[t]!==void 0&&!D(this,ve,xe).call(this,c(this,Q)[t])&&(yield[c(this,we)[t],c(this,Q)[t]])}*keys(){for(const t of D(this,Lt,Kt).call(this)){const s=c(this,we)[t];s!==void 0&&!D(this,ve,xe).call(this,c(this,Q)[t])&&(yield s)}}*rkeys(){for(const t of D(this,Pt,qt).call(this)){const s=c(this,we)[t];s!==void 0&&!D(this,ve,xe).call(this,c(this,Q)[t])&&(yield s)}}*values(){for(const t of D(this,Lt,Kt).call(this))c(this,Q)[t]!==void 0&&!D(this,ve,xe).call(this,c(this,Q)[t])&&(yield c(this,Q)[t])}*rvalues(){for(const t of D(this,Pt,qt).call(this))c(this,Q)[t]!==void 0&&!D(this,ve,xe).call(this,c(this,Q)[t])&&(yield c(this,Q)[t])}[Symbol.iterator](){return this.entries()}find(t,s={}){for(const i of D(this,Lt,Kt).call(this)){const n=c(this,Q)[i],o=D(this,ve,xe).call(this,n)?n.__staleWhileFetching:n;if(o!==void 0&&t(o,c(this,we)[i],this))return this.get(c(this,we)[i],s)}}forEach(t,s=this){for(const i of D(this,Lt,Kt).call(this)){const n=c(this,Q)[i],o=D(this,ve,xe).call(this,n)?n.__staleWhileFetching:n;o!==void 0&&t.call(s,o,c(this,we)[i],this)}}rforEach(t,s=this){for(const i of D(this,Pt,qt).call(this)){const n=c(this,Q)[i],o=D(this,ve,xe).call(this,n)?n.__staleWhileFetching:n;o!==void 0&&t.call(s,o,c(this,we)[i],this)}}purgeStale(){let t=!1;for(const s of D(this,Pt,qt).call(this,{allowStale:!0}))c(this,nt).call(this,s)&&(D(this,Et,Yt).call(this,c(this,we)[s],"expire"),t=!0);return t}info(t){const s=c(this,Ce).get(t);if(s===void 0)return;const i=c(this,Q)[s],n=D(this,ve,xe).call(this,i)?i.__staleWhileFetching:i;if(n===void 0)return;const o={value:n};if(c(this,it)&&c(this,_t)){const r=c(this,it)[s],a=c(this,_t)[s];if(r&&a){const l=r-(As.now()-a);o.ttl=l,o.start=Date.now()}}return c(this,Mt)&&(o.size=c(this,Mt)[s]),o}dump(){const t=[];for(const s of D(this,Lt,Kt).call(this,{allowStale:!0})){const i=c(this,we)[s],n=c(this,Q)[s],o=D(this,ve,xe).call(this,n)?n.__staleWhileFetching:n;if(o===void 0||i===void 0)continue;const r={value:o};if(c(this,it)&&c(this,_t)){r.ttl=c(this,it)[s];const a=As.now()-c(this,_t)[s];r.start=Math.floor(Date.now()-a)}c(this,Mt)&&(r.size=c(this,Mt)[s]),t.unshift([i,r])}return t}load(t){this.clear();for(const[s,i]of t){if(i.start){const n=Date.now()-i.start;i.start=As.now()-n}this.set(s,i.value,i)}}set(t,s,i={}){var p,y,M,P,W;if(s===void 0)return this.delete(t),this;const{ttl:n=this.ttl,start:o,noDisposeOnSet:r=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=i;let{noUpdateTTL:f=this.noUpdateTTL}=i;const h=c(this,ui).call(this,t,s,i.size||0,a);if(this.maxEntrySize&&h>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),D(this,Et,Yt).call(this,t,"set"),this;let d=c(this,Ee)===0?void 0:c(this,Ce).get(t);if(d===void 0)d=c(this,Ee)===0?c(this,Fe):c(this,wt).length!==0?c(this,wt).pop():c(this,Ee)===c(this,vt)?D(this,Is,Fi).call(this,!1):c(this,Ee),c(this,we)[d]=t,c(this,Q)[d]=s,c(this,Ce).set(t,d),c(this,Ge)[c(this,Fe)]=d,c(this,st)[d]=c(this,Fe),G(this,Fe,d),vi(this,Ee)._++,c(this,Rs).call(this,d,h,l),l&&(l.set="add"),f=!1;else{D(this,ws,Ys).call(this,d);const S=c(this,Q)[d];if(s!==S){if(c(this,ts)&&D(this,ve,xe).call(this,S)){S.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:A}=S;A!==void 0&&!r&&(c(this,Vt)&&((p=c(this,yt))==null||p.call(this,A,t,"set")),c(this,Ke)&&((y=c(this,ke))==null||y.push([A,t,"set"])))}else r||(c(this,Vt)&&((M=c(this,yt))==null||M.call(this,S,t,"set")),c(this,Ke)&&((P=c(this,ke))==null||P.push([S,t,"set"])));if(c(this,xs).call(this,d),c(this,Rs).call(this,d,h,l),c(this,Q)[d]=s,l){l.set="replace";const A=S&&D(this,ve,xe).call(this,S)?S.__staleWhileFetching:S;A!==void 0&&(l.oldValue=A)}}else l&&(l.set="update")}if(n!==0&&!c(this,it)&&D(this,ci,Yn).call(this),c(this,it)&&(f||c(this,fi).call(this,d,n,o),l&&c(this,It).call(this,l,d)),!r&&c(this,Ke)&&c(this,ke)){const S=c(this,ke);let A;for(;A=S==null?void 0:S.shift();)(W=c(this,bt))==null||W.call(this,...A)}return this}pop(){var t;try{for(;c(this,Ee);){const s=c(this,Q)[c(this,Be)];if(D(this,Is,Fi).call(this,!0),D(this,ve,xe).call(this,s)){if(s.__staleWhileFetching)return s.__staleWhileFetching}else if(s!==void 0)return s}}finally{if(c(this,Ke)&&c(this,ke)){const s=c(this,ke);let i;for(;i=s==null?void 0:s.shift();)(t=c(this,bt))==null||t.call(this,...i)}}}has(t,s={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:n}=s,o=c(this,Ce).get(t);if(o!==void 0){const r=c(this,Q)[o];if(D(this,ve,xe).call(this,r)&&r.__staleWhileFetching===void 0)return!1;if(c(this,nt).call(this,o))n&&(n.has="stale",c(this,It).call(this,n,o));else return i&&c(this,bs).call(this,o),n&&(n.has="hit",c(this,It).call(this,n,o)),!0}else n&&(n.has="miss");return!1}peek(t,s={}){const{allowStale:i=this.allowStale}=s,n=c(this,Ce).get(t);if(n===void 0||!i&&c(this,nt).call(this,n))return;const o=c(this,Q)[n];return D(this,ve,xe).call(this,o)?o.__staleWhileFetching:o}async fetch(t,s={}){const{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:r=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:h=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:y=this.ignoreFetchAbort,allowStaleOnFetchAbort:M=this.allowStaleOnFetchAbort,context:P,forceRefresh:W=!1,status:S,signal:A}=s;if(!c(this,ts))return S&&(S.fetch="get"),this.get(t,{allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,status:S});const $={allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,ttl:r,noDisposeOnSet:a,size:l,sizeCalculation:f,noUpdateTTL:h,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:M,ignoreFetchAbort:y,status:S,signal:A};let K=c(this,Ce).get(t);if(K===void 0){S&&(S.fetch="miss");const te=D(this,Ns,ki).call(this,t,K,$,P);return te.__returned=te}else{const te=c(this,Q)[K];if(D(this,ve,xe).call(this,te)){const de=i&&te.__staleWhileFetching!==void 0;return S&&(S.fetch="inflight",de&&(S.returnedStale=!0)),de?te.__staleWhileFetching:te.__returned=te}const Y=c(this,nt).call(this,K);if(!W&&!Y)return S&&(S.fetch="hit"),D(this,ws,Ys).call(this,K),n&&c(this,bs).call(this,K),S&&c(this,It).call(this,S,K),te;const me=D(this,Ns,ki).call(this,t,K,$,P),he=me.__staleWhileFetching!==void 0&&i;return S&&(S.fetch=Y?"stale":"refresh",he&&Y&&(S.returnedStale=!0)),he?me.__staleWhileFetching:me.__returned=me}}async forceFetch(t,s={}){const i=await this.fetch(t,s);if(i===void 0)throw new Error("fetch() returned undefined");return i}memo(t,s={}){const i=c(this,ks);if(!i)throw new Error("no memoMethod provided to constructor");const{context:n,forceRefresh:o,...r}=s,a=this.get(t,r);if(!o&&a!==void 0)return a;const l=i(t,a,{options:r,context:n});return this.set(t,l,r),l}get(t,s={}){const{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:r}=s,a=c(this,Ce).get(t);if(a!==void 0){const l=c(this,Q)[a],f=D(this,ve,xe).call(this,l);return r&&c(this,It).call(this,r,a),c(this,nt).call(this,a)?(r&&(r.get="stale"),f?(r&&i&&l.__staleWhileFetching!==void 0&&(r.returnedStale=!0),i?l.__staleWhileFetching:void 0):(o||D(this,Et,Yt).call(this,t,"expire"),r&&i&&(r.returnedStale=!0),i?l:void 0)):(r&&(r.get="hit"),f?l.__staleWhileFetching:(D(this,ws,Ys).call(this,a),n&&c(this,bs).call(this,a),l))}else r&&(r.get="miss")}delete(t){return D(this,Et,Yt).call(this,t,"delete")}clear(){return D(this,gi,Zn).call(this,"delete")}};_u=Symbol.toStringTag,vt=new WeakMap,tt=new WeakMap,yt=new WeakMap,bt=new WeakMap,Fs=new WeakMap,ks=new WeakMap,Ee=new WeakMap,xt=new WeakMap,Ce=new WeakMap,we=new WeakMap,Q=new WeakMap,Ge=new WeakMap,st=new WeakMap,Be=new WeakMap,Fe=new WeakMap,wt=new WeakMap,ke=new WeakMap,Mt=new WeakMap,_t=new WeakMap,it=new WeakMap,Vt=new WeakMap,ts=new WeakMap,Ke=new WeakMap,ci=new WeakSet,Yn=function(){const t=new Wi(c(this,vt)),s=new Wi(c(this,vt));G(this,it,t),G(this,_t,s),G(this,fi,(o,r,a=As.now())=>{if(s[o]=r!==0?a:0,t[o]=r,r!==0&&this.ttlAutopurge){const l=setTimeout(()=>{c(this,nt).call(this,o)&&D(this,Et,Yt).call(this,c(this,we)[o],"expire")},r+1);l.unref&&l.unref()}}),G(this,bs,o=>{s[o]=t[o]!==0?As.now():0}),G(this,It,(o,r)=>{if(t[r]){const a=t[r],l=s[r];if(!a||!l)return;o.ttl=a,o.start=l,o.now=i||n();const f=o.now-l;o.remainingTTL=a-f}});let i=0;const n=()=>{const o=As.now();if(this.ttlResolution>0){i=o;const r=setTimeout(()=>i=0,this.ttlResolution);r.unref&&r.unref()}return o};this.getRemainingTTL=o=>{const r=c(this,Ce).get(o);if(r===void 0)return 0;const a=t[r],l=s[r];if(!a||!l)return 1/0;const f=(i||n())-l;return a-f},G(this,nt,o=>{const r=s[o],a=t[o];return!!a&&!!r&&(i||n())-r>a})},bs=new WeakMap,It=new WeakMap,fi=new WeakMap,nt=new WeakMap,Hi=new WeakSet,Ba=function(){const t=new Wi(c(this,vt));G(this,xt,0),G(this,Mt,t),G(this,xs,s=>{G(this,xt,c(this,xt)-t[s]),t[s]=0}),G(this,ui,(s,i,n,o)=>{if(D(this,ve,xe).call(this,i))return 0;if(!Gt(n))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(n=o(i,s),!Gt(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n}),G(this,Rs,(s,i,n)=>{if(t[s]=i,c(this,tt)){const o=c(this,tt)-t[s];for(;c(this,xt)>o;)D(this,Is,Fi).call(this,!0)}G(this,xt,c(this,xt)+t[s]),n&&(n.entrySize=i,n.totalCalculatedSize=c(this,xt))})},xs=new WeakMap,Rs=new WeakMap,ui=new WeakMap,Lt=new WeakSet,Kt=function*({allowStale:t=this.allowStale}={}){if(c(this,Ee))for(let s=c(this,Fe);!(!D(this,hi,Xn).call(this,s)||((t||!c(this,nt).call(this,s))&&(yield s),s===c(this,Be)));)s=c(this,st)[s]},Pt=new WeakSet,qt=function*({allowStale:t=this.allowStale}={}){if(c(this,Ee))for(let s=c(this,Be);!(!D(this,hi,Xn).call(this,s)||((t||!c(this,nt).call(this,s))&&(yield s),s===c(this,Fe)));)s=c(this,Ge)[s]},hi=new WeakSet,Xn=function(t){return t!==void 0&&c(this,Ce).get(c(this,we)[t])===t},Is=new WeakSet,Fi=function(t){var o,r;const s=c(this,Be),i=c(this,we)[s],n=c(this,Q)[s];return c(this,ts)&&D(this,ve,xe).call(this,n)?n.__abortController.abort(new Error("evicted")):(c(this,Vt)||c(this,Ke))&&(c(this,Vt)&&((o=c(this,yt))==null||o.call(this,n,i,"evict")),c(this,Ke)&&((r=c(this,ke))==null||r.push([n,i,"evict"]))),c(this,xs).call(this,s),t&&(c(this,we)[s]=void 0,c(this,Q)[s]=void 0,c(this,wt).push(s)),c(this,Ee)===1?(G(this,Be,G(this,Fe,0)),c(this,wt).length=0):G(this,Be,c(this,Ge)[s]),c(this,Ce).delete(i),vi(this,Ee)._--,s},Ns=new WeakSet,ki=function(t,s,i,n){const o=s===void 0?void 0:c(this,Q)[s];if(D(this,ve,xe).call(this,o))return o;const r=new ji,{signal:a}=i;a==null||a.addEventListener("abort",()=>r.abort(a.reason),{signal:r.signal});const l={signal:r.signal,options:i,context:n},f=(P,W=!1)=>{const{aborted:S}=r.signal,A=i.ignoreFetchAbort&&P!==void 0;if(i.status&&(S&&!W?(i.status.fetchAborted=!0,i.status.fetchError=r.signal.reason,A&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),S&&!A&&!W)return d(r.signal.reason);const $=y;return c(this,Q)[s]===y&&(P===void 0?$.__staleWhileFetching?c(this,Q)[s]=$.__staleWhileFetching:D(this,Et,Yt).call(this,t,"fetch"):(i.status&&(i.status.fetchUpdated=!0),this.set(t,P,l.options))),P},h=P=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=P),d(P)),d=P=>{const{aborted:W}=r.signal,S=W&&i.allowStaleOnFetchAbort,A=S||i.allowStaleOnFetchRejection,$=A||i.noDeleteOnFetchRejection,K=y;if(c(this,Q)[s]===y&&(!$||K.__staleWhileFetching===void 0?D(this,Et,Yt).call(this,t,"fetch"):S||(c(this,Q)[s]=K.__staleWhileFetching)),A)return i.status&&K.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),K.__staleWhileFetching;if(K.__returned===K)throw P},p=(P,W)=>{var A;const S=(A=c(this,Fs))==null?void 0:A.call(this,t,o,l);S&&S instanceof Promise&&S.then($=>P($===void 0?void 0:$),W),r.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(P(void 0),i.allowStaleOnFetchAbort&&(P=$=>f($,!0)))})};i.status&&(i.status.fetchDispatched=!0);const y=new Promise(p).then(f,h),M=Object.assign(y,{__abortController:r,__staleWhileFetching:o,__returned:void 0});return s===void 0?(this.set(t,M,{...l.options,status:void 0}),s=c(this,Ce).get(t)):c(this,Q)[s]=M,M},ve=new WeakSet,xe=function(t){if(!c(this,ts))return!1;const s=t;return!!s&&s instanceof Promise&&s.hasOwnProperty("__staleWhileFetching")&&s.__abortController instanceof ji},di=new WeakSet,Jn=function(t,s){c(this,st)[s]=t,c(this,Ge)[t]=s},ws=new WeakSet,Ys=function(t){t!==c(this,Fe)&&(t===c(this,Be)?G(this,Be,c(this,Ge)[t]):D(this,di,Jn).call(this,c(this,st)[t],c(this,Ge)[t]),D(this,di,Jn).call(this,c(this,Fe),t),G(this,Fe,t))},Et=new WeakSet,Yt=function(t,s){var n,o,r,a;let i=!1;if(c(this,Ee)!==0){const l=c(this,Ce).get(t);if(l!==void 0)if(i=!0,c(this,Ee)===1)D(this,gi,Zn).call(this,s);else{c(this,xs).call(this,l);const f=c(this,Q)[l];if(D(this,ve,xe).call(this,f)?f.__abortController.abort(new Error("deleted")):(c(this,Vt)||c(this,Ke))&&(c(this,Vt)&&((n=c(this,yt))==null||n.call(this,f,t,s)),c(this,Ke)&&((o=c(this,ke))==null||o.push([f,t,s]))),c(this,Ce).delete(t),c(this,we)[l]=void 0,c(this,Q)[l]=void 0,l===c(this,Fe))G(this,Fe,c(this,st)[l]);else if(l===c(this,Be))G(this,Be,c(this,Ge)[l]);else{const h=c(this,st)[l];c(this,Ge)[h]=c(this,Ge)[l];const d=c(this,Ge)[l];c(this,st)[d]=c(this,st)[l]}vi(this,Ee)._--,c(this,wt).push(l)}}if(c(this,Ke)&&((r=c(this,ke))!=null&&r.length)){const l=c(this,ke);let f;for(;f=l==null?void 0:l.shift();)(a=c(this,bt))==null||a.call(this,...f)}return i},gi=new WeakSet,Zn=function(t){var s,i,n;for(const o of D(this,Pt,qt).call(this,{allowStale:!0})){const r=c(this,Q)[o];if(D(this,ve,xe).call(this,r))r.__abortController.abort(new Error("deleted"));else{const a=c(this,we)[o];c(this,Vt)&&((s=c(this,yt))==null||s.call(this,r,a,t)),c(this,Ke)&&((i=c(this,ke))==null||i.push([r,a,t]))}}if(c(this,Ce).clear(),c(this,Q).fill(void 0),c(this,we).fill(void 0),c(this,it)&&c(this,_t)&&(c(this,it).fill(0),c(this,_t).fill(0)),c(this,Mt)&&c(this,Mt).fill(0),G(this,Be,0),G(this,Fe,0),c(this,wt).length=0,G(this,xt,0),G(this,Ee,0),c(this,Ke)&&c(this,ke)){const o=c(this,ke);let r;for(;r=o==null?void 0:o.shift();)(n=c(this,bt))==null||n.call(this,...r)}};let qn=_o;const Re=class Re extends Ra{constructor(s=[],i,n,o,r,a,l,f,h,d,p=5,y="x Var",M="y Var",P="xUnit",W="yUnit",S="linear",A="log",$=250,K=200,te=N.Visible,Y="main"){const me=d,H=n=="Vgs"?a:f;super(s,new ue().translate({x:o,y:r}),me,H,"toNode",0,p,te,Y);m(this,"points");m(this,"xAxisLabel");m(this,"yAxisLabel");m(this,"xUnit");m(this,"yUnit");m(this,"width");m(this,"height");m(this,"axesWidth");m(this,"axesHeight");m(this,"cornerToCornerGraph",!0);m(this,"plottingValues",[]);m(this,"yValue",0);m(this,"pointsCache",new qn({max:1e3}));m(this,"cacheAttempts",0);m(this,"cacheHits",0);m(this,"memoize",!1);m(this,"Vg");m(this,"Vs");m(this,"Vd");m(this,"Vb");m(this,"mosfetType");m(this,"chartType");m(this,"originalMaxValue");m(this,"xScaleType");m(this,"yScaleType");m(this,"yMin",0);m(this,"yMax",0);m(this,"xTicks",[]);m(this,"yTicks",[]);m(this,"xScale",0);m(this,"yScale",0);m(this,"boundingBox");this.transformationMatrix.isMirrored&&this.transformations[this.transformations.length-1].value.mirror(!0,!1,!0),this.transformations[this.transformations.length-1].value.rotate(-this.transformationMatrix.rotation,!0),this.transformations[this.transformations.length-1].value.mirror(!1,!0,!0),n=="Vgs"?this.transformations[this.transformations.length-1].value.translate({x:-$/2,y:0},!0):this.transformations[this.transformations.length-1].value.translate({x:-$/2,y:-K},!0),this.transformations[this.transformations.length-1].value.translate({x:Re.paddingL,y:Re.paddingB},!0),this.points=[],this.xAxisLabel=y,this.yAxisLabel=M,this.xUnit=P,this.yUnit=W,this.xScaleType=S,this.yScaleType=A,this.width=$,this.height=K,this.axesWidth=$-Re.paddingL-Re.paddingR,this.axesHeight=K-Re.paddingT-Re.paddingB,this.Vg=a,this.Vs=l,this.Vd=f,this.Vb=h,this.mosfetType=i,this.chartType=n,this.originalMaxValue=p,this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.maxValue,this.boundingBox=[new B(this.transformations,{x:-100,y:0}),new B(this.transformations,{x:100,y:0}),new B(this.transformations,{x:0,y:-100}),new B(this.transformations,{x:0,y:100})]}copy(s="main"){return new Re([L(new ue)],this.mosfetType,this.chartType,0,0,this.Vg,this.Vs,this.Vd,this.Vb,this.fromNode,this.maxValue,this.xAxisLabel,this.yAxisLabel,this.xUnit,this.yUnit,this.xScaleType,this.yScaleType,this.width,this.height,this.visibility,s)}draw(s,i=void 0){if(this.visibility==N.Hidden)return;i!==void 0?i.transformCanvas(s):this.transformationMatrix.transformCanvas(s);const n=this.localLineThickness/2,o=this.localLineThickness/4;this.chartType=="Vgs"?this.sweepGateVoltages():this.sweepDrainVoltages(),this.preciseDragging?this.xTicks=Hn(this.temporaryMinValue,this.temporaryMaxValue,this.xScaleType=="log").filter(d=>d>=this.temporaryMinValue&&d<=this.temporaryMaxValue):this.xTicks=[0,1,2,3,4,5],this.chartType=="Vgs"?this.yTicks=[.001,1e-6,1e-9,1e-12].filter(d=>d>=this.yMin&&d<=this.yMax):this.yTicks=[25,50,75,100].filter(d=>d>=this.yMin&&d<=this.yMax);const r=this.xValueToLocation(this.value),a=(this.temporaryMaxValue-this.temporaryMinValue)/4;this.xTicks=this.xTicks.filter(d=>!(this.value-a/2<d&&d<this.value+a/2)),this.plottingValues=this.points.map(d=>({x:this.xValueToLocation(d.x),y:this.yValueToLocation(d.y)})),s.clearRect(-Re.paddingL,-Re.paddingB,this.width,this.height),s.strokeStyle="#000",Ft(s,[{start:{x:0,y:0},end:{x:this.axesWidth,y:0}},{start:{x:0,y:0},end:{x:0,y:this.axesHeight}}],n,"black"),s.font="16px Arial",s.textAlign="center";let l=this.fillTextGlobalReferenceFrame(s,{x:r,y:-16},this.xAxisLabel,!1);s.font="12px Arial",this.fillTextGlobalReferenceFrame(s,{x:l.x,y:l.y+3},ys(this.value,"V"),!1),s.font="18px Arial",this.fillTextGlobalReferenceFrame(s,{x:-30,y:this.axesHeight+6},this.yAxisLabel,!0,!0),s.strokeStyle="#ccc",s.font="12px Arial",s.fillStyle="#000",s.textAlign="center",this.xTicks.forEach(d=>{const p=this.xValueToLocation(d),y=ys(d,this.xUnit);Ft(s,[{start:{x:p,y:0},end:{x:p,y:-5}}],o,"black"),this.fillTextGlobalReferenceFrame(s,{x:p,y:-18},y)}),this.yTicks.forEach(d=>{const p=this.yValueToLocation(d),y=ys(d,this.yUnit);Ft(s,[{start:{x:0,y:p},end:{x:-5,y:p}}],o,"black"),this.fillTextGlobalReferenceFrame(s,{x:-25,y:p-6},y)}),s.strokeStyle="#f00",s.lineWidth=n,s.beginPath(),this.plottingValues.forEach((d,p)=>{p===0?s.moveTo(d.x,d.y):s.lineTo(d.x,d.y)}),s.stroke(),s.lineWidth=o,this.updateLocationBasedOnValue(),s.beginPath(),s.arc(this.location.x,this.location.y,5,0,2*Math.PI),s.fill(),s.moveTo(this.location.x,0),s.lineTo(this.location.x,this.location.y),s.stroke();const f=ys(this.yValue,this.yUnit),h=f.length*5;this.fillTextGlobalReferenceFrame(s,{x:this.location.x<this.axesWidth-h?Math.max(5,this.location.x+h):this.location.x-h,y:Math.max(5,this.location.y-15)},f),si.value&&(s.lineWidth=5,s.strokeStyle="black",s.strokeRect(-Re.paddingL,-Re.paddingB,this.width,this.height))}sweepGateVoltages(s=this.width/3){if(this.yMin=1/0,this.yMax=-1/0,Ti(this.minValue,this.maxValue,5).forEach(r=>{const a=this.getMosfetCurrentFromGateVoltage(r);this.yMin=Math.min(this.yMin,a),this.yMax=Math.max(this.yMax,a)}),this.memoize){this.cacheAttempts+=1;const r=this.pointsCache.get(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage));if(r!==void 0){this.points=r,this.cacheHits+=1;return}}this.points=[];let n={x:0,y:0};Ti(this.temporaryMinValue,this.temporaryMaxValue,s).forEach(r=>{n={x:r,y:this.getMosfetCurrentFromGateVoltage(r)},this.points.push(n)}),this.memoize&&this.pointsCache.set(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage),this.points)}sweepDrainVoltages(s=this.width/3){if(this.points=[],this.yMin=1/0,this.yMax=-1/0,Ti(this.minValue,this.maxValue,5).forEach(r=>{let a=this.getMosfetSaturationFromDrainVoltage(r);a<0&&(a=0),this.yMax=Math.max(this.yMax,a)}),this.yMin=0,this.memoize){this.cacheAttempts+=1;const r=this.pointsCache.get(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vg.value.voltage,this.Vs.value.voltage,this.Vb.value.voltage));if(r!==void 0){this.points=r,this.cacheHits+=1;return}}const n=Ti(this.temporaryMinValue,this.temporaryMaxValue,s);let o={x:0,y:0};n.forEach(r=>{o={x:r,y:this.getMosfetSaturationFromDrainVoltage(r)},o.y<0&&(o.y=0),this.points.push(o)}),this.memoize&&this.pointsCache.set(this.discretizeArgsForCache(this.temporaryMinValue,this.temporaryMaxValue,this.Vg.value.voltage,this.Vs.value.voltage,this.Vb.value.voltage),this.points)}discretizeArgsForCache(s,i,n,o,r){return JSON.stringify([s.toFixed(3),i.toFixed(3),n.toFixed(3),o.toFixed(3),r.toFixed(3)])}xLocationToValue(s){let i=0;return this.xScaleType=="linear"?i=s/this.axesWidth*(this.temporaryMaxValue-this.temporaryMinValue)+this.temporaryMinValue:i=10**(Math.log10(s)/this.axesWidth*(Math.log10(this.temporaryMaxValue)-Math.log10(this.temporaryMinValue))+Math.log10(this.temporaryMinValue)),i}xValueToLocation(s){return this.xScaleType=="linear"?(s-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue)*this.axesWidth:(Math.log10(s)-Math.log10(this.temporaryMinValue))/(Math.log10(this.temporaryMaxValue)-Math.log10(this.temporaryMinValue))*this.axesWidth}yValueToLocation(s){return this.yScaleType=="linear"?(s-this.yMin)/(this.yMax-this.yMin)*this.axesHeight:(Math.log10(s)-Math.log10(this.yMin))/(Math.log10(this.yMax)-Math.log10(this.yMin))*this.axesHeight}toggleYAxisLog(){this.yScaleType=this.yScaleType==="log"?"linear":"log"}updateLocationBasedOnValue(){const s=this.value;this.chartType=="Vgs"?this.yValue=this.getMosfetCurrentFromGateVoltage(s):this.yValue=this.getMosfetSaturationFromDrainVoltage(s),this.location={x:this.xValueToLocation(s),y:this.yValueToLocation(this.yValue)}}getMosfetCurrentFromGateVoltage(s){return this.mosfetType=="nmos"?Bn(s,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage).I:jn(s,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage).I}getMosfetSaturationFromDrainVoltage(s){return this.mosfetType=="nmos"?Bn(this.Vg.value.voltage,this.Vs.value.voltage,s,this.Vb.value.voltage).saturationLevel*100:jn(this.Vg.value.voltage,this.Vs.value.voltage,s,this.Vb.value.voltage).saturationLevel*100}updateValueBasedOnMousePosition(s){this.value=this.xLocationToValue(s.x)}mouseDownIntiatesDrag(s){return s.x>0&&s.x<this.axesWidth&&s.y>0&&s.y<this.axesHeight}};m(Re,"paddingL",40),m(Re,"paddingR",10),m(Re,"paddingT",20),m(Re,"paddingB",30);let Ps=Re;const Te=class Te extends Ie{constructor(s=[],i,n,o,r,a,l,f,h,d=3,p=5,y=!1,M=N.Visible,P=N.Visible,W="gate",S="main"){super(s,new ue().translate({x:n,y:o}).scale(1/30).mirror(y,i=="pmos"),S);m(this,"mosfetType");m(this,"isDuplicate",!1);m(this,"currentDots");m(this,"gradientSize",100);m(this,"schematicEffects");m(this,"vgs");m(this,"vds");m(this,"Vg");m(this,"Vs");m(this,"Vd");m(this,"Vb");m(this,"gndNode");m(this,"mouseDownInsideSelectionArea",!1);m(this,"selected",L(!1));m(this,"selectedFocus",L(!1));m(this,"chartVisibility",N.Hidden);m(this,"vgsChart");m(this,"vdsChart");m(this,"boundingBox");this.mosfetType=i,this.schematicEffects={gate:{node:r,origin:new B(this.transformations,{x:60,y:0}),color:"red",gradientSize:2},saturation:{node:l,origin:new B(this.transformations,{x:0,y:-60}),color:"red",gradientSize:100}},this.Vg=r,this.Vs=a,this.Vd=l,this.Vb=f,this.gndNode=h,this.anchorPoints={Vg:{x:60,y:0},Vs:{x:0,y:60},Vd:{x:0,y:-60},Vb:{x:0,y:0},SourceSupply:{x:0,y:90},DrainSupply:{x:0,y:-90},Vg_mirror_gate:{x:90,y:0},Vg_mirror_corner:{x:90,y:-90},Vg_mirror_drain:{x:0,y:-90},Vg_drive_gate:{x:120,y:0},Vg_drive_Vsource:{x:120,y:90}};let A="main";S=="mosfet"&&(A="chart"),this.mosfetType=="nmos"?(this.vgs=new Ls(this.transformations,a,r,"toNode",10,10,60,ot(75),ot(70),!0,0,d,"Vgs",M,S),this.vds=new Ls(this.transformations,a,l,"toNode",30,0,75,ot(140),ot(80),!1,0,p,"Vds",P,S),this.vgsChart=new Ps(this.transformations,i,"Vgs",Te.chartLocations[W].x,Te.chartLocations[W].y,r,a,l,f,h,5,"Vg","Current","V","A","linear","log",200,115,M,A),this.vdsChart=new Ps(this.transformations,i,"Vds",Te.chartLocations[W].x,Te.chartLocations[W].y,r,a,l,f,h,5,"Vd","Saturation Level","V","%","linear","linear",200,115,P,A),this.currentDots=new $n([{start:{x:-15,y:-60},end:{x:-15,y:60}}])):(this.vgs=new Ls(this.transformations,r,a,"fromNode",10,10,60,ot(75),ot(70),!0,0,d,"Vsg",M,S),this.vds=new Ls(this.transformations,l,a,"fromNode",30,0,75,ot(140),ot(80),!1,0,p,"Vsd",P,S),this.vgsChart=new Ps(this.transformations,i,"Vgs",Te.chartLocations[W].x,Te.chartLocations[W].y,r,a,l,f,h,5,"Vg","Current","V","A","linear","log",200,115,M,A),this.vdsChart=new Ps(this.transformations,i,"Vds",Te.chartLocations[W].x,Te.chartLocations[W].y,r,a,l,f,h,5,"Vd","Saturation Level","V","%","linear","linear",200,115,P,A),this.currentDots=new $n([{start:{x:-15,y:60},end:{x:-15,y:-60}}])),this.boundingBox=[new B(this.transformations,{x:-100,y:0}),new B(this.transformations,{x:100,y:0}),new B(this.transformations,{x:0,y:-100}),new B(this.transformations,{x:0,y:100})]}copy(s,i="main"){const n=new Te([s].concat(this.transformations.slice(1)),this.mosfetType,0,0,this.Vg,this.Vs,this.Vd,this.Vb,this.gndNode,void 0,void 0,this.mosfetType=="nmos"==this.transformationMatrix.isMirrored,this.vgs.visibility,this.vds.visibility,"deviceOrigin",i);return n.isDuplicate=!0,n.transformations[n.transformations.length-1].value=new ue,n}draw(s){if(this.transformationMatrix.transformCanvas(s),this.selectedFocus.value&&!this.isDuplicate){const M=s.createRadialGradient(0,0,0,0,0,100);M.addColorStop(0,"rgba(0, 0, 255, 0)"),M.addColorStop(.5,"rgba(0, 0, 255, 0)"),M.addColorStop(.8,"rgba(0, 0, 255, 0.2)"),M.addColorStop(1,"rgba(0, 0, 255, 0)"),s.fillStyle=M,s.arc(0,0,200,0,2*Math.PI),s.fill()}else if(this.selected.value&&!this.isDuplicate){const M=s.createRadialGradient(0,0,0,0,0,100);M.addColorStop(0,"rgba(255, 0, 0, 0)"),M.addColorStop(.5,"rgba(255, 0, 0, 0)"),M.addColorStop(.8,"rgba(255, 0, 0, 0.2)"),M.addColorStop(1,"rgba(255, 0, 0, 0)"),s.fillStyle=M,s.arc(0,0,200,0,2*Math.PI),s.fill()}const i=[{start:{x:0,y:20},end:{x:0,y:59}},{start:{x:0,y:20},end:{x:26,y:20}},{start:{x:0,y:-20},end:{x:0,y:-59}},{start:{x:0,y:-20},end:{x:26,y:-20}},{start:{x:26,y:-40},end:{x:26,y:40}}],n=this.mosfetType=="nmos"?[{start:{x:40,y:30},end:{x:40,y:-30}},{start:{x:40,y:0},end:{x:60,y:0}}]:[{start:{x:40,y:30},end:{x:40,y:-30}},{start:{x:50,y:0},end:{x:60,y:0}}],o=this.mosfetType=="nmos"?[]:[{center:{x:45,y:0},outerDiameter:10}];this.gradientSize=this.getGradientSizeFromSaturationLevel();const a=Ea(s,{x:0,y:-60},this.gradientSize,"rgba(200, 200, 200, 1)"),l=this.getForwardCurrentScaled(),f=this.getGateColorFromForwardCurrent();Ft(s,i,this.localLineThickness,"black"),Ft(s,n,this.localLineThickness,f),wo(s,o,this.localLineThickness,f),Wa(s,i,this.localLineThickness,a),this.schematicEffects.saturation.gradientSize=this.gradientSize/30*3.5,this.schematicEffects.saturation.color="rgba(200, 200, 200, 1)",this.schematicEffects.gate.gradientSize=l*3.5,this.schematicEffects.gate.color=f,this.currentDots.draw(s);const h=ys(this.current,"A");let d="";for(const M of h)"-0123456789.".indexOf(M)>-1&&(d+=M);const p=h.slice(d.length);s.fillStyle="black",s.font="14px sans-serif";const y=this.fillTextGlobalReferenceFrame(s,{x:20,y:this.mosfetType=="nmos"?-3:3},d,!0,!0,14);s.font="14px sans-serif",this.fillTextGlobalReferenceFrame(s,y,p,!0,!0),this.selected.value&&!this.isDuplicate&&(this.vgsChart.draw(s),this.vdsChart.draw(s)),this.vgs.draw(s),this.vds.draw(s)}get current(){return this.getMosfetCurrent()}get saturationLevel(){return this.getMosfetSaturationLevel()}get forwardCurrent(){return this.getMosfetForwardCurrent()}checkSelectionArea(s){const i=this.transformationMatrix.inverse().transformPoint(s);return rn({start:{x:0,y:0},end:i})<60}setMinAndMaxValue(){this.mosfetType=="pmos"?(this.vgs.minValue=this.Vs.value.voltage-oe,this.vds.minValue=this.Vs.value.voltage-oe,this.vgsChart.minValue=this.Vs.value.voltage-oe,this.vdsChart.minValue=this.Vs.value.voltage-oe):(this.vgs.minValue=-this.Vs.value.voltage,this.vds.minValue=-this.Vs.value.voltage,this.vgsChart.minValue=-this.Vs.value.voltage,this.vdsChart.minValue=-this.Vs.value.voltage)}getMosfetEkvResult(){return this.mosfetType=="pmos"?jn(this.Vg.value.voltage,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage):Bn(this.Vg.value.voltage,this.Vs.value.voltage,this.Vd.value.voltage,this.Vb.value.voltage)}getMosfetCurrent(){return this.getMosfetEkvResult().I}getMosfetSaturationLevel(){return this.getMosfetEkvResult().saturationLevel}getMosfetForwardCurrent(){return this.getMosfetEkvResult().IF}getGradientSizeFromSaturationLevel(){return this.getRelativeScaling()*60*(1-this.saturationLevel)}getForwardCurrentScaled(){return Oe(0,1,Math.log10(this.forwardCurrent/.005)*.2+1)}getGateColorFromForwardCurrent(){const s=this.getForwardCurrentScaled();return zf(s)}};m(Te,"chartWidth",200),m(Te,"chartHeight",120),m(Te,"chartLocations",{base:{x:-Te.chartWidth/2-100,y:0},lowerBase:{x:-Te.chartWidth/2-100,y:100},gate:{x:Te.chartWidth/2+120,y:0},voltageSource:{x:Te.chartWidth/2+240,y:0},lowerVoltageSource:{x:Te.chartWidth/2+240,y:100},mirrorDriver:{x:Te.chartWidth/2+110,y:-Te.chartHeight-20},deviceOrigin:{x:0,y:0}});let Se=Te;class js extends Ie{constructor(s,i,n,o=new zt,r={},a={},l={},f=new ue){super([L(new ue)],new ue().translate({x:-s.x+i/2,y:-s.y+n/2}));m(this,"boundingBox");m(this,"schematic");m(this,"devices");m(this,"selectedDevice",null);m(this,"selectedDeviceBoundingBox",[]);m(this,"selectedDeviceCharts",[]);m(this,"selectedSchematic",null);m(this,"selectedSchematicOrigin",new B([],{x:0,y:0}));m(this,"nodes");m(this,"textTransformationMatrix");m(this,"originalTextTransformationMatrix");m(this,"circuitCopy");m(this,"anyDevicesSelected",!1);this.boundingBox=[new B(this.transformations,{x:s.x-i/2,y:s.y-n/2}),new B(this.transformations,{x:s.x+i/2,y:s.y-n/2}),new B(this.transformations,{x:s.x-i/2,y:s.y+n/2}),new B(this.transformations,{x:s.x+i/2,y:s.y+n/2})],this.schematic=o,this.devices={mosfets:r,voltageSources:a},this.nodes=l,this.originalTextTransformationMatrix=f,this.textTransformationMatrix=this.transformationMatrix.scale(1/vr).multiply(this.originalTextTransformationMatrix),this.circuitCopy=this.copy(),Ie.circuitTransformationMatrix=this.transformationMatrix,Ie.textTransformationMatrix=this.textTransformationMatrix}assignKeysToDevices(){Object.entries(this.devices.mosfets).forEach(([s,i])=>{i.key=s}),Object.entries(this.devices.voltageSources).forEach(([s,i])=>{i.key=s})}finishSetup(){var s;this.assignKeysToDevices(),this.circuitCopy=this.copy(),(s=this.circuitCopy)==null||s.assignKeysToDevices()}get allSliders(){return this.makeListOfSliders()}copy(){const s=L(new ue),i=new qf({x:0,y:0},10,10,this.schematic.copy(s),Object.fromEntries(Object.entries(this.devices.mosfets).map(([n,o])=>[n,o.copy(s,"mosfet")])),Object.fromEntries(Object.entries(this.devices.voltageSources).map(([n,o])=>[n,o.copy(s,"mosfet")])),this.nodes,this.textTransformationMatrix);return i.transformations[0]=s,i}draw(s){s.save(),this.setScaleBasedOnBoundingBox(s),this.transformationMatrix.transformCanvas(s),Oi.value?ne.allTectonicPlates.forEach(i=>{i.moveTowardDesiredLocation()}):ne.allTectonicPlates.forEach(i=>{i.moveTowardLocation({x:0,y:0})}),this.schematic.draw(s),Object.values(this.devices.mosfets).forEach(i=>{i.draw(s)}),Object.values(this.devices.voltageSources).forEach(i=>{i.draw(s)}),si.value&&this.drawGrid(s),s.restore()}setSelectedDevice(s){if(this.circuitCopy&&(this.circuitCopy.boundingBox=[new B(s.transformations,{x:-100,y:0}),new B(s.transformations,{x:100,y:0}),new B(s.transformations,{x:0,y:-100}),new B(s.transformations,{x:0,y:100})],this.anyDevicesSelected=!0,!!this.circuitCopy)){if(s instanceof Se){const i=this.circuitCopy.devices.mosfets[s.key];i.vgs.visibility=s.vgs.visibility,i.vds.visibility=s.vds.visibility,i.vgsChart.visibility=s.vgsChart.visibility,i.vdsChart.visibility=s.vdsChart.visibility}else if(s instanceof Ye){const i=this.circuitCopy.devices.voltageSources[s.key];i.voltageDrop.visibility=s.voltageDrop.visibility}}}resetSelectedDevice(){this.selectedDevice=null,this.selectedDeviceCharts=[],this.selectedSchematic=null,this.anyDevicesSelected=!1,this.circuitCopy&&this.circuitCopy.allSliders.forEach(s=>{s.visibility=N.Hidden})}makeListOfSliders(){const s=[];for(const i in this.devices.mosfets){const n=this.devices.mosfets[i];s.push(n.vgs),s.push(n.vds),s.push(n.vgsChart),s.push(n.vdsChart)}this.selectedDevice instanceof Se&&(s.push(this.selectedDevice.vgs),s.push(this.selectedDevice.vds),s.push(this.selectedDeviceCharts[0]),s.push(this.selectedDeviceCharts[1]));for(const i in this.devices.voltageSources){const n=this.devices.voltageSources[i];s.push(n.voltageDrop)}return this.selectedDevice instanceof Ye&&s.push(this.selectedDevice.voltageDrop),this.circuitCopy?s.concat(this.circuitCopy.allSliders):s}drawGrid(s){this.transformationMatrix.transformCanvas(s);const i=this.transformationMatrix.inverse().transformPoint({x:0,y:0}),n=this.transformationMatrix.inverse().transformPoint({x:Un.value.width*rt.value,y:Un.value.height*rt.value});for(let o=Math.floor(i.x);o<=Math.ceil(n.x);o+=1)for(let r=Math.floor(i.y);r<=Math.ceil(n.y);r+=1){let a=.1;(zn(o,10)==0||zn(r,10)==0)&&(a=.2),s.fillStyle="brown",(o==0||r==0)&&(s.fillStyle="black"),s.beginPath(),s.arc(o,r,a,0,2*Math.PI),s.fill()}wo(s,this.boundingBox.map(o=>({center:o.toPoint(),outerDiameter:2})),.2,"purple")}calculateTransformationMatrixBasedOnBoundingBox(s,i=this.boundingBox){const n=Math.min(...i.map(W=>W.toPoint().x)),o=Math.max(...i.map(W=>W.toPoint().x)),r=Math.min(...i.map(W=>W.toPoint().y)),a=Math.max(...i.map(W=>W.toPoint().y)),l=Math.abs(r-a),f=Math.abs(o-n),h={x:n+f/2,y:r+l/2},d=Math.max(s.canvas.width,1),p=Math.max(s.canvas.height,1),y=Math.min(d/rt.value/f,p/rt.value/l),M={x:(d/rt.value/y-f)/2,y:(p/rt.value/y-l)/2};return new ue().scale(rt.value*y).translate(M).translate({x:-h.x+f/2,y:-h.y+l/2})}setScaleBasedOnBoundingBox(s,i=this.boundingBox){this.transformations[1].value=new ue,this.transformations[0].value=this.calculateTransformationMatrixBasedOnBoundingBox(s,i),this.textTransformationMatrix=this.transformationMatrix.scale(1/vr).multiply(this.originalTextTransformationMatrix),this.setCtxArtistScale()}setCtxArtistScale(){Ie.circuitTransformationMatrix=this.transformationMatrix,Ie.textTransformationMatrix=this.textTransformationMatrix}}class qf extends js{copy(){return null}setCtxArtistScale(){}}class Yf{constructor(){m(this,"items",[])}enqueue(t){this.items.push(t)}dequeue(){return this.items.shift()}peek(){return this.items[0]}isEmpty(){return this.items.length===0}size(){return this.items.length}toArray(){return this.items}fill(t,s){this.items=Array(s).fill(t)}}class ce{constructor(t,s){m(this,"voltage");m(this,"netCurrent");m(this,"capacitance");m(this,"originalCapacitance");m(this,"fixed");m(this,"historicVoltages");m(this,"schematicEffects",[]);const i=new Yf;i.fill(0,10);const n=s?Pf:Lf;this.voltage=t,this.netCurrent=0,this.capacitance=n,this.originalCapacitance=n,this.fixed=!!s,this.historicVoltages=i}}class De extends Ie{constructor(t=[],s){super(t,new ue().translate(s))}draw(t){this.transformationMatrix.transformCanvas(t);const s=.8;t.strokeStyle="black",t.lineWidth=this.localLineThickness,t.beginPath(),t.moveTo(0,0),t.lineTo(s/2,0),t.lineTo(0,s/2),t.lineTo(-s/2,0),t.lineTo(0,0),t.stroke()}copy(t){return new De([t].concat(this.transformations.slice(1)),{x:0,y:0})}}class ut extends Ie{constructor(t=[],s){super(t,new ue().translate(s))}draw(t){this.transformationMatrix.transformCanvas(t);const s=.8;t.strokeStyle="black",t.lineWidth=this.localLineThickness,t.beginPath(),t.moveTo(s/2,0),t.lineTo(-s/2,0),t.stroke()}copy(t){return new ut([t].concat(this.transformations.slice(1)),{x:0,y:0})}}const Xf=()=>{const e=new js({x:0,y:-3},10,20);e.nodes={[z]:L(new ce(fe,!0)),[be]:L(new ce(oe,!0)),M1_drain:L(new ce(5,!1)),M1_gate:L(new ce(1,!1))};const t=new ne(e.transformations,ie(()=>Ze([{start:{x:0,y:0},end:{x:0,y:-6}}],Oe(fe,oe,e.nodes.M1_drain.value.voltage)/(oe-fe)))),s=new ne(t.transformations,ie(()=>e.devices.mosfets.M1.selected.value?{x:6,y:0}:{x:0,y:0}));return e.boundingBox=[new B(t.transformations,{x:-5,y:-12}),new B(s.transformations,{x:5,y:-12}),new B(e.transformations,{x:-5,y:6}),new B(e.transformations,{x:5,y:6})],e.devices.mosfets={M1:new Se(e.transformations,"nmos",0,0,e.nodes.M1_gate,e.nodes[z],e.nodes.M1_drain,e.nodes[z],e.nodes[z],3,5,!1,N.Visible,N.Visible,"gate")},e.devices.mosfets.M1.vgsChart.visibility=N.Visible,e.devices.mosfets.M1.vdsChart.visibility=N.Visible,e.devices.voltageSources={Vd:new Ye(t.transformations,{x:0,y:-6},e.nodes.M1_drain,e.nodes[be],"Vdd-Vd","vdd",!0)},e.schematic=new zt(e.transformations,[new De(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs"))],[new ut(...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vplus"))],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes.M1_drain,lines:[new O(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vminus"))],voltageDisplayLabel:"Drain",voltageDisplayLocations:[new B(t.transformations,{x:.5,y:-3})]}]),e.finishSetup(),e},Jf=()=>{const e=new js({x:0,y:4},25,20);e.nodes={[z]:L(new ce(fe,!0)),[be]:L(new ce(oe,!0)),M1_gate:L(new ce(2,!1)),M2_gate:L(new ce(2,!1)),Mb_gate:L(new ce(.7,!1)),Vnode:L(new ce(1,!1))};const t=new ne(e.transformations,ie(()=>Ze([{start:{x:0,y:1},end:{x:0,y:-7}}],Oe(fe,oe,Math.max(e.nodes.M1_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-fe)))),s=new ne(e.transformations,ie(()=>Ze([{start:{x:0,y:1},end:{x:0,y:-7}}],Oe(fe,oe,Math.max(e.nodes.M2_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-fe)))),i=new ne(e.transformations,ie(()=>Ze([{start:{x:0,y:0},end:{x:0,y:-8}}],Oe(fe,oe,e.nodes.Vnode.value.voltage)/(oe-fe)))),n=new ne(t.transformations,ie(()=>e.devices.mosfets.Mb.selected.value?{x:5,y:2}:{x:0,y:0})),o=new ne(t.transformations,ie(()=>e.devices.mosfets.M1.selected.value?{x:-8,y:0}:{x:0,y:0})),r=new ne(s.transformations,ie(()=>e.devices.mosfets.M2.selected.value?{x:8,y:0}:{x:0,y:0}));return e.boundingBox=[new B(o.transformations,{x:-11,y:-6}),new B(r.transformations,{x:11,y:-6}),new B(e.transformations,{x:-11,y:13}),new B(n.transformations,{x:11,y:13})],e.devices.mosfets={Mb:new Se(e.transformations,"nmos",0,6,e.nodes.Mb_gate,e.nodes[z],e.nodes.Vnode,e.nodes[z],e.nodes[z],void 0,void 0,!1,N.Locked,N.Locked,"lowerVoltageSource"),M1:new Se(t.transformations,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes[be],e.nodes[z],e.nodes[z],void 0,void 0,!0,N.Locked,N.Locked,"voltageSource"),M2:new Se(s.transformations,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes[be],e.nodes[z],e.nodes[z],void 0,void 0,!1,N.Locked,N.Locked,"voltageSource")},e.devices.voltageSources={V1:new Ye(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[z],e.nodes.M1_gate,"V1","gnd",!0),V2:new Ye(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[z],e.nodes.M2_gate,"V2","gnd"),Vb:new Ye(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[z],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new zt(e.transformations,[new De(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vminus")),new De(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new De(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vminus")),new De(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vminus"))],[new ut(...e.devices.mosfets.M1.getAnchorPointWithTransformations("DrainSupply")),new ut(...e.devices.mosfets.M2.getAnchorPointWithTransformations("DrainSupply"))],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes[z],lines:[new O(e.transformations,{x:0,y:8},e.transformations,{x:0,y:9})],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes[be],lines:[new O(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("DrainSupply")),new O(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("DrainSupply"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M1_gate,lines:[new O(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate")),new O(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_gate,lines:[new O(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate")),new O(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Mb_gate,lines:[new O(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate")),new O(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vnode,lines:[new O(i.transformations,{x:-4,y:3},...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs")),new O(i.transformations,{x:4,y:3},...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vs")),new O(i.transformations,{x:-4,y:3},i.transformations,{x:4,y:3}),new O(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vd"),i.transformations,{x:0,y:3})],voltageDisplayLabel:"V",voltageDisplayLocations:[new B(i.transformations,{x:-1,y:2.5})]}]),e.finishSetup(),e};class ja extends Ie{constructor(s=[],i,n,o){super(s,new ue().translate(n).scale(1/30));m(this,"node");m(this,"extraNodeLines");m(this,"currentDots");m(this,"gndSymbol");this.node=i,this.extraNodeLines=o,this.currentDots=new $n([{start:{x:10,y:-60},end:{x:10,y:60}}]),this.gndSymbol=new De(this.transformations,{x:0,y:30})}draw(s){this.transformationMatrix.scale(.5).transformCanvas(s);const i=7,n=[{start:{x:0,y:50},end:{x:0,y:i}},{start:{x:-30,y:i},end:{x:30,y:i}},{start:{x:-30,y:-i},end:{x:30,y:-i}},{start:{x:0,y:-60},end:{x:0,y:-i}}],o=this.transformationMatrix.transformPath(this.extraNodeLines);Ft(s,n,this.localLineThickness,"black"),Ft(s,o,this.localLineThickness,"black"),s.clearRect(-30-this.localLineThickness,-i+this.localLineThickness/2,60+2*this.localLineThickness,2*i-2*this.localLineThickness/2),this.gndSymbol.draw(s),this.transformationMatrix.scale(.5).transformCanvas(s),this.currentDots.draw(s)}}m(ja,"displayCurrent",!1);const Zf=()=>{const e=new js({x:0,y:0},25,28);e.nodes={[z]:L(new ce(fe,!0)),[be]:L(new ce(oe,!0)),M1_gate:L(new ce(2,!1)),M1_drain:L(new ce(4,!1)),M2_gate:L(new ce(2,!1)),Mb_gate:L(new ce(.7,!1)),Vout:L(new ce(4,!1)),Vnode:L(new ce(1,!1))};const t=new ne(e.transformations,ie(()=>Ze([{start:{x:0,y:1},end:{x:0,y:-7}}],Oe(fe,oe,Math.max(e.nodes.M1_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-fe)))),s=new ne(e.transformations,ie(()=>Ze([{start:{x:0,y:1},end:{x:0,y:-7}}],Oe(fe,oe,Math.max(e.nodes.M2_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-fe)))),i=new ne(e.transformations,ie(()=>({x:0,y:-4}))),n=new ne(e.transformations,ie(()=>Ze([{start:{x:0,y:0},end:{x:0,y:-8}}],Oe(fe,oe,e.nodes.Vnode.value.voltage)/(oe-fe)))),o=new ne(e.transformations,ie(()=>Ze([{start:{x:0,y:2},end:{x:0,y:-6}}],Oe(fe,oe,Math.max(e.nodes.Vout.value.voltage,e.nodes.M2_gate.value.voltage-1.25))/(oe-fe)))),r=new ne(t.transformations,ie(()=>e.devices.mosfets.Mb.selected.value?{x:5,y:2}:{x:0,y:0})),a=new ne(t.transformations,ie(()=>e.devices.mosfets.M1.selected.value?{x:-8,y:0}:{x:0,y:0})),l=new ne(s.transformations,ie(()=>e.devices.mosfets.M2.selected.value?{x:8,y:0}:{x:0,y:0})),f=new ne(i.transformations,ie(()=>e.devices.mosfets.M3.selected.value?{x:-3,y:-3}:{x:0,y:0})),h=new ne(i.transformations,ie(()=>e.devices.mosfets.M4.selected.value?{x:3,y:-3}:{x:0,y:0}));return e.boundingBox=[new B(a.transformations,{x:-12,y:-14}),new B(l.transformations,{x:12,y:-14}),new B(f.transformations,{x:-12,y:-14}),new B(h.transformations,{x:12,y:-14}),new B(e.transformations,{x:-12,y:14}),new B(r.transformations,{x:12,y:14})],e.devices.mosfets={Mb:new Se(e.transformations,"nmos",0,6,e.nodes.Mb_gate,e.nodes[z],e.nodes.Vnode,e.nodes[z],e.nodes[z],void 0,void 0,!1,N.Locked,N.Locked,"lowerVoltageSource"),M1:new Se(t.transformations,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes.M1_drain,e.nodes[z],e.nodes[z],void 0,void 0,!0,N.Locked,N.Locked,"voltageSource"),M2:new Se(s.transformations,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes.Vout,e.nodes[z],e.nodes[z],void 0,void 0,!1,N.Locked,N.Locked,"voltageSource"),M3:new Se(i.transformations,"pmos",-4,-9,e.nodes.M1_drain,e.nodes[be],e.nodes.M1_drain,e.nodes[be],e.nodes[z],void 0,void 0,!1,N.Locked,N.Locked,"lowerBase"),M4:new Se(i.transformations,"pmos",4,-9,e.nodes.M1_drain,e.nodes[be],e.nodes.Vout,e.nodes[be],e.nodes[z],void 0,void 0,!0,N.Locked,N.Locked,"lowerBase")},e.devices.voltageSources={V1:new Ye(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[z],e.nodes.M1_gate,"V1","gnd",!0),V2:new Ye(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[z],e.nodes.M2_gate,"V2","gnd"),Vb:new Ye(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[z],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new zt(e.transformations,[new De(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vminus")),new De(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new De(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vminus")),new De(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vminus"))],[new ut(...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new ut(...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply"))],[new ja(o.transformations,e.nodes.Vout,{x:6,y:-4},[{start:{x:6,y:-5},end:{x:6,y:-4}}])],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes[z],lines:[new O(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes[be],lines:[new O(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new O(...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M1_gate,lines:[new O(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate")),new O(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_gate,lines:[new O(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate")),new O(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Mb_gate,lines:[new O(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate")),new O(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vnode,lines:[new O(n.transformations,{x:-4,y:3},...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs")),new O(n.transformations,{x:4,y:3},...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vs")),new O(n.transformations,{x:-4,y:3},n.transformations,{x:4,y:3}),new O(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vd"),n.transformations,{x:0,y:3})],voltageDisplayLabel:"V",voltageDisplayLocations:[new B(n.transformations,{x:-1,y:2.5})]},{node:e.nodes.M1_drain,lines:[new O(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vd")),new O(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new O(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new O(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vg"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vout,lines:[new O(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vd")),new O(o.transformations,{x:4,y:-5},o.transformations,{x:6,y:-5})],voltageDisplayLabel:"Vout",voltageDisplayLocations:[new B(o.transformations,{x:6.5,y:-5})]}]),e.finishSetup(),e},Qf=()=>{const e=new js({x:10,y:-2},50,30);e.nodes={[z]:L(new ce(fe,!0)),[be]:L(new ce(oe,!0)),M1_gate:L(new ce(2,!1)),M1_drain:L(new ce(4,!1)),M2_gate:L(new ce(2,!1)),M2_drain:L(new ce(4,!1)),M7_drain:L(new ce(1,!1)),Mb_gate:L(new ce(.7,!1)),Vout:L(new ce(4,!1)),Vnode:L(new ce(1,!1))};const t=new ne(e.transformations,ie(()=>Ze([{start:{x:0,y:1},end:{x:0,y:-7}}],Oe(fe,oe,Math.max(e.nodes.M1_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-fe)))),s=new ne(e.transformations,ie(()=>Ze([{start:{x:0,y:1},end:{x:0,y:-7}}],Oe(fe,oe,Math.max(e.nodes.M2_gate.value.voltage,e.nodes.Vnode.value.voltage))/(oe-fe)))),i=new ne(e.transformations,ie(()=>e.devices.mosfets.M5.selected.value||e.devices.mosfets.M6.selected.value?{x:0,y:e.devices.mosfets.M2.selected.value?-14:-10}:{x:0,y:-5})),n=new ne(e.transformations,ie(()=>{let y=[e.devices.mosfets.M2.selected.value,e.devices.mosfets.M5.selected.value,e.devices.mosfets.M6.selected.value,e.devices.mosfets.Mb.selected.value,e.devices.mosfets.M7.selected.value].filter(Boolean).length;return y==0?{x:0,y:0}:y==1?{x:5,y:0}:e.devices.mosfets.M5.selected.value&&e.devices.mosfets.M6.selected.value||e.devices.mosfets.Mb.selected.value&&e.devices.mosfets.M7.selected.value?{x:10,y:0}:{x:5,y:0}})),o=new ne(i.transformations,ie(()=>{let y=[e.devices.mosfets.M2.selected.value,e.devices.mosfets.M5.selected.value,e.devices.mosfets.M6.selected.value,e.devices.mosfets.Mb.selected.value,e.devices.mosfets.M7.selected.value].filter(Boolean).length;return y==0?{x:0,y:0}:y==1?{x:5,y:0}:e.devices.mosfets.M5.selected.value&&e.devices.mosfets.M6.selected.value||e.devices.mosfets.Mb.selected.value&&e.devices.mosfets.M7.selected.value?{x:10,y:0}:{x:5,y:0}})),r=new ne(e.transformations,ie(()=>Ze([{start:{x:0,y:0},end:{x:0,y:-8}}],Oe(fe,oe,e.nodes.Vnode.value.voltage)/(oe-fe)))),a=new ne(n.transformations,ie(()=>Ze([{start:{x:0,y:8.5},end:e.devices.mosfets.M5.selected.value||e.devices.mosfets.M6.selected.value?{x:0,y:e.devices.mosfets.M2.selected.value?-20:-15}:{x:0,y:-9}}],Oe(fe,oe,e.nodes.Vout.value.voltage)/(oe-fe)))),l=new ne(e.transformations,ie(()=>e.devices.mosfets.Mb.selected.value||e.devices.mosfets.M7.selected.value||e.devices.mosfets.M8.selected.value?{x:0,y:2}:{x:0,y:0})),f=new ne(e.transformations,ie(()=>e.devices.mosfets.M1.selected.value?{x:-8,y:0}:{x:0,y:0})),h=new ne(i.transformations,ie(()=>e.devices.mosfets.M3.selected.value?{x:-3,y:-4}:{x:0,y:0})),d=new ne(o.transformations,ie(()=>e.devices.mosfets.M4.selected.value?{x:2,y:-4}:{x:0,y:0})),p=new ne(n.transformations,ie(()=>e.devices.mosfets.M8.selected.value?{x:2,y:2}:{x:0,y:0}));return e.boundingBox=[new B(h.transformations,{x:-12,y:-16}),new B(d.transformations,{x:33,y:-16}),new B(l.transformations,{x:-12,y:12}),new B(f.transformations,{x:-12,y:0}),new B(p.transformations,{x:33,y:12})],e.devices.mosfets={Mb:new Se(e.transformations,"nmos",0,6,e.nodes.Mb_gate,e.nodes[z],e.nodes.Vnode,e.nodes[z],e.nodes[z],void 0,void 0,!1,N.Locked,N.Locked,"lowerVoltageSource"),M1:new Se(t.transformations,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes.M1_drain,e.nodes[z],e.nodes[z],void 0,void 0,!0,N.Locked,N.Locked,"voltageSource"),M2:new Se(s.transformations,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes.M2_drain,e.nodes[z],e.nodes[z],void 0,void 0,!1,N.Locked,N.Locked,"voltageSource"),M3:new Se(i.transformations,"pmos",-4,-12,e.nodes.M1_drain,e.nodes[be],e.nodes.M1_drain,e.nodes[be],e.nodes[z],void 0,void 0,!1,N.Locked,N.Locked,"lowerBase"),M4:new Se(o.transformations,"pmos",24,-12,e.nodes.M1_drain,e.nodes[be],e.nodes.Vout,e.nodes[be],e.nodes[z],void 0,void 0,!0,N.Locked,N.Locked,"lowerBase"),M5:new Se(i.transformations,"pmos",4,-7,e.nodes.M2_drain,e.nodes[be],e.nodes.M2_drain,e.nodes[be],e.nodes[z],void 0,void 0,!1,N.Locked,N.Locked,"mirrorDriver"),M6:new Se(o.transformations,"pmos",16,-7,e.nodes.M2_drain,e.nodes[be],e.nodes.M7_drain,e.nodes[be],e.nodes[z],void 0,void 0,!0,N.Locked,N.Locked,"mirrorDriver"),M7:new Se(n.transformations,"nmos",16,6,e.nodes.M7_drain,e.nodes[z],e.nodes.M7_drain,e.nodes[z],e.nodes[z],void 0,void 0,!1,N.Locked,N.Locked,"lowerBase"),M8:new Se(n.transformations,"nmos",24,6,e.nodes.M7_drain,e.nodes[z],e.nodes.Vout,e.nodes[z],e.nodes[z],void 0,void 0,!0,N.Locked,N.Locked,"lowerBase")},e.devices.voltageSources={V1:new Ye(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[z],e.nodes.M1_gate,"V1","gnd",!0),V2:new Ye(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[z],e.nodes.M2_gate,"V2","gnd"),Vb:new Ye(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_Vsource"),e.nodes[z],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new zt(e.transformations,[new De(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new De(...e.devices.mosfets.M7.getAnchorPointWithTransformations("SourceSupply")),new De(...e.devices.mosfets.M8.getAnchorPointWithTransformations("SourceSupply")),new De(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vminus")),new De(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vminus")),new De(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vminus"))],[new ut(...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new ut(...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply")),new ut(...e.devices.mosfets.M5.getAnchorPointWithTransformations("SourceSupply")),new ut(...e.devices.mosfets.M6.getAnchorPointWithTransformations("SourceSupply"))],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes[z],lines:[new O(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("SourceSupply")),new O(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("SourceSupply")),new O(...e.devices.mosfets.M8.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M8.getAnchorPointWithTransformations("SourceSupply"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes[be],lines:[new O(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("SourceSupply")),new O(...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("SourceSupply")),new O(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("SourceSupply")),new O(...e.devices.mosfets.M6.getAnchorPointWithTransformations("Vs"),...e.devices.mosfets.M6.getAnchorPointWithTransformations("SourceSupply"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M1_gate,lines:[new O(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate")),new O(...e.devices.voltageSources.V1.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_gate,lines:[new O(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate")),new O(...e.devices.voltageSources.V2.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Mb_gate,lines:[new O(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate")),new O(...e.devices.voltageSources.Vb.getAnchorPointWithTransformations("Vplus"),...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vg_drive_gate"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vnode,lines:[new O(r.transformations,{x:-4,y:3},...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs")),new O(r.transformations,{x:4,y:3},...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vs")),new O(r.transformations,{x:-4,y:3},r.transformations,{x:4,y:3}),new O(...e.devices.mosfets.Mb.getAnchorPointWithTransformations("Vd"),r.transformations,{x:0,y:3})],voltageDisplayLabel:"V",voltageDisplayLocations:[new B(r.transformations,{x:-1,y:2.5})]},{node:e.nodes.M1_drain,lines:[new O(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vd")),new O(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new O(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg_mirror_corner")),new O(...e.devices.mosfets.M3.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vg"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M2_drain,lines:[new O(...e.devices.mosfets.M2.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vd")),new O(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M6.getAnchorPointWithTransformations("Vg")),new O(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_corner")),new O(...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M5.getAnchorPointWithTransformations("Vg_mirror_corner"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.M7_drain,lines:[new O(...e.devices.mosfets.M6.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vd")),new O(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg"),...e.devices.mosfets.M8.getAnchorPointWithTransformations("Vg")),new O(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_gate"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_corner")),new O(...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_drain"),...e.devices.mosfets.M7.getAnchorPointWithTransformations("Vg_mirror_corner"))],voltageDisplayLabel:"",voltageDisplayLocations:[]},{node:e.nodes.Vout,lines:[new O(...e.devices.mosfets.M8.getAnchorPointWithTransformations("Vd"),...e.devices.mosfets.M4.getAnchorPointWithTransformations("Vd")),new O(a.transformations,{x:24,y:-5},a.transformations,{x:28,y:-5})],voltageDisplayLabel:"Vout",voltageDisplayLocations:[new B(a.transformations,{x:28.5,y:-5})]}]),e.finishSetup(),e},eu=()=>{const e=new js({x:0,y:3},10,20);e.nodes={[z]:L(new ce(fe,!0)),[be]:L(new ce(oe,!0)),M1_drain:L(new ce(2,!1)),M1_gate:L(new ce(1,!1))};const t=new ne(e.transformations,ie(()=>Ze([{start:{x:0,y:6},end:{x:0,y:0}}],Oe(fe,oe,e.nodes.M1_drain.value.voltage)/(oe-fe)))),s=new ne(e.transformations,ie(()=>e.devices.mosfets.M1.selected.value?{x:6,y:0}:{x:0,y:0}));return e.boundingBox=[new B(e.transformations,{x:-5,y:-6}),new B(s.transformations,{x:5,y:-6}),new B(t.transformations,{x:-5,y:12}),new B(t.transformations,{x:5,y:12})],e.devices.mosfets={M1:new Se(e.transformations,"pmos",0,0,e.nodes.M1_gate,e.nodes[be],e.nodes.M1_drain,e.nodes[be],e.nodes[z],3,5,!1,N.Visible,N.Visible,"gate")},e.devices.mosfets.M1.vgsChart.visibility=N.Visible,e.devices.mosfets.M1.vdsChart.visibility=N.Visible,e.devices.voltageSources={Vd:new Ye(t.transformations,{x:0,y:6},e.nodes[z],e.nodes.M1_drain,"Vd","gnd",!0)},e.schematic=new zt(e.transformations,[new De(...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vminus"))],[new ut(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vs"))],[],Object.values(e.devices.mosfets),Object.values(e.nodes),[{node:e.nodes.M1_drain,lines:[new O(...e.devices.mosfets.M1.getAnchorPointWithTransformations("Vd"),...e.devices.voltageSources.Vd.getAnchorPointWithTransformations("Vplus"))],voltageDisplayLabel:"Drain",voltageDisplayLocations:[new B(t.transformations,{x:.5,y:3})]}]),e.finishSetup(),e},_n={nMosSingle:Xf(),nMosDiffPair:Jf(),pMosSingle:eu(),nMos5TransistorOpAmp:Zf(),nMos9TransistorOpAmp:Qf()},tu=e=>(Zr("data-v-e876c244"),e=e(),Qr(),e),su={style:{"margin-right":"10px","text-align":"right"}},iu={style:{display:"flex","margin-bottom":"-30px",width:"100px"}},nu={style:{display:"flex","margin-top":"15px","margin-bottom":"15px"}},ou=tu(()=>re("div",{style:{width:"15px",height:"3px","background-color":"black","border-radius":"2px"}},null,-1)),ru={style:{display:"flex","margin-top":"-30px",width:"100px"}},au=Zi({__name:"Switch",props:{labelUp:{},labelDown:{},option:{},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,i=typeof s.modelValue=="boolean",n=t,o=()=>{if(i)n("update:modelValue",!s.modelValue);else{const r=s.modelValue===s.labelUp?s.labelDown:s.labelUp;n("update:modelValue",r)}};return(r,a)=>(Wt(),es("div",{onClick:o,style:{cursor:"pointer",display:"flex","align-items":"center","max-width":"250px",height:"50px",padding:"10px"},class:"prevent-select"},[re("p",su,ss(s.option),1),re("div",null,[re("div",iu,[re("div",{style:qe(`width: 15px; border-radius: 2px; margin-top: 26px; background-color: black; height: ${i?s.modelValue?"3px":"2px":s.modelValue===s.labelUp?"3px":"2px"}; margin-left: 34px;`)},null,4),re("p",{style:qe(`margin-left: 7px; font-weight: ${i?s.modelValue?"bold":"":s.modelValue===s.labelUp?"bold":""}`)},ss(s.labelUp),5)]),re("div",nu,[ou,re("div",{style:qe(`width: 26px; height: 3px; background-color: black; border-radius: 2px; margin-left: -1px; transform: rotate(${i?s.modelValue?"-33deg":"33deg":s.modelValue===s.labelUp?"-33deg":"33deg"}); transform-origin: 0% 50%; transition-duration: 200ms;`)},null,4)]),re("div",ru,[re("div",{style:qe(`width: 15px; border-radius: 2px; margin-top: 26px; background-color: black; height: ${i?s.modelValue?"2px":"3px":s.modelValue===s.labelUp?"2px":"3px"}; margin-left: 34px;`)},null,4),re("p",{style:qe(`margin-left: 7px; font-weight: ${i?s.modelValue?"":"bold":s.modelValue===s.labelDown?"bold":""}`)},ss(s.labelDown),5)])])]))}}),$a=(e,t)=>{const s=e.__vccOpts||e;for(const[i,n]of t)s[i]=n;return s},br=$a(au,[["__scopeId","data-v-e876c244"]]);function lu(){const e=L(window.innerWidth),t=L(window.innerHeight),s=L(!1),i=L(!1),n=L(!1),o=L(!1),r=L(!1),a=L(!1),l=L(!1),f=L(!1),h=L(!1),d=L(!1),p=L(!1),y=()=>{e.value=window.innerWidth,t.value=window.innerHeight,e.value<600?r.value=!0:e.value<960?(o.value=!0,a.value=!0):e.value<1264?(n.value=!0,l.value=!0):e.value<1904?(i.value=!0,f.value=!0):s.value=!0,e.value>1904?p.value=!0:e.value>1264?d.value=!0:e.value>960&&(h.value=!0)};return Xl(()=>(window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)})),tn(()=>y()),{xs:r,sm:o,md:n,lg:i,xl:s,smAndDown:a,mdAndDown:l,lgAndDown:f,smAndUp:h,mdAndUp:d,lgAndUp:p,screenWidth:e,screenHeight:t}}const Mo=e=>(Zr("data-v-94a2b9fa"),e=e(),Qr(),e),cu={style:{position:"absolute",top:"10px",left:"10px"}},fu=Mo(()=>re("h3",{style:{"text-align":"center"}},"Circuits",-1)),uu=Mo(()=>re("div",{style:{border:"1px solid grey"}},null,-1)),hu=["onClick"],du=Mo(()=>re("div",{style:{border:"1px solid grey","margin-top":"20px","margin-bottom":"30px"}},null,-1)),gu={style:{display:"flex","flex-wrap":"wrap",width:"210px","justify-content":"end"}},mu=Zi({__name:"Diagram",setup(e){const{screenHeight:t,screenWidth:s,xs:i}=lu(),n=ie(()=>{const X=t.value/4,F=s.value/4,k=2,ae=i.value?{width:s.value-30,height:M.value?t.value-30-X+5:t.value-30}:{width:M.value?s.value-30-F+5:s.value-30,height:t.value-30},kt=i.value?{width:(s.value-30)/2-k,height:X}:{width:F,height:(t.value-30)/2-k},Ss=i.value?{width:(s.value-30)/2-k,height:X}:{width:F,height:(t.value-30)/2-k};return{mainCanvas:ae,graphBarChartCanvas:kt,graphBarMosfetCanvas:Ss,borderWidth:k}}),o=L(null),r=L(null),a=L(null),l=L(null),f=L(null),h=L(null);let d=0;const p=L(null),y=L(!1),M=L(!0),P=I=>{p.value&&!p.value.contains(I.target)&&(y.value=!1)},W=L("nMosSingle"),S=Object.keys(_n),A=El(_n[W.value]),$=I=>{W.value=I,A.value=_n[I]},K=()=>{A.value.allSliders.forEach(I=>{I.updateValueBasedOnNodeVoltages()})},te=()=>{A.value.allSliders.forEach(I=>{I.updateNodeVoltagesBasedOnValue()})},Y=I=>{const X=I.target;if(!X)return{mouseX:0,mouseY:0};const F=X.getBoundingClientRect(),k=(I.clientX-F.left)*rt.value,ae=(I.clientY-F.top)*rt.value;return{mouseX:k,mouseY:ae}},me=()=>{let I=!1;return A.value.allSliders.forEach(X=>{X.dragging&&(I=!0)}),I},H=I=>{const{mouseX:X,mouseY:F}=Y(I);A.value.allSliders.forEach(k=>{k.canvasId==I.target.className&&k.checkDrag({x:X,y:F},I.button==1)}),me()||Object.values(A.value.devices.mosfets).forEach(k=>{k.canvasId==I.target.className&&(k.mouseDownInsideSelectionArea=k.checkSelectionArea({x:X,y:F}))}),he(I),document.addEventListener("mousemove",he),document.addEventListener("mouseup",de)},he=I=>{const{mouseX:X,mouseY:F}=Y(I);for(const k in A.value.nodes){const ae=A.value.nodes[k].value;ae.capacitance=ae.originalCapacitance}A.value.allSliders.forEach(k=>{k.dragSlider({x:X,y:F})}),te()},de=I=>{const{mouseX:X,mouseY:F}=Y(I);!me()&&I.target.className=="main"&&(A.value.resetSelectedDevice(),Object.values(A.value.devices.mosfets).forEach(k=>{k.mouseDownInsideSelectionArea&&k.checkSelectionArea({x:X,y:F})?(k.selectedFocus.value&&(k.selected.value=!k.selected.value),k.selectedFocus.value=!0,A.value.setSelectedDevice(k)):k.selectedFocus.value=!1,k.mouseDownInsideSelectionArea=!1})),A.value.allSliders.forEach(k=>{k.releaseSlider()}),document.removeEventListener("mousemove",he),document.removeEventListener("mouseup",de)},Ae=(I,X,F)=>{if(!I.value||(X.value=I.value.getContext("2d"),!X.value))return!1;Gf(X.value,F);const k=rt.value;return I.value.width=F.value.width*k,I.value.height=F.value.height*k,I.value.style.width=`${F.value.width}px`,I.value.style.height=`${F.value.height}px`,X.value.resetTransform(),X.value.clearRect(0,0,I.value.width,I.value.height),!0},R=()=>{var I;Ae(o,r,Un)&&Ae(a,l,Hf)&&Ae(f,h,Uf)&&(K(),A.value.draw(r.value),A.value.anyDevicesSelected&&((I=A.value.circuitCopy)==null||I.draw(l.value)))},ye=I=>{const X=I-d;d=I,A.value.allSliders.forEach(F=>{F.adjustPreciseSlider(X),te()}),Ef(A.value,X),Object.values(A.value.devices.mosfets).forEach(F=>{F.currentDots.updateDotPositionBasedOnTimestamp(F.current,X)}),Object.values(A.value.schematic.parasiticCapacitors).forEach(F=>{F.currentDots.updateDotPositionBasedOnTimestamp(F.node.value.netCurrent,X)}),R(),requestAnimationFrame(ye)};return tn(()=>{o.value&&(r.value=o.value.getContext("2d"),document.addEventListener("click",P),R(),requestAnimationFrame(ye)),a.value&&(l.value=a.value.getContext("2d")),f.value&&(h.value=f.value.getContext("2d"))}),po(()=>{}),(I,X)=>(Wt(),es(lt,null,[re("div",cu,[re("button",{onClick:X[0]||(X[0]=mr(F=>y.value=!y.value,["stop"]))},"Menu")]),Ne(xo,null,{default:ea(()=>[Bo(re("div",{ref_key:"sideBar",ref:p,style:{display:"flex","flex-direction":"column",width:"250px",height:"100vh",padding:"10px","background-color":"whitesmoke",position:"absolute"}},[fu,uu,(Wt(!0),es(lt,null,uc(Ut(S),F=>(Wt(),es("button",{onClick:mr(k=>$(F),["prevent"]),style:qe(`margin-bottom: 10px; background-color: ${F===W.value?"rgb(200, 200, 200)":""};`)},ss(F),13,hu))),256)),du,Bo(re("input",{type:"range",min:"1",max:"5",step:"1","onUpdate:modelValue":X[1]||(X[1]=F=>ze(rt)?rt.value=F:null)},null,512),[[xf,Ut(rt)]]),re("div",gu,[Ne(br,{"label-up":"On","label-down":"Off",option:"Draw Grid",modelValue:Ut(si),"onUpdate:modelValue":X[2]||(X[2]=F=>ze(si)?si.value=F:null)},null,8,["modelValue"]),Ne(br,{"label-up":"On","label-down":"Off",option:"Floating Nodes",modelValue:Ut(Oi),"onUpdate:modelValue":X[3]||(X[3]=F=>ze(Oi)?Oi.value=F:null)},null,8,["modelValue"])]),re("button",{onClick:X[4]||(X[4]=F=>y.value=!1),style:{position:"absolute",bottom:"40px",right:"15px"}},"Close")],512),[[sf,y.value]])]),_:1}),Ut(i)?(Wt(),es("button",{key:0,onClick:X[5]||(X[5]=F=>M.value=!M.value),style:{position:"absolute",bottom:"0","font-size":"xx-large",padding:"5px",width:"100px",right:"calc(50% - 50px)"}},ss(M.value?"V":"^"),1)):(Wt(),es("button",{key:1,onClick:X[6]||(X[6]=F=>M.value=!M.value),style:{position:"absolute",right:"0","font-size":"xx-large",padding:"5px",height:"100px",top:"calc(50vh - 50px)"}},ss(M.value?">":"<"),1)),re("div",null,[re("div",{style:qe({display:"flex",flexDirection:Ut(i)?"column":"row"})},[re("canvas",{ref_key:"canvas",ref:o,onMousedown:H,style:qe(`border-color: blue; border-width: 2px; background-color: white; width: ${n.value.mainCanvas.width}px; height: ${n.value.mainCanvas.height}px;`),class:"main"},null,36),re("div",{style:qe({display:"flex",flexDirection:Ut(i)?"row":"column"})},[re("canvas",{ref_key:"graphBarChartCanvas",ref:f,onMousedown:H,style:qe(`border-color: blue; border-width: ${n.value.borderWidth}px; background-color: white; width: ${n.value.graphBarChartCanvas.width}px; height: ${n.value.graphBarChartCanvas.height}px; display: ${M.value?"block":"none"}`),class:"chart"},null,36),re("canvas",{ref_key:"graphBarMosfetCanvas",ref:a,onMousedown:H,style:qe(`border-color: blue; border-width: ${n.value.borderWidth}px; background-color: white; width: ${n.value.graphBarMosfetCanvas.width}px; height: ${n.value.graphBarMosfetCanvas.height}px; display: ${M.value?"block":"none"}`),class:"mosfet"},null,36)],4)],4)])],64))}}),pu=$a(mu,[["__scopeId","data-v-94a2b9fa"]]),vu={key:0},yu={style:{color:"white"}},bu={style:{color:"white"}},xu={style:{display:"flex","justify-content":"space-around"}},wu=Zi({__name:"Tutorial",props:{setTutorialStep:{type:Function},data:{}},setup(e){const t=e;return(s,i)=>t.data.title!==""?(Wt(),es("div",vu,[re("div",{style:qe(`background-color: #FF7F7F; border-radius: 10px; border: 2px solid red; position: absolute; max-width: 400px; padding: 20px; ${t.data.location?t.data.location.y:"top: 45vh"}; ${t.data.location?t.data.location.x:"left: calc(50vw - 200px"}); box-shadow: rgba(0, 0, 0, 0.4) 0px 8px 24px;`)},[re("h3",yu,ss(t.data.title),1),re("p",bu,ss(t.data.text),1),re("div",xu,[re("button",{onClick:i[0]||(i[0]=n=>s.setTutorialStep())},"Ok"),re("button",{onClick:i[1]||(i[1]=n=>s.setTutorialStep(!0))},"Skip")])],4)])):Ma("",!0)}}),Mu=Zi({__name:"App",setup(e){const t=[{title:"",text:""},{title:"Welcome to Mosfets",text:"This will show you around the program."},{title:"Side Bar",text:"These buttons allow you to switch circuits.",location:{x:"left: 200px;",y:"top: 50px;"}},{title:"Circuits",text:"Highlighted sliders allow you to manipulate the voltages on each voltage source. Move one to see how they work.",location:{x:"right: 45vw;",y:"top: 200px;"}},{title:"Current",text:"Blue dots move relative to the current flowing through the mosfet. Move the orange voltage sliders to see it change.",location:{x:"right: 45vw;",y:"top: 200px;"}}],s=L(1),i=(a=!1)=>{a?s.value=t.length:s.value++,s.value>t.length-1&&(s.value=0)},o=L((()=>{const a="firstTimeLoad",l=localStorage.getItem(a)===null;return l&&localStorage.setItem(a,"false"),l})()),r=()=>{o.value=!0,s.value=1};return document.body.onmousedown=function(a){if(a.button==1)return a.preventDefault(),!1},(a,l)=>(Wt(),es("div",null,[Ne(pu),o.value?(Wt(),xa(wu,{key:0,data:t[s.value],setTutorialStep:i},null,8,["data"])):Ma("",!0),re("button",{onClick:r,style:{position:"absolute",bottom:"5px",left:"5px"}},"?")]))}});Sf(Mu).mount("#app");
