var Bl=Object.defineProperty;var Ol=(e,t,r)=>t in e?Bl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ie=(e,t,r)=>(Ol(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ia(e,t){const r=new Set(e.split(","));return n=>r.has(n)}const ze={},Yr=[],Bt=()=>{},Il=()=>!1,Ai=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ra=e=>e.startsWith("onUpdate:"),Xe=Object.assign,La=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Rl=Object.prototype.hasOwnProperty,Ce=(e,t)=>Rl.call(e,t),ce=Array.isArray,jr=e=>Ci(e)==="[object Map]",ku=e=>Ci(e)==="[object Set]",ve=e=>typeof e=="function",Qe=e=>typeof e=="string",Pr=e=>typeof e=="symbol",Ve=e=>e!==null&&typeof e=="object",Yu=e=>(Ve(e)||ve(e))&&ve(e.then)&&ve(e.catch),ju=Object.prototype.toString,Ci=e=>ju.call(e),Ll=e=>Ci(e).slice(8,-1),Wu=e=>Ci(e)==="[object Object]",Pa=e=>Qe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,pn=Ia(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fi=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Pl=/-(\w)/g,Xr=Fi(e=>e.replace(Pl,(t,r)=>r?r.toUpperCase():"")),zl=/\B([A-Z])/g,tn=Fi(e=>e.replace(zl,"-$1").toLowerCase()),Zu=Fi(e=>e.charAt(0).toUpperCase()+e.slice(1)),ki=Fi(e=>e?`on${Zu(e)}`:""),Dr=(e,t)=>!Object.is(e,t),Yi=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Ku=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},Ul=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Vl=e=>{const t=Qe(e)?Number(e):NaN;return isNaN(t)?e:t};let bs;const Ju=()=>bs||(bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Tn(e){if(ce(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=Qe(n)?Gl(n):Tn(n);if(i)for(const a in i)t[a]=i[a]}return t}else if(Qe(e)||Ve(e))return e}const $l=/;(?![^(]*\))/g,Hl=/:([^]+)/,ql=/\/\*[^]*?\*\//g;function Gl(e){const t={};return e.replace(ql,"").split($l).forEach(r=>{if(r){const n=r.split(Hl);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function za(e){let t="";if(Qe(e))t=e;else if(ce(e))for(let r=0;r<e.length;r++){const n=za(e[r]);n&&(t+=n+" ")}else if(Ve(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const kl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Yl=Ia(kl);function Xu(e){return!!e||e===""}const ua=e=>Qe(e)?e:e==null?"":ce(e)||Ve(e)&&(e.toString===ju||!ve(e.toString))?JSON.stringify(e,Qu,2):String(e),Qu=(e,t)=>t&&t.__v_isRef?Qu(e,t.value):jr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i],a)=>(r[ji(n,a)+" =>"]=i,r),{})}:ku(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>ji(r))}:Pr(t)?ji(t):Ve(t)&&!ce(t)&&!Wu(t)?String(t):t,ji=(e,t="")=>{var r;return Pr(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pt;class jl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Pt,!t&&Pt&&(this.index=(Pt.scopes||(Pt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=Pt;try{return Pt=this,t()}finally{Pt=r}}}on(){Pt=this}off(){Pt=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Wl(e,t=Pt){t&&t.active&&t.effects.push(e)}function Zl(){return Pt}let Br;class Ua{constructor(t,r,n,i){this.fn=t,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Wl(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Er();for(let t=0;t<this._depsLength;t++){const r=this.deps[t];if(r.computed&&(Kl(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),xr()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=vr,r=Br;try{return vr=!0,Br=this,this._runnings++,ws(this),this.fn()}finally{Es(this),this._runnings--,Br=r,vr=t}}stop(){this.active&&(ws(this),Es(this),this.onStop&&this.onStop(),this.active=!1)}}function Kl(e){return e.value}function ws(e){e._trackId++,e._depsLength=0}function Es(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)eo(e.deps[t],e);e.deps.length=e._depsLength}}function eo(e,t){const r=e.get(t);r!==void 0&&t._trackId!==r&&(e.delete(t),e.size===0&&e.cleanup())}let vr=!0,oa=0;const to=[];function Er(){to.push(vr),vr=!1}function xr(){const e=to.pop();vr=e===void 0?!0:e}function Va(){oa++}function $a(){for(oa--;!oa&&fa.length;)fa.shift()()}function ro(e,t,r){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&eo(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const fa=[];function no(e,t,r){Va();for(const n of e.keys()){let i;n._dirtyLevel<t&&(i??(i=e.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=t),n._shouldSchedule&&(i??(i=e.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&fa.push(n.scheduler)))}$a()}const io=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},la=new WeakMap,Or=Symbol(""),ca=Symbol("");function Et(e,t,r){if(vr&&Br){let n=la.get(e);n||la.set(e,n=new Map);let i=n.get(r);i||n.set(r,i=io(()=>n.delete(r))),ro(Br,i)}}function rr(e,t,r,n,i,a){const s=la.get(e);if(!s)return;let f=[];if(t==="clear")f=[...s.values()];else if(r==="length"&&ce(e)){const c=Number(n);s.forEach((h,o)=>{(o==="length"||!Pr(o)&&o>=c)&&f.push(h)})}else switch(r!==void 0&&f.push(s.get(r)),t){case"add":ce(e)?Pa(r)&&f.push(s.get("length")):(f.push(s.get(Or)),jr(e)&&f.push(s.get(ca)));break;case"delete":ce(e)||(f.push(s.get(Or)),jr(e)&&f.push(s.get(ca)));break;case"set":jr(e)&&f.push(s.get(Or));break}Va();for(const c of f)c&&no(c,4);$a()}const Jl=Ia("__proto__,__v_isRef,__isVue"),ao=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Pr)),xs=Xl();function Xl(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=Se(this);for(let a=0,s=this.length;a<s;a++)Et(n,"get",a+"");const i=n[t](...r);return i===-1||i===!1?n[t](...r.map(Se)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Er(),Va();const n=Se(this)[t].apply(this,r);return $a(),xr(),n}}),e}function Ql(e){Pr(e)||(e=String(e));const t=Se(this);return Et(t,"has",e),t.hasOwnProperty(e)}class so{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){const i=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(i?a?dc:lo:a?fo:oo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const s=ce(t);if(!i){if(s&&Ce(xs,r))return Reflect.get(xs,r,n);if(r==="hasOwnProperty")return Ql}const f=Reflect.get(t,r,n);return(Pr(r)?ao.has(r):Jl(r))||(i||Et(t,"get",r),a)?f:xt(f)?s&&Pa(r)?f:f.value:Ve(f)?i?co(f):Ga(f):f}}class uo extends so{constructor(t=!1){super(!1,t)}set(t,r,n,i){let a=t[r];if(!this._isShallow){const c=En(a);if(!ui(n)&&!En(n)&&(a=Se(a),n=Se(n)),!ce(t)&&xt(a)&&!xt(n))return c?!1:(a.value=n,!0)}const s=ce(t)&&Pa(r)?Number(r)<t.length:Ce(t,r),f=Reflect.set(t,r,n,i);return t===Se(i)&&(s?Dr(n,a)&&rr(t,"set",r,n):rr(t,"add",r,n)),f}deleteProperty(t,r){const n=Ce(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&rr(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!Pr(r)||!ao.has(r))&&Et(t,"has",r),n}ownKeys(t){return Et(t,"iterate",ce(t)?"length":Or),Reflect.ownKeys(t)}}class ec extends so{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const tc=new uo,rc=new ec,nc=new uo(!0);const Ha=e=>e,Ni=e=>Reflect.getPrototypeOf(e);function Hn(e,t,r=!1,n=!1){e=e.__v_raw;const i=Se(e),a=Se(t);r||(Dr(t,a)&&Et(i,"get",t),Et(i,"get",a));const{has:s}=Ni(i),f=n?Ha:r?Ya:xn;if(s.call(i,t))return f(e.get(t));if(s.call(i,a))return f(e.get(a));e!==i&&e.get(t)}function qn(e,t=!1){const r=this.__v_raw,n=Se(r),i=Se(e);return t||(Dr(e,i)&&Et(n,"has",e),Et(n,"has",i)),e===i?r.has(e):r.has(e)||r.has(i)}function Gn(e,t=!1){return e=e.__v_raw,!t&&Et(Se(e),"iterate",Or),Reflect.get(e,"size",e)}function As(e){e=Se(e);const t=Se(this);return Ni(t).has.call(t,e)||(t.add(e),rr(t,"add",e,e)),this}function Cs(e,t){t=Se(t);const r=Se(this),{has:n,get:i}=Ni(r);let a=n.call(r,e);a||(e=Se(e),a=n.call(r,e));const s=i.call(r,e);return r.set(e,t),a?Dr(t,s)&&rr(r,"set",e,t):rr(r,"add",e,t),this}function Fs(e){const t=Se(this),{has:r,get:n}=Ni(t);let i=r.call(t,e);i||(e=Se(e),i=r.call(t,e)),n&&n.call(t,e);const a=t.delete(e);return i&&rr(t,"delete",e,void 0),a}function Ns(){const e=Se(this),t=e.size!==0,r=e.clear();return t&&rr(e,"clear",void 0,void 0),r}function kn(e,t){return function(n,i){const a=this,s=a.__v_raw,f=Se(s),c=t?Ha:e?Ya:xn;return!e&&Et(f,"iterate",Or),s.forEach((h,o)=>n.call(i,c(h),c(o),a))}}function Yn(e,t,r){return function(...n){const i=this.__v_raw,a=Se(i),s=jr(a),f=e==="entries"||e===Symbol.iterator&&s,c=e==="keys"&&s,h=i[e](...n),o=r?Ha:t?Ya:xn;return!t&&Et(a,"iterate",c?ca:Or),{next(){const{value:u,done:l}=h.next();return l?{value:u,done:l}:{value:f?[o(u[0]),o(u[1])]:o(u),done:l}},[Symbol.iterator](){return this}}}}function ir(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ic(){const e={get(a){return Hn(this,a)},get size(){return Gn(this)},has:qn,add:As,set:Cs,delete:Fs,clear:Ns,forEach:kn(!1,!1)},t={get(a){return Hn(this,a,!1,!0)},get size(){return Gn(this)},has:qn,add:As,set:Cs,delete:Fs,clear:Ns,forEach:kn(!1,!0)},r={get(a){return Hn(this,a,!0)},get size(){return Gn(this,!0)},has(a){return qn.call(this,a,!0)},add:ir("add"),set:ir("set"),delete:ir("delete"),clear:ir("clear"),forEach:kn(!0,!1)},n={get(a){return Hn(this,a,!0,!0)},get size(){return Gn(this,!0)},has(a){return qn.call(this,a,!0)},add:ir("add"),set:ir("set"),delete:ir("delete"),clear:ir("clear"),forEach:kn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=Yn(a,!1,!1),r[a]=Yn(a,!0,!1),t[a]=Yn(a,!1,!0),n[a]=Yn(a,!0,!0)}),[e,r,t,n]}const[ac,sc,uc,oc]=ic();function qa(e,t){const r=t?e?oc:uc:e?sc:ac;return(n,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Ce(r,i)&&i in n?r:n,i,a)}const fc={get:qa(!1,!1)},lc={get:qa(!1,!0)},cc={get:qa(!0,!1)};const oo=new WeakMap,fo=new WeakMap,lo=new WeakMap,dc=new WeakMap;function hc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pc(e){return e.__v_skip||!Object.isExtensible(e)?0:hc(Ll(e))}function Ga(e){return En(e)?e:ka(e,!1,tc,fc,oo)}function mc(e){return ka(e,!1,nc,lc,fo)}function co(e){return ka(e,!0,rc,cc,lo)}function ka(e,t,r,n,i){if(!Ve(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=i.get(e);if(a)return a;const s=pc(e);if(s===0)return e;const f=new Proxy(e,s===2?n:r);return i.set(e,f),f}function mn(e){return En(e)?mn(e.__v_raw):!!(e&&e.__v_isReactive)}function En(e){return!!(e&&e.__v_isReadonly)}function ui(e){return!!(e&&e.__v_isShallow)}function ho(e){return e?!!e.__v_raw:!1}function Se(e){const t=e&&e.__v_raw;return t?Se(t):e}function vc(e){return Object.isExtensible(e)&&Ku(e,"__v_skip",!0),e}const xn=e=>Ve(e)?Ga(e):e,Ya=e=>Ve(e)?co(e):e;class po{constructor(t,r,n,i){this.getter=t,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Ua(()=>t(this._value),()=>Qn(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=Se(this);return(!t._cacheable||t.effect.dirty)&&Dr(t._value,t._value=t.effect.run())&&Qn(t,4),mo(t),t.effect._dirtyLevel>=2&&Qn(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function gc(e,t,r=!1){let n,i;const a=ve(e);return a?(n=e,i=Bt):(n=e.get,i=e.set),new po(n,i,a||!i,r)}function mo(e){var t;vr&&Br&&(e=Se(e),ro(Br,(t=e.dep)!=null?t:e.dep=io(()=>e.dep=void 0,e instanceof po?e:void 0)))}function Qn(e,t=4,r){e=Se(e);const n=e.dep;n&&no(n,t)}function xt(e){return!!(e&&e.__v_isRef===!0)}function De(e){return vo(e,!1)}function Dc(e){return vo(e,!0)}function vo(e,t){return xt(e)?e:new yc(e,t)}class yc{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:Se(t),this._value=r?t:xn(t)}get value(){return mo(this),this._value}set value(t){const r=this.__v_isShallow||ui(t)||En(t);t=r?t:Se(t),Dr(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:xn(t),Qn(this,4))}}function ei(e){return xt(e)?e.value:e}const bc={get:(e,t,r)=>ei(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return xt(i)&&!xt(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function go(e){return mn(e)?e:new Proxy(e,bc)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gr(e,t,r,n){try{return n?e(...n):e()}catch(i){Mi(i,t,r)}}function It(e,t,r,n){if(ve(e)){const i=gr(e,t,r,n);return i&&Yu(i)&&i.catch(a=>{Mi(a,t,r)}),i}if(ce(e)){const i=[];for(let a=0;a<e.length;a++)i.push(It(e[a],t,r,n));return i}}function Mi(e,t,r,n=!0){const i=t?t.vnode:null;if(t){let a=t.parent;const s=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const h=a.ec;if(h){for(let o=0;o<h.length;o++)if(h[o](e,s,f)===!1)return}a=a.parent}const c=t.appContext.config.errorHandler;if(c){Er(),gr(c,null,10,[e,s,f]),xr();return}}wc(e,r,i,n)}function wc(e,t,r,n=!0){console.error(e)}let An=!1,da=!1;const ct=[];let jt=0;const Wr=[];let ur=null,Sr=0;const Do=Promise.resolve();let ja=null;function Ec(e){const t=ja||Do;return e?t.then(this?e.bind(this):e):t}function xc(e){let t=jt+1,r=ct.length;for(;t<r;){const n=t+r>>>1,i=ct[n],a=Cn(i);a<e||a===e&&i.pre?t=n+1:r=n}return t}function Wa(e){(!ct.length||!ct.includes(e,An&&e.allowRecurse?jt+1:jt))&&(e.id==null?ct.push(e):ct.splice(xc(e.id),0,e),yo())}function yo(){!An&&!da&&(da=!0,ja=Do.then(wo))}function Ac(e){const t=ct.indexOf(e);t>jt&&ct.splice(t,1)}function Cc(e){ce(e)?Wr.push(...e):(!ur||!ur.includes(e,e.allowRecurse?Sr+1:Sr))&&Wr.push(e),yo()}function Ms(e,t,r=An?jt+1:0){for(;r<ct.length;r++){const n=ct[r];if(n&&n.pre){if(e&&n.id!==e.uid)continue;ct.splice(r,1),r--,n()}}}function bo(e){if(Wr.length){const t=[...new Set(Wr)].sort((r,n)=>Cn(r)-Cn(n));if(Wr.length=0,ur){ur.push(...t);return}for(ur=t,Sr=0;Sr<ur.length;Sr++)ur[Sr]();ur=null,Sr=0}}const Cn=e=>e.id==null?1/0:e.id,Fc=(e,t)=>{const r=Cn(e)-Cn(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function wo(e){da=!1,An=!0,ct.sort(Fc);try{for(jt=0;jt<ct.length;jt++){const t=ct[jt];t&&t.active!==!1&&gr(t,null,14)}}finally{jt=0,ct.length=0,bo(),An=!1,ja=null,(ct.length||Wr.length)&&wo()}}function Nc(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||ze;let i=r;const a=t.startsWith("update:"),s=a&&t.slice(7);if(s&&s in n){const o=`${s==="modelValue"?"model":s}Modifiers`,{number:u,trim:l}=n[o]||ze;l&&(i=r.map(d=>Qe(d)?d.trim():d)),u&&(i=r.map(Ul))}let f,c=n[f=ki(t)]||n[f=ki(Xr(t))];!c&&a&&(c=n[f=ki(tn(t))]),c&&It(c,e,6,i);const h=n[f+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[f])return;e.emitted[f]=!0,It(h,e,6,i)}}function Eo(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const a=e.emits;let s={},f=!1;if(!ve(e)){const c=h=>{const o=Eo(h,t,!0);o&&(f=!0,Xe(s,o))};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!a&&!f?(Ve(e)&&n.set(e,null),null):(ce(a)?a.forEach(c=>s[c]=null):Xe(s,a),Ve(e)&&n.set(e,s),s)}function Si(e,t){return!e||!Ai(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ce(e,t[0].toLowerCase()+t.slice(1))||Ce(e,tn(t))||Ce(e,t))}let bt=null,_i=null;function oi(e){const t=bt;return bt=e,_i=e&&e.type.__scopeId||null,t}function Mc(e){_i=e}function Sc(){_i=null}function xo(e,t=bt,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&Us(-1);const a=oi(t);let s;try{s=e(...i)}finally{oi(a),n._d&&Us(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function Wi(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[a],slots:s,attrs:f,emit:c,render:h,renderCache:o,props:u,data:l,setupState:d,ctx:m,inheritAttrs:p}=e,v=oi(e);let w,T;try{if(r.shapeFlag&4){const M=i||n,A=M;w=kt(h.call(A,M,o,u,d,l,m)),T=f}else{const M=t;w=kt(M.length>1?M(u,{attrs:f,slots:s,emit:c}):M(u,null)),T=t.props?f:_c(f)}}catch(M){Dn.length=0,Mi(M,e,1),w=vt(Ot)}let g=w;if(T&&p!==!1){const M=Object.keys(T),{shapeFlag:A}=g;M.length&&A&7&&(a&&M.some(Ra)&&(T=Tc(T,a)),g=yr(g,T,!1,!0))}return r.dirs&&(g=yr(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(r.dirs):r.dirs),r.transition&&(g.transition=r.transition),w=g,oi(v),w}const _c=e=>{let t;for(const r in e)(r==="class"||r==="style"||Ai(r))&&((t||(t={}))[r]=e[r]);return t},Tc=(e,t)=>{const r={};for(const n in e)(!Ra(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function Bc(e,t,r){const{props:n,children:i,component:a}=e,{props:s,children:f,patchFlag:c}=t,h=a.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?Ss(n,s,h):!!s;if(c&8){const o=t.dynamicProps;for(let u=0;u<o.length;u++){const l=o[u];if(s[l]!==n[l]&&!Si(h,l))return!0}}}else return(i||f)&&(!f||!f.$stable)?!0:n===s?!1:n?s?Ss(n,s,h):!0:!!s;return!1}function Ss(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==e[a]&&!Si(r,a))return!0}return!1}function Oc({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const Ic=Symbol.for("v-ndc"),Rc=e=>e.__isSuspense;function Lc(e,t){t&&t.pendingBranch?ce(e)?t.effects.push(...e):t.effects.push(e):Cc(e)}const Pc=Symbol.for("v-scx"),zc=()=>ri(Pc),jn={};function Zi(e,t,r){return Ao(e,t,r)}function Ao(e,t,{immediate:r,deep:n,flush:i,once:a,onTrack:s,onTrigger:f}=ze){if(t&&a){const y=t;t=(...I)=>{y(...I),A()}}const c=dt,h=y=>n===!0?y:Tr(y,n===!1?1:void 0);let o,u=!1,l=!1;if(xt(e)?(o=()=>e.value,u=ui(e)):mn(e)?(o=()=>h(e),u=!0):ce(e)?(l=!0,u=e.some(y=>mn(y)||ui(y)),o=()=>e.map(y=>{if(xt(y))return y.value;if(mn(y))return h(y);if(ve(y))return gr(y,c,2)})):ve(e)?t?o=()=>gr(e,c,2):o=()=>(d&&d(),It(e,c,3,[m])):o=Bt,t&&n){const y=o;o=()=>Tr(y())}let d,m=y=>{d=g.onStop=()=>{gr(y,c,4),d=g.onStop=void 0}},p;if(Ii)if(m=Bt,t?r&&It(t,c,3,[o(),l?[]:void 0,m]):o(),i==="sync"){const y=zc();p=y.__watcherHandles||(y.__watcherHandles=[])}else return Bt;let v=l?new Array(e.length).fill(jn):jn;const w=()=>{if(!(!g.active||!g.dirty))if(t){const y=g.run();(n||u||(l?y.some((I,_)=>Dr(I,v[_])):Dr(y,v)))&&(d&&d(),It(t,c,3,[y,v===jn?void 0:l&&v[0]===jn?[]:v,m]),v=y)}else g.run()};w.allowRecurse=!!t;let T;i==="sync"?T=w:i==="post"?T=()=>yt(w,c&&c.suspense):(w.pre=!0,c&&(w.id=c.uid),T=()=>Wa(w));const g=new Ua(o,Bt,T),M=Zl(),A=()=>{g.stop(),M&&La(M.effects,g)};return t?r?w():v=g.run():i==="post"?yt(g.run.bind(g),c&&c.suspense):g.run(),p&&p.push(A),A}function Uc(e,t,r){const n=this.proxy,i=Qe(e)?e.includes(".")?Co(n,e):()=>n[e]:e.bind(n,n);let a;ve(t)?a=t:(a=t.handler,r=t);const s=Bn(this),f=Ao(i,a.bind(n),r);return s(),f}function Co(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function Tr(e,t=1/0,r){if(t<=0||!Ve(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,xt(e))Tr(e.value,t,r);else if(ce(e))for(let n=0;n<e.length;n++)Tr(e[n],t,r);else if(ku(e)||jr(e))e.forEach(n=>{Tr(n,t,r)});else if(Wu(e))for(const n in e)Tr(e[n],t,r);return e}function Vc(e,t){if(bt===null)return e;const r=Ri(bt)||bt.proxy,n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,s,f,c=ze]=t[i];a&&(ve(a)&&(a={mounted:a,updated:a}),a.deep&&Tr(s),n.push({dir:a,instance:r,value:s,oldValue:void 0,arg:f,modifiers:c}))}return e}function Cr(e,t,r,n){const i=e.dirs,a=t&&t.dirs;for(let s=0;s<i.length;s++){const f=i[s];a&&(f.oldValue=a[s].value);let c=f.dir[n];c&&(Er(),It(c,r,8,[e.el,f,e,t]),xr())}}const or=Symbol("_leaveCb"),Wn=Symbol("_enterCb");function $c(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ka(()=>{e.isMounted=!0}),Ja(()=>{e.isUnmounting=!0}),e}const St=[Function,Array],Fo={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:St,onEnter:St,onAfterEnter:St,onEnterCancelled:St,onBeforeLeave:St,onLeave:St,onAfterLeave:St,onLeaveCancelled:St,onBeforeAppear:St,onAppear:St,onAfterAppear:St,onAppearCancelled:St},Hc={name:"BaseTransition",props:Fo,setup(e,{slots:t}){const r=M0(),n=$c();return()=>{const i=t.default&&Mo(t.default(),!0);if(!i||!i.length)return;let a=i[0];if(i.length>1){for(const l of i)if(l.type!==Ot){a=l;break}}const s=Se(e),{mode:f}=s;if(n.isLeaving)return Ki(a);const c=_s(a);if(!c)return Ki(a);const h=ha(c,s,n,r);pa(c,h);const o=r.subTree,u=o&&_s(o);if(u&&u.type!==Ot&&!_r(c,u)){const l=ha(u,s,n,r);if(pa(u,l),f==="out-in"&&c.type!==Ot)return n.isLeaving=!0,l.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&(r.effect.dirty=!0,r.update())},Ki(a);f==="in-out"&&c.type!==Ot&&(l.delayLeave=(d,m,p)=>{const v=No(n,u);v[String(u.key)]=u,d[or]=()=>{m(),d[or]=void 0,delete h.delayedLeave},h.delayedLeave=p})}return a}}},qc=Hc;function No(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function ha(e,t,r,n){const{appear:i,mode:a,persisted:s=!1,onBeforeEnter:f,onEnter:c,onAfterEnter:h,onEnterCancelled:o,onBeforeLeave:u,onLeave:l,onAfterLeave:d,onLeaveCancelled:m,onBeforeAppear:p,onAppear:v,onAfterAppear:w,onAppearCancelled:T}=t,g=String(e.key),M=No(r,e),A=(_,R)=>{_&&It(_,n,9,R)},y=(_,R)=>{const P=R[1];A(_,R),ce(_)?_.every(Y=>Y.length<=1)&&P():_.length<=1&&P()},I={mode:a,persisted:s,beforeEnter(_){let R=f;if(!r.isMounted)if(i)R=p||f;else return;_[or]&&_[or](!0);const P=M[g];P&&_r(e,P)&&P.el[or]&&P.el[or](),A(R,[_])},enter(_){let R=c,P=h,Y=o;if(!r.isMounted)if(i)R=v||c,P=w||h,Y=T||o;else return;let $=!1;const ne=_[Wn]=W=>{$||($=!0,W?A(Y,[_]):A(P,[_]),I.delayedLeave&&I.delayedLeave(),_[Wn]=void 0)};R?y(R,[_,ne]):ne()},leave(_,R){const P=String(e.key);if(_[Wn]&&_[Wn](!0),r.isUnmounting)return R();A(u,[_]);let Y=!1;const $=_[or]=ne=>{Y||(Y=!0,R(),ne?A(m,[_]):A(d,[_]),_[or]=void 0,M[P]===e&&delete M[P])};M[P]=e,l?y(l,[_,$]):$()},clone(_){return ha(_,t,r,n)}};return I}function Ki(e){if(Ti(e))return e=yr(e),e.children=null,e}function _s(e){if(!Ti(e))return e;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&ve(r.default))return r.default()}}function pa(e,t){e.shapeFlag&6&&e.component?pa(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Mo(e,t=!1,r){let n=[],i=0;for(let a=0;a<e.length;a++){let s=e[a];const f=r==null?s.key:String(r)+String(s.key!=null?s.key:a);s.type===Tt?(s.patchFlag&128&&i++,n=n.concat(Mo(s.children,t,f))):(t||s.type!==Ot)&&n.push(f!=null?yr(s,{key:f}):s)}if(i>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Za(e,t){return ve(e)?Xe({name:e.name},t,{setup:e}):e}const ti=e=>!!e.type.__asyncLoader,Ti=e=>e.type.__isKeepAlive;function Gc(e,t){So(e,"a",t)}function kc(e,t){So(e,"da",t)}function So(e,t,r=dt){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Bi(t,n,r),r){let i=r.parent;for(;i&&i.parent;)Ti(i.parent.vnode)&&Yc(n,t,r,i),i=i.parent}}function Yc(e,t,r,n){const i=Bi(t,e,n,!0);_o(()=>{La(n[t],i)},r)}function Bi(e,t,r=dt,n=!1){if(r){const i=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...s)=>{if(r.isUnmounted)return;Er();const f=Bn(r),c=It(t,r,e,s);return f(),xr(),c});return n?i.unshift(a):i.push(a),a}}const nr=e=>(t,r=dt)=>(!Ii||e==="sp")&&Bi(e,(...n)=>t(...n),r),jc=nr("bm"),Ka=nr("m"),Wc=nr("bu"),Zc=nr("u"),Ja=nr("bum"),_o=nr("um"),Kc=nr("sp"),Jc=nr("rtg"),Xc=nr("rtc");function Qc(e,t=dt){Bi("ec",e,t)}function e0(e,t,r,n){let i;const a=r;if(ce(e)||Qe(e)){i=new Array(e.length);for(let s=0,f=e.length;s<f;s++)i[s]=t(e[s],s,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,a)}else if(Ve(e))if(e[Symbol.iterator])i=Array.from(e,(s,f)=>t(s,f,void 0,a));else{const s=Object.keys(e);i=new Array(s.length);for(let f=0,c=s.length;f<c;f++){const h=s[f];i[f]=t(e[h],h,f,a)}}else i=[];return i}const ma=e=>e?jo(e)?Ri(e)||e.proxy:ma(e.parent):null,vn=Xe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ma(e.parent),$root:e=>ma(e.root),$emit:e=>e.emit,$options:e=>Xa(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Wa(e.update)}),$nextTick:e=>e.n||(e.n=Ec.bind(e.proxy)),$watch:e=>Uc.bind(e)}),Ji=(e,t)=>e!==ze&&!e.__isScriptSetup&&Ce(e,t),t0={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:a,accessCache:s,type:f,appContext:c}=e;let h;if(t[0]!=="$"){const d=s[t];if(d!==void 0)switch(d){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return a[t]}else{if(Ji(n,t))return s[t]=1,n[t];if(i!==ze&&Ce(i,t))return s[t]=2,i[t];if((h=e.propsOptions[0])&&Ce(h,t))return s[t]=3,a[t];if(r!==ze&&Ce(r,t))return s[t]=4,r[t];va&&(s[t]=0)}}const o=vn[t];let u,l;if(o)return t==="$attrs"&&Et(e.attrs,"get",""),o(e);if((u=f.__cssModules)&&(u=u[t]))return u;if(r!==ze&&Ce(r,t))return s[t]=4,r[t];if(l=c.config.globalProperties,Ce(l,t))return l[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:a}=e;return Ji(i,t)?(i[t]=r,!0):n!==ze&&Ce(n,t)?(n[t]=r,!0):Ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:a}},s){let f;return!!r[s]||e!==ze&&Ce(e,s)||Ji(t,s)||(f=a[0])&&Ce(f,s)||Ce(n,s)||Ce(vn,s)||Ce(i.config.globalProperties,s)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Ce(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Ts(e){return ce(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let va=!0;function r0(e){const t=Xa(e),r=e.proxy,n=e.ctx;va=!1,t.beforeCreate&&Bs(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:s,watch:f,provide:c,inject:h,created:o,beforeMount:u,mounted:l,beforeUpdate:d,updated:m,activated:p,deactivated:v,beforeDestroy:w,beforeUnmount:T,destroyed:g,unmounted:M,render:A,renderTracked:y,renderTriggered:I,errorCaptured:_,serverPrefetch:R,expose:P,inheritAttrs:Y,components:$,directives:ne,filters:W}=t;if(h&&n0(h,n,null),s)for(const x in s){const K=s[x];ve(K)&&(n[x]=K.bind(r))}if(i){const x=i.call(r,r);Ve(x)&&(e.data=Ga(x))}if(va=!0,a)for(const x in a){const K=a[x],F=ve(K)?K.bind(r,r):ve(K.get)?K.get.bind(r,r):Bt,oe=!ve(K)&&ve(K.set)?K.set.bind(r):Bt,ge=I0({get:F,set:oe});Object.defineProperty(n,x,{enumerable:!0,configurable:!0,get:()=>ge.value,set:he=>ge.value=he})}if(f)for(const x in f)To(f[x],n,r,x);if(c){const x=ve(c)?c.call(r):c;Reflect.ownKeys(x).forEach(K=>{f0(K,x[K])})}o&&Bs(o,e,"c");function H(x,K){ce(K)?K.forEach(F=>x(F.bind(r))):K&&x(K.bind(r))}if(H(jc,u),H(Ka,l),H(Wc,d),H(Zc,m),H(Gc,p),H(kc,v),H(Qc,_),H(Xc,y),H(Jc,I),H(Ja,T),H(_o,M),H(Kc,R),ce(P))if(P.length){const x=e.exposed||(e.exposed={});P.forEach(K=>{Object.defineProperty(x,K,{get:()=>r[K],set:F=>r[K]=F})})}else e.exposed||(e.exposed={});A&&e.render===Bt&&(e.render=A),Y!=null&&(e.inheritAttrs=Y),$&&(e.components=$),ne&&(e.directives=ne)}function n0(e,t,r=Bt){ce(e)&&(e=ga(e));for(const n in e){const i=e[n];let a;Ve(i)?"default"in i?a=ri(i.from||n,i.default,!0):a=ri(i.from||n):a=ri(i),xt(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):t[n]=a}}function Bs(e,t,r){It(ce(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function To(e,t,r,n){const i=n.includes(".")?Co(r,n):()=>r[n];if(Qe(e)){const a=t[e];ve(a)&&Zi(i,a)}else if(ve(e))Zi(i,e.bind(r));else if(Ve(e))if(ce(e))e.forEach(a=>To(a,t,r,n));else{const a=ve(e.handler)?e.handler.bind(r):t[e.handler];ve(a)&&Zi(i,a,e)}}function Xa(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,f=a.get(t);let c;return f?c=f:!i.length&&!r&&!n?c=t:(c={},i.length&&i.forEach(h=>fi(c,h,s,!0)),fi(c,t,s)),Ve(t)&&a.set(t,c),c}function fi(e,t,r,n=!1){const{mixins:i,extends:a}=t;a&&fi(e,a,r,!0),i&&i.forEach(s=>fi(e,s,r,!0));for(const s in t)if(!(n&&s==="expose")){const f=i0[s]||r&&r[s];e[s]=f?f(e[s],t[s]):t[s]}return e}const i0={data:Os,props:Is,emits:Is,methods:dn,computed:dn,beforeCreate:mt,created:mt,beforeMount:mt,mounted:mt,beforeUpdate:mt,updated:mt,beforeDestroy:mt,beforeUnmount:mt,destroyed:mt,unmounted:mt,activated:mt,deactivated:mt,errorCaptured:mt,serverPrefetch:mt,components:dn,directives:dn,watch:s0,provide:Os,inject:a0};function Os(e,t){return t?e?function(){return Xe(ve(e)?e.call(this,this):e,ve(t)?t.call(this,this):t)}:t:e}function a0(e,t){return dn(ga(e),ga(t))}function ga(e){if(ce(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function mt(e,t){return e?[...new Set([].concat(e,t))]:t}function dn(e,t){return e?Xe(Object.create(null),e,t):t}function Is(e,t){return e?ce(e)&&ce(t)?[...new Set([...e,...t])]:Xe(Object.create(null),Ts(e),Ts(t??{})):t}function s0(e,t){if(!e)return t;if(!t)return e;const r=Xe(Object.create(null),e);for(const n in t)r[n]=mt(e[n],t[n]);return r}function Bo(){return{app:null,config:{isNativeTag:Il,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let u0=0;function o0(e,t){return function(n,i=null){ve(n)||(n=Xe({},n)),i!=null&&!Ve(i)&&(i=null);const a=Bo(),s=new WeakSet;let f=!1;const c=a.app={_uid:u0++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:L0,get config(){return a.config},set config(h){},use(h,...o){return s.has(h)||(h&&ve(h.install)?(s.add(h),h.install(c,...o)):ve(h)&&(s.add(h),h(c,...o))),c},mixin(h){return a.mixins.includes(h)||a.mixins.push(h),c},component(h,o){return o?(a.components[h]=o,c):a.components[h]},directive(h,o){return o?(a.directives[h]=o,c):a.directives[h]},mount(h,o,u){if(!f){const l=vt(n,i);return l.appContext=a,u===!0?u="svg":u===!1&&(u=void 0),o&&t?t(l,h):e(l,h,u),f=!0,c._container=h,h.__vue_app__=c,Ri(l.component)||l.component.proxy}},unmount(){f&&(e(null,c._container),delete c._container.__vue_app__)},provide(h,o){return a.provides[h]=o,c},runWithContext(h){const o=gn;gn=c;try{return h()}finally{gn=o}}};return c}}let gn=null;function f0(e,t){if(dt){let r=dt.provides;const n=dt.parent&&dt.parent.provides;n===r&&(r=dt.provides=Object.create(n)),r[e]=t}}function ri(e,t,r=!1){const n=dt||bt;if(n||gn){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:gn._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&ve(t)?t.call(n&&n.proxy):t}}const Oo={},Io=()=>Object.create(Oo),Ro=e=>Object.getPrototypeOf(e)===Oo;function l0(e,t,r,n=!1){const i={},a=Io();e.propsDefaults=Object.create(null),Lo(e,t,i,a);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);r?e.props=n?i:mc(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function c0(e,t,r,n){const{props:i,attrs:a,vnode:{patchFlag:s}}=e,f=Se(i),[c]=e.propsOptions;let h=!1;if((n||s>0)&&!(s&16)){if(s&8){const o=e.vnode.dynamicProps;for(let u=0;u<o.length;u++){let l=o[u];if(Si(e.emitsOptions,l))continue;const d=t[l];if(c)if(Ce(a,l))d!==a[l]&&(a[l]=d,h=!0);else{const m=Xr(l);i[m]=Da(c,f,m,d,e,!1)}else d!==a[l]&&(a[l]=d,h=!0)}}}else{Lo(e,t,i,a)&&(h=!0);let o;for(const u in f)(!t||!Ce(t,u)&&((o=tn(u))===u||!Ce(t,o)))&&(c?r&&(r[u]!==void 0||r[o]!==void 0)&&(i[u]=Da(c,f,u,void 0,e,!0)):delete i[u]);if(a!==f)for(const u in a)(!t||!Ce(t,u))&&(delete a[u],h=!0)}h&&rr(e.attrs,"set","")}function Lo(e,t,r,n){const[i,a]=e.propsOptions;let s=!1,f;if(t)for(let c in t){if(pn(c))continue;const h=t[c];let o;i&&Ce(i,o=Xr(c))?!a||!a.includes(o)?r[o]=h:(f||(f={}))[o]=h:Si(e.emitsOptions,c)||(!(c in n)||h!==n[c])&&(n[c]=h,s=!0)}if(a){const c=Se(r),h=f||ze;for(let o=0;o<a.length;o++){const u=a[o];r[u]=Da(i,c,u,h[u],e,!Ce(h,u))}}return s}function Da(e,t,r,n,i,a){const s=e[r];if(s!=null){const f=Ce(s,"default");if(f&&n===void 0){const c=s.default;if(s.type!==Function&&!s.skipFactory&&ve(c)){const{propsDefaults:h}=i;if(r in h)n=h[r];else{const o=Bn(i);n=h[r]=c.call(null,t),o()}}else n=c}s[0]&&(a&&!f?n=!1:s[1]&&(n===""||n===tn(r))&&(n=!0))}return n}function Po(e,t,r=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const a=e.props,s={},f=[];let c=!1;if(!ve(e)){const o=u=>{c=!0;const[l,d]=Po(u,t,!0);Xe(s,l),d&&f.push(...d)};!r&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}if(!a&&!c)return Ve(e)&&n.set(e,Yr),Yr;if(ce(a))for(let o=0;o<a.length;o++){const u=Xr(a[o]);Rs(u)&&(s[u]=ze)}else if(a)for(const o in a){const u=Xr(o);if(Rs(u)){const l=a[o],d=s[u]=ce(l)||ve(l)?{type:l}:Xe({},l);if(d){const m=zs(Boolean,d.type),p=zs(String,d.type);d[0]=m>-1,d[1]=p<0||m<p,(m>-1||Ce(d,"default"))&&f.push(u)}}}const h=[s,f];return Ve(e)&&n.set(e,h),h}function Rs(e){return e[0]!=="$"&&!pn(e)}function Ls(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Ps(e,t){return Ls(e)===Ls(t)}function zs(e,t){return ce(t)?t.findIndex(r=>Ps(r,e)):ve(t)&&Ps(t,e)?0:-1}const zo=e=>e[0]==="_"||e==="$stable",Qa=e=>ce(e)?e.map(kt):[kt(e)],d0=(e,t,r)=>{if(t._n)return t;const n=xo((...i)=>Qa(t(...i)),r);return n._c=!1,n},Uo=(e,t,r)=>{const n=e._ctx;for(const i in e){if(zo(i))continue;const a=e[i];if(ve(a))t[i]=d0(i,a,n);else if(a!=null){const s=Qa(a);t[i]=()=>s}}},Vo=(e,t)=>{const r=Qa(t);e.slots.default=()=>r},h0=(e,t)=>{const r=e.slots=Io();if(e.vnode.shapeFlag&32){const n=t._;n?(Xe(r,t),Ku(r,"_",n,!0)):Uo(t,r)}else t&&Vo(e,t)},p0=(e,t,r)=>{const{vnode:n,slots:i}=e;let a=!0,s=ze;if(n.shapeFlag&32){const f=t._;f?r&&f===1?a=!1:(Xe(i,t),!r&&f===1&&delete i._):(a=!t.$stable,Uo(t,i)),s=t}else t&&(Vo(e,t),s={default:1});if(a)for(const f in i)!zo(f)&&s[f]==null&&delete i[f]};function ya(e,t,r,n,i=!1){if(ce(e)){e.forEach((l,d)=>ya(l,t&&(ce(t)?t[d]:t),r,n,i));return}if(ti(n)&&!i)return;const a=n.shapeFlag&4?Ri(n.component)||n.component.proxy:n.el,s=i?null:a,{i:f,r:c}=e,h=t&&t.r,o=f.refs===ze?f.refs={}:f.refs,u=f.setupState;if(h!=null&&h!==c&&(Qe(h)?(o[h]=null,Ce(u,h)&&(u[h]=null)):xt(h)&&(h.value=null)),ve(c))gr(c,f,12,[s,o]);else{const l=Qe(c),d=xt(c);if(l||d){const m=()=>{if(e.f){const p=l?Ce(u,c)?u[c]:o[c]:c.value;i?ce(p)&&La(p,a):ce(p)?p.includes(a)||p.push(a):l?(o[c]=[a],Ce(u,c)&&(u[c]=o[c])):(c.value=[a],e.k&&(o[e.k]=c.value))}else l?(o[c]=s,Ce(u,c)&&(u[c]=s)):d&&(c.value=s,e.k&&(o[e.k]=s))};s?(m.id=-1,yt(m,r)):m()}}}const yt=Lc;function m0(e){return v0(e)}function v0(e,t){const r=Ju();r.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:s,createText:f,createComment:c,setText:h,setElementText:o,parentNode:u,nextSibling:l,setScopeId:d=Bt,insertStaticContent:m}=e,p=(C,B,D,E=null,S=null,L=null,V=void 0,U=null,j=!!B.dynamicChildren)=>{if(C===B)return;C&&!_r(C,B)&&(E=me(C),he(C,S,L,!0),C=null),B.patchFlag===-2&&(j=!1,B.dynamicChildren=null);const{type:G,ref:b,shapeFlag:N}=B;switch(G){case Oi:v(C,B,D,E);break;case Ot:w(C,B,D,E);break;case Qi:C==null&&T(B,D,E,V);break;case Tt:$(C,B,D,E,S,L,V,U,j);break;default:N&1?A(C,B,D,E,S,L,V,U,j):N&6?ne(C,B,D,E,S,L,V,U,j):(N&64||N&128)&&G.process(C,B,D,E,S,L,V,U,j,ye)}b!=null&&S&&ya(b,C&&C.ref,L,B||C,!B)},v=(C,B,D,E)=>{if(C==null)n(B.el=f(B.children),D,E);else{const S=B.el=C.el;B.children!==C.children&&h(S,B.children)}},w=(C,B,D,E)=>{C==null?n(B.el=c(B.children||""),D,E):B.el=C.el},T=(C,B,D,E)=>{[C.el,C.anchor]=m(C.children,B,D,E,C.el,C.anchor)},g=({el:C,anchor:B},D,E)=>{let S;for(;C&&C!==B;)S=l(C),n(C,D,E),C=S;n(B,D,E)},M=({el:C,anchor:B})=>{let D;for(;C&&C!==B;)D=l(C),i(C),C=D;i(B)},A=(C,B,D,E,S,L,V,U,j)=>{B.type==="svg"?V="svg":B.type==="math"&&(V="mathml"),C==null?y(B,D,E,S,L,V,U,j):R(C,B,S,L,V,U,j)},y=(C,B,D,E,S,L,V,U)=>{let j,G;const{props:b,shapeFlag:N,transition:O,dirs:z}=C;if(j=C.el=s(C.type,L,b&&b.is,b),N&8?o(j,C.children):N&16&&_(C.children,j,null,E,S,Xi(C,L),V,U),z&&Cr(C,null,E,"created"),I(j,C,C.scopeId,V,E),b){for(const k in b)k!=="value"&&!pn(k)&&a(j,k,null,b[k],L,C.children,E,S,ue);"value"in b&&a(j,"value",null,b.value,L),(G=b.onVnodeBeforeMount)&&Gt(G,E,C)}z&&Cr(C,null,E,"beforeMount");const q=g0(S,O);q&&O.beforeEnter(j),n(j,B,D),((G=b&&b.onVnodeMounted)||q||z)&&yt(()=>{G&&Gt(G,E,C),q&&O.enter(j),z&&Cr(C,null,E,"mounted")},S)},I=(C,B,D,E,S)=>{if(D&&d(C,D),E)for(let L=0;L<E.length;L++)d(C,E[L]);if(S){let L=S.subTree;if(B===L){const V=S.vnode;I(C,V,V.scopeId,V.slotScopeIds,S.parent)}}},_=(C,B,D,E,S,L,V,U,j=0)=>{for(let G=j;G<C.length;G++){const b=C[G]=U?fr(C[G]):kt(C[G]);p(null,b,B,D,E,S,L,V,U)}},R=(C,B,D,E,S,L,V)=>{const U=B.el=C.el;let{patchFlag:j,dynamicChildren:G,dirs:b}=B;j|=C.patchFlag&16;const N=C.props||ze,O=B.props||ze;let z;if(D&&Fr(D,!1),(z=O.onVnodeBeforeUpdate)&&Gt(z,D,B,C),b&&Cr(B,C,D,"beforeUpdate"),D&&Fr(D,!0),G?P(C.dynamicChildren,G,U,D,E,Xi(B,S),L):V||K(C,B,U,null,D,E,Xi(B,S),L,!1),j>0){if(j&16)Y(U,B,N,O,D,E,S);else if(j&2&&N.class!==O.class&&a(U,"class",null,O.class,S),j&4&&a(U,"style",N.style,O.style,S),j&8){const q=B.dynamicProps;for(let k=0;k<q.length;k++){const J=q[k],Z=N[J],re=O[J];(re!==Z||J==="value")&&a(U,J,Z,re,S,C.children,D,E,ue)}}j&1&&C.children!==B.children&&o(U,B.children)}else!V&&G==null&&Y(U,B,N,O,D,E,S);((z=O.onVnodeUpdated)||b)&&yt(()=>{z&&Gt(z,D,B,C),b&&Cr(B,C,D,"updated")},E)},P=(C,B,D,E,S,L,V)=>{for(let U=0;U<B.length;U++){const j=C[U],G=B[U],b=j.el&&(j.type===Tt||!_r(j,G)||j.shapeFlag&70)?u(j.el):D;p(j,G,b,null,E,S,L,V,!0)}},Y=(C,B,D,E,S,L,V)=>{if(D!==E){if(D!==ze)for(const U in D)!pn(U)&&!(U in E)&&a(C,U,D[U],null,V,B.children,S,L,ue);for(const U in E){if(pn(U))continue;const j=E[U],G=D[U];j!==G&&U!=="value"&&a(C,U,G,j,V,B.children,S,L,ue)}"value"in E&&a(C,"value",D.value,E.value,V)}},$=(C,B,D,E,S,L,V,U,j)=>{const G=B.el=C?C.el:f(""),b=B.anchor=C?C.anchor:f("");let{patchFlag:N,dynamicChildren:O,slotScopeIds:z}=B;z&&(U=U?U.concat(z):z),C==null?(n(G,D,E),n(b,D,E),_(B.children||[],D,b,S,L,V,U,j)):N>0&&N&64&&O&&C.dynamicChildren?(P(C.dynamicChildren,O,D,S,L,V,U),(B.key!=null||S&&B===S.subTree)&&$o(C,B,!0)):K(C,B,D,b,S,L,V,U,j)},ne=(C,B,D,E,S,L,V,U,j)=>{B.slotScopeIds=U,C==null?B.shapeFlag&512?S.ctx.activate(B,D,E,V,j):W(B,D,E,S,L,V,j):te(C,B,j)},W=(C,B,D,E,S,L,V)=>{const U=C.component=N0(C,E,S);if(Ti(C)&&(U.ctx.renderer=ye),S0(U),U.asyncDep){if(S&&S.registerDep(U,H),!C.el){const j=U.subTree=vt(Ot);w(null,j,B,D)}}else H(U,C,B,D,S,L,V)},te=(C,B,D)=>{const E=B.component=C.component;if(Bc(C,B,D))if(E.asyncDep&&!E.asyncResolved){x(E,B,D);return}else E.next=B,Ac(E.update),E.effect.dirty=!0,E.update();else B.el=C.el,E.vnode=B},H=(C,B,D,E,S,L,V)=>{const U=()=>{if(C.isMounted){let{next:b,bu:N,u:O,parent:z,vnode:q}=C;{const ee=Ho(C);if(ee){b&&(b.el=q.el,x(C,b,V)),ee.asyncDep.then(()=>{C.isUnmounted||U()});return}}let k=b,J;Fr(C,!1),b?(b.el=q.el,x(C,b,V)):b=q,N&&Yi(N),(J=b.props&&b.props.onVnodeBeforeUpdate)&&Gt(J,z,b,q),Fr(C,!0);const Z=Wi(C),re=C.subTree;C.subTree=Z,p(re,Z,u(re.el),me(re),C,S,L),b.el=Z.el,k===null&&Oc(C,Z.el),O&&yt(O,S),(J=b.props&&b.props.onVnodeUpdated)&&yt(()=>Gt(J,z,b,q),S)}else{let b;const{el:N,props:O}=B,{bm:z,m:q,parent:k}=C,J=ti(B);if(Fr(C,!1),z&&Yi(z),!J&&(b=O&&O.onVnodeBeforeMount)&&Gt(b,k,B),Fr(C,!0),N&&$e){const Z=()=>{C.subTree=Wi(C),$e(N,C.subTree,C,S,null)};J?B.type.__asyncLoader().then(()=>!C.isUnmounted&&Z()):Z()}else{const Z=C.subTree=Wi(C);p(null,Z,D,E,C,S,L),B.el=Z.el}if(q&&yt(q,S),!J&&(b=O&&O.onVnodeMounted)){const Z=B;yt(()=>Gt(b,k,Z),S)}(B.shapeFlag&256||k&&ti(k.vnode)&&k.vnode.shapeFlag&256)&&C.a&&yt(C.a,S),C.isMounted=!0,B=D=E=null}},j=C.effect=new Ua(U,Bt,()=>Wa(G),C.scope),G=C.update=()=>{j.dirty&&j.run()};G.id=C.uid,Fr(C,!0),G()},x=(C,B,D)=>{B.component=C;const E=C.vnode.props;C.vnode=B,C.next=null,c0(C,B.props,E,D),p0(C,B.children,D),Er(),Ms(C),xr()},K=(C,B,D,E,S,L,V,U,j=!1)=>{const G=C&&C.children,b=C?C.shapeFlag:0,N=B.children,{patchFlag:O,shapeFlag:z}=B;if(O>0){if(O&128){oe(G,N,D,E,S,L,V,U,j);return}else if(O&256){F(G,N,D,E,S,L,V,U,j);return}}z&8?(b&16&&ue(G,S,L),N!==G&&o(D,N)):b&16?z&16?oe(G,N,D,E,S,L,V,U,j):ue(G,S,L,!0):(b&8&&o(D,""),z&16&&_(N,D,E,S,L,V,U,j))},F=(C,B,D,E,S,L,V,U,j)=>{C=C||Yr,B=B||Yr;const G=C.length,b=B.length,N=Math.min(G,b);let O;for(O=0;O<N;O++){const z=B[O]=j?fr(B[O]):kt(B[O]);p(C[O],z,D,null,S,L,V,U,j)}G>b?ue(C,S,L,!0,!1,N):_(B,D,E,S,L,V,U,j,N)},oe=(C,B,D,E,S,L,V,U,j)=>{let G=0;const b=B.length;let N=C.length-1,O=b-1;for(;G<=N&&G<=O;){const z=C[G],q=B[G]=j?fr(B[G]):kt(B[G]);if(_r(z,q))p(z,q,D,null,S,L,V,U,j);else break;G++}for(;G<=N&&G<=O;){const z=C[N],q=B[O]=j?fr(B[O]):kt(B[O]);if(_r(z,q))p(z,q,D,null,S,L,V,U,j);else break;N--,O--}if(G>N){if(G<=O){const z=O+1,q=z<b?B[z].el:E;for(;G<=O;)p(null,B[G]=j?fr(B[G]):kt(B[G]),D,q,S,L,V,U,j),G++}}else if(G>O)for(;G<=N;)he(C[G],S,L,!0),G++;else{const z=G,q=G,k=new Map;for(G=q;G<=O;G++){const Fe=B[G]=j?fr(B[G]):kt(B[G]);Fe.key!=null&&k.set(Fe.key,G)}let J,Z=0;const re=O-q+1;let ee=!1,we=0;const Ee=new Array(re);for(G=0;G<re;G++)Ee[G]=0;for(G=z;G<=N;G++){const Fe=C[G];if(Z>=re){he(Fe,S,L,!0);continue}let _e;if(Fe.key!=null)_e=k.get(Fe.key);else for(J=q;J<=O;J++)if(Ee[J-q]===0&&_r(Fe,B[J])){_e=J;break}_e===void 0?he(Fe,S,L,!0):(Ee[_e-q]=G+1,_e>=we?we=_e:ee=!0,p(Fe,B[_e],D,null,S,L,V,U,j),Z++)}const Oe=ee?D0(Ee):Yr;for(J=Oe.length-1,G=re-1;G>=0;G--){const Fe=q+G,_e=B[Fe],gt=Fe+1<b?B[Fe+1].el:E;Ee[G]===0?p(null,_e,D,gt,S,L,V,U,j):ee&&(J<0||G!==Oe[J]?ge(_e,D,gt,2):J--)}}},ge=(C,B,D,E,S=null)=>{const{el:L,type:V,transition:U,children:j,shapeFlag:G}=C;if(G&6){ge(C.component.subTree,B,D,E);return}if(G&128){C.suspense.move(B,D,E);return}if(G&64){V.move(C,B,D,ye);return}if(V===Tt){n(L,B,D);for(let N=0;N<j.length;N++)ge(j[N],B,D,E);n(C.anchor,B,D);return}if(V===Qi){g(C,B,D);return}if(E!==2&&G&1&&U)if(E===0)U.beforeEnter(L),n(L,B,D),yt(()=>U.enter(L),S);else{const{leave:N,delayLeave:O,afterLeave:z}=U,q=()=>n(L,B,D),k=()=>{N(L,()=>{q(),z&&z()})};O?O(L,q,k):k()}else n(L,B,D)},he=(C,B,D,E=!1,S=!1)=>{const{type:L,props:V,ref:U,children:j,dynamicChildren:G,shapeFlag:b,patchFlag:N,dirs:O}=C;if(U!=null&&ya(U,null,D,C,!0),b&256){B.ctx.deactivate(C);return}const z=b&1&&O,q=!ti(C);let k;if(q&&(k=V&&V.onVnodeBeforeUnmount)&&Gt(k,B,C),b&6)Le(C.component,D,E);else{if(b&128){C.suspense.unmount(D,E);return}z&&Cr(C,null,B,"beforeUnmount"),b&64?C.type.remove(C,B,D,S,ye,E):G&&(L!==Tt||N>0&&N&64)?ue(G,B,D,!1,!0):(L===Tt&&N&384||!S&&b&16)&&ue(j,B,D),E&&Q(C)}(q&&(k=V&&V.onVnodeUnmounted)||z)&&yt(()=>{k&&Gt(k,B,C),z&&Cr(C,null,B,"unmounted")},D)},Q=C=>{const{type:B,el:D,anchor:E,transition:S}=C;if(B===Tt){Re(D,E);return}if(B===Qi){M(C);return}const L=()=>{i(D),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(C.shapeFlag&1&&S&&!S.persisted){const{leave:V,delayLeave:U}=S,j=()=>V(D,L);U?U(C.el,L,j):j()}else L()},Re=(C,B)=>{let D;for(;C!==B;)D=l(C),i(C),C=D;i(B)},Le=(C,B,D)=>{const{bum:E,scope:S,update:L,subTree:V,um:U}=C;E&&Yi(E),S.stop(),L&&(L.active=!1,he(V,C,B,D)),U&&yt(U,B),yt(()=>{C.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},ue=(C,B,D,E=!1,S=!1,L=0)=>{for(let V=L;V<C.length;V++)he(C[V],B,D,E,S)},me=C=>C.shapeFlag&6?me(C.component.subTree):C.shapeFlag&128?C.suspense.next():l(C.anchor||C.el);let je=!1;const Ae=(C,B,D)=>{C==null?B._vnode&&he(B._vnode,null,null,!0):p(B._vnode||null,C,B,null,null,null,D),je||(je=!0,Ms(),bo(),je=!1),B._vnode=C},ye={p,um:he,m:ge,r:Q,mt:W,mc:_,pc:K,pbc:P,n:me,o:e};let et,$e;return{render:Ae,hydrate:et,createApp:o0(Ae,et)}}function Xi({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Fr({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function g0(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function $o(e,t,r=!1){const n=e.children,i=t.children;if(ce(n)&&ce(i))for(let a=0;a<n.length;a++){const s=n[a];let f=i[a];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=i[a]=fr(i[a]),f.el=s.el),r||$o(s,f)),f.type===Oi&&(f.el=s.el)}}function D0(e){const t=e.slice(),r=[0];let n,i,a,s,f;const c=e.length;for(n=0;n<c;n++){const h=e[n];if(h!==0){if(i=r[r.length-1],e[i]<h){t[n]=i,r.push(n);continue}for(a=0,s=r.length-1;a<s;)f=a+s>>1,e[r[f]]<h?a=f+1:s=f;h<e[r[a]]&&(a>0&&(t[n]=r[a-1]),r[a]=n)}}for(a=r.length,s=r[a-1];a-- >0;)r[a]=s,s=t[s];return r}function Ho(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ho(t)}const y0=e=>e.__isTeleport,Tt=Symbol.for("v-fgt"),Oi=Symbol.for("v-txt"),Ot=Symbol.for("v-cmt"),Qi=Symbol.for("v-stc"),Dn=[];let Ut=null;function Ir(e=!1){Dn.push(Ut=e?null:[])}function b0(){Dn.pop(),Ut=Dn[Dn.length-1]||null}let Fn=1;function Us(e){Fn+=e}function qo(e){return e.dynamicChildren=Fn>0?Ut||Yr:null,b0(),Fn>0&&Ut&&Ut.push(e),e}function yn(e,t,r,n,i,a){return qo(ft(e,t,r,n,i,a,!0))}function Go(e,t,r,n,i){return qo(vt(e,t,r,n,i,!0))}function ba(e){return e?e.__v_isVNode===!0:!1}function _r(e,t){return e.type===t.type&&e.key===t.key}const ko=({key:e})=>e??null,ni=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Qe(e)||xt(e)||ve(e)?{i:bt,r:e,k:t,f:!!r}:e:null);function ft(e,t=null,r=null,n=0,i=null,a=e===Tt?0:1,s=!1,f=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ko(t),ref:t&&ni(t),scopeId:_i,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:bt};return f?(es(c,r),a&128&&e.normalize(c)):r&&(c.shapeFlag|=Qe(r)?8:16),Fn>0&&!s&&Ut&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&Ut.push(c),c}const vt=w0;function w0(e,t=null,r=null,n=0,i=null,a=!1){if((!e||e===Ic)&&(e=Ot),ba(e)){const f=yr(e,t,!0);return r&&es(f,r),Fn>0&&!a&&Ut&&(f.shapeFlag&6?Ut[Ut.indexOf(e)]=f:Ut.push(f)),f.patchFlag|=-2,f}if(O0(e)&&(e=e.__vccOpts),t){t=E0(t);let{class:f,style:c}=t;f&&!Qe(f)&&(t.class=za(f)),Ve(c)&&(ho(c)&&!ce(c)&&(c=Xe({},c)),t.style=Tn(c))}const s=Qe(e)?1:Rc(e)?128:y0(e)?64:Ve(e)?4:ve(e)?2:0;return ft(e,t,r,n,i,s,a,!0)}function E0(e){return e?ho(e)||Ro(e)?Xe({},e):e:null}function yr(e,t,r=!1,n=!1){const{props:i,ref:a,patchFlag:s,children:f,transition:c}=e,h=t?A0(i||{},t):i,o={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&ko(h),ref:t&&t.ref?r&&a?ce(a)?a.concat(ni(t)):[a,ni(t)]:ni(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:f,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Tt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&yr(e.ssContent),ssFallback:e.ssFallback&&yr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&n&&(o.transition=c.clone(o)),o}function x0(e=" ",t=0){return vt(Oi,null,e,t)}function Yo(e="",t=!1){return t?(Ir(),Go(Ot,null,e)):vt(Ot,null,e)}function kt(e){return e==null||typeof e=="boolean"?vt(Ot):ce(e)?vt(Tt,null,e.slice()):typeof e=="object"?fr(e):vt(Oi,null,String(e))}function fr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:yr(e)}function es(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(ce(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),es(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!Ro(t)?t._ctx=bt:i===3&&bt&&(bt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ve(t)?(t={default:t,_ctx:bt},r=32):(t=String(t),n&64?(r=16,t=[x0(t)]):r=8);e.children=t,e.shapeFlag|=r}function A0(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=za([t.class,n.class]));else if(i==="style")t.style=Tn([t.style,n.style]);else if(Ai(i)){const a=t[i],s=n[i];s&&a!==s&&!(ce(a)&&a.includes(s))&&(t[i]=a?[].concat(a,s):s)}else i!==""&&(t[i]=n[i])}return t}function Gt(e,t,r,n=null){It(e,t,7,[r,n])}const C0=Bo();let F0=0;function N0(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||C0,a={uid:F0++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new jl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Po(n,i),emitsOptions:Eo(n,i),emit:null,emitted:null,propsDefaults:ze,inheritAttrs:n.inheritAttrs,ctx:ze,data:ze,props:ze,attrs:ze,slots:ze,refs:ze,setupState:ze,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Nc.bind(null,a),e.ce&&e.ce(a),a}let dt=null;const M0=()=>dt||bt;let li,wa;{const e=Ju(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),a=>{i.length>1?i.forEach(s=>s(a)):i[0](a)}};li=t("__VUE_INSTANCE_SETTERS__",r=>dt=r),wa=t("__VUE_SSR_SETTERS__",r=>Ii=r)}const Bn=e=>{const t=dt;return li(e),e.scope.on(),()=>{e.scope.off(),li(t)}},Vs=()=>{dt&&dt.scope.off(),li(null)};function jo(e){return e.vnode.shapeFlag&4}let Ii=!1;function S0(e,t=!1){t&&wa(t);const{props:r,children:n}=e.vnode,i=jo(e);l0(e,r,i,t),h0(e,n);const a=i?_0(e,t):void 0;return t&&wa(!1),a}function _0(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,t0);const{setup:n}=r;if(n){const i=e.setupContext=n.length>1?B0(e):null,a=Bn(e);Er();const s=gr(n,e,0,[e.props,i]);if(xr(),a(),Yu(s)){if(s.then(Vs,Vs),t)return s.then(f=>{$s(e,f,t)}).catch(f=>{Mi(f,e,0)});e.asyncDep=s}else $s(e,s,t)}else Wo(e,t)}function $s(e,t,r){ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ve(t)&&(e.setupState=go(t)),Wo(e,r)}let Hs;function Wo(e,t,r){const n=e.type;if(!e.render){if(!t&&Hs&&!n.render){const i=n.template||Xa(e).template;if(i){const{isCustomElement:a,compilerOptions:s}=e.appContext.config,{delimiters:f,compilerOptions:c}=n,h=Xe(Xe({isCustomElement:a,delimiters:f},s),c);n.render=Hs(i,h)}}e.render=n.render||Bt}{const i=Bn(e);Er();try{r0(e)}finally{xr(),i()}}}const T0={get(e,t){return Et(e,"get",""),e[t]}};function B0(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,T0),slots:e.slots,emit:e.emit,expose:t}}function Ri(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(go(vc(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in vn)return vn[r](e)},has(t,r){return r in t||r in vn}}))}function O0(e){return ve(e)&&"__vccOpts"in e}const I0=(e,t)=>gc(e,t,Ii);function R0(e,t,r){const n=arguments.length;return n===2?Ve(t)&&!ce(t)?ba(t)?vt(e,null,[t]):vt(e,t):vt(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&ba(r)&&(r=[r]),vt(e,t,r))}const L0="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const P0="http://www.w3.org/2000/svg",z0="http://www.w3.org/1998/Math/MathML",lr=typeof document<"u"?document:null,qs=lr&&lr.createElement("template"),U0={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?lr.createElementNS(P0,e):t==="mathml"?lr.createElementNS(z0,e):lr.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>lr.createTextNode(e),createComment:e=>lr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>lr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,a){const s=r?r.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===a||!(i=i.nextSibling)););else{qs.innerHTML=n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e;const f=qs.content;if(n==="svg"||n==="mathml"){const c=f.firstChild;for(;c.firstChild;)f.appendChild(c.firstChild);f.removeChild(c)}t.insertBefore(f,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},ar="transition",fn="animation",Nn=Symbol("_vtc"),ts=(e,{slots:t})=>R0(qc,V0(e),t);ts.displayName="Transition";const Zo={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};ts.props=Xe({},Fo,Zo);const Nr=(e,t=[])=>{ce(e)?e.forEach(r=>r(...t)):e&&e(...t)},Gs=e=>e?ce(e)?e.some(t=>t.length>1):e.length>1:!1;function V0(e){const t={};for(const $ in e)$ in Zo||(t[$]=e[$]);if(e.css===!1)return t;const{name:r="v",type:n,duration:i,enterFromClass:a=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:f=`${r}-enter-to`,appearFromClass:c=a,appearActiveClass:h=s,appearToClass:o=f,leaveFromClass:u=`${r}-leave-from`,leaveActiveClass:l=`${r}-leave-active`,leaveToClass:d=`${r}-leave-to`}=e,m=$0(i),p=m&&m[0],v=m&&m[1],{onBeforeEnter:w,onEnter:T,onEnterCancelled:g,onLeave:M,onLeaveCancelled:A,onBeforeAppear:y=w,onAppear:I=T,onAppearCancelled:_=g}=t,R=($,ne,W)=>{Mr($,ne?o:f),Mr($,ne?h:s),W&&W()},P=($,ne)=>{$._isLeaving=!1,Mr($,u),Mr($,d),Mr($,l),ne&&ne()},Y=$=>(ne,W)=>{const te=$?I:T,H=()=>R(ne,$,W);Nr(te,[ne,H]),ks(()=>{Mr(ne,$?c:a),sr(ne,$?o:f),Gs(te)||Ys(ne,n,p,H)})};return Xe(t,{onBeforeEnter($){Nr(w,[$]),sr($,a),sr($,s)},onBeforeAppear($){Nr(y,[$]),sr($,c),sr($,h)},onEnter:Y(!1),onAppear:Y(!0),onLeave($,ne){$._isLeaving=!0;const W=()=>P($,ne);sr($,u),sr($,l),G0(),ks(()=>{$._isLeaving&&(Mr($,u),sr($,d),Gs(M)||Ys($,n,v,W))}),Nr(M,[$,W])},onEnterCancelled($){R($,!1),Nr(g,[$])},onAppearCancelled($){R($,!0),Nr(_,[$])},onLeaveCancelled($){P($),Nr(A,[$])}})}function $0(e){if(e==null)return null;if(Ve(e))return[ea(e.enter),ea(e.leave)];{const t=ea(e);return[t,t]}}function ea(e){return Vl(e)}function sr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Nn]||(e[Nn]=new Set)).add(t)}function Mr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[Nn];r&&(r.delete(t),r.size||(e[Nn]=void 0))}function ks(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let H0=0;function Ys(e,t,r,n){const i=e._endId=++H0,a=()=>{i===e._endId&&n()};if(r)return setTimeout(a,r);const{type:s,timeout:f,propCount:c}=q0(e,t);if(!s)return n();const h=s+"end";let o=0;const u=()=>{e.removeEventListener(h,l),a()},l=d=>{d.target===e&&++o>=c&&u()};setTimeout(()=>{o<c&&u()},f+1),e.addEventListener(h,l)}function q0(e,t){const r=window.getComputedStyle(e),n=m=>(r[m]||"").split(", "),i=n(`${ar}Delay`),a=n(`${ar}Duration`),s=js(i,a),f=n(`${fn}Delay`),c=n(`${fn}Duration`),h=js(f,c);let o=null,u=0,l=0;t===ar?s>0&&(o=ar,u=s,l=a.length):t===fn?h>0&&(o=fn,u=h,l=c.length):(u=Math.max(s,h),o=u>0?s>h?ar:fn:null,l=o?o===ar?a.length:c.length:0);const d=o===ar&&/\b(transform|all)(,|$)/.test(n(`${ar}Property`).toString());return{type:o,timeout:u,propCount:l,hasTransform:d}}function js(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>Ws(r)+Ws(e[n])))}function Ws(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function G0(){return document.body.offsetHeight}function k0(e,t,r){const n=e[Nn];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const ci=Symbol("_vod"),Ko=Symbol("_vsh"),Y0={beforeMount(e,{value:t},{transition:r}){e[ci]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):ln(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),ln(e,!0),n.enter(e)):n.leave(e,()=>{ln(e,!1)}):ln(e,t))},beforeUnmount(e,{value:t}){ln(e,t)}};function ln(e,t){e.style.display=t?e[ci]:"none",e[Ko]=!t}const j0=Symbol(""),W0=/(^|;)\s*display\s*:/;function Z0(e,t,r){const n=e.style,i=Qe(r);let a=!1;if(r&&!i){if(t)if(Qe(t))for(const s of t.split(";")){const f=s.slice(0,s.indexOf(":")).trim();r[f]==null&&ii(n,f,"")}else for(const s in t)r[s]==null&&ii(n,s,"");for(const s in r)s==="display"&&(a=!0),ii(n,s,r[s])}else if(i){if(t!==r){const s=n[j0];s&&(r+=";"+s),n.cssText=r,a=W0.test(r)}}else t&&e.removeAttribute("style");ci in e&&(e[ci]=a?n.display:"",e[Ko]&&(n.display="none"))}const Zs=/\s*!important$/;function ii(e,t,r){if(ce(r))r.forEach(n=>ii(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=K0(e,t);Zs.test(r)?e.setProperty(tn(n),r.replace(Zs,""),"important"):e[n]=r}}const Ks=["Webkit","Moz","ms"],ta={};function K0(e,t){const r=ta[t];if(r)return r;let n=Xr(t);if(n!=="filter"&&n in e)return ta[t]=n;n=Zu(n);for(let i=0;i<Ks.length;i++){const a=Ks[i]+n;if(a in e)return ta[t]=a}return t}const Js="http://www.w3.org/1999/xlink";function J0(e,t,r,n,i){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(Js,t.slice(6,t.length)):e.setAttributeNS(Js,t,r);else{const a=Yl(t);r==null||a&&!Xu(r)?e.removeAttribute(t):e.setAttribute(t,a?"":r)}}function X0(e,t,r,n,i,a,s){if(t==="innerHTML"||t==="textContent"){n&&s(n,i,a),e[t]=r??"";return}const f=e.tagName;if(t==="value"&&f!=="PROGRESS"&&!f.includes("-")){const h=f==="OPTION"?e.getAttribute("value")||"":e.value,o=r??"";(h!==o||!("_value"in e))&&(e.value=o),r==null&&e.removeAttribute(t),e._value=r;return}let c=!1;if(r===""||r==null){const h=typeof e[t];h==="boolean"?r=Xu(r):r==null&&h==="string"?(r="",c=!0):h==="number"&&(r=0,c=!0)}try{e[t]=r}catch{}c&&e.removeAttribute(t)}function Q0(e,t,r,n){e.addEventListener(t,r,n)}function ed(e,t,r,n){e.removeEventListener(t,r,n)}const Xs=Symbol("_vei");function td(e,t,r,n,i=null){const a=e[Xs]||(e[Xs]={}),s=a[t];if(n&&s)s.value=n;else{const[f,c]=rd(t);if(n){const h=a[t]=ad(n,i);Q0(e,f,h,c)}else s&&(ed(e,f,s,c),a[t]=void 0)}}const Qs=/(?:Once|Passive|Capture)$/;function rd(e){let t;if(Qs.test(e)){t={};let n;for(;n=e.match(Qs);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):tn(e.slice(2)),t]}let ra=0;const nd=Promise.resolve(),id=()=>ra||(nd.then(()=>ra=0),ra=Date.now());function ad(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;It(sd(n,r.value),t,5,[n])};return r.value=e,r.attached=id(),r}function sd(e,t){if(ce(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const eu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ud=(e,t,r,n,i,a,s,f,c)=>{const h=i==="svg";t==="class"?k0(e,n,h):t==="style"?Z0(e,r,n):Ai(t)?Ra(t)||td(e,t,r,n,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):od(e,t,n,h))?X0(e,t,n,a,s,f,c):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),J0(e,t,n,h))};function od(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&eu(t)&&ve(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return eu(t)&&Qe(r)?!1:t in e}const fd=["ctrl","shift","alt","meta"],ld={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>fd.some(r=>e[`${r}Key`]&&!t.includes(r))},tu=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(i,...a)=>{for(let s=0;s<t.length;s++){const f=ld[t[s]];if(f&&f(i,t))return}return e(i,...a)})},cd=Xe({patchProp:ud},U0);let ru;function dd(){return ru||(ru=m0(cd))}const hd=(...e)=>{const t=dd().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=md(n);if(!i)return;const a=t._component;!ve(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.innerHTML="";const s=r(i,!1,pd(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function pd(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function md(e){return Qe(e)?document.querySelector(e):e}const er={x:window.innerWidth-100,y:window.innerHeight-100},Jo=4,vd=5,gd=30,xe="GND",Ye="VDD",rn=0,nn=5,Dd=5e-7,yd=100,Zn=1.5,bd=(e,t=10)=>{for(let r in e.nodes){const n=e.nodes[r];n.value.netCurrent=0}for(let r in e.devices.mosfets){const n=e.devices.mosfets[r],i=n.getMosfetCurrent();n.mosfetType=="nmos"?(n.Vd.value.netCurrent-=i,n.Vs.value.netCurrent+=i):n.mosfetType=="pmos"&&(n.Vd.value.netCurrent+=i,n.Vs.value.netCurrent-=i)}for(let r in e.devices.voltageSources){const n=e.devices.voltageSources[r];n.fixedAt=="gnd"?(n.current=n.vplus.value.netCurrent,n.vminus.value.netCurrent+=n.current,n.vplus.value.netCurrent=0):n.fixedAt=="vdd"?(n.current=-n.vminus.value.netCurrent,n.vplus.value.netCurrent+=n.current,n.vminus.value.netCurrent=0):console.log("Cannot solve voltage source not attached to GND or VDD")}for(let r in e.nodes){const n=e.nodes[r];if(r==xe){n.value.voltage=rn;continue}if(r==Ye){n.value.voltage=nn;continue}if(n.value.fixed)continue;wd(n);let i=n.value.netCurrent/n.value.capacitance*(t/1e3)*.5;i>.1?i=.1:i<-.1&&(i=-.1),n.value.voltage+=i,n.value.historicVoltages.dequeue(),n.value.historicVoltages.enqueue(n.value.voltage)}},wd=e=>{let t=0,r=0,n=!0;e.value.historicVoltages.toArray().forEach((i,a)=>{const s=i-r>0;i-r==0||s!==n&&(t+=1),n=s,r=i,a<=1&&(t=0)}),t>=2&&(e.value.capacitance+=e.value.originalCapacitance),e.value.capacitance<e.value.originalCapacitance&&(e.value.capacitance=e.value.originalCapacitance)};var Ed=Object.defineProperty,xd=(e,t,r)=>t in e?Ed(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,bn=(e,t,r)=>(xd(e,typeof t!="symbol"?t+"":t,r),r);class st{constructor(t,r,n){bn(this,"_rows"),bn(this,"_columns"),bn(this,"_values"),this._rows=Math.max(t,1),this._columns=Math.max(r,1),this._values=new Array(this._rows).fill([]).map(()=>new Array(this._columns).fill(0)),n&&(this.values=n)}get rows(){return this._rows}get columns(){return this._columns}get values(){return this._values}set values(t){const r=Math.min(t.length,this.rows),n=Math.min(t[0].length,this.columns);for(let i=0;i<r;i++)for(let a=0;a<n;a++)this.values[i][a]=t[i][a]}at(t,r){return this.values[t][r]}reset(){this.values=this.values.map(t=>t.map(()=>0))}addAColumn(){return new st(this.rows,this.columns+1,this.values)}addARow(){return new st(this.rows+1,this.columns,this.values)}equals(t){return this.rows===t.rows&&this.columns===t.columns&&this.values.reduce((r,n,i)=>r&&n.reduce((a,s,f)=>a&&t.at(i,f)===s,r),!0)}setAsIdentity(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");return this.values.forEach((t,r)=>{t.forEach((n,i)=>{this.values[r][i]=r===i?1:0})}),this}static identity(t){if(t<1)throw Error("Dimension error! Matrix dimension must be positive.");return new st(t,t).setAsIdentity()}multiply(t){if(this.columns!==t.rows)throw new Error("Dimension error! The operand matrix must have the same number of rows as 'this' matrix columns!");const r=new st(this.rows,t.columns);return r.values=r.values.map((n,i)=>n.map((a,s)=>this.values[i].reduce((f,c,h)=>f+c*t.at(h,s),0))),r}indexOf(t){for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)if(this.values[r][n]===t)return[r,n];return[-1,-1]}max(){return this.values.reduce((t,r)=>Math.max(t,...r),-1/0)}min(){return this.values.reduce((t,r)=>Math.min(t,...r),1/0)}round(){return new st(this.rows,this.columns,this.values.map(t=>t.map(r=>Math.round(r))))}determinant(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");if(this.rows===this.columns&&this.columns===1)return this.values[0][0];let t=0,r=1;if(this.rows===2)t=this.values[0][0]*this.values[1][1]-this.values[1][0]*this.values[0][1];else for(let n=0;n<this.rows;n++){const i=this.getCofactor(0,n);t+=r*this.at(0,n)*i.determinant(),r=-r}return t}getCofactor(t,r){return new st(this.rows-1,this.columns-1,this.values.filter((n,i)=>i!==t).map(n=>n.filter((i,a)=>a!==r)))}transpose(){return new st(this.columns,this.rows,new Array(this.columns).fill([]).map((t,r)=>new Array(this.rows).fill(0).map((n,i)=>this.at(i,r))))}inverse(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");const t=this.determinant();if(t===0)throw new Error("Determinant is 0, can't compute inverse.");const r=new st(this.rows,this.columns,this.values.map((n,i)=>n.map((a,s)=>Math.pow(-1,i+s)*this.getCofactor(i,s).determinant()))).transpose();return new st(this.rows,this.columns,this.values.map((n,i)=>n.map((a,s)=>r.at(i,s)/t)))}toString(){return`[${this.values.map(t=>`[${t.join(", ")}]`).join(`,
`)}]`}}const Ad=1e-5,zt=class{constructor(e){bn(this,"values",new Float32Array(4)),e!==void 0&&(this.xyzw=e)}get x(){return this.values[0]}set x(e){this.values[0]=e}get y(){return this.values[1]}set y(e){this.values[1]=e}get z(){return this.values[2]}set z(e){this.values[2]=e}get w(){return this.values[3]}set w(e){this.values[3]=e}get xy(){return[this.values[0],this.values[1]]}set xy(e){this.values[0]=e[0],this.values[1]=e[1]}get xyz(){return[this.values[0],this.values[1],this.values[2]]}set xyz(e){this.values[0]=e[0],this.values[1]=e[1],this.values[2]=e[2]}get xyzw(){return[this.values[0],this.values[1],this.values[2],this.values[3]]}set xyzw(e){this.values[0]=e[0],this.values[1]=e[1],this.values[2]=e[2],this.values[3]=e[3]}at(e){return this.values[e]}reset(){for(let e=0;e<4;e++)this.values[e]=0}copy(e){e||(e=new zt);for(let t=0;t<4;t++)e.values[t]=this.values[t];return e}roll(){const e=this.x,t=this.y,r=this.z,n=this.w;return Math.atan2(2*(e*t+n*r),n*n+e*e-t*t-r*r)}pitch(){const e=this.x,t=this.y,r=this.z,n=this.w;return Math.atan2(2*(t*r+n*e),n*n-e*e-t*t+r*r)}yaw(){return Math.asin(2*(this.x*this.z-this.w*this.y))}equals(e,t=Ad){for(let r=0;r<4;r++)if(Math.abs(this.values[r]-e.at(r))>t)return!1;return!0}setIdentity(){return this.x=0,this.y=0,this.z=0,this.w=1,this}calculateW(){const e=this.x,t=this.y,r=this.z;return this.w=-Math.sqrt(Math.abs(1-e*e-t*t-r*r)),this}inverse(){const e=zt.dot(this,this);if(!e)return this.xyzw=[0,0,0,0],this;const t=e?1/e:0;return this.x*=-t,this.y*=-t,this.z*=-t,this.w*=t,this}conjugate(){return this.values[0]*=-1,this.values[1]*=-1,this.values[2]*=-1,this}length(){const e=this.x,t=this.y,r=this.z,n=this.w;return Math.sqrt(e*e+t*t+r*r+n*n)}normalize(e){e||(e=this);const t=this.x,r=this.y,n=this.z,i=this.w;let a=Math.sqrt(t*t+r*r+n*n+i*i);return a?(a=1/a,e.x=t*a,e.y=r*a,e.z=n*a,e.w=i*a,e):(e.x=0,e.y=0,e.z=0,e.w=0,e)}add(e){for(let t=0;t<4;t++)this.values[t]+=e.at(t);return this}multiply(e){const t=this.values[0],r=this.values[1],n=this.values[2],i=this.values[3],a=e.x,s=e.y,f=e.z,c=e.w;return this.x=t*c+i*a+r*f-n*s,this.y=r*c+i*s+n*a-t*f,this.z=n*c+i*f+t*s-r*a,this.w=i*c-t*a-r*s-n*f,this}static dot(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w}static sum(e,t){const r=new zt;return r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r.w=e.w+t.w,r}static product(e,t){const r=new zt,n=e.x,i=e.y,a=e.z,s=e.w,f=t.x,c=t.y,h=t.z,o=t.w;return r.x=n*o+s*f+i*h-a*c,r.y=i*o+s*c+a*f-n*h,r.z=a*o+s*h+n*c-i*f,r.w=s*o-n*f-i*c-a*h,r}static cross(e,t){const r=new zt,n=e.x,i=e.y,a=e.z,s=e.w,f=t.x,c=t.y,h=t.z,o=t.w;return r.x=s*h+a*o+n*c-i*f,r.y=s*o-n*f-i*c-a*h,r.z=s*f+n*o+i*h-a*c,r.w=s*c+i*o+a*f-n*h,r}static shortMix(e,t,r){const n=new zt;if(r<=0)return n.xyzw=e.xyzw,n;if(r>=1)return n.xyzw=t.xyzw,n;let i=zt.dot(e,t);const a=t.copy();i<0&&(a.inverse(),i=-i);let s,f;if(i>.9999)s=1-r,f=0+r;else{const c=Math.sqrt(1-i*i),h=Math.atan2(c,i),o=1/c;s=Math.sin((1-r)*h)*o,f=Math.sin((0+r)*h)*o}return n.x=s*e.x+f*a.x,n.y=s*e.y+f*a.y,n.z=s*e.z+f*a.z,n.w=s*e.w+f*a.w,n}static mix(e,t,r){const n=new zt,i=e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w;if(Math.abs(i)>=1)return n.xyzw=e.xyzw,n;const a=Math.acos(i),s=Math.sqrt(1-i*i);if(Math.abs(s)<.001)return n.x=e.x*.5+t.x*.5,n.y=e.y*.5+t.y*.5,n.z=e.z*.5+t.z*.5,n.w=e.w*.5+t.w*.5,n;const f=Math.sin((1-r)*a)/s,c=Math.sin(r*a)/s;return n.x=e.x*f+t.x*c,n.y=e.y*f+t.y*c,n.z=e.z*f+t.z*c,n.w=e.w*f+t.w*c,n}static fromAxisAngle(e,t){if(e.rows!==3)throw new Error("The axis vector must be in 3D!");const r=new zt;t*=.5;const n=Math.sin(t);return r.x=e.at(0)*n,r.y=e.at(1)*n,r.z=e.at(2)*n,r.w=Math.cos(t),r}};let Cd=zt;bn(Cd,"identity",new zt().setIdentity());class Nt{constructor(){ie(this,"matrix");this.matrix=new st(3,3,[[1,0,0],[0,1,0],[0,0,1]])}get scaleX(){return Math.sqrt(this.matrix.at(0,0)**2+this.matrix.at(1,0)**2)}get scaleY(){return Math.sqrt(this.matrix.at(0,1)**2+this.matrix.at(1,1)**2)}get relativeScale(){return Math.sqrt(Math.abs(this.matrix.determinant()))}get rotation(){return Math.atan2(-1*this.matrix.at(0,1)*this.matrix.at(1,0),this.matrix.at(0,0)*this.matrix.at(1,1))}get isMirrored(){return Math.sqrt(this.matrix.determinant())<0}get translation(){return{x:this.matrix.at(0,2),y:this.matrix.at(1,2)}}set scaleX(t){this.scale(1/this.scaleX,1,!0),this.scale(t,1,!0)}set scaleY(t){this.scale(1,1/this.scaleY,!0),this.scale(1,t,!0)}set relativeScale(t){this.scale(1/this.relativeScale,1/this.relativeScale,!0),this.scale(t,t,!0)}set rotation(t){this.rotate(-this.rotation,!0),this.rotate(t,!0)}set isMirrored(t){this.isMirrored!=t&&this.mirror(!0,!1,!0)}rotate(t,r=!1){const n=new Nt;return Object.assign(n,this),n.matrix=this.matrix.multiply(new st(3,3,[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]])),r&&Object.assign(this,n),n}translate(t,r=!1){const n=new Nt;return Object.assign(n,this),n.matrix=this.matrix.multiply(new st(3,3,[[1,0,t.x],[0,1,t.y],[0,0,1]])),r&&Object.assign(this,n),n}mirror(t,r=!1,n=!1){const i=new Nt;Object.assign(i,this);const a=t?-1:1,s=r?-1:1;return i.matrix=this.matrix.multiply(new st(3,3,[[a,0,0],[0,s,0],[0,0,1]])),n&&Object.assign(this,i),i}scale(t,r=t,n=!1){const i=new Nt;return Object.assign(i,this),i.matrix=this.matrix.multiply(new st(3,3,[[t,0,0],[0,r,0],[0,0,1]])),n&&Object.assign(this,i),i}inverse(t=!1){const r=new Nt;return Object.assign(r,this),r.matrix=r.matrix.inverse(),t&&Object.assign(this,r),r}multiply(t,r=!1){const n=new Nt;return Object.assign(n,this),n.matrix=n.matrix.multiply(t.matrix),r&&Object.assign(this,n),n}transformCanvas(t,r=!0){r?t.setTransform(this.matrix.at(0,0),this.matrix.at(1,0),this.matrix.at(0,1),this.matrix.at(1,1),this.matrix.at(0,2),this.matrix.at(1,2)):t.transform(this.matrix.at(0,0),this.matrix.at(1,0),this.matrix.at(0,1),this.matrix.at(1,1),this.matrix.at(0,2),this.matrix.at(1,2))}transformPoint(t){const r=this.matrix.multiply(new st(3,1,[[t.x],[t.y],[1]]));return{x:r.at(0,0),y:r.at(1,0)}}transformLine(t){return{start:this.transformPoint(t.start),end:this.transformPoint(t.end)}}transformPath(t){return t.map(r=>this.transformLine(r))}}const hr=class hr{constructor(t=new Nt){ie(this,"transformationMatrix");this.transformationMatrix=t}get localLineThickness(){return this.getLocalLineThickness()}fillTextGlobalReferenceFrame(t,r,n,i=!1,a=!1,s=16){if(hr.textTransformationMatrix.transformCanvas(t),i){const c=this.transformationMatrix.transformPoint({x:0,y:0}),h=this.transformationMatrix.transformPoint(r);h.x<c.x==!a?t.textAlign="right":h.x>c.x==!a?t.textAlign="left":t.textAlign="center"}const f=hr.textTransformationMatrix.inverse().transformPoint(this.transformationMatrix.transformPoint(r));return t.fillText(n,f.x,f.y),this.transformationMatrix.transformCanvas(t),this.transformationMatrix.inverse().transformPoint(hr.textTransformationMatrix.transformPoint({x:f.x,y:f.y+s}))}getRelativeScaling(){return hr.textTransformationMatrix.relativeScale/this.transformationMatrix.relativeScale}getLocalLineThickness(t=vd){return t*this.getRelativeScaling()}};ie(hr,"textTransformationMatrix",new Nt),ie(hr,"circuitTransformationMatrix",new Nt);let Mt=hr;const Ft=e=>e*Math.PI/180,Ea=(e,t)=>(e%t+t)%t,di=(e,t,r)=>{const n=Math.max(e,t),i=Math.min(e,t);return r>n?n:r<i?i:r},Xo=e=>Math.sqrt((e.end.x-e.start.x)**2+(e.end.y-e.start.y)**2),Qo=e=>{let t=0;return e.forEach(r=>{t+=Xo(r)}),t},Fd=(e,t)=>(t=di(0,1,t),{x:e.start.x+(e.end.x-e.start.x)*t,y:e.start.y+(e.end.y-e.start.y)*t}),Nd=(e,t)=>{const r=Qo(e),n=t*r;let i=0;for(let a of e){const s=Xo(a);if(i+=s,i>=n){const f=i-s,h=(n-f)/s;return Fd(a,h)}}return console.log("Error finding point along path"),{x:0,y:0}},Md=(e,t,r,n=5)=>{const i=r.x-t.x,a=r.y-t.y,s=Math.sqrt(i**2+a**2),f=n/2/s*-a,c=n/2/s*i,h=n/2/s*i,o=n/2/s*a,u={x:t.x+f-h,y:t.y+c-o},l={x:t.x-f-h,y:t.y-c-o},d={x:r.x-f+h,y:r.y-c+o},m={x:r.x+f+h,y:r.y+c+o};e.moveTo(u.x,u.y),e.lineTo(l.x,l.y),e.lineTo(d.x,d.y),e.lineTo(m.x,m.y)},Sd=(e,t,r)=>{const n=t.outerDiameter,i=n-2*r;e.moveTo(t.center.x,t.center.y),e.arc(t.center.x,t.center.y,n/2,0,2*Math.PI,!1),i>0&&e.arc(t.center.x,t.center.y,i/2,0,2*Math.PI,!0)},ef=(e,t,r,n="rgba(200, 200, 200, 1)")=>{const i=e.createRadialGradient(t.x,t.y,0,t.x,t.y,r);return i.addColorStop(0,n),i.addColorStop(.5,n),i.addColorStop(.99,"rgba(0, 0, 0, 1)"),i.addColorStop(1,"rgba(0, 0, 0, 0)"),i},tf=(e,t)=>()=>{e.save(),e.clip(),e.fillStyle=t,e.fill(),e.resetTransform(),e.fillRect(0,0,er.x,er.y),e.restore(),e.beginPath()},rf=(e,t="black")=>()=>{e.fillStyle=t,e.fill(),e.beginPath()},nf=(e,t,r=5,n)=>{const i=tf(e,n);for(let a=0;a<Jo;a++)af(e,t,r,i)},Rr=(e,t,r=5,n="black")=>{const i=rf(e,n);for(let a=0;a<Jo;a++)af(e,t,r,i)},af=(e,t,r=5,n)=>{e.beginPath(),t.forEach(i=>{Md(e,i.start,i.end,r),n()})},_d=(e,t,r=5,n)=>{const i=tf(e,n);sf(e,t,r,i)},rs=(e,t,r=5,n="black")=>{const i=rf(e,n);sf(e,t,r,i)},sf=(e,t,r=5,n)=>{e.beginPath(),t.forEach(i=>{Sd(e,i,r)}),n()},ns=(e,t,r=3)=>{if(e==0)return"0"+t;const n=e>=0?"":"-",i=Math.abs(e),a={30:"Q",27:"R",24:"Y",21:"Z",18:"E",15:"P",12:"T",9:"G",6:"M",3:"k",0:"","-3":"m","-6":"µ","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y","-27":"r","-30":"q"},s=Math.floor(Math.log10(i)/3)*3;let f=a[s.toString()];f==null&&(f="e"+s.toString()+" ");const c=parseFloat((i/10**s).toPrecision(r));return n+c+f+t};class Zt extends Mt{constructor(r,n,i,a,s,f){super(r);ie(this,"vddLocations");ie(this,"gndLocations");ie(this,"parasiticCapacitors");ie(this,"mosfets");ie(this,"nodes");this.vddLocations=i,this.gndLocations=n,this.parasiticCapacitors=a,this.mosfets=s,this.nodes=f}draw(r){this.transformationMatrix.transformCanvas(r),this.gndLocations.forEach(n=>{Zt.drawGnd(r,n,this.localLineThickness,.8)}),this.vddLocations.forEach(n=>{Zt.drawVdd(r,n,this.localLineThickness,.8)}),this.parasiticCapacitors.forEach(n=>{n.draw(r)}),this.transformationMatrix.transformCanvas(r),this.nodes.forEach(n=>{Rr(r,n.value.lines,this.localLineThickness,"black")}),this.mosfets.forEach(n=>{Object.values(n.schematicEffects).forEach(i=>{const a=this.transformationMatrix.inverse().multiply(n.transformationMatrix).transformPoint(i.origin),s=ef(r,a,i.gradientSize,i.color);nf(r,i.node.value.lines,this.localLineThickness,s)})}),this.nodes.forEach(n=>{n.value.voltageDisplayLocations.forEach(i=>{r.fillStyle="black",r.font="18px sans-serif",this.fillTextGlobalReferenceFrame(r,i,n.value.voltageDisplayLabel+" = "+ns(n.value.voltage,"V"),!1)})})}static drawGnd(r,n,i,a){r.strokeStyle="black",r.lineWidth=i,r.beginPath(),r.moveTo(n.x,n.y),r.lineTo(n.x+a/2,n.y),r.lineTo(n.x,n.y+a/2),r.lineTo(n.x-a/2,n.y),r.lineTo(n.x,n.y),r.stroke()}static drawVdd(r,n,i,a){r.strokeStyle="black",r.lineWidth=i,r.beginPath(),r.moveTo(n.x-a/2,n.y),r.lineTo(n.x+a/2,n.y),r.stroke()}}class On extends Mt{constructor(r,n,i,a=new Zt(new Nt,[],[],[],[],[]),s={},f={},c={},h=new Nt){const o=Math.min(er.x/n,er.y/i),u={x:(er.x/o-n)/2,y:(er.y/o-i)/2};console.log(u);super(new Nt().scale(o).translate({x:-r.x+n/2,y:-r.y+i/2}).translate(u));ie(this,"width");ie(this,"height");ie(this,"relativeOrigin");ie(this,"schematic");ie(this,"devices");ie(this,"nodes");ie(this,"textTransformationMatrix");this.width=n,this.height=i,this.relativeOrigin=r,this.schematic=a,this.devices={mosfets:s,voltageSources:f},this.nodes=c,this.textTransformationMatrix=h.translate(r).scale(o/gd)}get allSliders(){return this.makeListOfSliders()}draw(r){this.transformationMatrix.transformCanvas(r),Mt.circuitTransformationMatrix=this.transformationMatrix,Mt.textTransformationMatrix=this.textTransformationMatrix,this.schematic.draw(r),Object.values(this.devices.mosfets).forEach(n=>{n.draw(r)}),Object.values(this.devices.voltageSources).forEach(n=>{n.draw(r)})}makeListOfSliders(){const r=[];for(const n in this.devices.mosfets){const i=this.devices.mosfets[n];r.push(i.vgs),r.push(i.vds)}for(const n in this.devices.voltageSources){const i=this.devices.voltageSources[n];r.push(i.voltageDrop)}return r}drawGrid(r){Mt.circuitTransformationMatrix.transformCanvas(r);const n=Mt.circuitTransformationMatrix.inverse().transformPoint({x:0,y:0}),i=Mt.circuitTransformationMatrix.inverse().transformPoint(er);console.log(n.x,n.y);for(let a=Math.floor(n.x);a<=Math.ceil(i.x);a+=1)for(let s=Math.floor(n.y);s<=Math.ceil(i.y);s+=1){let f=.1;(Ea(a,10)==0||Ea(s,10)==0)&&(f=.2),r.fillStyle="brown",(a==0||s==0)&&(r.fillStyle="black"),r.beginPath(),r.arc(a,s,f,0,2*Math.PI),r.fill()}r.strokeStyle="brown",r.lineWidth=.2,r.strokeRect(this.relativeOrigin.x-this.width/2,this.relativeOrigin.y-this.height/2,this.width,this.height),rs(r,[{center:this.relativeOrigin,outerDiameter:3},{center:this.relativeOrigin,outerDiameter:2},{center:this.relativeOrigin,outerDiameter:1}],.2,"purple")}}class Td{constructor(){ie(this,"items",[])}enqueue(t){this.items.push(t)}dequeue(){return this.items.shift()}peek(){return this.items[0]}isEmpty(){return this.items.length===0}size(){return this.items.length}toArray(){return this.items}fill(t,r){this.items=Array(r).fill(t)}}class Ne{constructor(t,r,n=[],i="",a=[]){ie(this,"voltage");ie(this,"netCurrent");ie(this,"capacitance");ie(this,"originalCapacitance");ie(this,"fixed");ie(this,"historicVoltages");ie(this,"lines");ie(this,"voltageDisplayLabel");ie(this,"voltageDisplayLocations");const s=new Td;s.fill(0,10);const f=r?yd:Dd;this.voltage=t,this.netCurrent=0,this.capacitance=f,this.originalCapacitance=f,this.fixed=!!r,this.historicVoltages=s,this.lines=n,this.voltageDisplayLabel=i,this.voltageDisplayLocations=a}toRef(){return De(this)}}var pe=(e=>(e[e.Hidden=0]="Hidden",e[e.Locked=1]="Locked",e[e.Visible=2]="Visible",e))(pe||{}),xa=(e=>(e[e.Right=0]="Right",e[e.Left=1]="Left",e[e.Up=2]="Up",e[e.Down=3]="Down",e))(xa||{});class qr extends Mt{constructor(r,n,i,a,s,f,c,h,o,u,l,d,m,p=!1){super(r.translate({x:a,y:s}).rotate(c).mirror(!1,o));ie(this,"dragging");ie(this,"preciseDragging");ie(this,"location");ie(this,"radius");ie(this,"originalRadius");ie(this,"endAngle");ie(this,"displayText");ie(this,"displayTextLocation");ie(this,"minValue");ie(this,"maxValue");ie(this,"value");ie(this,"visibility");ie(this,"displayNegative");ie(this,"temporaryMinValue");ie(this,"temporaryMaxValue");ie(this,"previousValue");ie(this,"valueRateOfChange");ie(this,"fromNode");ie(this,"toNode");this.dragging=!1,this.preciseDragging=!1,this.location={x:0,y:0},this.radius=f,this.originalRadius=f,this.endAngle=h,this.minValue=u,this.maxValue=l,this.value=u,this.displayText=d,this.displayTextLocation=o?xa.Right:xa.Left,this.visibility=m,this.displayNegative=p,this.temporaryMinValue=u,this.temporaryMaxValue=l,this.previousValue=u,this.valueRateOfChange=0,this.fromNode=n,this.toNode=i}draw(r){if(this.visibility==pe.Hidden)return;this.transformationMatrix.transformCanvas(r),r.strokeStyle=this.visibility==pe.Visible?"orange":"lightgrey",r.lineWidth=this.localLineThickness,r.beginPath(),r.arc(0,0,this.radius,0,this.endAngle,!1);const n=this.displayNegative?0:this.endAngle,i=this.displayNegative?this.endAngle:0,a=7;r.moveTo((this.radius+a)*Math.cos(i),(this.radius+a)*Math.sin(i)),r.lineTo((this.radius-a)*Math.cos(i),(this.radius-a)*Math.sin(i));const s=7,c=(this.displayNegative?1:-1)*Ft(5);if(r.moveTo((this.radius+s)*Math.cos(n+c),(this.radius+s)*Math.sin(n+c)),r.lineTo(this.radius*Math.cos(n),this.radius*Math.sin(n)),r.lineTo((this.radius-s)*Math.cos(n+c),(this.radius-s)*Math.sin(n+c)),r.stroke(),this.dragging&&this.preciseDragging){const u=(d,m=!0)=>{const p=this.radius+(m?15:8);r.beginPath(),r.moveTo(this.radius*Math.cos(d),this.radius*Math.sin(d)),r.lineTo(p*Math.cos(d),p*Math.sin(d)),r.stroke()};let l=Math.ceil(this.temporaryMinValue);for(;l<this.temporaryMaxValue;){const d=(l-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue);u(this.endAngle*d,!0),l+=1}for(l=Math.ceil(this.temporaryMinValue+.5)-.5;l<this.temporaryMaxValue;){const d=(l-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue);u(this.endAngle*d,!1),l+=1}}r.beginPath(),r.arc(this.location.x,this.location.y,5,0,Math.PI*2),r.fillStyle=this.visibility==pe.Visible?"rgb(255, 0, 0)":"lightgrey",r.fill(),r.fillStyle=this.visibility==pe.Visible?"#000":"lightgrey";const h={x:this.location.x*(this.radius+15)/this.radius,y:this.location.y*(this.radius+15)/this.radius};r.font="18px Arial";const o=this.fillTextGlobalReferenceFrame(r,h,this.displayText,!0,!1,18);r.font="16px Arial",this.fillTextGlobalReferenceFrame(r,o,ns(this.value*(this.displayNegative?-1:1),"V",3),!0)}getSliderPercentValue(){return(this.value-this.minValue)/(this.maxValue-this.minValue)}updateSliderBasedOnNodeVoltages(){this.value=this.toNode.value.voltage-this.fromNode.value.voltage,this.value=di(this.temporaryMinValue,this.temporaryMaxValue,this.value);const n=(this.value-this.temporaryMinValue)/(this.temporaryMaxValue-this.temporaryMinValue)*this.endAngle;this.location={x:this.radius*Math.cos(n),y:this.radius*Math.sin(n)}}updateNodeVoltagesBasedOnSlider(){this.dragging&&(this.toNode.value.fixed=!0,this.toNode.value.voltage=this.fromNode.value.voltage+this.value)}dragSlider(r){if(this.dragging){const n=this.transformationMatrix.inverse().transformPoint(r),i=Math.atan2(n.y,n.x),a=di(0,1,i/this.endAngle);this.value=a*(this.temporaryMaxValue-this.temporaryMinValue)+this.temporaryMinValue,this.location={x:Math.cos(i)*this.radius,y:Math.sin(i)*this.radius},a<.05&&this.value<=this.previousValue?this.valueRateOfChange=-.01:a>.95&&this.value>=this.previousValue?this.valueRateOfChange=.01:this.valueRateOfChange=0,this.previousValue=this.value}}releaseSlider(){this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.maxValue,this.radius=this.originalRadius,this.preciseDragging=!1,this.dragging=!1,this.toNode.value.fixed=!1}adjustPreciseSlider(r=10){this.dragging&&this.preciseDragging&&(this.value>=this.maxValue||this.temporaryMaxValue>this.maxValue?(this.value=this.maxValue,this.temporaryMaxValue=this.maxValue,this.temporaryMinValue=this.maxValue-Zn,this.valueRateOfChange=0):this.value<=this.minValue||this.temporaryMinValue<this.minValue?(this.value=this.minValue,this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.minValue+Zn,this.valueRateOfChange=0):(this.temporaryMinValue+=this.valueRateOfChange*(r/1e3)*70,this.temporaryMaxValue+=this.valueRateOfChange*(r/1e3)*70,this.value+=this.valueRateOfChange*(r/1e3)*70))}checkDrag(r,n){const i=this.transformationMatrix.inverse().transformPoint(r);if(this.visibility==pe.Visible){const a=i.x**2+i.y**2,s=(i.x-this.location.x)**2+(i.y-this.location.y)**2,c=Math.atan2(i.y,i.x)/this.endAngle;if(s<=10**2||(this.radius-20)**2<a&&a<(this.radius+20)**2&&0<c&&c<1)if(this.dragging=!0,n){this.preciseDragging=!0,this.radius=this.originalRadius+10;const h=(this.value-this.minValue)/(this.maxValue-this.minValue);this.temporaryMinValue=this.value-Zn*h,this.temporaryMaxValue=this.value+Zn*(1-h)}else this.temporaryMinValue=this.minValue,this.temporaryMaxValue=this.maxValue}}}function pr(){return pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pr.apply(null,arguments)}var uf={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Pe(e){return typeof e=="number"}function Ke(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Bd(e){return typeof e=="bigint"}function wn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function of(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function cr(e){return e&&e.constructor.prototype.isUnit===!0||!1}function Yt(e){return typeof e=="string"}var Ge=Array.isArray;function Je(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function hi(e){return Array.isArray(e)||Je(e)}function Od(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Id(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Rd(e){return e&&e.constructor.prototype.isRange===!0||!1}function is(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Ld(e){return typeof e=="boolean"}function Pd(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function zd(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Ud(e){return typeof e=="function"}function Vd(e){return e instanceof Date}function $d(e){return e instanceof RegExp}function as(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!wn(e)&&!of(e))}function Hd(e){return e===null}function qd(e){return e===void 0}function Gd(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function kd(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Yd(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function jd(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Wd(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Zd(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Kd(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Jd(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Xd(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Qd(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function eh(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function th(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function rh(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function nh(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function ih(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function ah(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function sh(e){return e&&e.constructor.prototype.isChain===!0||!1}function Wt(e){var t=typeof e;return t==="object"?e===null?"null":Ke(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function He(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return He(r)});if(e instanceof Date)return new Date(e.valueOf());if(Ke(e))return e;if(as(e))return uh(e,He);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function uh(e,t){var r={};for(var n in e)Be(e,n)&&(r[n]=t(e[n]));return r}function ff(e,t){for(var r in t)Be(t,r)&&(e[r]=t[r]);return e}function Qr(e,t){var r,n,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++)if(!Qr(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!Qr(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function Be(e,t){return e&&Object.hasOwnProperty.call(e,t)}function oh(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],a=e[i];a!==void 0&&(r[i]=a)}return r}var fh=["Matrix","Array"],lh=["number","BigNumber","Fraction"],Rt=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(uf)};pr(Rt,uf,{MATRIX_OPTIONS:fh,NUMBER_OPTIONS:lh});function nu(){return!0}function _t(){return!1}function $r(){}const iu="Argument is not a typed-function.";function lf(){function e(b){return typeof b=="object"&&b!==null&&b.constructor===Object}const t=[{name:"number",test:function(b){return typeof b=="number"}},{name:"string",test:function(b){return typeof b=="string"}},{name:"boolean",test:function(b){return typeof b=="boolean"}},{name:"Function",test:function(b){return typeof b=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(b){return b instanceof Date}},{name:"RegExp",test:function(b){return b instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(b){return b===null}},{name:"undefined",test:function(b){return b===void 0}}],r={name:"any",test:nu,isAny:!0};let n,i,a=0,s={createCount:0};function f(b){const N=n.get(b);if(N)return N;let O='Unknown type "'+b+'"';const z=b.toLowerCase();let q;for(q of i)if(q.toLowerCase()===z){O+='. Did you mean "'+q+'" ?';break}throw new TypeError(O)}function c(b){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const O=N?f(N).index:i.length,z=[];for(let k=0;k<b.length;++k){if(!b[k]||typeof b[k].name!="string"||typeof b[k].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const J=b[k].name;if(n.has(J))throw new TypeError('Duplicate type name "'+J+'"');z.push(J),n.set(J,{name:J,test:b[k].test,isAny:b[k].isAny,index:O+k,conversionsTo:[]})}const q=i.slice(O);i=i.slice(0,O).concat(z).concat(q);for(let k=O+z.length;k<i.length;++k)n.get(i[k]).index=k}function h(){n=new Map,i=[],a=0,c([r],!1)}h(),c(t);function o(){let b;for(b of i)n.get(b).conversionsTo=[];a=0}function u(b){const N=i.filter(O=>{const z=n.get(O);return!z.isAny&&z.test(b)});return N.length?N:["any"]}function l(b){return b&&typeof b=="function"&&"_typedFunctionData"in b}function d(b,N,O){if(!l(b))throw new TypeError(iu);const z=O&&O.exact,q=Array.isArray(N)?N.join(","):N,k=M(q),J=v(k);if(!z||J in b.signatures){const we=b._typedFunctionData.signatureMap.get(J);if(we)return we}const Z=k.length;let re;if(z){re=[];let we;for(we in b.signatures)re.push(b._typedFunctionData.signatureMap.get(we))}else re=b._typedFunctionData.signatures;for(let we=0;we<Z;++we){const Ee=k[we],Oe=[];let Fe;for(Fe of re){const _e=_(Fe.params,we);if(!(!_e||Ee.restParam&&!_e.restParam)){if(!_e.hasAny){const gt=g(_e);if(Ee.types.some(Lt=>!gt.has(Lt.name)))continue}Oe.push(Fe)}}if(re=Oe,re.length===0)break}let ee;for(ee of re)if(ee.params.length<=Z)return ee;throw new TypeError("Signature not found (signature: "+(b.name||"unnamed")+"("+v(k,", ")+"))")}function m(b,N,O){return d(b,N,O).implementation}function p(b,N){const O=f(N);if(O.test(b))return b;const z=O.conversionsTo;if(z.length===0)throw new Error("There are no conversions to "+N+" defined.");for(let q=0;q<z.length;q++)if(f(z[q].from).test(b))return z[q].convert(b);throw new Error("Cannot convert "+b+" to "+N)}function v(b){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return b.map(O=>O.name).join(N)}function w(b){const N=b.indexOf("...")===0,z=(N?b.length>3?b.slice(3):"any":b).split("|").map(Z=>f(Z.trim()));let q=!1,k=N?"...":"";return{types:z.map(function(Z){return q=Z.isAny||q,k+=Z.name+"|",{name:Z.name,typeIndex:Z.index,test:Z.test,isAny:Z.isAny,conversion:null,conversionIndex:-1}}),name:k.slice(0,-1),hasAny:q,hasConversion:!1,restParam:N}}function T(b){const N=b.types.map(J=>J.name),O=x(N);let z=b.hasAny,q=b.name;const k=O.map(function(J){const Z=f(J.from);return z=Z.isAny||z,q+="|"+J.from,{name:J.from,typeIndex:Z.index,test:Z.test,isAny:Z.isAny,conversion:J,conversionIndex:J.index}});return{types:b.types.concat(k),name:q,hasAny:z,hasConversion:k.length>0,restParam:b.restParam}}function g(b){return b.typeSet||(b.typeSet=new Set,b.types.forEach(N=>b.typeSet.add(N.name))),b.typeSet}function M(b){const N=[];if(typeof b!="string")throw new TypeError("Signatures must be strings");const O=b.trim();if(O==="")return N;const z=O.split(",");for(let q=0;q<z.length;++q){const k=w(z[q].trim());if(k.restParam&&q!==z.length-1)throw new SyntaxError('Unexpected rest parameter "'+z[q]+'": only allowed for the last parameter');if(k.types.length===0)return null;N.push(k)}return N}function A(b){const N=Ae(b);return N?N.restParam:!1}function y(b){if(!b||b.types.length===0)return nu;if(b.types.length===1)return f(b.types[0].name).test;if(b.types.length===2){const N=f(b.types[0].name).test,O=f(b.types[1].name).test;return function(q){return N(q)||O(q)}}else{const N=b.types.map(function(O){return f(O.name).test});return function(z){for(let q=0;q<N.length;q++)if(N[q](z))return!0;return!1}}}function I(b){let N,O,z;if(A(b)){N=je(b).map(y);const q=N.length,k=y(Ae(b)),J=function(Z){for(let re=q;re<Z.length;re++)if(!k(Z[re]))return!1;return!0};return function(re){for(let ee=0;ee<N.length;ee++)if(!N[ee](re[ee]))return!1;return J(re)&&re.length>=q+1}}else return b.length===0?function(k){return k.length===0}:b.length===1?(O=y(b[0]),function(k){return O(k[0])&&k.length===1}):b.length===2?(O=y(b[0]),z=y(b[1]),function(k){return O(k[0])&&z(k[1])&&k.length===2}):(N=b.map(y),function(k){for(let J=0;J<N.length;J++)if(!N[J](k[J]))return!1;return k.length===N.length})}function _(b,N){return N<b.length?b[N]:A(b)?Ae(b):null}function R(b,N){const O=_(b,N);return O?g(O):new Set}function P(b){return b.conversion===null||b.conversion===void 0}function Y(b,N){const O=new Set;return b.forEach(z=>{const q=R(z.params,N);let k;for(k of q)O.add(k)}),O.has("any")?["any"]:Array.from(O)}function $(b,N,O){let z,q;const k=b||"unnamed";let J=O,Z;for(Z=0;Z<N.length;Z++){const Ee=[];if(J.forEach(Oe=>{const Fe=_(Oe.params,Z),_e=y(Fe);(Z<Oe.params.length||A(Oe.params))&&_e(N[Z])&&Ee.push(Oe)}),Ee.length===0){if(q=Y(J,Z),q.length>0){const Oe=u(N[Z]);return z=new TypeError("Unexpected type of argument in function "+k+" (expected: "+q.join(" or ")+", actual: "+Oe.join(" | ")+", index: "+Z+")"),z.data={category:"wrongType",fn:k,index:Z,actual:Oe,expected:q},z}}else J=Ee}const re=J.map(function(Ee){return A(Ee.params)?1/0:Ee.params.length});if(N.length<Math.min.apply(null,re))return q=Y(J,Z),z=new TypeError("Too few arguments in function "+k+" (expected: "+q.join(" or ")+", index: "+N.length+")"),z.data={category:"tooFewArgs",fn:k,index:N.length,expected:q},z;const ee=Math.max.apply(null,re);if(N.length>ee)return z=new TypeError("Too many arguments in function "+k+" (expected: "+ee+", actual: "+N.length+")"),z.data={category:"tooManyArgs",fn:k,index:N.length,expectedLength:ee},z;const we=[];for(let Ee=0;Ee<N.length;++Ee)we.push(u(N[Ee]).join("|"));return z=new TypeError('Arguments of type "'+we.join(", ")+'" do not match any of the defined signatures of function '+k+"."),z.data={category:"mismatch",actual:we},z}function ne(b){let N=i.length+1;for(let O=0;O<b.types.length;O++)P(b.types[O])&&(N=Math.min(N,b.types[O].typeIndex));return N}function W(b){let N=a+1;for(let O=0;O<b.types.length;O++)P(b.types[O])||(N=Math.min(N,b.types[O].conversionIndex));return N}function te(b,N){if(b.hasAny){if(!N.hasAny)return 1}else if(N.hasAny)return-1;if(b.restParam){if(!N.restParam)return 1}else if(N.restParam)return-1;if(b.hasConversion){if(!N.hasConversion)return 1}else if(N.hasConversion)return-1;const O=ne(b)-ne(N);if(O<0)return-1;if(O>0)return 1;const z=W(b)-W(N);return z<0?-1:z>0?1:0}function H(b,N){const O=b.params,z=N.params,q=Ae(O),k=Ae(z),J=A(O),Z=A(z);if(J&&q.hasAny){if(!Z||!k.hasAny)return 1}else if(Z&&k.hasAny)return-1;let re=0,ee=0,we;for(we of O)we.hasAny&&++re,we.hasConversion&&++ee;let Ee=0,Oe=0;for(we of z)we.hasAny&&++Ee,we.hasConversion&&++Oe;if(re!==Ee)return re-Ee;if(J&&q.hasConversion){if(!Z||!k.hasConversion)return 1}else if(Z&&k.hasConversion)return-1;if(ee!==Oe)return ee-Oe;if(J){if(!Z)return 1}else if(Z)return-1;const Fe=(O.length-z.length)*(J?-1:1);if(Fe!==0)return Fe;const _e=[];let gt=0;for(let Vr=0;Vr<O.length;++Vr){const Vn=te(O[Vr],z[Vr]);_e.push(Vn),gt+=Vn}if(gt!==0)return gt;let Lt;for(Lt of _e)if(Lt!==0)return Lt;return 0}function x(b){if(b.length===0)return[];const N=b.map(f);b.length>1&&N.sort((q,k)=>q.index-k.index);let O=N[0].conversionsTo;if(b.length===1)return O;O=O.concat([]);const z=new Set(b);for(let q=1;q<N.length;++q){let k;for(k of N[q].conversionsTo)z.has(k.from)||(O.push(k),z.add(k.from))}return O}function K(b,N){let O=N;if(b.some(q=>q.hasConversion)){const q=A(b),k=b.map(F);O=function(){const Z=[],re=q?arguments.length-1:arguments.length;for(let ee=0;ee<re;ee++)Z[ee]=k[ee](arguments[ee]);return q&&(Z[re]=arguments[re].map(k[re])),N.apply(this,Z)}}let z=O;if(A(b)){const q=b.length-1;z=function(){return O.apply(this,ye(arguments,0,q).concat([ye(arguments,q)]))}}return z}function F(b){let N,O,z,q;const k=[],J=[];switch(b.types.forEach(function(Z){Z.conversion&&(k.push(f(Z.conversion.from).test),J.push(Z.conversion.convert))}),J.length){case 0:return function(re){return re};case 1:return N=k[0],z=J[0],function(re){return N(re)?z(re):re};case 2:return N=k[0],O=k[1],z=J[0],q=J[1],function(re){return N(re)?z(re):O(re)?q(re):re};default:return function(re){for(let ee=0;ee<J.length;ee++)if(k[ee](re))return J[ee](re);return re}}}function oe(b){function N(O,z,q){if(z<O.length){const k=O[z];let J=[];if(k.restParam){const Z=k.types.filter(P);Z.length<k.types.length&&J.push({types:Z,name:"..."+Z.map(re=>re.name).join("|"),hasAny:Z.some(re=>re.isAny),hasConversion:!1,restParam:!0}),J.push(k)}else J=k.types.map(function(Z){return{types:[Z],name:Z.name,hasAny:Z.isAny,hasConversion:Z.conversion,restParam:!1}});return $e(J,function(Z){return N(O,z+1,q.concat([Z]))})}else return[q]}return N(b,0,[])}function ge(b,N){const O=Math.max(b.length,N.length);for(let Z=0;Z<O;Z++){const re=R(b,Z),ee=R(N,Z);let we=!1,Ee;for(Ee of ee)if(re.has(Ee)){we=!0;break}if(!we)return!1}const z=b.length,q=N.length,k=A(b),J=A(N);return k?J?z===q:q>=z:J?z>=q:z===q}function he(b){return b.map(N=>S(N)?D(N.referToSelf.callback):E(N)?B(N.referTo.references,N.referTo.callback):N)}function Q(b,N,O){const z=[];let q;for(q of b){let k=O[q];if(typeof k!="number")throw new TypeError('No definition for referenced signature "'+q+'"');if(k=N[k],typeof k!="function")return!1;z.push(k)}return z}function Re(b,N,O){const z=he(b),q=new Array(z.length).fill(!1);let k=!0;for(;k;){k=!1;let J=!0;for(let Z=0;Z<z.length;++Z){if(q[Z])continue;const re=z[Z];if(S(re))z[Z]=re.referToSelf.callback(O),z[Z].referToSelf=re.referToSelf,q[Z]=!0,J=!1;else if(E(re)){const ee=Q(re.referTo.references,z,N);ee?(z[Z]=re.referTo.callback.apply(this,ee),z[Z].referTo=re.referTo,q[Z]=!0,J=!1):k=!0}}if(J&&k)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return z}function Le(b){const N=/\bthis(\(|\.signatures\b)/;Object.keys(b).forEach(O=>{const z=b[O];if(N.test(z.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ue(b,N){if(s.createCount++,Object.keys(N).length===0)throw new SyntaxError("No signatures provided");s.warnAgainstDeprecatedThis&&Le(N);const O=[],z=[],q={},k=[];let J;for(J in N){if(!Object.prototype.hasOwnProperty.call(N,J))continue;const Te=M(J);if(!Te)continue;O.forEach(function(on){if(ge(on,Te))throw new TypeError('Conflicting signatures "'+v(on)+'" and "'+v(Te)+'".')}),O.push(Te);const Dt=z.length;z.push(N[J]);const _l=Te.map(T);let $n;for($n of oe(_l)){const on=v($n);k.push({params:$n,name:on,fn:Dt}),$n.every(Tl=>!Tl.hasConversion)&&(q[on]=Dt)}}k.sort(H);const Z=Re(z,q,un);let re;for(re in q)Object.prototype.hasOwnProperty.call(q,re)&&(q[re]=Z[q[re]]);const ee=[],we=new Map;for(re of k)we.has(re.name)||(re.fn=Z[re.fn],ee.push(re),we.set(re.name,re));const Ee=ee[0]&&ee[0].params.length<=2&&!A(ee[0].params),Oe=ee[1]&&ee[1].params.length<=2&&!A(ee[1].params),Fe=ee[2]&&ee[2].params.length<=2&&!A(ee[2].params),_e=ee[3]&&ee[3].params.length<=2&&!A(ee[3].params),gt=ee[4]&&ee[4].params.length<=2&&!A(ee[4].params),Lt=ee[5]&&ee[5].params.length<=2&&!A(ee[5].params),Vr=Ee&&Oe&&Fe&&_e&&gt&&Lt;for(let Te=0;Te<ee.length;++Te)ee[Te].test=I(ee[Te].params);const Vn=Ee?y(ee[0].params[0]):_t,rl=Oe?y(ee[1].params[0]):_t,nl=Fe?y(ee[2].params[0]):_t,il=_e?y(ee[3].params[0]):_t,al=gt?y(ee[4].params[0]):_t,sl=Lt?y(ee[5].params[0]):_t,ul=Ee?y(ee[0].params[1]):_t,ol=Oe?y(ee[1].params[1]):_t,fl=Fe?y(ee[2].params[1]):_t,ll=_e?y(ee[3].params[1]):_t,cl=gt?y(ee[4].params[1]):_t,dl=Lt?y(ee[5].params[1]):_t;for(let Te=0;Te<ee.length;++Te)ee[Te].implementation=K(ee[Te].params,ee[Te].fn);const hl=Ee?ee[0].implementation:$r,pl=Oe?ee[1].implementation:$r,ml=Fe?ee[2].implementation:$r,vl=_e?ee[3].implementation:$r,gl=gt?ee[4].implementation:$r,Dl=Lt?ee[5].implementation:$r,yl=Ee?ee[0].params.length:-1,bl=Oe?ee[1].params.length:-1,wl=Fe?ee[2].params.length:-1,El=_e?ee[3].params.length:-1,xl=gt?ee[4].params.length:-1,Al=Lt?ee[5].params.length:-1,Cl=Vr?6:0,Fl=ee.length,Nl=ee.map(Te=>Te.test),Ml=ee.map(Te=>Te.implementation),Sl=function(){for(let Dt=Cl;Dt<Fl;Dt++)if(Nl[Dt](arguments))return Ml[Dt].apply(this,arguments);return s.onMismatch(b,arguments,ee)};function un(Te,Dt){return arguments.length===yl&&Vn(Te)&&ul(Dt)?hl.apply(this,arguments):arguments.length===bl&&rl(Te)&&ol(Dt)?pl.apply(this,arguments):arguments.length===wl&&nl(Te)&&fl(Dt)?ml.apply(this,arguments):arguments.length===El&&il(Te)&&ll(Dt)?vl.apply(this,arguments):arguments.length===xl&&al(Te)&&cl(Dt)?gl.apply(this,arguments):arguments.length===Al&&sl(Te)&&dl(Dt)?Dl.apply(this,arguments):Sl.apply(this,arguments)}try{Object.defineProperty(un,"name",{value:b})}catch{}return un.signatures=q,un._typedFunctionData={signatures:ee,signatureMap:we},un}function me(b,N,O){throw $(b,N,O)}function je(b){return ye(b,0,b.length-1)}function Ae(b){return b[b.length-1]}function ye(b,N,O){return Array.prototype.slice.call(b,N,O)}function et(b,N){for(let O=0;O<b.length;O++)if(N(b[O]))return b[O]}function $e(b,N){return Array.prototype.concat.apply([],b.map(N))}function C(){const b=je(arguments).map(O=>v(M(O))),N=Ae(arguments);if(typeof N!="function")throw new TypeError("Callback function expected as last argument");return B(b,N)}function B(b,N){return{referTo:{references:b,callback:N}}}function D(b){if(typeof b!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:b}}}function E(b){return b&&typeof b.referTo=="object"&&Array.isArray(b.referTo.references)&&typeof b.referTo.callback=="function"}function S(b){return b&&typeof b.referToSelf=="object"&&typeof b.referToSelf.callback=="function"}function L(b,N){if(!b)return N;if(N&&N!==b){const O=new Error("Function names do not match (expected: "+b+", actual: "+N+")");throw O.data={actual:N,expected:b},O}return b}function V(b){let N;for(const O in b)Object.prototype.hasOwnProperty.call(b,O)&&(l(b[O])||typeof b[O].signature=="string")&&(N=L(N,b[O].name));return N}function U(b,N){let O;for(O in N)if(Object.prototype.hasOwnProperty.call(N,O)){if(O in b&&N[O]!==b[O]){const z=new Error('Signature "'+O+'" is defined twice');throw z.data={signature:O,sourceFunction:N[O],destFunction:b[O]},z}b[O]=N[O]}}const j=s;s=function(b){const N=typeof b=="string",O=N?1:0;let z=N?b:"";const q={};for(let k=O;k<arguments.length;++k){const J=arguments[k];let Z={},re;if(typeof J=="function"?(re=J.name,typeof J.signature=="string"?Z[J.signature]=J:l(J)&&(Z=J.signatures)):e(J)&&(Z=J,N||(re=V(J))),Object.keys(Z).length===0){const ee=new TypeError("Argument to 'typed' at index "+k+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw ee.data={index:k,argument:J},ee}N||(z=L(z,re)),U(q,Z)}return ue(z||"",q)},s.create=lf,s.createCount=j.createCount,s.onMismatch=me,s.throwMismatchError=me,s.createError=$,s.clear=h,s.clearConversions=o,s.addTypes=c,s._findType=f,s.referTo=C,s.referToSelf=D,s.convert=p,s.findSignature=d,s.find=m,s.isTypedFunction=l,s.warnAgainstDeprecatedThis=!0,s.addType=function(b,N){let O="any";N!==!1&&n.has("Object")&&(O="Object"),s.addTypes([b],O)};function G(b){if(!b||typeof b.from!="string"||typeof b.to!="string"||typeof b.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(b.to===b.from)throw new SyntaxError('Illegal to define conversion from "'+b.from+'" to itself.')}return s.addConversion=function(b){G(b);const N=f(b.to);if(N.conversionsTo.every(function(O){return O.from!==b.from}))N.conversionsTo.push({from:b.from,convert:b.convert,index:a++});else throw new Error('There is already a conversion from "'+b.from+'" to "'+N.name+'"')},s.addConversions=function(b){b.forEach(s.addConversion)},s.removeConversion=function(b){G(b);const N=f(b.to),O=et(N.conversionsTo,q=>q.from===b.from);if(!O)throw new Error("Attempt to remove nonexistent conversion from "+b.from+" to "+b.to);if(O.convert!==b.convert)throw new Error("Conversion to remove does not match existing conversion");const z=N.conversionsTo.indexOf(O);N.conversionsTo.splice(z,1)},s.resolve=function(b,N){if(!l(b))throw new TypeError(iu);const O=b._typedFunctionData.signatures;for(let z=0;z<O.length;++z)if(O[z].test(N))return O[z];return null},s}const au=lf();function Ue(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function na(e,t,r){var n={2:"0b",8:"0o",16:"0x"},i=n[t],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ue(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Ue(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),a="i".concat(r)}var s="";return e<0&&(e=-e,s="-"),"".concat(s).concat(i).concat(e.toString(t)).concat(a)}function Aa(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:i}=cf(t);switch(r){case"fixed":return df(e,n);case"exponential":return hf(e,n);case"engineering":return ch(e,n);case"bin":return na(e,2,i);case"oct":return na(e,8,i);case"hex":return na(e,16,i);case"auto":return dh(e,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],s=arguments[4];return a!=="."?a+s:s});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function cf(e){var t="auto",r,n;if(e!==void 0)if(Pe(e))r=e;else if(Ke(e))r=e.toNumber();else if(as(e))e.precision!==void 0&&(r=su(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=su(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:n}}function In(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var s=n.replace(".","").replace(/^0*/,function(f){return i-=f.length,""}).replace(/0*$/,"").split("").map(function(f){return parseInt(f)});return s.length===0&&(s.push(0),i++),{sign:r,coefficients:s,exponent:i}}function ch(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=In(e),n=Li(r,t),i=n.exponent,a=n.coefficients,s=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Pe(t))for(;t>a.length||i-s+1>a.length;)a.push(0);else for(var f=Math.abs(i-s)-(a.length-1),c=0;c<f;c++)a.push(0);for(var h=Math.abs(i-s),o=1;h>0;)o++,h--;var u=a.slice(o).join(""),l=Pe(t)&&u.length||u.match(/[1-9]/)?"."+u:"",d=a.slice(0,o).join("")+l+"e"+(i>=0?"+":"")+s.toString();return n.sign+d}function df(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=In(e),n=typeof t=="number"?Li(r,r.exponent+1+t):r,i=n.coefficients,a=n.exponent+1,s=a+(t||0);return i.length<s&&(i=i.concat(Zr(s-i.length))),a<0&&(i=Zr(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function hf(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=In(e),n=t?Li(r,t):r,i=n.coefficients,a=n.exponent;i.length<t&&(i=i.concat(Zr(t-i.length)));var s=i.shift();return n.sign+s+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function dh(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=uu(r==null?void 0:r.lowerExp,-3),i=uu(r==null?void 0:r.upperExp,5),a=In(e),s=t?Li(a,t):a;if(s.exponent<n||s.exponent>=i)return hf(e,t);var f=s.coefficients,c=s.exponent;f.length<t&&(f=f.concat(Zr(t-f.length))),f=f.concat(Zr(c-f.length+1+(f.length<t?t-f.length:0))),f=Zr(-c).concat(f);var h=c>0?c:0;return h<f.length-1&&f.splice(h+1,0,"."),s.sign+f.join("")}function Li(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var i=n.splice(t,n.length-t);if(i[0]>=5){var a=t-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),r.exponent++,a++),a--,n[a]++}}return r}function Zr(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function hh(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Kt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!isFinite(e)||!isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n)}function su(e,t){if(Pe(e))return e;if(Ke(e))return e.toNumber();t()}function uu(e,t){return Pe(e)?e:Ke(e)?e.toNumber():t}function ae(e,t,r,n){function i(a){var s=oh(a,t.map(vh));return ph(e,t,a),r(s)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),n&&(i.meta=n),i}function ph(e,t,r){var n=t.filter(a=>!mh(a)).every(a=>r[a]!==void 0);if(!n){var i=t.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function mh(e){return e&&e[0]==="?"}function vh(e){return e&&e[0]==="?"?e.slice(1):e}function gh(e,t){if(mf(e)&&pf(e,t))return e[t];throw typeof e[t]=="function"&&bh(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Dh(e,t,r){if(mf(e)&&pf(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function yh(e,t){return t in e}function pf(e,t){return!e||typeof e!="object"?!1:Be(wh,t)?!0:!(t in Object.prototype||t in Function.prototype)}function bh(e,t){return e==null||typeof e[t]!="function"||Be(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Be(Eh,t)?!0:!(t in Object.prototype||t in Function.prototype)}function mf(e){return typeof e=="object"&&e&&e.constructor===Object}var wh={length:!0,name:!0},Eh={toString:!0,valueOf:!0,toLocaleString:!0};class xh{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(t){return gh(this.wrappedObject,t)}set(t,r){return Dh(this.wrappedObject,t,r),this}has(t){return yh(this.wrappedObject,t)}entries(){return Ah(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function Ah(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function Ch(e){return e?e instanceof Map||e instanceof xh||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var vf=function(){return vf=au.create,au},Fh=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Nh=ae("typed",Fh,function(t){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:a}=t,s=vf();return s.clear(),s.addTypes([{name:"number",test:Pe},{name:"Complex",test:wn},{name:"BigNumber",test:Ke},{name:"bigint",test:Bd},{name:"Fraction",test:of},{name:"Unit",test:cr},{name:"identifier",test:f=>Yt&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(f)},{name:"string",test:Yt},{name:"Chain",test:sh},{name:"Array",test:Ge},{name:"Matrix",test:Je},{name:"DenseMatrix",test:Od},{name:"SparseMatrix",test:Id},{name:"Range",test:Rd},{name:"Index",test:is},{name:"boolean",test:Ld},{name:"ResultSet",test:Pd},{name:"Help",test:zd},{name:"function",test:Ud},{name:"Date",test:Vd},{name:"RegExp",test:$d},{name:"null",test:Hd},{name:"undefined",test:qd},{name:"AccessorNode",test:Gd},{name:"ArrayNode",test:kd},{name:"AssignmentNode",test:Yd},{name:"BlockNode",test:jd},{name:"ConditionalNode",test:Wd},{name:"ConstantNode",test:Zd},{name:"FunctionNode",test:Jd},{name:"FunctionAssignmentNode",test:Kd},{name:"IndexNode",test:Xd},{name:"Node",test:Qd},{name:"ObjectNode",test:eh},{name:"OperatorNode",test:th},{name:"ParenthesisNode",test:rh},{name:"RangeNode",test:nh},{name:"RelationalNode",test:ih},{name:"SymbolNode",test:ah},{name:"Map",test:Ch},{name:"Object",test:as}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(r||Kn(c),hh(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new r(c)}},{from:"number",to:"Complex",convert:function(c){return n||Jn(c),new n(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return n||Jn(c),new n(c.toNumber(),0)}},{from:"bigint",to:"number",convert:function(c){if(c>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+c+")");return Number(c)}},{from:"bigint",to:"BigNumber",convert:function(c){return r||Kn(c),new r(c.toString())}},{from:"bigint",to:"Fraction",convert:function(c){return a||Xn(c),new a(c.toString())}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return n||Jn(c),new n(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){a||Xn(c);var h=new a(c);if(h.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return h}},{from:"string",to:"number",convert:function(c){var h=Number(c);if(isNaN(h))throw new Error('Cannot convert "'+c+'" to a number');return h}},{from:"string",to:"BigNumber",convert:function(c){r||Kn(c);try{return new r(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(c){try{return BigInt(c)}catch{throw new Error('Cannot convert "'+c+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(c){a||Xn(c);try{return new a(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){n||Jn(c);try{return new n(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return r||Kn(c),new r(+c)}},{from:"boolean",to:"bigint",convert:function(c){return BigInt(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return a||Xn(c),new a(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return i||Mh(),new i(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),s.onMismatch=(f,c,h)=>{var o=s.createError(f,c,h);if(["wrongType","mismatch"].includes(o.data.category)&&c.length===1&&hi(c[0])&&h.some(l=>!l.params.includes(","))){var u=new TypeError("Function '".concat(f,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(f,")'."));throw u.data=o.data,u}throw o},s.onMismatch=(f,c,h)=>{var o=s.createError(f,c,h);if(["wrongType","mismatch"].includes(o.data.category)&&c.length===1&&hi(c[0])&&h.some(l=>!l.params.includes(","))){var u=new TypeError("Function '".concat(f,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(f,")'."));throw u.data=o.data,u}throw o},s});function Kn(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Jn(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Mh(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Xn(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Gr=9e15,Ar=1e9,Ca="0123456789abcdef",pi="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",mi="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Fa={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Gr,maxE:Gr,crypto:!1},gf,tr,de=!0,Pi="[DecimalError] ",br=Pi+"Invalid argument: ",Df=Pi+"Precision limit exceeded",yf=Pi+"crypto unavailable",bf="[object Decimal]",ht=Math.floor,rt=Math.pow,Sh=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,_h=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Th=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,wf=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$t=1e7,le=7,Bh=9007199254740991,Oh=pi.length-1,Na=mi.length-1,X={toStringTag:bf};X.absoluteValue=X.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),fe(e)};X.ceil=function(){return fe(new this.constructor(this),this.e+1,2)};X.clampedTo=X.clamp=function(e,t){var r,n=this,i=n.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(br+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new i(n)};X.comparedTo=X.cmp=function(e){var t,r,n,i,a=this,s=a.d,f=(e=new a.constructor(e)).d,c=a.s,h=e.s;if(!s||!f)return!c||!h?NaN:c!==h?c:s===f?0:!s^c<0?1:-1;if(!s[0]||!f[0])return s[0]?c:f[0]?-h:0;if(c!==h)return c;if(a.e!==e.e)return a.e>e.e^c<0?1:-1;for(n=s.length,i=f.length,t=0,r=n<i?n:i;t<r;++t)if(s[t]!==f[t])return s[t]>f[t]^c<0?1:-1;return n===i?0:n>i^c<0?1:-1};X.cosine=X.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+le,n.rounding=1,r=Ih(n,Ff(n,r)),n.precision=e,n.rounding=t,fe(tr==2||tr==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};X.cubeRoot=X.cbrt=function(){var e,t,r,n,i,a,s,f,c,h,o=this,u=o.constructor;if(!o.isFinite()||o.isZero())return new u(o);for(de=!1,a=o.s*rt(o.s*o,1/3),!a||Math.abs(a)==1/0?(r=at(o.d),e=o.e,(a=(e-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=rt(r,1/3),e=ht((e+1)/3)-(e%3==(e<0?-1:2)),a==1/0?r="5e"+e:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new u(r),n.s=o.s):n=new u(a.toString()),s=(e=u.precision)+3;;)if(f=n,c=f.times(f).times(f),h=c.plus(o),n=Ie(h.plus(o).times(f),h.plus(c),s+2,1),at(f.d).slice(0,s)===(r=at(n.d)).slice(0,s))if(r=r.slice(s-3,s+1),r=="9999"||!i&&r=="4999"){if(!i&&(fe(f,e+1,0),f.times(f).times(f).eq(o))){n=f;break}s+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(fe(n,e+1,1),t=!n.times(n).times(n).eq(o));break}return de=!0,fe(n,e,u.rounding,t)};X.decimalPlaces=X.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-ht(this.e/le))*le,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};X.dividedBy=X.div=function(e){return Ie(this,new this.constructor(e))};X.dividedToIntegerBy=X.divToInt=function(e){var t=this,r=t.constructor;return fe(Ie(t,new r(e),0,1,1),r.precision,r.rounding)};X.equals=X.eq=function(e){return this.cmp(e)===0};X.floor=function(){return fe(new this.constructor(this),this.e+1,3)};X.greaterThan=X.gt=function(e){return this.cmp(e)>0};X.greaterThanOrEqualTo=X.gte=function(e){var t=this.cmp(e);return t==1||t===0};X.hyperbolicCosine=X.cosh=function(){var e,t,r,n,i,a=this,s=a.constructor,f=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return f;r=s.precision,n=s.rounding,s.precision=r+Math.max(a.e,a.sd())+4,s.rounding=1,i=a.d.length,i<32?(e=Math.ceil(i/3),t=(1/Ui(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),a=en(s,1,a.times(t),new s(1),!0);for(var c,h=e,o=new s(8);h--;)c=a.times(a),a=f.minus(c.times(o.minus(c.times(o))));return fe(a,s.precision=r,s.rounding=n,!0)};X.hyperbolicSine=X.sinh=function(){var e,t,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=en(a,2,i,i,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,i=i.times(1/Ui(5,e)),i=en(a,2,i,i,!0);for(var s,f=new a(5),c=new a(16),h=new a(20);e--;)s=i.times(i),i=i.times(f.plus(s.times(c.times(s).plus(h))))}return a.precision=t,a.rounding=r,fe(i,t,r,!0)};X.hyperbolicTangent=X.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,Ie(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};X.inverseCosine=X.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,a=r.rounding;return n!==-1?n===0?t.isNeg()?Vt(r,i,a):new r(0):new r(NaN):t.isZero()?Vt(r,i+4,a).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=Vt(r,i+4,a).times(.5),r.precision=i,r.rounding=a,e.minus(t))};X.inverseHyperbolicCosine=X.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,de=!1,r=r.times(r).minus(1).sqrt().plus(r),de=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};X.inverseHyperbolicSine=X.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,de=!1,r=r.times(r).plus(1).sqrt().plus(r),de=!0,n.precision=e,n.rounding=t,r.ln())};X.inverseHyperbolicTangent=X.atanh=function(){var e,t,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?fe(new a(i),e,t,!0):(a.precision=r=n-i.e,i=Ie(i.plus(1),new a(1).minus(i),r+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5))):new a(NaN)};X.inverseSine=X.asin=function(){var e,t,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),r=a.precision,n=a.rounding,t!==-1?t===0?(e=Vt(a,r+4,n).times(.5),e.s=i.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))};X.inverseTangent=X.atan=function(){var e,t,r,n,i,a,s,f,c,h=this,o=h.constructor,u=o.precision,l=o.rounding;if(h.isFinite()){if(h.isZero())return new o(h);if(h.abs().eq(1)&&u+4<=Na)return s=Vt(o,u+4,l).times(.25),s.s=h.s,s}else{if(!h.s)return new o(NaN);if(u+4<=Na)return s=Vt(o,u+4,l).times(.5),s.s=h.s,s}for(o.precision=f=u+10,o.rounding=1,r=Math.min(28,f/le+2|0),e=r;e;--e)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(de=!1,t=Math.ceil(f/le),n=1,c=h.times(h),s=new o(h),i=h;e!==-1;)if(i=i.times(c),a=s.minus(i.div(n+=2)),i=i.times(c),s=a.plus(i.div(n+=2)),s.d[t]!==void 0)for(e=t;s.d[e]===a.d[e]&&e--;);return r&&(s=s.times(2<<r-1)),de=!0,fe(s,o.precision=u,o.rounding=l,!0)};X.isFinite=function(){return!!this.d};X.isInteger=X.isInt=function(){return!!this.d&&ht(this.e/le)>this.d.length-2};X.isNaN=function(){return!this.s};X.isNegative=X.isNeg=function(){return this.s<0};X.isPositive=X.isPos=function(){return this.s>0};X.isZero=function(){return!!this.d&&this.d[0]===0};X.lessThan=X.lt=function(e){return this.cmp(e)<0};X.lessThanOrEqualTo=X.lte=function(e){return this.cmp(e)<1};X.logarithm=X.log=function(e){var t,r,n,i,a,s,f,c,h=this,o=h.constructor,u=o.precision,l=o.rounding,d=5;if(e==null)e=new o(10),t=!0;else{if(e=new o(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new o(NaN);t=e.eq(10)}if(r=h.d,h.s<0||!r||!r[0]||h.eq(1))return new o(r&&!r[0]?-1/0:h.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)a=!0;else{for(i=r[0];i%10===0;)i/=10;a=i!==1}if(de=!1,f=u+d,s=mr(h,f),n=t?vi(o,f+10):mr(e,f),c=Ie(s,n,f,1),Mn(c.d,i=u,l))do if(f+=10,s=mr(h,f),n=t?vi(o,f+10):mr(e,f),c=Ie(s,n,f,1),!a){+at(c.d).slice(i+1,i+15)+1==1e14&&(c=fe(c,u+1,0));break}while(Mn(c.d,i+=10,l));return de=!0,fe(c,u,l)};X.minus=X.sub=function(e){var t,r,n,i,a,s,f,c,h,o,u,l,d=this,m=d.constructor;if(e=new m(e),!d.d||!e.d)return!d.s||!e.s?e=new m(NaN):d.d?e.s=-e.s:e=new m(e.d||d.s!==e.s?d:NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(h=d.d,l=e.d,f=m.precision,c=m.rounding,!h[0]||!l[0]){if(l[0])e.s=-e.s;else if(h[0])e=new m(d);else return new m(c===3?-0:0);return de?fe(e,f,c):e}if(r=ht(e.e/le),o=ht(d.e/le),h=h.slice(),a=o-r,a){for(u=a<0,u?(t=h,a=-a,s=l.length):(t=l,r=o,s=h.length),n=Math.max(Math.ceil(f/le),s)+2,a>n&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for(n=h.length,s=l.length,u=n<s,u&&(s=n),n=0;n<s;n++)if(h[n]!=l[n]){u=h[n]<l[n];break}a=0}for(u&&(t=h,h=l,l=t,e.s=-e.s),s=h.length,n=l.length-s;n>0;--n)h[s++]=0;for(n=l.length;n>a;){if(h[--n]<l[n]){for(i=n;i&&h[--i]===0;)h[i]=$t-1;--h[i],h[n]+=$t}h[n]-=l[n]}for(;h[--s]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(e.d=h,e.e=zi(h,r),de?fe(e,f,c):e):new m(c===3?-0:0)};X.modulo=X.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?fe(new n(r),n.precision,n.rounding):(de=!1,n.modulo==9?(t=Ie(r,e.abs(),0,3,1),t.s*=e.s):t=Ie(r,e,0,n.modulo,1),t=t.times(e),de=!0,r.minus(t))};X.naturalExponential=X.exp=function(){return Ma(this)};X.naturalLogarithm=X.ln=function(){return mr(this)};X.negated=X.neg=function(){var e=new this.constructor(this);return e.s=-e.s,fe(e)};X.plus=X.add=function(e){var t,r,n,i,a,s,f,c,h,o,u=this,l=u.constructor;if(e=new l(e),!u.d||!e.d)return!u.s||!e.s?e=new l(NaN):u.d||(e=new l(e.d||u.s===e.s?u:NaN)),e;if(u.s!=e.s)return e.s=-e.s,u.minus(e);if(h=u.d,o=e.d,f=l.precision,c=l.rounding,!h[0]||!o[0])return o[0]||(e=new l(u)),de?fe(e,f,c):e;if(a=ht(u.e/le),n=ht(e.e/le),h=h.slice(),i=a-n,i){for(i<0?(r=h,i=-i,s=o.length):(r=o,n=a,s=h.length),a=Math.ceil(f/le),s=a>s?a+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=h.length,i=o.length,s-i<0&&(i=s,r=o,o=h,h=r),t=0;i;)t=(h[--i]=h[i]+o[i]+t)/$t|0,h[i]%=$t;for(t&&(h.unshift(t),++n),s=h.length;h[--s]==0;)h.pop();return e.d=h,e.e=zi(h,n),de?fe(e,f,c):e};X.precision=X.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(br+e);return r.d?(t=Ef(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};X.round=function(){var e=this,t=e.constructor;return fe(new t(e),e.e+1,t.rounding)};X.sine=X.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+le,n.rounding=1,r=Lh(n,Ff(n,r)),n.precision=e,n.rounding=t,fe(tr>2?r.neg():r,e,t,!0)):new n(NaN)};X.squareRoot=X.sqrt=function(){var e,t,r,n,i,a,s=this,f=s.d,c=s.e,h=s.s,o=s.constructor;if(h!==1||!f||!f[0])return new o(!h||h<0&&(!f||f[0])?NaN:f?s:1/0);for(de=!1,h=Math.sqrt(+s),h==0||h==1/0?(t=at(f),(t.length+c)%2==0&&(t+="0"),h=Math.sqrt(t),c=ht((c+1)/2)-(c<0||c%2),h==1/0?t="5e"+c:(t=h.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),n=new o(t)):n=new o(h.toString()),r=(c=o.precision)+3;;)if(a=n,n=a.plus(Ie(s,a,r+2,1)).times(.5),at(a.d).slice(0,r)===(t=at(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!i&&t=="4999"){if(!i&&(fe(a,c+1,0),a.times(a).eq(s))){n=a;break}r+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(fe(n,c+1,1),e=!n.times(n).eq(s));break}return de=!0,fe(n,c,o.rounding,e)};X.tangent=X.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=Ie(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,fe(tr==2||tr==4?r.neg():r,e,t,!0)):new n(NaN)};X.times=X.mul=function(e){var t,r,n,i,a,s,f,c,h,o=this,u=o.constructor,l=o.d,d=(e=new u(e)).d;if(e.s*=o.s,!l||!l[0]||!d||!d[0])return new u(!e.s||l&&!l[0]&&!d||d&&!d[0]&&!l?NaN:!l||!d?e.s/0:e.s*0);for(r=ht(o.e/le)+ht(e.e/le),c=l.length,h=d.length,c<h&&(a=l,l=d,d=a,s=c,c=h,h=s),a=[],s=c+h,n=s;n--;)a.push(0);for(n=h;--n>=0;){for(t=0,i=c+n;i>n;)f=a[i]+d[n]*l[i-n-1]+t,a[i--]=f%$t|0,t=f/$t|0;a[i]=(a[i]+t)%$t|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=zi(a,r),de?fe(e,u.precision,u.rounding):e};X.toBinary=function(e,t){return ss(this,2,e,t)};X.toDecimalPlaces=X.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(At(e,0,Ar),t===void 0?t=n.rounding:At(t,0,8),fe(r,e+r.e+1,t))};X.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Jt(n,!0):(At(e,0,Ar),t===void 0?t=i.rounding:At(t,0,8),n=fe(new i(n),e+1,t),r=Jt(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};X.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?r=Jt(i):(At(e,0,Ar),t===void 0?t=a.rounding:At(t,0,8),n=fe(new a(i),e+i.e+1,t),r=Jt(n,!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};X.toFraction=function(e){var t,r,n,i,a,s,f,c,h,o,u,l,d=this,m=d.d,p=d.constructor;if(!m)return new p(d);if(h=r=new p(1),n=c=new p(0),t=new p(n),a=t.e=Ef(m)-d.e-1,s=a%le,t.d[0]=rt(10,s<0?le+s:s),e==null)e=a>0?t:h;else{if(f=new p(e),!f.isInt()||f.lt(h))throw Error(br+f);e=f.gt(t)?a>0?t:h:f}for(de=!1,f=new p(at(m)),o=p.precision,p.precision=a=m.length*le*2;u=Ie(f,t,0,1,1),i=r.plus(u.times(n)),i.cmp(e)!=1;)r=n,n=i,i=h,h=c.plus(u.times(i)),c=i,i=t,t=f.minus(u.times(i)),f=i;return i=Ie(e.minus(r),n,0,1,1),c=c.plus(i.times(h)),r=r.plus(i.times(n)),c.s=h.s=d.s,l=Ie(h,n,a,1).minus(d).abs().cmp(Ie(c,r,a,1).minus(d).abs())<1?[h,n]:[c,r],p.precision=o,de=!0,l};X.toHexadecimal=X.toHex=function(e,t){return ss(this,16,e,t)};X.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:At(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(de=!1,r=Ie(r,e,0,t,1).times(e),de=!0,fe(r)):(e.s=r.s,r=e),r};X.toNumber=function(){return+this};X.toOctal=function(e,t){return ss(this,8,e,t)};X.toPower=X.pow=function(e){var t,r,n,i,a,s,f=this,c=f.constructor,h=+(e=new c(e));if(!f.d||!e.d||!f.d[0]||!e.d[0])return new c(rt(+f,h));if(f=new c(f),f.eq(1))return f;if(n=c.precision,a=c.rounding,e.eq(1))return fe(f,n,a);if(t=ht(e.e/le),t>=e.d.length-1&&(r=h<0?-h:h)<=Bh)return i=xf(c,f,r,n),e.s<0?new c(1).div(i):fe(i,n,a);if(s=f.s,s<0){if(t<e.d.length-1)return new c(NaN);if(e.d[t]&1||(s=1),f.e==0&&f.d[0]==1&&f.d.length==1)return f.s=s,f}return r=rt(+f,h),t=r==0||!isFinite(r)?ht(h*(Math.log("0."+at(f.d))/Math.LN10+f.e+1)):new c(r+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?s/0:0):(de=!1,c.rounding=f.s=1,r=Math.min(12,(t+"").length),i=Ma(e.times(mr(f,n+r)),n),i.d&&(i=fe(i,n+5,1),Mn(i.d,n,a)&&(t=n+10,i=fe(Ma(e.times(mr(f,t+r)),t),t+5,1),+at(i.d).slice(n+1,n+15)+1==1e14&&(i=fe(i,n+1,0)))),i.s=s,de=!0,c.rounding=a,fe(i,n,a))};X.toPrecision=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Jt(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(At(e,1,Ar),t===void 0?t=i.rounding:At(t,0,8),n=fe(new i(n),e,t),r=Jt(n,e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};X.toSignificantDigits=X.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(At(e,1,Ar),t===void 0?t=n.rounding:At(t,0,8)),fe(new n(r),e,t)};X.toString=function(){var e=this,t=e.constructor,r=Jt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};X.truncated=X.trunc=function(){return fe(new this.constructor(this),this.e+1,1)};X.valueOf=X.toJSON=function(){var e=this,t=e.constructor,r=Jt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function at(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=le-n.length,r&&(a+=dr(r)),a+=n;s=e[t],n=s+"",r=le-n.length,r&&(a+=dr(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}function At(e,t,r){if(e!==~~e||e<t||e>r)throw Error(br+e)}function Mn(e,t,r,n){var i,a,s,f;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=le,i=0):(i=Math.ceil((t+1)/le),t%=le),a=rt(10,le-t),f=e[i]%a|0,n==null?t<3?(t==0?f=f/100|0:t==1&&(f=f/10|0),s=r<4&&f==99999||r>3&&f==49999||f==5e4||f==0):s=(r<4&&f+1==a||r>3&&f+1==a/2)&&(e[i+1]/a/100|0)==rt(10,t-2)-1||(f==a/2||f==0)&&(e[i+1]/a/100|0)==0:t<4?(t==0?f=f/1e3|0:t==1?f=f/100|0:t==2&&(f=f/10|0),s=(n||r<4)&&f==9999||!n&&r>3&&f==4999):s=((n||r<4)&&f+1==a||!n&&r>3&&f+1==a/2)&&(e[i+1]/a/1e3|0)==rt(10,t-3)-1,s}function ai(e,t,r){for(var n,i=[0],a,s=0,f=e.length;s<f;){for(a=i.length;a--;)i[a]*=t;for(i[0]+=Ca.indexOf(e.charAt(s++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function Ih(e,t){var r,n,i;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),i=(1/Ui(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=en(e,1,t.times(i),new e(1));for(var a=r;a--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=r,t}var Ie=function(){function e(n,i,a){var s,f=0,c=n.length;for(n=n.slice();c--;)s=n[c]*i+f,n[c]=s%a|0,f=s/a|0;return f&&n.unshift(f),n}function t(n,i,a,s){var f,c;if(a!=s)c=a>s?1:-1;else for(f=c=0;f<a;f++)if(n[f]!=i[f]){c=n[f]>i[f]?1:-1;break}return c}function r(n,i,a,s){for(var f=0;a--;)n[a]-=f,f=n[a]<i[a]?1:0,n[a]=f*s+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s,f,c){var h,o,u,l,d,m,p,v,w,T,g,M,A,y,I,_,R,P,Y,$,ne=n.constructor,W=n.s==i.s?1:-1,te=n.d,H=i.d;if(!te||!te[0]||!H||!H[0])return new ne(!n.s||!i.s||(te?H&&te[0]==H[0]:!H)?NaN:te&&te[0]==0||!H?W*0:W/0);for(c?(d=1,o=n.e-i.e):(c=$t,d=le,o=ht(n.e/d)-ht(i.e/d)),Y=H.length,R=te.length,w=new ne(W),T=w.d=[],u=0;H[u]==(te[u]||0);u++);if(H[u]>(te[u]||0)&&o--,a==null?(y=a=ne.precision,s=ne.rounding):f?y=a+(n.e-i.e)+1:y=a,y<0)T.push(1),m=!0;else{if(y=y/d+2|0,u=0,Y==1){for(l=0,H=H[0],y++;(u<R||l)&&y--;u++)I=l*c+(te[u]||0),T[u]=I/H|0,l=I%H|0;m=l||u<R}else{for(l=c/(H[0]+1)|0,l>1&&(H=e(H,l,c),te=e(te,l,c),Y=H.length,R=te.length),_=Y,g=te.slice(0,Y),M=g.length;M<Y;)g[M++]=0;$=H.slice(),$.unshift(0),P=H[0],H[1]>=c/2&&++P;do l=0,h=t(H,g,Y,M),h<0?(A=g[0],Y!=M&&(A=A*c+(g[1]||0)),l=A/P|0,l>1?(l>=c&&(l=c-1),p=e(H,l,c),v=p.length,M=g.length,h=t(p,g,v,M),h==1&&(l--,r(p,Y<v?$:H,v,c))):(l==0&&(h=l=1),p=H.slice()),v=p.length,v<M&&p.unshift(0),r(g,p,M,c),h==-1&&(M=g.length,h=t(H,g,Y,M),h<1&&(l++,r(g,Y<M?$:H,M,c))),M=g.length):h===0&&(l++,g=[0]),T[u++]=l,h&&g[0]?g[M++]=te[_]||0:(g=[te[_]],M=1);while((_++<R||g[0]!==void 0)&&y--);m=g[0]!==void 0}T[0]||T.shift()}if(d==1)w.e=o,gf=m;else{for(u=1,l=T[0];l>=10;l/=10)u++;w.e=u+o*d-1,fe(w,f?a+w.e+1:a,s,m)}return w}}();function fe(e,t,r,n){var i,a,s,f,c,h,o,u,l,d=e.constructor;e:if(t!=null){if(u=e.d,!u)return e;for(i=1,f=u[0];f>=10;f/=10)i++;if(a=t-i,a<0)a+=le,s=t,o=u[l=0],c=o/rt(10,i-s-1)%10|0;else if(l=Math.ceil((a+1)/le),f=u.length,l>=f)if(n){for(;f++<=l;)u.push(0);o=c=0,i=1,a%=le,s=a-le+1}else break e;else{for(o=f=u[l],i=1;f>=10;f/=10)i++;a%=le,s=a-le+i,c=s<0?0:o/rt(10,i-s-1)%10|0}if(n=n||t<0||u[l+1]!==void 0||(s<0?o:o%rt(10,i-s-1)),h=r<4?(c||n)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||n||r==6&&(a>0?s>0?o/rt(10,i-s):0:u[l-1])%10&1||r==(e.s<0?8:7)),t<1||!u[0])return u.length=0,h?(t-=e.e+1,u[0]=rt(10,(le-t%le)%le),e.e=-t||0):u[0]=e.e=0,e;if(a==0?(u.length=l,f=1,l--):(u.length=l+1,f=rt(10,le-a),u[l]=s>0?(o/rt(10,i-s)%rt(10,s)|0)*f:0),h)for(;;)if(l==0){for(a=1,s=u[0];s>=10;s/=10)a++;for(s=u[0]+=f,f=1;s>=10;s/=10)f++;a!=f&&(e.e++,u[0]==$t&&(u[0]=1));break}else{if(u[l]+=f,u[l]!=$t)break;u[l--]=0,f=1}for(a=u.length;u[--a]===0;)u.pop()}return de&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function Jt(e,t,r){if(!e.isFinite())return Cf(e);var n,i=e.e,a=at(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+dr(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+dr(-i-1)+a,r&&(n=r-s)>0&&(a+=dr(n))):i>=s?(a+=dr(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+dr(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=dr(n))),a}function zi(e,t){var r=e[0];for(t*=le;r>=10;r/=10)t++;return t}function vi(e,t,r){if(t>Oh)throw de=!0,r&&(e.precision=r),Error(Df);return fe(new e(pi),t,1,!0)}function Vt(e,t,r){if(t>Na)throw Error(Df);return fe(new e(mi),t,r,!0)}function Ef(e){var t=e.length-1,r=t*le+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function dr(e){for(var t="";e--;)t+="0";return t}function xf(e,t,r,n){var i,a=new e(1),s=Math.ceil(n/le+4);for(de=!1;;){if(r%2&&(a=a.times(t),fu(a.d,s)&&(i=!0)),r=ht(r/2),r===0){r=a.d.length-1,i&&a.d[r]===0&&++a.d[r];break}t=t.times(t),fu(t.d,s)}return de=!0,a}function ou(e){return e.d[e.d.length-1]&1}function Af(e,t,r){for(var n,i=new e(t[0]),a=0;++a<t.length;)if(n=new e(t[a]),n.s)i[r](n)&&(i=n);else{i=n;break}return i}function Ma(e,t){var r,n,i,a,s,f,c,h=0,o=0,u=0,l=e.constructor,d=l.rounding,m=l.precision;if(!e.d||!e.d[0]||e.e>17)return new l(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(de=!1,c=m):c=t,f=new l(.03125);e.e>-2;)e=e.times(f),u+=5;for(n=Math.log(rt(2,u))/Math.LN10*2+5|0,c+=n,r=a=s=new l(1),l.precision=c;;){if(a=fe(a.times(e),c,1),r=r.times(++o),f=s.plus(Ie(a,r,c,1)),at(f.d).slice(0,c)===at(s.d).slice(0,c)){for(i=u;i--;)s=fe(s.times(s),c,1);if(t==null)if(h<3&&Mn(s.d,c-n,d,h))l.precision=c+=10,r=a=f=new l(1),o=0,h++;else return fe(s,l.precision=m,d,de=!0);else return l.precision=m,s}s=f}}function mr(e,t){var r,n,i,a,s,f,c,h,o,u,l,d=1,m=10,p=e,v=p.d,w=p.constructor,T=w.rounding,g=w.precision;if(p.s<0||!v||!v[0]||!p.e&&v[0]==1&&v.length==1)return new w(v&&!v[0]?-1/0:p.s!=1?NaN:v?0:p);if(t==null?(de=!1,o=g):o=t,w.precision=o+=m,r=at(v),n=r.charAt(0),Math.abs(a=p.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=at(p.d),n=r.charAt(0),d++;a=p.e,n>1?(p=new w("0."+r),a++):p=new w(n+"."+r.slice(1))}else return h=vi(w,o+2,g).times(a+""),p=mr(new w(n+"."+r.slice(1)),o-m).plus(h),w.precision=g,t==null?fe(p,g,T,de=!0):p;for(u=p,c=s=p=Ie(p.minus(1),p.plus(1),o,1),l=fe(p.times(p),o,1),i=3;;){if(s=fe(s.times(l),o,1),h=c.plus(Ie(s,new w(i),o,1)),at(h.d).slice(0,o)===at(c.d).slice(0,o))if(c=c.times(2),a!==0&&(c=c.plus(vi(w,o+2,g).times(a+""))),c=Ie(c,new w(d),o,1),t==null)if(Mn(c.d,o-m,T,f))w.precision=o+=m,h=s=p=Ie(u.minus(1),u.plus(1),o,1),l=fe(p.times(p),o,1),i=f=1;else return fe(c,w.precision=g,T,de=!0);else return w.precision=g,c;c=h,i+=2}}function Cf(e){return String(e.s*e.s/0)}function Sa(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(n,i),t){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%le,r<0&&(n+=le),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=le;n<i;)e.d.push(+t.slice(n,n+=le));t=t.slice(n),n=le-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),de&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Rh(e,t){var r,n,i,a,s,f,c,h,o;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),wf.test(t))return Sa(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(_h.test(t))r=16,t=t.toLowerCase();else if(Sh.test(t))r=2;else if(Th.test(t))r=8;else throw Error(br+t);for(a=t.search(/p/i),a>0?(c=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),a=t.indexOf("."),s=a>=0,n=e.constructor,s&&(t=t.replace(".",""),f=t.length,a=f-a,i=xf(n,new n(r),a,a*2)),h=ai(t,r,$t),o=h.length-1,a=o;h[a]===0;--a)h.pop();return a<0?new n(e.s*0):(e.e=zi(h,o),e.d=h,de=!1,s&&(e=Ie(e,i,f*4)),c&&(e=e.times(Math.abs(c)<54?rt(2,c):wr.pow(2,c))),de=!0,e)}function Lh(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:en(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/Ui(5,r)),t=en(e,2,t,t);for(var i,a=new e(5),s=new e(16),f=new e(20);r--;)i=t.times(t),t=t.times(a.plus(i.times(s.times(i).minus(f))));return t}function en(e,t,r,n,i){var a,s,f,c,h=e.precision,o=Math.ceil(h/le);for(de=!1,c=r.times(r),f=new e(n);;){if(s=Ie(f.times(c),new e(t++*t++),h,1),f=i?n.plus(s):n.minus(s),n=Ie(s.times(c),new e(t++*t++),h,1),s=f.plus(n),s.d[o]!==void 0){for(a=o;s.d[a]===f.d[a]&&a--;);if(a==-1)break}a=f,f=n,n=s,s=a}return de=!0,s.d.length=o+1,s}function Ui(e,t){for(var r=e;--t;)r*=e;return r}function Ff(e,t){var r,n=t.s<0,i=Vt(e,e.precision,1),a=i.times(.5);if(t=t.abs(),t.lte(a))return tr=n?4:1,t;if(r=t.divToInt(i),r.isZero())tr=n?3:2;else{if(t=t.minus(r.times(i)),t.lte(a))return tr=ou(r)?n?2:3:n?4:1,t;tr=ou(r)?n?1:4:n?3:2}return t.minus(i).abs()}function ss(e,t,r,n){var i,a,s,f,c,h,o,u,l,d=e.constructor,m=r!==void 0;if(m?(At(r,1,Ar),n===void 0?n=d.rounding:At(n,0,8)):(r=d.precision,n=d.rounding),!e.isFinite())o=Cf(e);else{for(o=Jt(e),s=o.indexOf("."),m?(i=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):i=t,s>=0&&(o=o.replace(".",""),l=new d(1),l.e=o.length-s,l.d=ai(Jt(l),10,i),l.e=l.d.length),u=ai(o,10,i),a=c=u.length;u[--c]==0;)u.pop();if(!u[0])o=m?"0p+0":"0";else{if(s<0?a--:(e=new d(e),e.d=u,e.e=a,e=Ie(e,l,r,n,0,i),u=e.d,a=e.e,h=gf),s=u[r],f=i/2,h=h||u[r+1]!==void 0,h=n<4?(s!==void 0||h)&&(n===0||n===(e.s<0?3:2)):s>f||s===f&&(n===4||h||n===6&&u[r-1]&1||n===(e.s<0?8:7)),u.length=r,h)for(;++u[--r]>i-1;)u[r]=0,r||(++a,u.unshift(1));for(c=u.length;!u[c-1];--c);for(s=0,o="";s<c;s++)o+=Ca.charAt(u[s]);if(m){if(c>1)if(t==16||t==8){for(s=t==16?4:3,--c;c%s;c++)o+="0";for(u=ai(o,i,t),c=u.length;!u[c-1];--c);for(s=1,o="1.";s<c;s++)o+=Ca.charAt(u[s])}else o=o.charAt(0)+"."+o.slice(1);o=o+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)o="0"+o;o="0."+o}else if(++a>c)for(a-=c;a--;)o+="0";else a<c&&(o=o.slice(0,a)+"."+o.slice(a))}o=(t==16?"0x":t==2?"0b":t==8?"0o":"")+o}return e.s<0?"-"+o:o}function fu(e,t){if(e.length>t)return e.length=t,!0}function Ph(e){return new this(e).abs()}function zh(e){return new this(e).acos()}function Uh(e){return new this(e).acosh()}function Vh(e,t){return new this(e).plus(t)}function $h(e){return new this(e).asin()}function Hh(e){return new this(e).asinh()}function qh(e){return new this(e).atan()}function Gh(e){return new this(e).atanh()}function kh(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,a=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=Vt(this,a,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?Vt(this,n,i):new this(0),r.s=e.s):!e.d||t.isZero()?(r=Vt(this,a,1).times(.5),r.s=e.s):t.s<0?(this.precision=a,this.rounding=1,r=this.atan(Ie(e,t,a,1)),t=Vt(this,a,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(Ie(e,t,a,1)),r}function Yh(e){return new this(e).cbrt()}function jh(e){return fe(e=new this(e),e.e+1,2)}function Wh(e,t,r){return new this(e).clamp(t,r)}function Zh(e){if(!e||typeof e!="object")throw Error(Pi+"Object expected");var t,r,n,i=e.defaults===!0,a=["precision",1,Ar,"rounding",0,8,"toExpNeg",-Gr,0,"toExpPos",0,Gr,"maxE",0,Gr,"minE",-Gr,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],i&&(this[r]=Fa[r]),(n=e[r])!==void 0)if(ht(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(br+r+": "+n);if(r="crypto",i&&(this[r]=Fa[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(yf);else this[r]=!1;else throw Error(br+r+": "+n);return this}function Kh(e){return new this(e).cos()}function Jh(e){return new this(e).cosh()}function Nf(e){var t,r,n;function i(a){var s,f,c,h=this;if(!(h instanceof i))return new i(a);if(h.constructor=i,lu(a)){h.s=a.s,de?!a.d||a.e>i.maxE?(h.e=NaN,h.d=null):a.e<i.minE?(h.e=0,h.d=[0]):(h.e=a.e,h.d=a.d.slice()):(h.e=a.e,h.d=a.d?a.d.slice():a.d);return}if(c=typeof a,c==="number"){if(a===0){h.s=1/a<0?-1:1,h.e=0,h.d=[0];return}if(a<0?(a=-a,h.s=-1):h.s=1,a===~~a&&a<1e7){for(s=0,f=a;f>=10;f/=10)s++;de?s>i.maxE?(h.e=NaN,h.d=null):s<i.minE?(h.e=0,h.d=[0]):(h.e=s,h.d=[a]):(h.e=s,h.d=[a]);return}else if(a*0!==0){a||(h.s=NaN),h.e=NaN,h.d=null;return}return Sa(h,a.toString())}else if(c!=="string")throw Error(br+a);return(f=a.charCodeAt(0))===45?(a=a.slice(1),h.s=-1):(f===43&&(a=a.slice(1)),h.s=1),wf.test(a)?Sa(h,a):Rh(h,a)}if(i.prototype=X,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Zh,i.clone=Nf,i.isDecimal=lu,i.abs=Ph,i.acos=zh,i.acosh=Uh,i.add=Vh,i.asin=$h,i.asinh=Hh,i.atan=qh,i.atanh=Gh,i.atan2=kh,i.cbrt=Yh,i.ceil=jh,i.clamp=Wh,i.cos=Kh,i.cosh=Jh,i.div=Xh,i.exp=Qh,i.floor=ep,i.hypot=tp,i.ln=rp,i.log=np,i.log10=ap,i.log2=ip,i.max=sp,i.min=up,i.mod=op,i.mul=fp,i.pow=lp,i.random=cp,i.round=dp,i.sign=hp,i.sin=pp,i.sinh=mp,i.sqrt=vp,i.sub=gp,i.sum=Dp,i.tan=yp,i.tanh=bp,i.trunc=wp,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Xh(e,t){return new this(e).div(t)}function Qh(e){return new this(e).exp()}function ep(e){return fe(e=new this(e),e.e+1,3)}function tp(){var e,t,r=new this(0);for(de=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return de=!0,new this(1/0);r=t}return de=!0,r.sqrt()}function lu(e){return e instanceof wr||e&&e.toStringTag===bf||!1}function rp(e){return new this(e).ln()}function np(e,t){return new this(e).log(t)}function ip(e){return new this(e).log(2)}function ap(e){return new this(e).log(10)}function sp(){return Af(this,arguments,"lt")}function up(){return Af(this,arguments,"gt")}function op(e,t){return new this(e).mod(t)}function fp(e,t){return new this(e).mul(t)}function lp(e,t){return new this(e).pow(t)}function cp(e){var t,r,n,i,a=0,s=new this(1),f=[];if(e===void 0?e=this.precision:At(e,1,Ar),n=Math.ceil(e/le),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)i=t[a],i>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:f[a++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);a<n;)i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((t[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,a):(f.push(i%1e7),a+=4);a=n/4}else throw Error(yf);else for(;a<n;)f[a++]=Math.random()*1e7|0;for(n=f[--a],e%=le,n&&e&&(i=rt(10,le-e),f[a]=(n/i|0)*i);f[a]===0;a--)f.pop();if(a<0)r=0,f=[0];else{for(r=-1;f[0]===0;r-=le)f.shift();for(n=1,i=f[0];i>=10;i/=10)n++;n<le&&(r-=le-n)}return s.e=r,s.d=f,s}function dp(e){return fe(e=new this(e),e.e+1,this.rounding)}function hp(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function pp(e){return new this(e).sin()}function mp(e){return new this(e).sinh()}function vp(e){return new this(e).sqrt()}function gp(e,t){return new this(e).sub(t)}function Dp(){var e=0,t=arguments,r=new this(t[e]);for(de=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return de=!0,fe(r,this.precision,this.rounding)}function yp(e){return new this(e).tan()}function bp(e){return new this(e).tanh()}function wp(e){return fe(e=new this(e),e.e+1,1)}X[Symbol.for("nodejs.util.inspect.custom")]=X.toString;X[Symbol.toStringTag]="Decimal";var wr=X.constructor=Nf(Fa);pi=new wr(pi);mi=new wr(mi);var Ep="BigNumber",xp=["?on","config"],Ap=ae(Ep,xp,e=>{var{on:t,config:r}=e,n=wr.clone({precision:r.precision,modulo:wr.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},t&&t("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});function Cp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mf={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(r){var n=Math.cosh||function(u){return Math.abs(u)<1e-9?1-u:(Math.exp(u)+Math.exp(-u))*.5},i=Math.sinh||function(u){return Math.abs(u)<1e-9?u:(Math.exp(u)-Math.exp(-u))*.5},a=function(u){var l=Math.PI/4;if(-l>u||u>l)return Math.cos(u)-1;var d=u*u;return d*(d*(d*(d*(d*(d*(d*(d/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},s=function(u,l){var d=Math.abs(u),m=Math.abs(l);return d<3e3&&m<3e3?Math.sqrt(d*d+m*m):(d<m?(d=m,m=u/l):m=l/u,d*Math.sqrt(1+m*m))},f=function(){throw SyntaxError("Invalid Param")};function c(u,l){var d=Math.abs(u),m=Math.abs(l);return u===0?Math.log(m):l===0?Math.log(d):d<3e3&&m<3e3?Math.log(u*u+l*l)*.5:(u=u/2,l=l/2,.5*Math.log(u*u+l*l)+Math.LN2)}var h=function(u,l){var d={re:0,im:0};if(u==null)d.re=d.im=0;else if(l!==void 0)d.re=u,d.im=l;else switch(typeof u){case"object":if("im"in u&&"re"in u)d.re=u.re,d.im=u.im;else if("abs"in u&&"arg"in u){if(!Number.isFinite(u.abs)&&Number.isFinite(u.arg))return o.INFINITY;d.re=u.abs*Math.cos(u.arg),d.im=u.abs*Math.sin(u.arg)}else if("r"in u&&"phi"in u){if(!Number.isFinite(u.r)&&Number.isFinite(u.phi))return o.INFINITY;d.re=u.r*Math.cos(u.phi),d.im=u.r*Math.sin(u.phi)}else u.length===2?(d.re=u[0],d.im=u[1]):f();break;case"string":d.im=d.re=0;var m=u.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),p=1,v=0;m===null&&f();for(var w=0;w<m.length;w++){var T=m[w];T===" "||T==="	"||T===`
`||(T==="+"?p++:T==="-"?v++:T==="i"||T==="I"?(p+v===0&&f(),m[w+1]!==" "&&!isNaN(m[w+1])?(d.im+=parseFloat((v%2?"-":"")+m[w+1]),w++):d.im+=parseFloat((v%2?"-":"")+"1"),p=v=0):((p+v===0||isNaN(T))&&f(),m[w+1]==="i"||m[w+1]==="I"?(d.im+=parseFloat((v%2?"-":"")+T),w++):d.re+=parseFloat((v%2?"-":"")+T),p=v=0))}p+v>0&&f();break;case"number":d.im=0,d.re=u;break;default:f()}return isNaN(d.re)||isNaN(d.im),d};function o(u,l){if(!(this instanceof o))return new o(u,l);var d=h(u,l);this.re=d.re,this.im=d.im}o.prototype={re:0,im:0,sign:function(){var u=this.abs();return new o(this.re/u,this.im/u)},add:function(u,l){var d=new o(u,l);return this.isInfinite()&&d.isInfinite()?o.NAN:this.isInfinite()||d.isInfinite()?o.INFINITY:new o(this.re+d.re,this.im+d.im)},sub:function(u,l){var d=new o(u,l);return this.isInfinite()&&d.isInfinite()?o.NAN:this.isInfinite()||d.isInfinite()?o.INFINITY:new o(this.re-d.re,this.im-d.im)},mul:function(u,l){var d=new o(u,l);return this.isInfinite()&&d.isZero()||this.isZero()&&d.isInfinite()?o.NAN:this.isInfinite()||d.isInfinite()?o.INFINITY:d.im===0&&this.im===0?new o(this.re*d.re,0):new o(this.re*d.re-this.im*d.im,this.re*d.im+this.im*d.re)},div:function(u,l){var d=new o(u,l);if(this.isZero()&&d.isZero()||this.isInfinite()&&d.isInfinite())return o.NAN;if(this.isInfinite()||d.isZero())return o.INFINITY;if(this.isZero()||d.isInfinite())return o.ZERO;u=this.re,l=this.im;var m=d.re,p=d.im,v,w;return p===0?new o(u/m,l/m):Math.abs(m)<Math.abs(p)?(w=m/p,v=m*w+p,new o((u*w+l)/v,(l*w-u)/v)):(w=p/m,v=p*w+m,new o((u+l*w)/v,(l-u*w)/v))},pow:function(u,l){var d=new o(u,l);if(u=this.re,l=this.im,d.isZero())return o.ONE;if(d.im===0){if(l===0&&u>0)return new o(Math.pow(u,d.re),0);if(u===0)switch((d.re%4+4)%4){case 0:return new o(Math.pow(l,d.re),0);case 1:return new o(0,Math.pow(l,d.re));case 2:return new o(-Math.pow(l,d.re),0);case 3:return new o(0,-Math.pow(l,d.re))}}if(u===0&&l===0&&d.re>0&&d.im>=0)return o.ZERO;var m=Math.atan2(l,u),p=c(u,l);return u=Math.exp(d.re*p-d.im*m),l=d.im*p+d.re*m,new o(u*Math.cos(l),u*Math.sin(l))},sqrt:function(){var u=this.re,l=this.im,d=this.abs(),m,p;if(u>=0){if(l===0)return new o(Math.sqrt(u),0);m=.5*Math.sqrt(2*(d+u))}else m=Math.abs(l)/Math.sqrt(2*(d-u));return u<=0?p=.5*Math.sqrt(2*(d-u)):p=Math.abs(l)/Math.sqrt(2*(d+u)),new o(m,l<0?-p:p)},exp:function(){var u=Math.exp(this.re);return this.im,new o(u*Math.cos(this.im),u*Math.sin(this.im))},expm1:function(){var u=this.re,l=this.im;return new o(Math.expm1(u)*Math.cos(l)+a(l),Math.exp(u)*Math.sin(l))},log:function(){var u=this.re,l=this.im;return new o(c(u,l),Math.atan2(l,u))},abs:function(){return s(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var u=this.re,l=this.im;return new o(Math.sin(u)*n(l),Math.cos(u)*i(l))},cos:function(){var u=this.re,l=this.im;return new o(Math.cos(u)*n(l),-Math.sin(u)*i(l))},tan:function(){var u=2*this.re,l=2*this.im,d=Math.cos(u)+n(l);return new o(Math.sin(u)/d,i(l)/d)},cot:function(){var u=2*this.re,l=2*this.im,d=Math.cos(u)-n(l);return new o(-Math.sin(u)/d,i(l)/d)},sec:function(){var u=this.re,l=this.im,d=.5*n(2*l)+.5*Math.cos(2*u);return new o(Math.cos(u)*n(l)/d,Math.sin(u)*i(l)/d)},csc:function(){var u=this.re,l=this.im,d=.5*n(2*l)-.5*Math.cos(2*u);return new o(Math.sin(u)*n(l)/d,-Math.cos(u)*i(l)/d)},asin:function(){var u=this.re,l=this.im,d=new o(l*l-u*u+1,-2*u*l).sqrt(),m=new o(d.re-l,d.im+u).log();return new o(m.im,-m.re)},acos:function(){var u=this.re,l=this.im,d=new o(l*l-u*u+1,-2*u*l).sqrt(),m=new o(d.re-l,d.im+u).log();return new o(Math.PI/2-m.im,m.re)},atan:function(){var u=this.re,l=this.im;if(u===0){if(l===1)return new o(0,1/0);if(l===-1)return new o(0,-1/0)}var d=u*u+(1-l)*(1-l),m=new o((1-l*l-u*u)/d,-2*u/d).log();return new o(-.5*m.im,.5*m.re)},acot:function(){var u=this.re,l=this.im;if(l===0)return new o(Math.atan2(1,u),0);var d=u*u+l*l;return d!==0?new o(u/d,-l/d).atan():new o(u!==0?u/0:0,l!==0?-l/0:0).atan()},asec:function(){var u=this.re,l=this.im;if(u===0&&l===0)return new o(0,1/0);var d=u*u+l*l;return d!==0?new o(u/d,-l/d).acos():new o(u!==0?u/0:0,l!==0?-l/0:0).acos()},acsc:function(){var u=this.re,l=this.im;if(u===0&&l===0)return new o(Math.PI/2,1/0);var d=u*u+l*l;return d!==0?new o(u/d,-l/d).asin():new o(u!==0?u/0:0,l!==0?-l/0:0).asin()},sinh:function(){var u=this.re,l=this.im;return new o(i(u)*Math.cos(l),n(u)*Math.sin(l))},cosh:function(){var u=this.re,l=this.im;return new o(n(u)*Math.cos(l),i(u)*Math.sin(l))},tanh:function(){var u=2*this.re,l=2*this.im,d=n(u)+Math.cos(l);return new o(i(u)/d,Math.sin(l)/d)},coth:function(){var u=2*this.re,l=2*this.im,d=n(u)-Math.cos(l);return new o(i(u)/d,-Math.sin(l)/d)},csch:function(){var u=this.re,l=this.im,d=Math.cos(2*l)-n(2*u);return new o(-2*i(u)*Math.cos(l)/d,2*n(u)*Math.sin(l)/d)},sech:function(){var u=this.re,l=this.im,d=Math.cos(2*l)+n(2*u);return new o(2*n(u)*Math.cos(l)/d,-2*i(u)*Math.sin(l)/d)},asinh:function(){var u=this.im;this.im=-this.re,this.re=u;var l=this.asin();return this.re=-this.im,this.im=u,u=l.re,l.re=-l.im,l.im=u,l},acosh:function(){var u=this.acos();if(u.im<=0){var l=u.re;u.re=-u.im,u.im=l}else{var l=u.im;u.im=-u.re,u.re=l}return u},atanh:function(){var u=this.re,l=this.im,d=u>1&&l===0,m=1-u,p=1+u,v=m*m+l*l,w=v!==0?new o((p*m-l*l)/v,(l*m+p*l)/v):new o(u!==-1?u/0:0,l!==0?l/0:0),T=w.re;return w.re=c(w.re,w.im)/2,w.im=Math.atan2(w.im,T)/2,d&&(w.im=-w.im),w},acoth:function(){var u=this.re,l=this.im;if(u===0&&l===0)return new o(0,Math.PI/2);var d=u*u+l*l;return d!==0?new o(u/d,-l/d).atanh():new o(u!==0?u/0:0,l!==0?-l/0:0).atanh()},acsch:function(){var u=this.re,l=this.im;if(l===0)return new o(u!==0?Math.log(u+Math.sqrt(u*u+1)):1/0,0);var d=u*u+l*l;return d!==0?new o(u/d,-l/d).asinh():new o(u!==0?u/0:0,l!==0?-l/0:0).asinh()},asech:function(){var u=this.re,l=this.im;if(this.isZero())return o.INFINITY;var d=u*u+l*l;return d!==0?new o(u/d,-l/d).acosh():new o(u!==0?u/0:0,l!==0?-l/0:0).acosh()},inverse:function(){if(this.isZero())return o.INFINITY;if(this.isInfinite())return o.ZERO;var u=this.re,l=this.im,d=u*u+l*l;return new o(u/d,-l/d)},conjugate:function(){return new o(this.re,-this.im)},neg:function(){return new o(-this.re,-this.im)},ceil:function(u){return u=Math.pow(10,u||0),new o(Math.ceil(this.re*u)/u,Math.ceil(this.im*u)/u)},floor:function(u){return u=Math.pow(10,u||0),new o(Math.floor(this.re*u)/u,Math.floor(this.im*u)/u)},round:function(u){return u=Math.pow(10,u||0),new o(Math.round(this.re*u)/u,Math.round(this.im*u)/u)},equals:function(u,l){var d=new o(u,l);return Math.abs(d.re-this.re)<=o.EPSILON&&Math.abs(d.im-this.im)<=o.EPSILON},clone:function(){return new o(this.re,this.im)},toString:function(){var u=this.re,l=this.im,d="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(u)<o.EPSILON&&(u=0),Math.abs(l)<o.EPSILON&&(l=0),l===0?d+u:(u!==0?(d+=u,d+=" ",l<0?(l=-l,d+="-"):d+="+",d+=" "):l<0&&(l=-l,d+="-"),l!==1&&(d+=l),d+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},o.ZERO=new o(0,0),o.ONE=new o(1,0),o.I=new o(0,1),o.PI=new o(Math.PI,0),o.E=new o(Math.E,0),o.INFINITY=new o(1/0,1/0),o.NAN=new o(NaN,NaN),o.EPSILON=1e-15,Object.defineProperty(o,"__esModule",{value:!0}),o.default=o,o.Complex=o,e.exports=o})()})(Mf);var Fp=Mf.exports;const it=Cp(Fp);var Np="Complex",Mp=[],Sp=ae(Np,Mp,()=>(Object.defineProperty(it,"name",{value:"Complex"}),it.prototype.constructor=it,it.prototype.type="Complex",it.prototype.isComplex=!0,it.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},it.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},it.prototype.format=function(e){var t="",r=this.im,n=this.re,i=Aa(this.re,e),a=Aa(this.im,e),s=Pe(e)?e:e?e.precision:null;if(s!==null){var f=Math.pow(10,-s);Math.abs(n/r)<f&&(n=0),Math.abs(r/n)<f&&(r=0)}return r===0?t=i:n===0?r===1?t="i":r===-1?t="-i":t=a+"i":r<0?r===-1?t=i+" - i":t=i+" - "+a.substring(1)+"i":r===1?t=i+" + i":t=i+" + "+a+"i",t},it.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return it(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(Pe(r)){if(cr(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Pe(n))return new it({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},it.prototype.valueOf=it.prototype.toString,it.fromJSON=function(e){return new it(e)},it.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},it),{isClass:!0});/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var _p=2e3,se={s:1,n:0,d:1};function Qt(e,t){if(isNaN(e=parseInt(e,10)))throw si();return e*t}function qe(e,t){if(t===0)throw us();var r=Object.create(ut.prototype);r.s=e<0?-1:1,e=e<0?-e:e;var n=kr(e,t);return r.n=e/n,r.d=t/n,r}function cu(e){for(var t={},r=e,n=2,i=4;i<=r;){for(;r%n===0;)r/=n,t[n]=(t[n]||0)+1;i+=1+2*n++}return r!==e?r>1&&(t[r]=(t[r]||0)+1):t[e]=(t[e]||0)+1,t}var Ct=function(e,t){var r=0,n=1,i=1,a=0,s=0,f=0,c=1,h=1,o=0,u=1,l=1,d=1,m=1e7,p;if(e!=null)if(t!==void 0){if(r=e,n=t,i=r*n,r%1!==0||n%1!==0)throw Ip()}else switch(typeof e){case"object":{if("d"in e&&"n"in e)r=e.n,n=e.d,"s"in e&&(r*=e.s);else if(0 in e)r=e[0],1 in e&&(n=e[1]);else throw si();i=r*n;break}case"number":{if(e<0&&(i=e,e=-e),e%1===0)r=e;else if(e>0){for(e>=1&&(h=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)),e/=h);u<=m&&d<=m;)if(p=(o+l)/(u+d),e===p){u+d<=m?(r=o+l,n=u+d):d>u?(r=l,n=d):(r=o,n=u);break}else e>p?(o+=l,u+=d):(l+=o,d+=u),u>m?(r=l,n=d):(r=o,n=u);r*=h}else(isNaN(e)||isNaN(t))&&(n=r=NaN);break}case"string":{if(u=e.match(/\d+|./g),u===null)throw si();if(u[o]==="-"?(i=-1,o++):u[o]==="+"&&o++,u.length===o+1?s=Qt(u[o++],i):u[o+1]==="."||u[o]==="."?(u[o]!=="."&&(a=Qt(u[o++],i)),o++,(o+1===u.length||u[o+1]==="("&&u[o+3]===")"||u[o+1]==="'"&&u[o+3]==="'")&&(s=Qt(u[o],i),c=Math.pow(10,u[o].length),o++),(u[o]==="("&&u[o+2]===")"||u[o]==="'"&&u[o+2]==="'")&&(f=Qt(u[o+1],i),h=Math.pow(10,u[o+1].length)-1,o+=3)):u[o+1]==="/"||u[o+1]===":"?(s=Qt(u[o],i),c=Qt(u[o+2],1),o+=3):u[o+3]==="/"&&u[o+1]===" "&&(a=Qt(u[o],i),s=Qt(u[o+2],i),c=Qt(u[o+4],1),o+=5),u.length<=o){n=c*h,i=r=f+n*a+h*s;break}}default:throw si()}if(n===0)throw us();se.s=i<0?-1:1,se.n=Math.abs(r),se.d=Math.abs(n)};function Tp(e,t,r){for(var n=1;t>0;e=e*e%r,t>>=1)t&1&&(n=n*e%r);return n}function Bp(e,t){for(;t%2===0;t/=2);for(;t%5===0;t/=5);if(t===1)return 0;for(var r=10%t,n=1;r!==1;n++)if(r=r*10%t,n>_p)return 0;return n}function Op(e,t,r){for(var n=1,i=Tp(10,r,t),a=0;a<300;a++){if(n===i)return a;n=n*10%t,i=i*10%t}return 0}function kr(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function ut(e,t){if(Ct(e,t),this instanceof ut)e=kr(se.d,se.n),this.s=se.s,this.n=se.n/e,this.d=se.d/e;else return qe(se.s*se.n,se.d)}var us=function(){return new Error("Division by Zero")},si=function(){return new Error("Invalid argument")},Ip=function(){return new Error("Parameters must be integer")};ut.prototype={s:1,n:0,d:1,abs:function(){return qe(this.n,this.d)},neg:function(){return qe(-this.s*this.n,this.d)},add:function(e,t){return Ct(e,t),qe(this.s*this.n*se.d+se.s*this.d*se.n,this.d*se.d)},sub:function(e,t){return Ct(e,t),qe(this.s*this.n*se.d-se.s*this.d*se.n,this.d*se.d)},mul:function(e,t){return Ct(e,t),qe(this.s*se.s*this.n*se.n,this.d*se.d)},div:function(e,t){return Ct(e,t),qe(this.s*se.s*this.n*se.d,this.d*se.n)},clone:function(){return qe(this.s*this.n,this.d)},mod:function(e,t){if(isNaN(this.n)||isNaN(this.d))return new ut(NaN);if(e===void 0)return qe(this.s*this.n%this.d,1);if(Ct(e,t),se.n===0&&this.d===0)throw us();return qe(this.s*(se.d*this.n)%(se.n*this.d),se.d*this.d)},gcd:function(e,t){return Ct(e,t),qe(kr(se.n,this.n)*kr(se.d,this.d),se.d*this.d)},lcm:function(e,t){return Ct(e,t),se.n===0&&this.n===0?qe(0,1):qe(se.n*this.n,kr(se.n,this.n)*kr(se.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new ut(NaN):qe(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new ut(NaN):qe(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new ut(NaN):qe(Math.round(e*this.s*this.n/this.d),e)},roundTo:function(e,t){return Ct(e,t),qe(this.s*Math.round(this.n*se.d/(this.d*se.n))*se.n,se.d)},inverse:function(){return qe(this.s*this.d,this.n)},pow:function(e,t){if(Ct(e,t),se.d===1)return se.s<0?qe(Math.pow(this.s*this.d,se.n),Math.pow(this.n,se.n)):qe(Math.pow(this.s*this.n,se.n),Math.pow(this.d,se.n));if(this.s<0)return null;var r=cu(this.n),n=cu(this.d),i=1,a=1;for(var s in r)if(s!=="1"){if(s==="0"){i=0;break}if(r[s]*=se.n,r[s]%se.d===0)r[s]/=se.d;else return null;i*=Math.pow(s,r[s])}for(var s in n)if(s!=="1"){if(n[s]*=se.n,n[s]%se.d===0)n[s]/=se.d;else return null;a*=Math.pow(s,n[s])}return se.s<0?qe(a,i):qe(i,a)},equals:function(e,t){return Ct(e,t),this.s*this.n*se.d===se.s*se.n*this.d},compare:function(e,t){Ct(e,t);var r=this.s*this.n*se.d-se.s*se.n*this.d;return(0<r)-(r<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;e=e||.001;for(var t=this.abs(),r=t.toContinued(),n=1;n<r.length;n++){for(var i=qe(r[n-1],1),a=n-2;a>=0;a--)i=i.inverse().add(r[a]);if(Math.abs(i.sub(t).valueOf())<e)return i.mul(this.s)}return this},divisible:function(e,t){return Ct(e,t),!(!(se.n*this.d)||this.n*se.d%(se.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),i===1?r+=n:(e&&(t=Math.floor(n/i))>0&&(r+=t,r+=" ",n%=i),r+=n,r+="/",r+=i),r},toLatex:function(e){var t,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),i===1?r+=n:(e&&(t=Math.floor(n/i))>0&&(r+=t,n%=i),r+="\\frac{",r+=n,r+="}{",r+=i,r+="}"),r},toContinued:function(){var e,t=this.n,r=this.d,n=[];if(isNaN(t)||isNaN(r))return n;do n.push(Math.floor(t/r)),e=t%r,t=r,r=e;while(t!==1);return n},toString:function(e){var t=this.n,r=this.d;if(isNaN(t)||isNaN(r))return"NaN";e=e||15;var n=Bp(t,r),i=Op(t,r,n),a=this.s<0?"-":"";if(a+=t/r|0,t%=r,t*=10,t&&(a+="."),n){for(var s=i;s--;)a+=t/r|0,t%=r,t*=10;a+="(";for(var s=n;s--;)a+=t/r|0,t%=r,t*=10;a+=")"}else for(var s=e;t&&s--;)a+=t/r|0,t%=r,t*=10;return a}};var Rp="Fraction",Lp=[],Pp=ae(Rp,Lp,()=>(Object.defineProperty(ut,"name",{value:"Fraction"}),ut.prototype.constructor=ut,ut.prototype.type="Fraction",ut.prototype.isFraction=!0,ut.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},ut.fromJSON=function(e){return new ut(e)},ut),{isClass:!0}),zp="Matrix",Up=[],Vp=ae(zp,Up,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function ia(e,t,r){var n=e.constructor,i=new n(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ue(r))throw new Error("size must be an integer");if(e.greaterThan(i.pow(r-1).sub(1))||e.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(r))),a="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(a);case 8:return"".concat(e.toOctal()).concat(a);case 16:return"".concat(e.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(t," not supported "))}}function $p(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=cf(t);switch(r){case"fixed":return qp(e,n);case"exponential":return du(e,n);case"engineering":return Hp(e,n);case"bin":return ia(e,2,i);case"oct":return ia(e,8,i);case"hex":return ia(e,16,i);case"auto":{var a=hu(t==null?void 0:t.lowerExp,-3),s=hu(t==null?void 0:t.upperExp,5);if(e.isZero())return"0";var f,c=e.toSignificantDigits(n),h=c.e;return h>=a&&h<s?f=c.toFixed():f=du(e,n),f.replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],u=arguments[4];return o!=="."?o+u:u})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Hp(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=e.mul(Math.pow(10,-n)),a=i.toPrecision(t);if(a.includes("e")){var s=e.constructor;a=new s(a).toFixed()}return a+"e"+(r>=0?"+":"")+n.toString()}function du(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function qp(e,t){return e.toFixed(t)}function hu(e,t){return Pe(e)?e:Ke(e)?e.toNumber():t}function Gp(e,t){var r=e.length-t.length,n=e.length;return e.substring(r,n)===t}function We(e,t){var r=kp(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function kp(e,t){if(typeof e=="number")return Aa(e,t);if(Ke(e))return $p(e,t);if(Yp(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return Sf(e,t);if(Yt(e))return pu(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>pu(n)+": "+We(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function pu(e){for(var t=String(e),r="",n=0;n<t.length;){var i=t.charAt(n);r+=i in mu?mu[i]:i,n++}return'"'+r+'"'}var mu={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Sf(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=Sf(e[i],t);return r+="]",r}else return We(e,t)}function Yp(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function Me(e,t,r){if(!(this instanceof Me))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}Me.prototype=new RangeError;Me.prototype.constructor=RangeError;Me.prototype.name="DimensionError";Me.prototype.isDimensionError=!0;function zr(e,t,r){if(!(this instanceof zr))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}zr.prototype=new RangeError;zr.prototype.constructor=RangeError;zr.prototype.name="IndexError";zr.prototype.isIndexError=!0;function wt(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function _f(e,t,r){var n,i=e.length;if(i!==t[r])throw new Me(i,t[r]);if(r<t.length-1){var a=r+1;for(n=0;n<i;n++){var s=e[n];if(!Array.isArray(s))throw new Me(t.length-1,t.length,"<");_f(e[n],t,a)}}else for(n=0;n<i;n++)if(Array.isArray(e[n]))throw new Me(t.length+1,t.length,">")}function vu(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new Me(e.length,0)}else _f(e,t,0)}function ke(e,t){if(e!==void 0){if(!Pe(e)||!Ue(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new zr(e,t)}}function gi(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(i){if(!Pe(i)||!Ue(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+We(t)+")")}),(Pe(e)||Ke(e))&&(e=[e]);var n=r!==void 0?r:0;return _a(e,t,0,n),e}function _a(e,t,r,n){var i,a,s=e.length,f=t[r],c=Math.min(s,f);if(e.length=f,r<t.length-1){var h=r+1;for(i=0;i<c;i++)a=e[i],Array.isArray(a)||(a=[a],e[i]=a),_a(a,t,h,n);for(i=c;i<f;i++)a=[],e[i]=a,_a(a,t,h,n)}else{for(i=0;i<c;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=c;i<f;i++)e[i]=n}}function Tf(e,t){var r=Wp(e),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Me(0,n,"!=");t=os(t,n);var i=Bf(t);if(n!==i)throw new Me(i,n,"!=");try{return jp(r,t)}catch(a){throw a instanceof Me?new Me(i,n,"!="):a}}function os(e,t){var r=Bf(e),n=e.slice(),i=-1,a=e.indexOf(i),s=e.indexOf(i,a+1)>=0;if(s)throw new Error("More than one wildcard in sizes");var f=a>=0,c=t%r===0;if(f)if(c)n[a]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function Bf(e){return e.reduce((t,r)=>t*r,1)}function jp(e,t){for(var r=e,n,i=t.length-1;i>0;i--){var a=t[i];n=[];for(var s=r.length/a,f=0;f<s;f++)n.push(r.slice(f*a,(f+1)*a));r=n}return r}function Of(e,t,r,n){var i=n||wt(e);if(r)for(var a=0;a<r;a++)e=[e],i.unshift(1);for(e=If(e,t,0);i.length<t;)i.push(1);return e}function If(e,t,r){var n,i;if(Array.isArray(e)){var a=r+1;for(n=0,i=e.length;n<i;n++)e[n]=If(e[n],t,a)}else for(var s=r;s<t;s++)e=[e];return e}function Wp(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function r(n){Array.isArray(n)?n.forEach(r):t.push(n)}),t}function Di(e,t){for(var r,n=0,i=0;i<e.length;i++){var a=e[i],s=Array.isArray(a);if(i===0&&s&&(n=a.length),s&&a.length!==n)return;var f=s?Di(a,t):t(a);if(r===void 0)r=f;else if(r!==f)return"mixed"}return r}function Rf(e,t,r,n){if(n<r){if(e.length!==t.length)throw new Me(e.length,t.length);for(var i=[],a=0;a<e.length;a++)i[a]=Rf(e[a],t[a],r,n+1);return i}else return e.concat(t)}function Lf(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,n){return Rf(r,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Zp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(l=>l.length),i=Math.max(...n),a=new Array(i).fill(null),s=0;s<t.length;s++)for(var f=t[s],c=n[s],h=0;h<c;h++){var o=i-c+h;f[h]>a[o]&&(a[o]=f[h])}for(var u=0;u<t.length;u++)yi(t[u],a);return a}function yi(e,t){for(var r=t.length,n=e.length,i=0;i<n;i++){var a=r-n+i;if(e[i]<t[a]&&e[i]>1||e[i]>t[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[i]," to size ").concat(t[a]))}}function gu(e,t){var r=wt(e);if(Qr(r,t))return e;yi(r,t);var n=Zp(r,t),i=n.length,a=[...Array(i-r.length).fill(1),...r],s=Jp(e);r.length<i&&(s=Tf(s,a),r=wt(s));for(var f=0;f<i;f++)r[f]<n[f]&&(s=Kp(s,n[f],f),r=wt(s));return s}function Kp(e,t,r){return Lf(...Array(t).fill(e),r)}function Jp(e){return pr([],e)}function Xp(e){var t=0,r=1,n=Object.create(null),i=Object.create(null),a=0,s=function(c){var h=i[c];if(h&&(delete n[h],delete i[c],--t,r===h)){if(!t){a=0,r=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++r););}};return e=Math.abs(e),{hit:function(c){var h=i[c],o=++a;if(n[o]=c,i[c]=o,!h)return++t,t<=e?void 0:(c=n[r],s(c),c);if(delete n[h],r===h)for(;!Object.prototype.hasOwnProperty.call(n,++r););},delete:s,clear:function(){t=a=0,r=1,n=Object.create(null),i=Object.create(null)}}}function Rn(e){var{hasher:t,limit:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=r??Number.POSITIVE_INFINITY,t=t??JSON.stringify,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:Xp(r||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=t(i);if(n.cache.values.has(s))return n.cache.lru.hit(s),n.cache.values.get(s);var f=e.apply(e,i);return n.cache.values.set(s,f),n.cache.values.delete(n.cache.lru.hit(s)),f}}function Pf(e){return Object.keys(e.signatures||{}).reduce(function(t,r){var n=(r.match(/,/g)||[]).length+1;return Math.max(t,n)},-1)}var Qp="DenseMatrix",em=["Matrix"],tm=ae(Qp,em,e=>{var{Matrix:t}=e;function r(o,u){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!Yt(u))throw new Error("Invalid datatype: "+u);if(Je(o))o.type==="DenseMatrix"?(this._data=He(o._data),this._size=He(o._size),this._datatype=u||o._datatype):(this._data=o.toArray(),this._size=o.size(),this._datatype=u||o._datatype);else if(o&&Ge(o.data)&&Ge(o.size))this._data=o.data,this._size=o.size,vu(this._data,this._size),this._datatype=u||o.datatype;else if(Ge(o))this._data=h(o),this._size=wt(this._data),vu(this._data,this._size),this._datatype=u;else{if(o)throw new TypeError("Unsupported type of data ("+Wt(o)+")");this._data=[],this._size=[0],this._datatype=u}}r.prototype=new t,r.prototype.createDenseMatrix=function(o,u){return new r(o,u)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Di(this._data,Wt)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(o,u){return new r(o,u)},r.prototype.subset=function(o,u,l){switch(arguments.length){case 1:return n(this,o);case 2:case 3:return a(this,o,u,l);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(o){if(!Ge(o))throw new TypeError("Array expected");if(o.length!==this._size.length)throw new Me(o.length,this._size.length);for(var u=0;u<o.length;u++)ke(o[u],this._size[u]);for(var l=this._data,d=0,m=o.length;d<m;d++){var p=o[d];ke(p,l.length),l=l[p]}return l},r.prototype.set=function(o,u,l){if(!Ge(o))throw new TypeError("Array expected");if(o.length<this._size.length)throw new Me(o.length,this._size.length,"<");var d,m,p,v=o.map(function(T){return T+1});c(this,v,l);var w=this._data;for(d=0,m=o.length-1;d<m;d++)p=o[d],ke(p,w.length),w=w[p];return p=o[o.length-1],ke(p,w.length),w[p]=u,this};function n(o,u){if(!is(u))throw new TypeError("Invalid index");var l=u.isScalar();if(l)return o.get(u.min());var d=u.size();if(d.length!==o._size.length)throw new Me(d.length,o._size.length);for(var m=u.min(),p=u.max(),v=0,w=o._size.length;v<w;v++)ke(m[v],o._size[v]),ke(p[v],o._size[v]);return new r(i(o._data,u,d.length,0),o._datatype)}function i(o,u,l,d){var m=d===l-1,p=u.dimension(d);return m?p.map(function(v){return ke(v,o.length),o[v]}).valueOf():p.map(function(v){ke(v,o.length);var w=o[v];return i(w,u,l,d+1)}).valueOf()}function a(o,u,l,d){if(!u||u.isIndex!==!0)throw new TypeError("Invalid index");var m=u.size(),p=u.isScalar(),v;if(Je(l)?(v=l.size(),l=l.valueOf()):v=wt(l),p){if(v.length!==0)throw new TypeError("Scalar expected");o.set(u.min(),l,d)}else{if(!Qr(v,m))try{v.length===0?l=gu([l],m):l=gu(l,m),v=wt(l)}catch{}if(m.length<o._size.length)throw new Me(m.length,o._size.length,"<");if(v.length<m.length){for(var w=0,T=0;m[w]===1&&v[w]===1;)w++;for(;m[w]===1;)T++,w++;l=Of(l,m.length,T,v)}if(!Qr(m,v))throw new Me(m,v,">");var g=u.max().map(function(y){return y+1});c(o,g,d);var M=m.length,A=0;s(o._data,u,l,M,A)}return o}function s(o,u,l,d,m){var p=m===d-1,v=u.dimension(m);p?v.forEach(function(w,T){ke(w),o[w]=l[T[0]]}):v.forEach(function(w,T){ke(w),s(o[w],u,l[T[0]],d,m+1)})}r.prototype.resize=function(o,u,l){if(!hi(o))throw new TypeError("Array or Matrix expected");var d=o.valueOf().map(p=>Array.isArray(p)&&p.length===1?p[0]:p),m=l?this.clone():this;return f(m,d,u)};function f(o,u,l){if(u.length===0){for(var d=o._data;Ge(d);)d=d[0];return d}return o._size=u.slice(0),o._data=gi(o._data,o._size,l),o}r.prototype.reshape=function(o,u){var l=u?this.clone():this;l._data=Tf(l._data,o);var d=l._size.reduce((m,p)=>m*p);return l._size=os(o,d),l};function c(o,u,l){for(var d=o._size.slice(0),m=!1;d.length<u.length;)d.push(0),m=!0;for(var p=0,v=u.length;p<v;p++)u[p]>d[p]&&(d[p]=u[p],m=!0);m&&f(o,d,l)}r.prototype.clone=function(){var o=new r({data:He(this._data),size:He(this._size),datatype:this._datatype});return o},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(o){var u=this,l=Pf(o),d=function v(w,T){return Ge(w)?w.map(function(g,M){return v(g,T.concat(M))}):l===1?o(w):l===2?o(w,T):o(w,T,u)},m=d(this._data,[]),p=this._datatype!==void 0?Di(m,Wt):void 0;return new r(m,p)},r.prototype.forEach=function(o){var u=this,l=function d(m,p){Ge(m)?m.forEach(function(v,w){d(v,p.concat(w))}):o(m,p,u)};l(this._data,[])},r.prototype[Symbol.iterator]=function*(){var o=function*u(l,d){if(Ge(l))for(var m=0;m<l.length;m++)yield*u(l[m],d.concat(m));else yield{value:l,index:d}};yield*o(this._data,[])},r.prototype.rows=function(){var o=[],u=this.size();if(u.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var l=this._data;for(var d of l)o.push(new r([d],this._datatype));return o},r.prototype.columns=function(){var o=this,u=[],l=this.size();if(l.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var d=this._data,m=function(w){var T=d.map(g=>[g[w]]);u.push(new r(T,o._datatype))},p=0;p<l[1];p++)m(p);return u},r.prototype.toArray=function(){return He(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(o){return We(this._data,o)},r.prototype.toString=function(){return We(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(o){if(o){if(Ke(o)&&(o=o.toNumber()),!Pe(o)||!Ue(o))throw new TypeError("The parameter k must be an integer number")}else o=0;for(var u=o>0?o:0,l=o<0?-o:0,d=this._size[0],m=this._size[1],p=Math.min(d-l,m-u),v=[],w=0;w<p;w++)v[w]=this._data[w+l][w+u];return new r({data:v,size:[p],datatype:this._datatype})},r.diagonal=function(o,u,l,d){if(!Ge(o))throw new TypeError("Array expected, size parameter");if(o.length!==2)throw new Error("Only two dimensions matrix are supported");if(o=o.map(function(I){if(Ke(I)&&(I=I.toNumber()),!Pe(I)||!Ue(I)||I<1)throw new Error("Size values must be positive integers");return I}),l){if(Ke(l)&&(l=l.toNumber()),!Pe(l)||!Ue(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var m=l>0?l:0,p=l<0?-l:0,v=o[0],w=o[1],T=Math.min(v-p,w-m),g;if(Ge(u)){if(u.length!==T)throw new Error("Invalid value array length");g=function(_){return u[_]}}else if(Je(u)){var M=u.size();if(M.length!==1||M[0]!==T)throw new Error("Invalid matrix length");g=function(_){return u.get([_])}}else g=function(){return u};d||(d=Ke(g(0))?g(0).mul(0):0);var A=[];if(o.length>0){A=gi(A,o,d);for(var y=0;y<T;y++)A[y+p][y+m]=g(y)}return new r({data:A,size:[v,w]})},r.fromJSON=function(o){return new r(o)},r.prototype.swapRows=function(o,u){if(!Pe(o)||!Ue(o)||!Pe(u)||!Ue(u))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ke(o,this._size[0]),ke(u,this._size[0]),r._swapRows(o,u,this._data),this},r._swapRows=function(o,u,l){var d=l[o];l[o]=l[u],l[u]=d};function h(o){return Je(o)?h(o.valueOf()):Ge(o)?o.map(h):o}return r},{isClass:!0});function nt(e,t,r){return e&&typeof e.map=="function"?e.map(function(n){return nt(n,t)}):t(e)}var Du="isInteger",rm=["typed"],nm=ae(Du,rm,e=>{var{typed:t}=e;return t(Du,{number:Ue,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":t.referToSelf(r=>n=>nt(n,r))})}),fs="number",Vi="number, number";function zf(e){return Math.abs(e)}zf.signature=fs;function Uf(e,t){return e+t}Uf.signature=Vi;function Vf(e,t){return e-t}Vf.signature=Vi;function $f(e,t){return e*t}$f.signature=Vi;function Hf(e){return-e}Hf.signature=fs;function qf(e){return Math.exp(e)}qf.signature=fs;function im(e,t){return Math.log(e)}function Gf(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}Gf.signature=Vi;function cn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Ue(t)||t<0||t>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(df(e,t))}function Lr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),n))}var yu="isNumeric",am=["typed"],sm=ae(yu,am,e=>{var{typed:t}=e;return t(yu,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":t.referToSelf(r=>n=>nt(n,r))})}),bu="isZero",um=["typed","equalScalar"],om=ae(bu,um,e=>{var{typed:t,equalScalar:r}=e;return t(bu,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:t.referToSelf(n=>i=>t.find(n,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(n=>i=>nt(i,n))})});function fm(e,t,r,n){return Kt(e.re,t.re,r,n)&&Kt(e.im,t.im,r,n)}var lm=ae("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}}),bi="equalScalar",cm=["typed","config"],dm=ae(bi,cm,e=>{var{typed:t,config:r}=e,n=lm({typed:t});return t(bi,{"boolean, boolean":function(a,s){return a===s},"number, number":function(a,s){return Kt(a,s,r.relTol,r.absTol)},"BigNumber, BigNumber":function(a,s){return a.eq(s)||Lr(a,s,r.relTol,r.absTol)},"bigint, bigint":function(a,s){return a===s},"Fraction, Fraction":function(a,s){return a.equals(s)},"Complex, Complex":function(a,s){return fm(a,s,r.relTol,r.absTol)}},n)});ae(bi,["typed","config"],e=>{var{typed:t,config:r}=e;return t(bi,{"number, number":function(i,a){return Kt(i,a,r.relTol,r.absTol)}})});var hm="SparseMatrix",pm=["typed","equalScalar","Matrix"],mm=ae(hm,pm,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function i(p,v){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!Yt(v))throw new Error("Invalid datatype: "+v);if(Je(p))a(this,p,v);else if(p&&Ge(p.index)&&Ge(p.ptr)&&Ge(p.size))this._values=p.values,this._index=p.index,this._ptr=p.ptr,this._size=p.size,this._datatype=v||p.datatype;else if(Ge(p))s(this,p,v);else{if(p)throw new TypeError("Unsupported type of data ("+Wt(p)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function a(p,v,w){v.type==="SparseMatrix"?(p._values=v._values?He(v._values):void 0,p._index=He(v._index),p._ptr=He(v._ptr),p._size=He(v._size),p._datatype=w||v._datatype):s(p,v.valueOf(),w||v._datatype)}function s(p,v,w){p._values=[],p._index=[],p._ptr=[],p._datatype=w;var T=v.length,g=0,M=r,A=0;if(Yt(w)&&(M=t.find(r,[w,w])||r,A=t.convert(0,w)),T>0){var y=0;do{p._ptr.push(p._index.length);for(var I=0;I<T;I++){var _=v[I];if(Ge(_)){if(y===0&&g<_.length&&(g=_.length),y<_.length){var R=_[y];M(R,A)||(p._values.push(R),p._index.push(I))}}else y===0&&g<1&&(g=1),M(_,A)||(p._values.push(_),p._index.push(I))}y++}while(y<g)}p._ptr.push(p._index.length),p._size=[T,g]}i.prototype=new n,i.prototype.createSparseMatrix=function(p,v){return new i(p,v)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Di(this._values,Wt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(p,v){return new i(p,v)},i.prototype.density=function(){var p=this._size[0],v=this._size[1];return p!==0&&v!==0?this._index.length/(p*v):0},i.prototype.subset=function(p,v,w){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return f(this,p);case 2:case 3:return c(this,p,v,w);default:throw new SyntaxError("Wrong number of arguments")}};function f(p,v){if(!is(v))throw new TypeError("Invalid index");var w=v.isScalar();if(w)return p.get(v.min());var T=v.size();if(T.length!==p._size.length)throw new Me(T.length,p._size.length);var g,M,A,y,I=v.min(),_=v.max();for(g=0,M=p._size.length;g<M;g++)ke(I[g],p._size[g]),ke(_[g],p._size[g]);var R=p._values,P=p._index,Y=p._ptr,$=v.dimension(0),ne=v.dimension(1),W=[],te=[];$.forEach(function(F,oe){te[F]=oe[0],W[F]=!0});var H=R?[]:void 0,x=[],K=[];return ne.forEach(function(F){for(K.push(x.length),A=Y[F],y=Y[F+1];A<y;A++)g=P[A],W[g]===!0&&(x.push(te[g]),H&&H.push(R[A]))}),K.push(x.length),new i({values:H,index:x,ptr:K,size:T,datatype:p._datatype})}function c(p,v,w,T){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var g=v.size(),M=v.isScalar(),A;if(Je(w)?(A=w.size(),w=w.toArray()):A=wt(w),M){if(A.length!==0)throw new TypeError("Scalar expected");p.set(v.min(),w,T)}else{if(g.length!==1&&g.length!==2)throw new Me(g.length,p._size.length,"<");if(A.length<g.length){for(var y=0,I=0;g[y]===1&&A[y]===1;)y++;for(;g[y]===1;)I++,y++;w=Of(w,g.length,I,A)}if(!Qr(g,A))throw new Me(g,A,">");if(g.length===1){var _=v.dimension(0);_.forEach(function(Y,$){ke(Y),p.set([Y,0],w[$[0]],T)})}else{var R=v.dimension(0),P=v.dimension(1);R.forEach(function(Y,$){ke(Y),P.forEach(function(ne,W){ke(ne),p.set([Y,ne],w[$[0]][W[0]],T)})})}}return p}i.prototype.get=function(p){if(!Ge(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new Me(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=p[0],w=p[1];ke(v,this._size[0]),ke(w,this._size[1]);var T=h(v,this._ptr[w],this._ptr[w+1],this._index);return T<this._ptr[w+1]&&this._index[T]===v?this._values[T]:0},i.prototype.set=function(p,v,w){if(!Ge(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new Me(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var T=p[0],g=p[1],M=this._size[0],A=this._size[1],y=r,I=0;Yt(this._datatype)&&(y=t.find(r,[this._datatype,this._datatype])||r,I=t.convert(0,this._datatype)),(T>M-1||g>A-1)&&(l(this,Math.max(T+1,M),Math.max(g+1,A),w),M=this._size[0],A=this._size[1]),ke(T,M),ke(g,A);var _=h(T,this._ptr[g],this._ptr[g+1],this._index);return _<this._ptr[g+1]&&this._index[_]===T?y(v,I)?o(_,g,this._values,this._index,this._ptr):this._values[_]=v:y(v,I)||u(_,T,g,v,this._values,this._index,this._ptr),this};function h(p,v,w,T){if(w-v===0)return w;for(var g=v;g<w;g++)if(T[g]===p)return g;return v}function o(p,v,w,T,g){w.splice(p,1),T.splice(p,1);for(var M=v+1;M<g.length;M++)g[M]--}function u(p,v,w,T,g,M,A){g.splice(p,0,T),M.splice(p,0,v);for(var y=w+1;y<A.length;y++)A[y]++}i.prototype.resize=function(p,v,w){if(!hi(p))throw new TypeError("Array or Matrix expected");var T=p.valueOf().map(M=>Array.isArray(M)&&M.length===1?M[0]:M);if(T.length!==2)throw new Error("Only two dimensions matrix are supported");T.forEach(function(M){if(!Pe(M)||!Ue(M)||M<0)throw new TypeError("Invalid size, must contain positive integers (size: "+We(T)+")")});var g=w?this.clone():this;return l(g,T[0],T[1],v)};function l(p,v,w,T){var g=T||0,M=r,A=0;Yt(p._datatype)&&(M=t.find(r,[p._datatype,p._datatype])||r,A=t.convert(0,p._datatype),g=t.convert(g,p._datatype));var y=!M(g,A),I=p._size[0],_=p._size[1],R,P,Y;if(w>_){for(P=_;P<w;P++)if(p._ptr[P]=p._values.length,y)for(R=0;R<I;R++)p._values.push(g),p._index.push(R);p._ptr[w]=p._values.length}else w<_&&(p._ptr.splice(w+1,_-w),p._values.splice(p._ptr[w],p._values.length),p._index.splice(p._ptr[w],p._index.length));if(_=w,v>I){if(y){var $=0;for(P=0;P<_;P++){p._ptr[P]=p._ptr[P]+$,Y=p._ptr[P+1]+$;var ne=0;for(R=I;R<v;R++,ne++)p._values.splice(Y+ne,0,g),p._index.splice(Y+ne,0,R),$++}p._ptr[_]=p._values.length}}else if(v<I){var W=0;for(P=0;P<_;P++){p._ptr[P]=p._ptr[P]-W;var te=p._ptr[P],H=p._ptr[P+1]-W;for(Y=te;Y<H;Y++)R=p._index[Y],R>v-1&&(p._values.splice(Y,1),p._index.splice(Y,1),W++)}p._ptr[P]=p._values.length}return p._size[0]=v,p._size[1]=w,p}i.prototype.reshape=function(p,v){if(!Ge(p))throw new TypeError("Array expected");if(p.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");p.forEach(function(F){if(!Pe(F)||!Ue(F)||F<=-2||F===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+We(p)+")")});var w=this._size[0]*this._size[1];p=os(p,w);var T=p[0]*p[1];if(w!==T)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=v?this.clone():this;if(this._size[0]===p[0]&&this._size[1]===p[1])return g;for(var M=[],A=0;A<g._ptr.length;A++)for(var y=0;y<g._ptr[A+1]-g._ptr[A];y++)M.push(A);for(var I=g._values.slice(),_=g._index.slice(),R=0;R<g._index.length;R++){var P=_[R],Y=M[R],$=P*g._size[1]+Y;M[R]=$%p[1],_[R]=Math.floor($/p[1])}g._values.length=0,g._index.length=0,g._ptr.length=p[1]+1,g._size=p.slice();for(var ne=0;ne<g._ptr.length;ne++)g._ptr[ne]=0;for(var W=0;W<I.length;W++){var te=_[W],H=M[W],x=I[W],K=h(te,g._ptr[H],g._ptr[H+1],g._index);u(K,te,H,x,g._values,g._index,g._ptr)}return g},i.prototype.clone=function(){var p=new i({values:this._values?He(this._values):void 0,index:He(this._index),ptr:He(this._ptr),size:He(this._size),datatype:this._datatype});return p},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(p,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var w=this,T=this._size[0],g=this._size[1],M=Pf(p),A=function(I,_,R){return M===1?p(I):M===2?p(I,[_,R]):p(I,[_,R],w)};return d(this,0,T-1,0,g-1,A,v)};function d(p,v,w,T,g,M,A){var y=[],I=[],_=[],R=r,P=0;Yt(p._datatype)&&(R=t.find(r,[p._datatype,p._datatype])||r,P=t.convert(0,p._datatype));for(var Y=function(Q,Re,Le){Q=M(Q,Re,Le),R(Q,P)||(y.push(Q),I.push(Re))},$=T;$<=g;$++){_.push(y.length);var ne=p._ptr[$],W=p._ptr[$+1];if(A)for(var te=ne;te<W;te++){var H=p._index[te];H>=v&&H<=w&&Y(p._values[te],H-v,$-T)}else{for(var x={},K=ne;K<W;K++){var F=p._index[K];x[F]=p._values[K]}for(var oe=v;oe<=w;oe++){var ge=oe in x?x[oe]:0;Y(ge,oe-v,$-T)}}}return _.push(y.length),new i({values:y,index:I,ptr:_,size:[w-v+1,g-T+1]})}i.prototype.forEach=function(p,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var w=this,T=this._size[0],g=this._size[1],M=0;M<g;M++){var A=this._ptr[M],y=this._ptr[M+1];if(v)for(var I=A;I<y;I++){var _=this._index[I];p(this._values[I],[_,M],w)}else{for(var R={},P=A;P<y;P++){var Y=this._index[P];R[Y]=this._values[P]}for(var $=0;$<T;$++){var ne=$ in R?R[$]:0;p(ne,[$,M],w)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var p=this._size[1],v=0;v<p;v++)for(var w=this._ptr[v],T=this._ptr[v+1],g=w;g<T;g++){var M=this._index[g];yield{value:this._values[g],index:[M,v]}}},i.prototype.toArray=function(){return m(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return m(this._values,this._index,this._ptr,this._size,!1)};function m(p,v,w,T,g){var M=T[0],A=T[1],y=[],I,_;for(I=0;I<M;I++)for(y[I]=[],_=0;_<A;_++)y[I][_]=0;for(_=0;_<A;_++)for(var R=w[_],P=w[_+1],Y=R;Y<P;Y++)I=v[Y],y[I][_]=p?g?He(p[Y]):p[Y]:1;return y}return i.prototype.format=function(p){for(var v=this._size[0],w=this._size[1],T=this.density(),g="Sparse Matrix ["+We(v,p)+" x "+We(w,p)+"] density: "+We(T,p)+`
`,M=0;M<w;M++)for(var A=this._ptr[M],y=this._ptr[M+1],I=A;I<y;I++){var _=this._index[I];g+=`
    (`+We(_,p)+", "+We(M,p)+") ==> "+(this._values?We(this._values[I],p):"X")}return g},i.prototype.toString=function(){return We(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(p){if(p){if(Ke(p)&&(p=p.toNumber()),!Pe(p)||!Ue(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var v=p>0?p:0,w=p<0?-p:0,T=this._size[0],g=this._size[1],M=Math.min(T-w,g-v),A=[],y=[],I=[];I[0]=0;for(var _=v;_<g&&A.length<M;_++)for(var R=this._ptr[_],P=this._ptr[_+1],Y=R;Y<P;Y++){var $=this._index[Y];if($===_-v+w){A.push(this._values[Y]),y[A.length-1]=$-w;break}}return I.push(A.length),new i({values:A,index:y,ptr:I,size:[M,1]})},i.fromJSON=function(p){return new i(p)},i.diagonal=function(p,v,w,T,g){if(!Ge(p))throw new TypeError("Array expected, size parameter");if(p.length!==2)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function(F){if(Ke(F)&&(F=F.toNumber()),!Pe(F)||!Ue(F)||F<1)throw new Error("Size values must be positive integers");return F}),w){if(Ke(w)&&(w=w.toNumber()),!Pe(w)||!Ue(w))throw new TypeError("The parameter k must be an integer number")}else w=0;var M=r,A=0;Yt(g)&&(M=t.find(r,[g,g])||r,A=t.convert(0,g));var y=w>0?w:0,I=w<0?-w:0,_=p[0],R=p[1],P=Math.min(_-I,R-y),Y;if(Ge(v)){if(v.length!==P)throw new Error("Invalid value array length");Y=function(oe){return v[oe]}}else if(Je(v)){var $=v.size();if($.length!==1||$[0]!==P)throw new Error("Invalid matrix length");Y=function(oe){return v.get([oe])}}else Y=function(){return v};for(var ne=[],W=[],te=[],H=0;H<R;H++){te.push(ne.length);var x=H-y;if(x>=0&&x<P){var K=Y(x);M(K,A)||(W.push(x+I),ne.push(K))}}return te.push(ne.length),new i({values:ne,index:W,ptr:te,size:[_,R]})},i.prototype.swapRows=function(p,v){if(!Pe(p)||!Ue(p)||!Pe(v)||!Ue(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ke(p,this._size[0]),ke(v,this._size[0]),i._swapRows(p,v,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(p,v,w,T,g){for(var M=T[p],A=T[p+1],y=M;y<A;y++)g(w[y],v[y])},i._swapRows=function(p,v,w,T,g,M){for(var A=0;A<w;A++){var y=M[A],I=M[A+1],_=h(p,y,I,g),R=h(v,y,I,g);if(_<I&&R<I&&g[_]===p&&g[R]===v){if(T){var P=T[_];T[_]=T[R],T[R]=P}continue}if(_<I&&g[_]===p&&(R>=I||g[R]!==v)){var Y=T?T[_]:void 0;g.splice(R,0,v),T&&T.splice(R,0,Y),g.splice(R<=_?_+1:_,1),T&&T.splice(R<=_?_+1:_,1);continue}if(R<I&&g[R]===v&&(_>=I||g[_]!==p)){var $=T?T[R]:void 0;g.splice(_,0,p),T&&T.splice(_,0,$),g.splice(_<=R?R+1:R,1),T&&T.splice(_<=R?R+1:R,1)}}},i},{isClass:!0}),vm="number",gm=["typed"];function Dm(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],i=t[3];return{input:e,radix:r,integerPart:n,fractionalPart:i}}else return null}function ym(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++){var i=parseInt(e.fractionalPart[n],e.radix);r+=i/Math.pow(e.radix,n+1)}var a=t+r;if(isNaN(a))throw new SyntaxError('String "'+e.input+'" is not a valid number');return a}var bm=ae(vm,gm,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=Dm(i);if(a)return ym(a);var s=0,f=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);f&&(s=Number(f[2]),i=f[1]);var c=Number(i);if(isNaN(c))throw new SyntaxError('String "'+i+'" is not a valid number');if(f){if(c>2**s-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));c>=2**(s-1)&&(c=c-2**s)}return c},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:t.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":t.referToSelf(n=>i=>nt(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),wm="bignumber",Em=["typed","BigNumber"],xm=ae(wm,Em,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var s=a[2],f=r(a[1]),c=new r(2).pow(Number(s));if(f.gt(c.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var h=new r(2).pow(Number(s)-1);return f.gte(h)?f.sub(c):f}return new r(i)},BigNumber:function(i){return i},bigint:function(i){return new r(i.toString())},Unit:t.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new r(i.n).div(i.d).times(i.s)},null:function(i){return new r(0)},"Array | Matrix":t.referToSelf(n=>i=>nt(i,n))})}),Am="fraction",Cm=["typed","Fraction"],Fm=ae(Am,Cm,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,a){return new r(i,a)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},bigint:function(i){return new r(i.toString())},Fraction:function(i){return i},Unit:t.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new r(i)},"Array | Matrix":t.referToSelf(n=>i=>nt(i,n))})}),wu="matrix",Nm=["typed","Matrix","DenseMatrix","SparseMatrix"],Mm=ae(wu,Nm,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:i}=e;return t(wu,{"":function(){return a([])},string:function(f){return a([],f)},"string, string":function(f,c){return a([],f,c)},Array:function(f){return a(f)},Matrix:function(f){return a(f,f.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(s,f,c){if(f==="dense"||f==="default"||f===void 0)return new n(s,c);if(f==="sparse")return new i(s,c);throw new TypeError("Unknown matrix type "+JSON.stringify(f)+".")}}),Eu="unaryMinus",Sm=["typed"],_m=ae(Eu,Sm,e=>{var{typed:t}=e;return t(Eu,{number:Hf,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:t.referToSelf(r=>n=>{var i=n.clone();return i.value=t.find(r,i.valueType())(n.value),i}),"Array | Matrix":t.referToSelf(r=>n=>nt(n,r))})}),xu="abs",Tm=["typed"],Bm=ae(xu,Tm,e=>{var{typed:t}=e;return t(xu,{number:zf,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":t.referToSelf(r=>n=>nt(n,r))})}),Au="addScalar",Om=["typed"],Im=ae(Au,Om,e=>{var{typed:t}=e;return t(Au,{"number, number":Uf,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"bigint, bigint":function(n,i){return n+i},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=t.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),Cu="subtractScalar",Rm=["typed"],Lm=ae(Cu,Rm,e=>{var{typed:t}=e;return t(Cu,{"number, number":Vf,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"bigint, bigint":function(n,i){return n-i},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=t.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),Pm="matAlgo11xS0s",zm=["typed","equalScalar"],Ln=ae(Pm,zm,e=>{var{typed:t,equalScalar:r}=e;return function(i,a,s,f){var c=i._values,h=i._index,o=i._ptr,u=i._size,l=i._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=u[0],m=u[1],p,v=r,w=0,T=s;typeof l=="string"&&(p=l,v=t.find(r,[p,p]),w=t.convert(0,p),a=t.convert(a,p),T=t.find(s,[p,p]));for(var g=[],M=[],A=[],y=0;y<m;y++){A[y]=M.length;for(var I=o[y],_=o[y+1],R=I;R<_;R++){var P=h[R],Y=f?T(a,c[R]):T(c[R],a);v(Y,w)||(M.push(P),g.push(Y))}}return A[m]=M.length,i.createSparseMatrix({values:g,index:M,ptr:A,size:[d,m],datatype:p})}}),Um="matAlgo12xSfs",Vm=["typed","DenseMatrix"],an=ae(Um,Vm,e=>{var{typed:t,DenseMatrix:r}=e;return function(i,a,s,f){var c=i._values,h=i._index,o=i._ptr,u=i._size,l=i._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=u[0],m=u[1],p,v=s;typeof l=="string"&&(p=l,a=t.convert(a,p),v=t.find(s,[p,p]));for(var w=[],T=[],g=[],M=0;M<m;M++){for(var A=M+1,y=o[M],I=o[M+1],_=y;_<I;_++){var R=h[_];T[R]=c[_],g[R]=A}for(var P=0;P<d;P++)M===0&&(w[P]=[]),g[P]===A?w[P][M]=f?v(a,T[P]):v(T[P],a):w[P][M]=f?v(a,0):v(0,a)}return new r({data:w,size:[d,m],datatype:p})}}),$m="matAlgo14xDs",Hm=["typed"],Ur=ae($m,Hm,e=>{var{typed:t}=e;return function(i,a,s,f){var c=i._data,h=i._size,o=i._datatype,u,l=s;typeof o=="string"&&(u=o,a=t.convert(a,u),l=t.find(s,[u,u]));var d=h.length>0?r(l,0,h,h[0],c,a,f):[];return i.createDenseMatrix({data:d,size:He(h),datatype:u})};function r(n,i,a,s,f,c,h){var o=[];if(i===a.length-1)for(var u=0;u<s;u++)o[u]=h?n(c,f[u]):n(f[u],c);else for(var l=0;l<s;l++)o[l]=r(n,i+1,a,a[i+1],f[l],c,h);return o}}),Ta="ceil",qm=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Gm=ae(Ta,["typed","config","round"],e=>{var{typed:t,config:r,round:n}=e;return t(Ta,{number:function(a){return Kt(a,n(a),r.relTol,r.absTol)?n(a):Math.ceil(a)},"number, number":function(a,s){if(Kt(a,n(a,s),r.relTol,r.absTol))return n(a,s);var[f,c]="".concat(a,"e").split("e"),h=Math.ceil(Number("".concat(f,"e").concat(Number(c)+s)));return[f,c]="".concat(h,"e").split("e"),Number("".concat(f,"e").concat(Number(c)-s))}})}),km=ae(Ta,qm,e=>{var{typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:s,DenseMatrix:f}=e,c=Ln({typed:t,equalScalar:a}),h=an({typed:t,DenseMatrix:f}),o=Ur({typed:t}),u=Gm({typed:t,config:r,round:n});return t("ceil",{number:u.signatures.number,"number,number":u.signatures["number,number"],Complex:function(d){return d.ceil()},"Complex, number":function(d,m){return d.ceil(m)},"Complex, BigNumber":function(d,m){return d.ceil(m.toNumber())},BigNumber:function(d){return Lr(d,n(d),r.relTol,r.absTol)?n(d):d.ceil()},"BigNumber, BigNumber":function(d,m){return Lr(d,n(d,m),r.relTol,r.absTol)?n(d,m):d.toDecimalPlaces(m.toNumber(),wr.ROUND_CEIL)},Fraction:function(d){return d.ceil()},"Fraction, number":function(d,m){return d.ceil(m)},"Fraction, BigNumber":function(d,m){return d.ceil(m.toNumber())},"Array | Matrix":t.referToSelf(l=>d=>nt(d,l)),"Array, number | BigNumber":t.referToSelf(l=>(d,m)=>nt(d,p=>l(p,m))),"SparseMatrix, number | BigNumber":t.referToSelf(l=>(d,m)=>c(d,m,l,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(l=>(d,m)=>o(d,m,l,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(l=>(d,m)=>o(i(m),d,l,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(l=>(d,m)=>a(d,0)?s(m.size(),m.storage()):m.storage()==="dense"?o(m,d,l,!0):h(m,d,l,!0))})}),Fu="exp",Ym=["typed"],jm=ae(Fu,Ym,e=>{var{typed:t}=e;return t(Fu,{number:qf,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})}),Ba="fix",Wm=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],Zm=ae(Ba,["typed","ceil","floor"],e=>{var{typed:t,ceil:r,floor:n}=e;return t(Ba,{number:function(a){return a>0?n(a):r(a)},"number, number":function(a,s){return a>0?n(a,s):r(a,s)}})}),Km=ae(Ba,Wm,e=>{var{typed:t,Complex:r,matrix:n,ceil:i,floor:a,equalScalar:s,zeros:f,DenseMatrix:c}=e,h=an({typed:t,DenseMatrix:c}),o=Ur({typed:t}),u=Zm({typed:t,ceil:i,floor:a});return t("fix",{number:u.signatures.number,"number, number | BigNumber":u.signatures["number,number"],Complex:function(d){return new r(d.re>0?Math.floor(d.re):Math.ceil(d.re),d.im>0?Math.floor(d.im):Math.ceil(d.im))},"Complex, number":function(d,m){return new r(d.re>0?a(d.re,m):i(d.re,m),d.im>0?a(d.im,m):i(d.im,m))},"Complex, BigNumber":function(d,m){var p=m.toNumber();return new r(d.re>0?a(d.re,p):i(d.re,p),d.im>0?a(d.im,p):i(d.im,p))},BigNumber:function(d){return d.isNegative()?i(d):a(d)},"BigNumber, number | BigNumber":function(d,m){return d.isNegative()?i(d,m):a(d,m)},Fraction:function(d){return d.s<0?d.ceil():d.floor()},"Fraction, number | BigNumber":function(d,m){return d.s<0?i(d,m):a(d,m)},"Array | Matrix":t.referToSelf(l=>d=>nt(d,l)),"Array | Matrix, number | BigNumber":t.referToSelf(l=>(d,m)=>nt(d,p=>l(p,m))),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(l=>(d,m)=>o(n(m),d,l,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(l=>(d,m)=>s(d,0)?f(m.size(),m.storage()):m.storage()==="dense"?o(m,d,l,!0):h(m,d,l,!0))})}),Oa="floor",Jm=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Xm=ae(Oa,["typed","config","round"],e=>{var{typed:t,config:r,round:n}=e;return t(Oa,{number:function(a){return Kt(a,n(a),r.relTol,r.absTol)?n(a):Math.floor(a)},"number, number":function(a,s){if(Kt(a,n(a,s),r.relTol,r.absTol))return n(a,s);var[f,c]="".concat(a,"e").split("e"),h=Math.floor(Number("".concat(f,"e").concat(Number(c)+s)));return[f,c]="".concat(h,"e").split("e"),Number("".concat(f,"e").concat(Number(c)-s))}})}),Qm=ae(Oa,Jm,e=>{var{typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:s,DenseMatrix:f}=e,c=Ln({typed:t,equalScalar:a}),h=an({typed:t,DenseMatrix:f}),o=Ur({typed:t}),u=Xm({typed:t,config:r,round:n});return t("floor",{number:u.signatures.number,"number,number":u.signatures["number,number"],Complex:function(d){return d.floor()},"Complex, number":function(d,m){return d.floor(m)},"Complex, BigNumber":function(d,m){return d.floor(m.toNumber())},BigNumber:function(d){return Lr(d,n(d),r.relTol,r.absTol)?n(d):d.floor()},"BigNumber, BigNumber":function(d,m){return Lr(d,n(d,m),r.relTol,r.absTol)?n(d,m):d.toDecimalPlaces(m.toNumber(),wr.ROUND_FLOOR)},Fraction:function(d){return d.floor()},"Fraction, number":function(d,m){return d.floor(m)},"Fraction, BigNumber":function(d,m){return d.floor(m.toNumber())},"Array | Matrix":t.referToSelf(l=>d=>nt(d,l)),"Array, number | BigNumber":t.referToSelf(l=>(d,m)=>nt(d,p=>l(p,m))),"SparseMatrix, number | BigNumber":t.referToSelf(l=>(d,m)=>c(d,m,l,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(l=>(d,m)=>o(d,m,l,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(l=>(d,m)=>o(i(m),d,l,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(l=>(d,m)=>a(d,0)?s(m.size(),m.storage()):m.storage()==="dense"?o(m,d,l,!0):h(m,d,l,!0))})}),e1="matAlgo03xDSf",t1=["typed"],kf=ae(e1,t1,e=>{var{typed:t}=e;return function(n,i,a,s){var f=n._data,c=n._size,h=n._datatype||n.getDataType(),o=i._values,u=i._index,l=i._ptr,d=i._size,m=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(c.length!==d.length)throw new Me(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=c[0],v=c[1],w,T=0,g=a;typeof h=="string"&&h===m&&h!=="mixed"&&(w=h,T=t.convert(0,w),g=t.find(a,[w,w]));for(var M=[],A=0;A<p;A++)M[A]=[];for(var y=[],I=[],_=0;_<v;_++){for(var R=_+1,P=l[_],Y=l[_+1],$=P;$<Y;$++){var ne=u[$];y[ne]=s?g(o[$],f[ne][_]):g(f[ne][_],o[$]),I[ne]=R}for(var W=0;W<p;W++)I[W]===R?M[W][_]=y[W]:M[W][_]=s?g(T,f[W][_]):g(f[W][_],T)}return n.createDenseMatrix({data:M,size:[p,v],datatype:h===n._datatype&&m===i._datatype?w:void 0})}}),r1="matAlgo05xSfSf",n1=["typed","equalScalar"],i1=ae(r1,n1,e=>{var{typed:t,equalScalar:r}=e;return function(i,a,s){var f=i._values,c=i._index,h=i._ptr,o=i._size,u=i._datatype||i._data===void 0?i._datatype:i.getDataType(),l=a._values,d=a._index,m=a._ptr,p=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(o.length!==p.length)throw new Me(o.length,p.length);if(o[0]!==p[0]||o[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+p+")");var w=o[0],T=o[1],g,M=r,A=0,y=s;typeof u=="string"&&u===v&&u!=="mixed"&&(g=u,M=t.find(r,[g,g]),A=t.convert(0,g),y=t.find(s,[g,g]));var I=f&&l?[]:void 0,_=[],R=[],P=I?[]:void 0,Y=I?[]:void 0,$=[],ne=[],W,te,H,x;for(te=0;te<T;te++){R[te]=_.length;var K=te+1;for(H=h[te],x=h[te+1];H<x;H++)W=c[H],_.push(W),$[W]=K,P&&(P[W]=f[H]);for(H=m[te],x=m[te+1];H<x;H++)W=d[H],$[W]!==K&&_.push(W),ne[W]=K,Y&&(Y[W]=l[H]);if(I)for(H=R[te];H<_.length;){W=_[H];var F=$[W],oe=ne[W];if(F===K||oe===K){var ge=F===K?P[W]:A,he=oe===K?Y[W]:A,Q=y(ge,he);M(Q,A)?_.splice(H,1):(I.push(Q),H++)}}}return R[T]=_.length,i.createSparseMatrix({values:I,index:_,ptr:R,size:[w,T],datatype:u===i._datatype&&v===a._datatype?g:void 0})}}),a1="matAlgo13xDD",s1=["typed"],u1=ae(a1,s1,e=>{var{typed:t}=e;return function(i,a,s){var f=i._data,c=i._size,h=i._datatype,o=a._data,u=a._size,l=a._datatype,d=[];if(c.length!==u.length)throw new Me(c.length,u.length);for(var m=0;m<c.length;m++){if(c[m]!==u[m])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+u+")");d[m]=c[m]}var p,v=s;typeof h=="string"&&h===l&&(p=h,v=t.find(s,[p,p]));var w=d.length>0?r(v,0,d,d[0],f,o):[];return i.createDenseMatrix({data:w,size:d,datatype:p})};function r(n,i,a,s,f,c){var h=[];if(i===a.length-1)for(var o=0;o<s;o++)h[o]=n(f[o],c[o]);else for(var u=0;u<s;u++)h[u]=r(n,i+1,a,a[i+1],f[u],c[u]);return h}}),o1="broadcast",f1=["concat"],l1=ae(o1,f1,e=>{var{concat:t}=e;return function(i,a){var s=Math.max(i._size.length,a._size.length);if(i._size.length===a._size.length&&i._size.every((m,p)=>m===a._size[p]))return[i,a];for(var f=r(i._size,s,0),c=r(a._size,s,0),h=[],o=0;o<s;o++)h[o]=Math.max(f[o],c[o]);yi(f,h),yi(c,h);var u=i.clone(),l=a.clone();u._size.length<s?u.reshape(r(u._size,s,1)):l._size.length<s&&l.reshape(r(l._size,s,1));for(var d=0;d<s;d++)u._size[d]<h[d]&&(u=n(u,h[d],d)),l._size[d]<h[d]&&(l=n(l,h[d],d));return[u,l]};function r(i,a,s){return[...Array(a-i.length).fill(s),...i]}function n(i,a,s){return t(...Array(a).fill(i),s)}}),c1="matrixAlgorithmSuite",d1=["typed","matrix","concat"],ls=ae(c1,d1,e=>{var{typed:t,matrix:r,concat:n}=e,i=u1({typed:t}),a=Ur({typed:t}),s=l1({concat:n});return function(c){var h=c.elop,o=c.SD||c.DS,u;h?(u={"DenseMatrix, DenseMatrix":(p,v)=>i(...s(p,v),h),"Array, Array":(p,v)=>i(...s(r(p),r(v)),h).valueOf(),"Array, DenseMatrix":(p,v)=>i(...s(r(p),v),h),"DenseMatrix, Array":(p,v)=>i(...s(p,r(v)),h)},c.SS&&(u["SparseMatrix, SparseMatrix"]=(p,v)=>c.SS(...s(p,v),h,!1)),c.DS&&(u["DenseMatrix, SparseMatrix"]=(p,v)=>c.DS(...s(p,v),h,!1),u["Array, SparseMatrix"]=(p,v)=>c.DS(...s(r(p),v),h,!1)),o&&(u["SparseMatrix, DenseMatrix"]=(p,v)=>o(...s(v,p),h,!0),u["SparseMatrix, Array"]=(p,v)=>o(...s(r(v),p),h,!0))):(u={"DenseMatrix, DenseMatrix":t.referToSelf(p=>(v,w)=>i(...s(v,w),p)),"Array, Array":t.referToSelf(p=>(v,w)=>i(...s(r(v),r(w)),p).valueOf()),"Array, DenseMatrix":t.referToSelf(p=>(v,w)=>i(...s(r(v),w),p)),"DenseMatrix, Array":t.referToSelf(p=>(v,w)=>i(...s(v,r(w)),p))},c.SS&&(u["SparseMatrix, SparseMatrix"]=t.referToSelf(p=>(v,w)=>c.SS(...s(v,w),p,!1))),c.DS&&(u["DenseMatrix, SparseMatrix"]=t.referToSelf(p=>(v,w)=>c.DS(...s(v,w),p,!1)),u["Array, SparseMatrix"]=t.referToSelf(p=>(v,w)=>c.DS(...s(r(v),w),p,!1))),o&&(u["SparseMatrix, DenseMatrix"]=t.referToSelf(p=>(v,w)=>o(...s(w,v),p,!0)),u["SparseMatrix, Array"]=t.referToSelf(p=>(v,w)=>o(...s(r(w),v),p,!0))));var l=c.scalar||"any",d=c.Ds||c.Ss;d&&(h?(u["DenseMatrix,"+l]=(p,v)=>a(p,v,h,!1),u[l+", DenseMatrix"]=(p,v)=>a(v,p,h,!0),u["Array,"+l]=(p,v)=>a(r(p),v,h,!1).valueOf(),u[l+", Array"]=(p,v)=>a(r(v),p,h,!0).valueOf()):(u["DenseMatrix,"+l]=t.referToSelf(p=>(v,w)=>a(v,w,p,!1)),u[l+", DenseMatrix"]=t.referToSelf(p=>(v,w)=>a(w,v,p,!0)),u["Array,"+l]=t.referToSelf(p=>(v,w)=>a(r(v),w,p,!1).valueOf()),u[l+", Array"]=t.referToSelf(p=>(v,w)=>a(r(w),v,p,!0).valueOf())));var m=c.sS!==void 0?c.sS:c.Ss;return h?(c.Ss&&(u["SparseMatrix,"+l]=(p,v)=>c.Ss(p,v,h,!1)),m&&(u[l+", SparseMatrix"]=(p,v)=>m(v,p,h,!0))):(c.Ss&&(u["SparseMatrix,"+l]=t.referToSelf(p=>(v,w)=>c.Ss(v,w,p,!1))),m&&(u[l+", SparseMatrix"]=t.referToSelf(p=>(v,w)=>m(w,v,p,!0)))),h&&h.signatures&&ff(u,h.signatures),u}}),h1="matAlgo01xDSid",p1=["typed"],Yf=ae(h1,p1,e=>{var{typed:t}=e;return function(n,i,a,s){var f=n._data,c=n._size,h=n._datatype||n.getDataType(),o=i._values,u=i._index,l=i._ptr,d=i._size,m=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(c.length!==d.length)throw new Me(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=c[0],v=c[1],w=typeof h=="string"&&h!=="mixed"&&h===m?h:void 0,T=w?t.find(a,[w,w]):a,g,M,A=[];for(g=0;g<p;g++)A[g]=[];var y=[],I=[];for(M=0;M<v;M++){for(var _=M+1,R=l[M],P=l[M+1],Y=R;Y<P;Y++)g=u[Y],y[g]=s?T(o[Y],f[g][M]):T(f[g][M],o[Y]),I[g]=_;for(g=0;g<p;g++)I[g]===_?A[g][M]=y[g]:A[g][M]=f[g][M]}return n.createDenseMatrix({data:A,size:[p,v],datatype:h===n._datatype&&m===i._datatype?w:void 0})}}),m1="matAlgo04xSidSid",v1=["typed","equalScalar"],g1=ae(m1,v1,e=>{var{typed:t,equalScalar:r}=e;return function(i,a,s){var f=i._values,c=i._index,h=i._ptr,o=i._size,u=i._datatype||i._data===void 0?i._datatype:i.getDataType(),l=a._values,d=a._index,m=a._ptr,p=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(o.length!==p.length)throw new Me(o.length,p.length);if(o[0]!==p[0]||o[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+p+")");var w=o[0],T=o[1],g,M=r,A=0,y=s;typeof u=="string"&&u===v&&u!=="mixed"&&(g=u,M=t.find(r,[g,g]),A=t.convert(0,g),y=t.find(s,[g,g]));var I=f&&l?[]:void 0,_=[],R=[],P=f&&l?[]:void 0,Y=f&&l?[]:void 0,$=[],ne=[],W,te,H,x,K;for(te=0;te<T;te++){R[te]=_.length;var F=te+1;for(x=h[te],K=h[te+1],H=x;H<K;H++)W=c[H],_.push(W),$[W]=F,P&&(P[W]=f[H]);for(x=m[te],K=m[te+1],H=x;H<K;H++)if(W=d[H],$[W]===F){if(P){var oe=y(P[W],l[H]);M(oe,A)?$[W]=null:P[W]=oe}}else _.push(W),ne[W]=F,Y&&(Y[W]=l[H]);if(P&&Y)for(H=R[te];H<_.length;)W=_[H],$[W]===F?(I[H]=P[W],H++):ne[W]===F?(I[H]=Y[W],H++):_.splice(H,1)}return R[T]=_.length,i.createSparseMatrix({values:I,index:_,ptr:R,size:[w,T],datatype:u===i._datatype&&v===a._datatype?g:void 0})}}),D1="matAlgo10xSids",y1=["typed","DenseMatrix"],jf=ae(D1,y1,e=>{var{typed:t,DenseMatrix:r}=e;return function(i,a,s,f){var c=i._values,h=i._index,o=i._ptr,u=i._size,l=i._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=u[0],m=u[1],p,v=s;typeof l=="string"&&(p=l,a=t.convert(a,p),v=t.find(s,[p,p]));for(var w=[],T=[],g=[],M=0;M<m;M++){for(var A=M+1,y=o[M],I=o[M+1],_=y;_<I;_++){var R=h[_];T[R]=c[_],g[R]=A}for(var P=0;P<d;P++)M===0&&(w[P]=[]),g[P]===A?w[P][M]=f?v(a,T[P]):v(T[P],a):w[P][M]=a}return new r({data:w,size:[d,m],datatype:p})}}),b1="multiplyScalar",w1=["typed"],E1=ae(b1,w1,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":$f,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"bigint, bigint":function(n,i){return n*i},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),Nu="multiply",x1=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],A1=ae(Nu,x1,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:a,dot:s}=e,f=Ln({typed:t,equalScalar:a}),c=Ur({typed:t});function h(A,y){switch(A.length){case 1:switch(y.length){case 1:if(A[0]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(A[0]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+A[0]+") must match Matrix rows ("+y[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+y.length+" dimensions)")}break;case 2:switch(y.length){case 1:if(A[1]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+A[1]+") must match Vector length ("+y[0]+")");break;case 2:if(A[1]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+A[1]+") must match Matrix B rows ("+y[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+y.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+A.length+" dimensions)")}}function o(A,y,I){if(I===0)throw new Error("Cannot multiply two empty vectors");return s(A,y)}function u(A,y){if(y.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return l(A,y)}function l(A,y){var I=A._data,_=A._size,R=A._datatype||A.getDataType(),P=y._data,Y=y._size,$=y._datatype||y.getDataType(),ne=_[0],W=Y[1],te,H=n,x=i;R&&$&&R===$&&typeof R=="string"&&R!=="mixed"&&(te=R,H=t.find(n,[te,te]),x=t.find(i,[te,te]));for(var K=[],F=0;F<W;F++){for(var oe=x(I[0],P[0][F]),ge=1;ge<ne;ge++)oe=H(oe,x(I[ge],P[ge][F]));K[F]=oe}return A.createDenseMatrix({data:K,size:[W],datatype:R===A._datatype&&$===y._datatype?te:void 0})}var d=t("_multiplyMatrixVector",{"DenseMatrix, any":p,"SparseMatrix, any":T}),m=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":v,"DenseMatrix, SparseMatrix":w,"SparseMatrix, DenseMatrix":g,"SparseMatrix, SparseMatrix":M});function p(A,y){var I=A._data,_=A._size,R=A._datatype||A.getDataType(),P=y._data,Y=y._datatype||y.getDataType(),$=_[0],ne=_[1],W,te=n,H=i;R&&Y&&R===Y&&typeof R=="string"&&R!=="mixed"&&(W=R,te=t.find(n,[W,W]),H=t.find(i,[W,W]));for(var x=[],K=0;K<$;K++){for(var F=I[K],oe=H(F[0],P[0]),ge=1;ge<ne;ge++)oe=te(oe,H(F[ge],P[ge]));x[K]=oe}return A.createDenseMatrix({data:x,size:[$],datatype:R===A._datatype&&Y===y._datatype?W:void 0})}function v(A,y){var I=A._data,_=A._size,R=A._datatype||A.getDataType(),P=y._data,Y=y._size,$=y._datatype||y.getDataType(),ne=_[0],W=_[1],te=Y[1],H,x=n,K=i;R&&$&&R===$&&typeof R=="string"&&R!=="mixed"&&R!=="mixed"&&(H=R,x=t.find(n,[H,H]),K=t.find(i,[H,H]));for(var F=[],oe=0;oe<ne;oe++){var ge=I[oe];F[oe]=[];for(var he=0;he<te;he++){for(var Q=K(ge[0],P[0][he]),Re=1;Re<W;Re++)Q=x(Q,K(ge[Re],P[Re][he]));F[oe][he]=Q}}return A.createDenseMatrix({data:F,size:[ne,te],datatype:R===A._datatype&&$===y._datatype?H:void 0})}function w(A,y){var I=A._data,_=A._size,R=A._datatype||A.getDataType(),P=y._values,Y=y._index,$=y._ptr,ne=y._size,W=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!P)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var te=_[0],H=ne[1],x,K=n,F=i,oe=a,ge=0;R&&W&&R===W&&typeof R=="string"&&R!=="mixed"&&(x=R,K=t.find(n,[x,x]),F=t.find(i,[x,x]),oe=t.find(a,[x,x]),ge=t.convert(0,x));for(var he=[],Q=[],Re=[],Le=y.createSparseMatrix({values:he,index:Q,ptr:Re,size:[te,H],datatype:R===A._datatype&&W===y._datatype?x:void 0}),ue=0;ue<H;ue++){Re[ue]=Q.length;var me=$[ue],je=$[ue+1];if(je>me)for(var Ae=0,ye=0;ye<te;ye++){for(var et=ye+1,$e=void 0,C=me;C<je;C++){var B=Y[C];Ae!==et?($e=F(I[ye][B],P[C]),Ae=et):$e=K($e,F(I[ye][B],P[C]))}Ae===et&&!oe($e,ge)&&(Q.push(ye),he.push($e))}}return Re[H]=Q.length,Le}function T(A,y){var I=A._values,_=A._index,R=A._ptr,P=A._datatype||A._data===void 0?A._datatype:A.getDataType();if(!I)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var Y=y._data,$=y._datatype||y.getDataType(),ne=A._size[0],W=y._size[0],te=[],H=[],x=[],K,F=n,oe=i,ge=a,he=0;P&&$&&P===$&&typeof P=="string"&&P!=="mixed"&&(K=P,F=t.find(n,[K,K]),oe=t.find(i,[K,K]),ge=t.find(a,[K,K]),he=t.convert(0,K));var Q=[],Re=[];x[0]=0;for(var Le=0;Le<W;Le++){var ue=Y[Le];if(!ge(ue,he))for(var me=R[Le],je=R[Le+1],Ae=me;Ae<je;Ae++){var ye=_[Ae];Re[ye]?Q[ye]=F(Q[ye],oe(ue,I[Ae])):(Re[ye]=!0,H.push(ye),Q[ye]=oe(ue,I[Ae]))}}for(var et=H.length,$e=0;$e<et;$e++){var C=H[$e];te[$e]=Q[C]}return x[1]=H.length,A.createSparseMatrix({values:te,index:H,ptr:x,size:[ne,1],datatype:P===A._datatype&&$===y._datatype?K:void 0})}function g(A,y){var I=A._values,_=A._index,R=A._ptr,P=A._datatype||A._data===void 0?A._datatype:A.getDataType();if(!I)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var Y=y._data,$=y._datatype||y.getDataType(),ne=A._size[0],W=y._size[0],te=y._size[1],H,x=n,K=i,F=a,oe=0;P&&$&&P===$&&typeof P=="string"&&P!=="mixed"&&(H=P,x=t.find(n,[H,H]),K=t.find(i,[H,H]),F=t.find(a,[H,H]),oe=t.convert(0,H));for(var ge=[],he=[],Q=[],Re=A.createSparseMatrix({values:ge,index:he,ptr:Q,size:[ne,te],datatype:P===A._datatype&&$===y._datatype?H:void 0}),Le=[],ue=[],me=0;me<te;me++){Q[me]=he.length;for(var je=me+1,Ae=0;Ae<W;Ae++){var ye=Y[Ae][me];if(!F(ye,oe))for(var et=R[Ae],$e=R[Ae+1],C=et;C<$e;C++){var B=_[C];ue[B]!==je?(ue[B]=je,he.push(B),Le[B]=K(ye,I[C])):Le[B]=x(Le[B],K(ye,I[C]))}}for(var D=Q[me],E=he.length,S=D;S<E;S++){var L=he[S];ge[S]=Le[L]}}return Q[te]=he.length,Re}function M(A,y){var I=A._values,_=A._index,R=A._ptr,P=A._datatype||A._data===void 0?A._datatype:A.getDataType(),Y=y._values,$=y._index,ne=y._ptr,W=y._datatype||y._data===void 0?y._datatype:y.getDataType(),te=A._size[0],H=y._size[1],x=I&&Y,K,F=n,oe=i;P&&W&&P===W&&typeof P=="string"&&P!=="mixed"&&(K=P,F=t.find(n,[K,K]),oe=t.find(i,[K,K]));for(var ge=x?[]:void 0,he=[],Q=[],Re=A.createSparseMatrix({values:ge,index:he,ptr:Q,size:[te,H],datatype:P===A._datatype&&W===y._datatype?K:void 0}),Le=x?[]:void 0,ue=[],me,je,Ae,ye,et,$e,C,B,D=0;D<H;D++){Q[D]=he.length;var E=D+1;for(et=ne[D],$e=ne[D+1],ye=et;ye<$e;ye++)if(B=$[ye],x)for(je=R[B],Ae=R[B+1],me=je;me<Ae;me++)C=_[me],ue[C]!==E?(ue[C]=E,he.push(C),Le[C]=oe(Y[ye],I[me])):Le[C]=F(Le[C],oe(Y[ye],I[me]));else for(je=R[B],Ae=R[B+1],me=je;me<Ae;me++)C=_[me],ue[C]!==E&&(ue[C]=E,he.push(C));if(x)for(var S=Q[D],L=he.length,V=S;V<L;V++){var U=he[V];ge[V]=Le[U]}}return Q[H]=he.length,Re}return t(Nu,i,{"Array, Array":t.referTo("Matrix, Matrix",A=>(y,I)=>{h(wt(y),wt(I));var _=A(r(y),r(I));return Je(_)?_.valueOf():_}),"Matrix, Matrix":function(y,I){var _=y.size(),R=I.size();return h(_,R),_.length===1?R.length===1?o(y,I,_[0]):u(y,I):R.length===1?d(y,I):m(y,I)},"Matrix, Array":t.referTo("Matrix,Matrix",A=>(y,I)=>A(y,r(I))),"Array, Matrix":t.referToSelf(A=>(y,I)=>A(r(y,I.storage()),I)),"SparseMatrix, any":function(y,I){return f(y,I,i,!1)},"DenseMatrix, any":function(y,I){return c(y,I,i,!1)},"any, SparseMatrix":function(y,I){return f(I,y,i,!0)},"any, DenseMatrix":function(y,I){return c(I,y,i,!0)},"Array, any":function(y,I){return c(r(y),I,i,!1).valueOf()},"any, Array":function(y,I){return c(r(I),y,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(A=>(y,I,_)=>{for(var R=A(y,I),P=0;P<_.length;P++)R=A(R,_[P]);return R})})}),Mu="subtract",C1=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],F1=ae(Mu,C1,e=>{var{typed:t,matrix:r,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:s,concat:f}=e,c=Yf({typed:t}),h=kf({typed:t}),o=i1({typed:t,equalScalar:n}),u=jf({typed:t,DenseMatrix:s}),l=an({typed:t,DenseMatrix:s}),d=ls({typed:t,matrix:r,concat:f});return t(Mu,{"any, any":i},d({elop:i,SS:o,DS:c,SD:h,Ss:l,sS:u}))}),N1="matAlgo07xSSf",M1=["typed","DenseMatrix"],S1=ae(N1,M1,e=>{var{typed:t,DenseMatrix:r}=e;return function(a,s,f){var c=a._size,h=a._datatype||a._data===void 0?a._datatype:a.getDataType(),o=s._size,u=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(c.length!==o.length)throw new Me(c.length,o.length);if(c[0]!==o[0]||c[1]!==o[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+o+")");var l=c[0],d=c[1],m,p=0,v=f;typeof h=="string"&&h===u&&h!=="mixed"&&(m=h,p=t.convert(0,m),v=t.find(f,[m,m]));var w,T,g=[];for(w=0;w<l;w++)g[w]=[];var M=[],A=[],y=[],I=[];for(T=0;T<d;T++){var _=T+1;for(n(a,T,y,M,_),n(s,T,I,A,_),w=0;w<l;w++){var R=y[w]===_?M[w]:p,P=I[w]===_?A[w]:p;g[w][T]=v(R,P)}}return new r({data:g,size:[l,d],datatype:h===a._datatype&&u===s._datatype?m:void 0})};function n(i,a,s,f,c){for(var h=i._values,o=i._index,u=i._ptr,l=u[a],d=u[a+1];l<d;l++){var m=o[l];s[m]=c,f[m]=h[l]}}}),Su="conj",_1=["typed"],T1=ae(Su,_1,e=>{var{typed:t}=e;return t(Su,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":t.referToSelf(r=>n=>nt(n,r))})}),_u="concat",B1=["typed","matrix","isInteger"],O1=ae(_u,B1,e=>{var{typed:t,matrix:r,isInteger:n}=e;return t(_u,{"...Array | Matrix | number | BigNumber":function(a){var s,f=a.length,c=-1,h,o=!1,u=[];for(s=0;s<f;s++){var l=a[s];if(Je(l)&&(o=!0),Pe(l)||Ke(l)){if(s!==f-1)throw new Error("Dimension must be specified as last argument");if(h=c,c=l.valueOf(),!n(c))throw new TypeError("Integer number expected for dimension");if(c<0||s>0&&c>h)throw new zr(c,h+1)}else{var d=He(l).valueOf(),m=wt(d);if(u[s]=d,h=c,c=m.length-1,s>0&&c!==h)throw new Me(h+1,c+1)}}if(u.length===0)throw new SyntaxError("At least one matrix expected");for(var p=u.shift();u.length;)p=Lf(p,u.shift(),c);return o?r(p):p},"...string":function(a){return a.join("")}})}),Tu="identity",I1=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],R1=ae(Tu,I1,e=>{var{typed:t,config:r,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:s}=e;return t(Tu,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(o){return n(o)},"number | BigNumber":function(o){return c(o,o,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(o,u){return c(o,o,u)},"number | BigNumber, number | BigNumber":function(o,u){return c(o,u,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(o,u,l){return c(o,u,l)},Array:function(o){return f(o)},"Array, string":function(o,u){return f(o,u)},Matrix:function(o){return f(o.valueOf(),o.storage())},"Matrix, string":function(o,u){return f(o.valueOf(),u)}});function f(h,o){switch(h.length){case 0:return o?n(o):[];case 1:return c(h[0],h[0],o);case 2:return c(h[0],h[1],o);default:throw new Error("Vector containing two values expected")}}function c(h,o,u){var l=Ke(h)||Ke(o)?i:null;if(Ke(h)&&(h=h.toNumber()),Ke(o)&&(o=o.toNumber()),!Ue(h)||h<1)throw new Error("Parameters in function identity must be positive integers");if(!Ue(o)||o<1)throw new Error("Parameters in function identity must be positive integers");var d=l?new i(1):1,m=l?new l(0):0,p=[h,o];if(u){if(u==="sparse")return s.diagonal(p,d,0,m);if(u==="dense")return a.diagonal(p,d,0,m);throw new TypeError('Unknown matrix type "'.concat(u,'"'))}for(var v=gi([],p,m),w=h<o?h:o,T=0;T<w;T++)v[T][T]=d;return v}});function L1(){throw new Error('No "bignumber" implementation available')}function P1(){throw new Error('No "fraction" implementation available')}function z1(){throw new Error('No "matrix" implementation available')}var Bu="size",U1=["typed","config","?matrix"],V1=ae(Bu,U1,e=>{var{typed:t,config:r,matrix:n}=e;return t(Bu,{Matrix:function(a){return a.create(a.size())},Array:wt,string:function(a){return r.matrix==="Array"?[a.length]:n([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return r.matrix==="Array"?[]:n?n([]):z1()}})}),Ou="zeros",$1=["typed","config","matrix","BigNumber"],H1=ae(Ou,$1,e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t(Ou,{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(h){var o=h[h.length-1];if(typeof o=="string"){var u=h.pop();return a(h,u)}else return r.matrix==="Array"?a(h):a(h,"default")},Array:a,Matrix:function(h){var o=h.storage();return a(h.valueOf(),o)},"Array | Matrix, string":function(h,o){return a(h.valueOf(),o)}});function a(c,h){var o=s(c),u=o?new i(0):0;if(f(c),h){var l=n(h);return c.length>0?l.resize(c,u):l}else{var d=[];return c.length>0?gi(d,c,u):d}}function s(c){var h=!1;return c.forEach(function(o,u,l){Ke(o)&&(h=!0,l[u]=o.toNumber())}),h}function f(c){c.forEach(function(h){if(typeof h!="number"||!Ue(h)||h<0)throw new Error("Parameters in function zeros must be positive integers")})}});function Sn(e){"@babel/helpers - typeof";return Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn(e)}function q1(e,t){if(Sn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G1(e){var t=q1(e,"string");return Sn(t)=="symbol"?t:t+""}function k1(e,t,r){return(t=G1(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Iu="format",Y1=["typed"],j1=ae(Iu,Y1,e=>{var{typed:t}=e;return t(Iu,{any:We,"any, Object | function | number | BigNumber":We})}),W1="numeric",Z1=["number","?bignumber","?fraction"],K1=ae(W1,Z1,e=>{var{number:t,bignumber:r,fraction:n}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:s=>t(s),BigNumber:r?s=>r(s):L1,bigint:s=>BigInt(s),Fraction:n?s=>n(s):P1};return function(f){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",h=arguments.length>2?arguments[2]:void 0;if(h!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var o=Wt(f);if(!(o in i))throw new TypeError("Cannot convert "+f+' of type "'+o+'"; valid input types are '+Object.keys(i).join(", "));if(!(c in a))throw new TypeError("Cannot convert "+f+' to type "'+c+'"; valid output types are '+Object.keys(a).join(", "));return c===o?f:a[c](f)}}),Ru="divideScalar",J1=["typed","numeric"],X1=ae(Ru,J1,e=>{var{typed:t,numeric:r}=e;return t(Ru,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"bigint, bigint":function(i,a){return i/a},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})}),Lu="pow",Q1=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],ev=ae(Lu,Q1,e=>{var{typed:t,config:r,identity:n,multiply:i,matrix:a,inv:s,number:f,fraction:c,Complex:h}=e;return t(Lu,{"number, number":o,"Complex, Complex":function(m,p){return m.pow(p)},"BigNumber, BigNumber":function(m,p){return p.isInteger()||m>=0||r.predictable?m.pow(p):new h(m.toNumber(),0).pow(p.toNumber(),0)},"bigint, bigint":(d,m)=>d**m,"Fraction, Fraction":function(m,p){var v=m.pow(p);if(v!=null)return v;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return o(m.valueOf(),p.valueOf())},"Array, number":u,"Array, BigNumber":function(m,p){return u(m,p.toNumber())},"Matrix, number":l,"Matrix, BigNumber":function(m,p){return l(m,p.toNumber())},"Unit, number | BigNumber":function(m,p){return m.pow(p)}});function o(d,m){if(r.predictable&&!Ue(m)&&d<0)try{var p=c(m),v=f(p);if((m===v||Math.abs((m-v)/m)<1e-14)&&p.d%2===1)return(p.n%2===0?1:-1)*Math.pow(-d,m)}catch{}return r.predictable&&(d<-1&&m===1/0||d>-1&&d<0&&m===-1/0)?NaN:Ue(m)||d>=0||r.predictable?Gf(d,m):d*d<1&&m===1/0||d*d>1&&m===-1/0?0:new h(d,0).pow(m,0)}function u(d,m){if(!Ue(m))throw new TypeError("For A^b, b must be an integer (value is "+m+")");var p=wt(d);if(p.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+p.length+" dimensions)");if(p[0]!==p[1])throw new Error("For A^b, A must be square (size is "+p[0]+"x"+p[1]+")");if(m<0)try{return u(s(d),-m)}catch(T){throw T.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+m+")"):T}for(var v=n(p[0]).valueOf(),w=d;m>=1;)(m&1)===1&&(v=i(w,v)),m>>=1,w=i(w,w);return v}function l(d,m){return a(u(d.valueOf(),m))}}),Hr="Number of decimals in function round must be an integer",Pu="round",tv=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],rv=ae(Pu,tv,e=>{var{typed:t,config:r,matrix:n,equalScalar:i,zeros:a,BigNumber:s,DenseMatrix:f}=e,c=Ln({typed:t,equalScalar:i}),h=an({typed:t,DenseMatrix:f}),o=Ur({typed:t});function u(l){return Math.abs(In(l).exponent)}return t(Pu,{number:function(d){var m=cn(d,u(r.relTol)),p=Kt(d,m,r.relTol,r.absTol)?m:d;return cn(p)},"number, number":function(d,m){var p=u(r.relTol);if(m>=p)return cn(d,m);var v=cn(d,p),w=Kt(d,v,r.relTol,r.absTol)?v:d;return cn(w,m)},"number, BigNumber":function(d,m){if(!m.isInteger())throw new TypeError(Hr);return new s(d).toDecimalPlaces(m.toNumber())},Complex:function(d){return d.round()},"Complex, number":function(d,m){if(m%1)throw new TypeError(Hr);return d.round(m)},"Complex, BigNumber":function(d,m){if(!m.isInteger())throw new TypeError(Hr);var p=m.toNumber();return d.round(p)},BigNumber:function(d){var m=new s(d).toDecimalPlaces(u(r.relTol)),p=Lr(d,m,r.relTol,r.absTol)?m:d;return p.toDecimalPlaces(0)},"BigNumber, BigNumber":function(d,m){if(!m.isInteger())throw new TypeError(Hr);var p=u(r.relTol);if(m>=p)return d.toDecimalPlaces(m.toNumber());var v=d.toDecimalPlaces(p),w=Lr(d,v,r.relTol,r.absTol)?v:d;return w.toDecimalPlaces(m.toNumber())},Fraction:function(d){return d.round()},"Fraction, number":function(d,m){if(m%1)throw new TypeError(Hr);return d.round(m)},"Fraction, BigNumber":function(d,m){if(!m.isInteger())throw new TypeError(Hr);return d.round(m.toNumber())},"Unit, number, Unit":t.referToSelf(l=>function(d,m,p){var v=d.toNumeric(p);return p.multiply(l(v,m))}),"Unit, BigNumber, Unit":t.referToSelf(l=>(d,m,p)=>l(d,m.toNumber(),p)),"Unit, Unit":t.referToSelf(l=>(d,m)=>l(d,0,m)),"Array | Matrix, number, Unit":t.referToSelf(l=>(d,m,p)=>nt(d,v=>l(v,m,p))),"Array | Matrix, BigNumber, Unit":t.referToSelf(l=>(d,m,p)=>l(d,m.toNumber(),p)),"Array | Matrix, Unit":t.referToSelf(l=>(d,m)=>l(d,0,m)),"Array | Matrix":t.referToSelf(l=>d=>nt(d,l)),"SparseMatrix, number | BigNumber":t.referToSelf(l=>(d,m)=>c(d,m,l,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(l=>(d,m)=>o(d,m,l,!1)),"Array, number | BigNumber":t.referToSelf(l=>(d,m)=>o(n(d),m,l,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":t.referToSelf(l=>(d,m)=>i(d,0)?a(m.size(),m.storage()):h(m,d,l,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":t.referToSelf(l=>(d,m)=>i(d,0)?a(m.size(),m.storage()):o(m,d,l,!0)),"number | Complex | BigNumber | Fraction, Array":t.referToSelf(l=>(d,m)=>o(n(m),d,l,!0).valueOf())})}),zu="log",nv=["config","typed","divideScalar","Complex"],iv=ae(zu,nv,e=>{var{typed:t,config:r,divideScalar:n,Complex:i}=e;return t(zu,{number:function(s){return s>=0||r.predictable?im(s):new i(s,0).log()},Complex:function(s){return s.log()},BigNumber:function(s){return!s.isNegative()||r.predictable?s.ln():new i(s.toNumber(),0).log()},"any, any":t.referToSelf(a=>(s,f)=>n(a(s),a(f)))})}),wi="equal",av=["typed","matrix","equalScalar","DenseMatrix","concat"],sv=ae(wi,av,e=>{var{typed:t,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=e,s=kf({typed:t}),f=S1({typed:t,DenseMatrix:i}),c=an({typed:t,DenseMatrix:i}),h=ls({typed:t,matrix:r,concat:a});return t(wi,uv({typed:t,equalScalar:n}),h({elop:n,SS:f,DS:s,Ss:c}))}),uv=ae(wi,["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return t(wi,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:r(i,a)}})});Rn(function(e){return new e(1).exp()},{hasher:$i});Rn(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},{hasher:$i});var Wf=Rn(function(e){return e.acos(-1)},{hasher:$i});Rn(function(e){return Wf(e).times(2)},{hasher:$i});function $i(e){return e[0].precision}function Uu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uu(Object(r),!0).forEach(function(n){k1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ov="Unit",fv=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],lv=ae(ov,fv,e=>{var{on:t,config:r,addScalar:n,subtractScalar:i,multiplyScalar:a,divideScalar:s,pow:f,abs:c,fix:h,round:o,equal:u,isNumeric:l,format:d,number:m,Complex:p,BigNumber:v,Fraction:w}=e,T=m;function g(D,E){if(!(this instanceof g))throw new Error("Constructor must be called with the new operator");if(!(D==null||l(D)||wn(D)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,E===void 0)this.units=[],this.dimensions=K.map(L=>0);else if(typeof E=="string"){var S=g.parse(E);this.units=S.units,this.dimensions=S.dimensions}else if(cr(E)&&E.value===null)this.fixPrefix=E.fixPrefix,this.skipAutomaticSimplification=E.skipAutomaticSimplification,this.dimensions=E.dimensions.slice(0),this.units=E.units.map(L=>pr({},L));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(D)}Object.defineProperty(g,"name",{value:"Unit"}),g.prototype.constructor=g,g.prototype.type="Unit",g.prototype.isUnit=!0;var M,A,y;function I(){for(;y===" "||y==="	";)P()}function _(D){return D>="0"&&D<="9"||D==="."}function R(D){return D>="0"&&D<="9"}function P(){A++,y=M.charAt(A)}function Y(D){A=D,y=M.charAt(A)}function $(){var D="",E=A;if(y==="+"?P():y==="-"&&(D+=y,P()),!_(y))return Y(E),null;if(y==="."){if(D+=y,P(),!R(y))return Y(E),null}else{for(;R(y);)D+=y,P();y==="."&&(D+=y,P())}for(;R(y);)D+=y,P();if(y==="E"||y==="e"){var S="",L=A;if(S+=y,P(),(y==="+"||y==="-")&&(S+=y,P()),!R(y))return Y(L),D;for(D=D+S;R(y);)D+=y,P()}return D}function ne(){for(var D="";R(y)||g.isValidAlpha(y);)D+=y,P();var E=D.charAt(0);return g.isValidAlpha(E)?D:null}function W(D){return y===D?(P(),D):null}g.parse=function(D,E){if(E=E||{},M=D,A=-1,y="",typeof M!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var S=new g;S.units=[];var L=1,V=!1;P(),I();var U=$(),j=null;if(U){if(r.number==="BigNumber")j=new v(U);else if(r.number==="Fraction")try{j=new w(U)}catch{j=parseFloat(U)}else j=parseFloat(U);I(),W("*")?(L=1,V=!0):W("/")&&(L=-1,V=!0)}for(var G=[],b=1;;){for(I();y==="(";)G.push(L),b*=L,L=1,P(),I();var N=void 0;if(y){var O=y;if(N=ne(),N===null)throw new SyntaxError('Unexpected "'+O+'" in "'+M+'" at index '+A.toString())}else break;var z=te(N);if(z===null)throw new SyntaxError('Unit "'+N+'" not found.');var q=L*b;if(I(),W("^")){I();var k=$();if(k===null)throw new SyntaxError('In "'+D+'", "^" must be followed by a floating-point number');q*=k}S.units.push({unit:z.unit,prefix:z.prefix,power:q});for(var J=0;J<K.length;J++)S.dimensions[J]+=(z.unit.dimensions[J]||0)*q;for(I();y===")";){if(G.length===0)throw new SyntaxError('Unmatched ")" in "'+M+'" at index '+A.toString());b/=G.pop(),P(),I()}if(V=!1,W("*")?(L=1,V=!0):W("/")?(L=-1,V=!0):L=1,z.unit.base){var Z=z.unit.base.key;ue.auto[Z]={unit:z.unit,prefix:z.prefix}}}if(I(),y)throw new SyntaxError('Could not parse: "'+D+'"');if(V)throw new SyntaxError('Trailing characters: "'+D+'"');if(G.length!==0)throw new SyntaxError('Unmatched "(" in "'+M+'"');if(S.units.length===0&&!E.allowNoUnits)throw new SyntaxError('"'+D+'" contains no units');return S.value=j!==void 0?S._normalize(j):null,S},g.prototype.clone=function(){var D=new g;D.fixPrefix=this.fixPrefix,D.skipAutomaticSimplification=this.skipAutomaticSimplification,D.value=He(this.value),D.dimensions=this.dimensions.slice(0),D.units=[];for(var E=0;E<this.units.length;E++){D.units[E]={};for(var S in this.units[E])Be(this.units[E],S)&&(D.units[E][S]=this.units[E][S])}return D},g.prototype.valueType=function(){return Wt(this.value)},g.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},g.prototype._normalize=function(D){if(D==null||this.units.length===0)return D;for(var E=D,S=g._getNumberConverter(Wt(D)),L=0;L<this.units.length;L++){var V=S(this.units[L].unit.value),U=S(this.units[L].prefix.value),j=S(this.units[L].power);E=a(E,f(a(V,U),j))}return E},g.prototype._denormalize=function(D,E){if(D==null||this.units.length===0)return D;for(var S=D,L=g._getNumberConverter(Wt(D)),V=0;V<this.units.length;V++){var U=L(this.units[V].unit.value),j=L(this.units[V].prefix.value),G=L(this.units[V].power);S=s(S,f(a(U,j),G))}return S};var te=Rn(D=>{if(Be(Q,D)){var E=Q[D],S=E.prefixes[""];return{unit:E,prefix:S}}for(var L in Q)if(Be(Q,L)&&Gp(D,L)){var V=Q[L],U=D.length-L.length,j=D.substring(0,U),G=Be(V.prefixes,j)?V.prefixes[j]:void 0;if(G!==void 0)return{unit:V,prefix:G}}return null},{hasher:D=>D[0],limit:100});g.isValuelessUnit=function(D){return te(D)!==null},g.prototype.hasBase=function(D){if(typeof D=="string"&&(D=F[D]),!D)return!1;for(var E=0;E<K.length;E++)if(Math.abs((this.dimensions[E]||0)-(D.dimensions[E]||0))>1e-12)return!1;return!0},g.prototype.equalBase=function(D){for(var E=0;E<K.length;E++)if(Math.abs((this.dimensions[E]||0)-(D.dimensions[E]||0))>1e-12)return!1;return!0},g.prototype.equals=function(D){return this.equalBase(D)&&u(this.value,D.value)},g.prototype.multiply=function(D){for(var E=this.clone(),S=cr(D)?D:new g(D),L=0;L<K.length;L++)E.dimensions[L]=(this.dimensions[L]||0)+(S.dimensions[L]||0);for(var V=0;V<S.units.length;V++){var U=aa({},S.units[V]);E.units.push(U)}if(this.value!==null||S.value!==null){var j=this.value===null?this._normalize(1):this.value,G=S.value===null?S._normalize(1):S.value;E.value=a(j,G)}else E.value=null;return cr(D)&&(E.skipAutomaticSimplification=!1),H(E)},g.prototype.divideInto=function(D){return new g(D).divide(this)},g.prototype.divide=function(D){for(var E=this.clone(),S=cr(D)?D:new g(D),L=0;L<K.length;L++)E.dimensions[L]=(this.dimensions[L]||0)-(S.dimensions[L]||0);for(var V=0;V<S.units.length;V++){var U=aa(aa({},S.units[V]),{},{power:-S.units[V].power});E.units.push(U)}if(this.value!==null||S.value!==null){var j=this.value===null?this._normalize(1):this.value,G=S.value===null?S._normalize(1):S.value;E.value=s(j,G)}else E.value=null;return cr(D)&&(E.skipAutomaticSimplification=!1),H(E)},g.prototype.pow=function(D){for(var E=this.clone(),S=0;S<K.length;S++)E.dimensions[S]=(this.dimensions[S]||0)*D;for(var L=0;L<E.units.length;L++)E.units[L].power*=D;return E.value!==null?E.value=f(E.value,D):E.value=null,E.skipAutomaticSimplification=!1,H(E)};function H(D){return D.equalBase(F.NONE)&&D.value!==null&&!r.predictable?D.value:D}g.prototype.abs=function(){var D=this.clone();if(D.value!==null)if(D._isDerived()||D.units.length===0||D.units[0].unit.offset===0)D.value=c(D.value);else{var E=D._numberConverter(),S=E(D.units[0].unit.value),L=E(D.units[0].unit.offset),V=a(S,L);D.value=i(c(n(D.value,V)),V)}for(var U in D.units)(D.units[U].unit.name==="VA"||D.units[U].unit.name==="VAR")&&(D.units[U].unit=Q.W);return D},g.prototype.to=function(D){var E=this.value===null?this._normalize(1):this.value,S;if(typeof D=="string")S=g.parse(D);else if(cr(D))S=D.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(S))throw new Error("Units do not match ('".concat(S.toString(),"' != '").concat(this.toString(),"')"));if(S.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||S.units.length===0||this.units[0].unit.offset===S.units[0].unit.offset)S.value=He(E);else{var L=g._getNumberConverter(Wt(E)),V=this.units[0].unit.value,U=this.units[0].unit.offset,j=a(V,U),G=S.units[0].unit.value,b=S.units[0].unit.offset,N=a(G,b);S.value=n(E,L(i(j,N)))}return S.fixPrefix=!0,S.skipAutomaticSimplification=!0,S},g.prototype.toNumber=function(D){return T(this.toNumeric(D))},g.prototype.toNumeric=function(D){var E;return D?E=this.to(D):E=this.clone(),E._isDerived()||E.units.length===0?E._denormalize(E.value):E._denormalize(E.value,E.units[0].prefix.value)},g.prototype.toString=function(){return this.format()},g.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},g.fromJSON=function(D){var E,S=new g(D.value,(E=D.unit)!==null&&E!==void 0?E:void 0);return S.fixPrefix=D.fixPrefix||!1,S},g.prototype.valueOf=g.prototype.toString,g.prototype.simplify=function(){var D=this.clone(),E=[],S;for(var L in me)if(Be(me,L)&&D.hasBase(F[L])){S=L;break}if(S==="NONE")D.units=[];else{var V;if(S&&Be(me,S)&&(V=me[S]),V)D.units=[{unit:V.unit,prefix:V.prefix,power:1}];else{for(var U=!1,j=0;j<K.length;j++){var G=K[j];Math.abs(D.dimensions[j]||0)>1e-12&&(Be(me,G)?E.push({unit:me[G].unit,prefix:me[G].prefix,power:D.dimensions[j]||0}):U=!0)}E.length<D.units.length&&!U&&(D.units=E)}}return D},g.prototype.toSI=function(){for(var D=this.clone(),E=[],S=0;S<K.length;S++){var L=K[S];if(Math.abs(D.dimensions[S]||0)>1e-12)if(Be(ue.si,L))E.push({unit:ue.si[L].unit,prefix:ue.si[L].prefix,power:D.dimensions[S]||0});else throw new Error("Cannot express custom unit "+L+" in SI units")}return D.units=E,D.fixPrefix=!0,D.skipAutomaticSimplification=!0,this.value!==null?(D.value=null,this.to(D)):D},g.prototype.formatUnits=function(){for(var D="",E="",S=0,L=0,V=0;V<this.units.length;V++)this.units[V].power>0?(S++,D+=" "+this.units[V].prefix.name+this.units[V].unit.name,Math.abs(this.units[V].power-1)>1e-15&&(D+="^"+this.units[V].power)):this.units[V].power<0&&L++;if(L>0)for(var U=0;U<this.units.length;U++)this.units[U].power<0&&(S>0?(E+=" "+this.units[U].prefix.name+this.units[U].unit.name,Math.abs(this.units[U].power+1)>1e-15&&(E+="^"+-this.units[U].power)):(E+=" "+this.units[U].prefix.name+this.units[U].unit.name,E+="^"+this.units[U].power));D=D.substr(1),E=E.substr(1),S>1&&L>0&&(D="("+D+")"),L>1&&S>0&&(E="("+E+")");var j=D;return S>0&&L>0&&(j+=" / "),j+=E,j},g.prototype.format=function(D){var E=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),S=!1;typeof E.value<"u"&&E.value!==null&&wn(E.value)&&(S=Math.abs(E.value.re)<1e-14);for(var L in E.units)Be(E.units,L)&&E.units[L].unit&&(E.units[L].unit.name==="VA"&&S?E.units[L].unit=Q.VAR:E.units[L].unit.name==="VAR"&&!S&&(E.units[L].unit=Q.VA));E.units.length===1&&!E.fixPrefix&&Math.abs(E.units[0].power-Math.round(E.units[0].power))<1e-14&&(E.units[0].prefix=E._bestPrefix());var V=E._denormalize(E.value),U=E.value!==null?d(V,D||{}):"",j=E.formatUnits();return E.value&&wn(E.value)&&(U="("+U+")"),j.length>0&&U.length>0&&(U+=" "),U+=j,U},g.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var D=this.value!==null?c(this.value):0,E=c(this.units[0].unit.value),S=this.units[0].prefix;if(D===0)return S;var L=this.units[0].power,V=Math.log(D/Math.pow(S.value*E,L))/Math.LN10-1.2;if(V>-2.200001&&V<1.800001)return S;V=Math.abs(V);var U=this.units[0].unit.prefixes;for(var j in U)if(Be(U,j)){var G=U[j];if(G.scientific){var b=Math.abs(Math.log(D/Math.pow(G.value*E,L))/Math.LN10-1.2);(b<V||b===V&&G.name.length<S.name.length)&&(S=G,V=b)}}return S},g.prototype.splitUnit=function(D){for(var E=this.clone(),S=[],L=0;L<D.length&&(E=E.to(D[L]),L!==D.length-1);L++){var V=E.toNumeric(),U=o(V),j=void 0,G=u(U,V);G?j=U:j=h(E.toNumeric());var b=new g(j,D[L].toString());S.push(b),E=i(E,b)}for(var N=0,O=0;O<S.length;O++)N=n(N,S[O].value);return u(N,this.value)&&(E.value=0),S.push(E),S};var x={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};x.SHORTLONG=pr({},x.SHORT,x.LONG),x.BINARY_SHORT=pr({},x.BINARY_SHORT_SI,x.BINARY_SHORT_IEC),x.BINARY_LONG=pr({},x.BINARY_LONG_SI,x.BINARY_LONG_IEC);var K=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],F={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var oe in F)Be(F,oe)&&(F[oe].key=oe);var ge={},he={name:"",base:ge,value:1,offset:0,dimensions:K.map(D=>0)},Q={meter:{name:"meter",base:F.LENGTH,prefixes:x.LONG,value:1,offset:0},inch:{name:"inch",base:F.LENGTH,prefixes:x.NONE,value:.0254,offset:0},foot:{name:"foot",base:F.LENGTH,prefixes:x.NONE,value:.3048,offset:0},yard:{name:"yard",base:F.LENGTH,prefixes:x.NONE,value:.9144,offset:0},mile:{name:"mile",base:F.LENGTH,prefixes:x.NONE,value:1609.344,offset:0},link:{name:"link",base:F.LENGTH,prefixes:x.NONE,value:.201168,offset:0},rod:{name:"rod",base:F.LENGTH,prefixes:x.NONE,value:5.0292,offset:0},chain:{name:"chain",base:F.LENGTH,prefixes:x.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:F.LENGTH,prefixes:x.NONE,value:1e-10,offset:0},m:{name:"m",base:F.LENGTH,prefixes:x.SHORT,value:1,offset:0},in:{name:"in",base:F.LENGTH,prefixes:x.NONE,value:.0254,offset:0},ft:{name:"ft",base:F.LENGTH,prefixes:x.NONE,value:.3048,offset:0},yd:{name:"yd",base:F.LENGTH,prefixes:x.NONE,value:.9144,offset:0},mi:{name:"mi",base:F.LENGTH,prefixes:x.NONE,value:1609.344,offset:0},li:{name:"li",base:F.LENGTH,prefixes:x.NONE,value:.201168,offset:0},rd:{name:"rd",base:F.LENGTH,prefixes:x.NONE,value:5.02921,offset:0},ch:{name:"ch",base:F.LENGTH,prefixes:x.NONE,value:20.1168,offset:0},mil:{name:"mil",base:F.LENGTH,prefixes:x.NONE,value:254e-7,offset:0},m2:{name:"m2",base:F.SURFACE,prefixes:x.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:F.SURFACE,prefixes:x.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:F.SURFACE,prefixes:x.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:F.SURFACE,prefixes:x.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:F.SURFACE,prefixes:x.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:F.SURFACE,prefixes:x.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:F.SURFACE,prefixes:x.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:F.SURFACE,prefixes:x.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:F.SURFACE,prefixes:x.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:F.SURFACE,prefixes:x.NONE,value:1e4,offset:0},m3:{name:"m3",base:F.VOLUME,prefixes:x.CUBIC,value:1,offset:0},L:{name:"L",base:F.VOLUME,prefixes:x.SHORT,value:.001,offset:0},l:{name:"l",base:F.VOLUME,prefixes:x.SHORT,value:.001,offset:0},litre:{name:"litre",base:F.VOLUME,prefixes:x.LONG,value:.001,offset:0},cuin:{name:"cuin",base:F.VOLUME,prefixes:x.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:F.VOLUME,prefixes:x.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:F.VOLUME,prefixes:x.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:F.VOLUME,prefixes:x.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:F.VOLUME,prefixes:x.NONE,value:15e-6,offset:0},drop:{name:"drop",base:F.VOLUME,prefixes:x.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:F.VOLUME,prefixes:x.NONE,value:5e-8,offset:0},minim:{name:"minim",base:F.VOLUME,prefixes:x.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:F.VOLUME,prefixes:x.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:F.VOLUME,prefixes:x.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:F.VOLUME,prefixes:x.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:F.VOLUME,prefixes:x.NONE,value:1e-6,offset:0},cup:{name:"cup",base:F.VOLUME,prefixes:x.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:F.VOLUME,prefixes:x.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:F.VOLUME,prefixes:x.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:F.VOLUME,prefixes:x.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:F.VOLUME,prefixes:x.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:F.VOLUME,prefixes:x.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:F.VOLUME,prefixes:x.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:F.VOLUME,prefixes:x.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:F.VOLUME,prefixes:x.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:F.VOLUME,prefixes:x.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:F.VOLUME,prefixes:x.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:F.VOLUME,prefixes:x.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:F.VOLUME,prefixes:x.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:F.VOLUME,prefixes:x.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:F.VOLUME,prefixes:x.NONE,value:.1173478,offset:0},obl:{name:"obl",base:F.VOLUME,prefixes:x.NONE,value:.1589873,offset:0},g:{name:"g",base:F.MASS,prefixes:x.SHORT,value:.001,offset:0},gram:{name:"gram",base:F.MASS,prefixes:x.LONG,value:.001,offset:0},ton:{name:"ton",base:F.MASS,prefixes:x.SHORT,value:907.18474,offset:0},t:{name:"t",base:F.MASS,prefixes:x.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:F.MASS,prefixes:x.LONG,value:1e3,offset:0},grain:{name:"grain",base:F.MASS,prefixes:x.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:F.MASS,prefixes:x.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:F.MASS,prefixes:x.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:F.MASS,prefixes:x.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:F.MASS,prefixes:x.NONE,value:45.359237,offset:0},stick:{name:"stick",base:F.MASS,prefixes:x.NONE,value:.115,offset:0},stone:{name:"stone",base:F.MASS,prefixes:x.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:F.MASS,prefixes:x.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:F.MASS,prefixes:x.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:F.MASS,prefixes:x.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:F.MASS,prefixes:x.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:F.MASS,prefixes:x.NONE,value:45.359237,offset:0},s:{name:"s",base:F.TIME,prefixes:x.SHORT,value:1,offset:0},min:{name:"min",base:F.TIME,prefixes:x.NONE,value:60,offset:0},h:{name:"h",base:F.TIME,prefixes:x.NONE,value:3600,offset:0},second:{name:"second",base:F.TIME,prefixes:x.LONG,value:1,offset:0},sec:{name:"sec",base:F.TIME,prefixes:x.LONG,value:1,offset:0},minute:{name:"minute",base:F.TIME,prefixes:x.NONE,value:60,offset:0},hour:{name:"hour",base:F.TIME,prefixes:x.NONE,value:3600,offset:0},day:{name:"day",base:F.TIME,prefixes:x.NONE,value:86400,offset:0},week:{name:"week",base:F.TIME,prefixes:x.NONE,value:7*86400,offset:0},month:{name:"month",base:F.TIME,prefixes:x.NONE,value:2629800,offset:0},year:{name:"year",base:F.TIME,prefixes:x.NONE,value:31557600,offset:0},decade:{name:"decade",base:F.TIME,prefixes:x.NONE,value:315576e3,offset:0},century:{name:"century",base:F.TIME,prefixes:x.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:F.TIME,prefixes:x.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:F.FREQUENCY,prefixes:x.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:F.FREQUENCY,prefixes:x.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:F.ANGLE,prefixes:x.SHORT,value:1,offset:0},radian:{name:"radian",base:F.ANGLE,prefixes:x.LONG,value:1,offset:0},deg:{name:"deg",base:F.ANGLE,prefixes:x.SHORT,value:null,offset:0},degree:{name:"degree",base:F.ANGLE,prefixes:x.LONG,value:null,offset:0},grad:{name:"grad",base:F.ANGLE,prefixes:x.SHORT,value:null,offset:0},gradian:{name:"gradian",base:F.ANGLE,prefixes:x.LONG,value:null,offset:0},cycle:{name:"cycle",base:F.ANGLE,prefixes:x.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:F.ANGLE,prefixes:x.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:F.ANGLE,prefixes:x.NONE,value:null,offset:0},A:{name:"A",base:F.CURRENT,prefixes:x.SHORT,value:1,offset:0},ampere:{name:"ampere",base:F.CURRENT,prefixes:x.LONG,value:1,offset:0},K:{name:"K",base:F.TEMPERATURE,prefixes:x.SHORT,value:1,offset:0},degC:{name:"degC",base:F.TEMPERATURE,prefixes:x.SHORT,value:1,offset:273.15},degF:{name:"degF",base:F.TEMPERATURE,prefixes:x.SHORT,value:new w(5,9),offset:459.67},degR:{name:"degR",base:F.TEMPERATURE,prefixes:x.SHORT,value:new w(5,9),offset:0},kelvin:{name:"kelvin",base:F.TEMPERATURE,prefixes:x.LONG,value:1,offset:0},celsius:{name:"celsius",base:F.TEMPERATURE,prefixes:x.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:F.TEMPERATURE,prefixes:x.LONG,value:new w(5,9),offset:459.67},rankine:{name:"rankine",base:F.TEMPERATURE,prefixes:x.LONG,value:new w(5,9),offset:0},mol:{name:"mol",base:F.AMOUNT_OF_SUBSTANCE,prefixes:x.SHORT,value:1,offset:0},mole:{name:"mole",base:F.AMOUNT_OF_SUBSTANCE,prefixes:x.LONG,value:1,offset:0},cd:{name:"cd",base:F.LUMINOUS_INTENSITY,prefixes:x.SHORT,value:1,offset:0},candela:{name:"candela",base:F.LUMINOUS_INTENSITY,prefixes:x.LONG,value:1,offset:0},N:{name:"N",base:F.FORCE,prefixes:x.SHORT,value:1,offset:0},newton:{name:"newton",base:F.FORCE,prefixes:x.LONG,value:1,offset:0},dyn:{name:"dyn",base:F.FORCE,prefixes:x.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:F.FORCE,prefixes:x.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:F.FORCE,prefixes:x.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:F.FORCE,prefixes:x.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:F.FORCE,prefixes:x.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:F.FORCE,prefixes:x.NONE,value:9.80665,offset:0},J:{name:"J",base:F.ENERGY,prefixes:x.SHORT,value:1,offset:0},joule:{name:"joule",base:F.ENERGY,prefixes:x.LONG,value:1,offset:0},erg:{name:"erg",base:F.ENERGY,prefixes:x.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:F.ENERGY,prefixes:x.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:F.ENERGY,prefixes:x.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:F.ENERGY,prefixes:x.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:F.ENERGY,prefixes:x.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:F.POWER,prefixes:x.SHORT,value:1,offset:0},watt:{name:"watt",base:F.POWER,prefixes:x.LONG,value:1,offset:0},hp:{name:"hp",base:F.POWER,prefixes:x.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:F.POWER,prefixes:x.SHORT,value:p.I,offset:0},VA:{name:"VA",base:F.POWER,prefixes:x.SHORT,value:1,offset:0},Pa:{name:"Pa",base:F.PRESSURE,prefixes:x.SHORT,value:1,offset:0},psi:{name:"psi",base:F.PRESSURE,prefixes:x.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:F.PRESSURE,prefixes:x.NONE,value:101325,offset:0},bar:{name:"bar",base:F.PRESSURE,prefixes:x.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:F.PRESSURE,prefixes:x.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:F.PRESSURE,prefixes:x.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:F.PRESSURE,prefixes:x.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:F.PRESSURE,prefixes:x.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:F.ELECTRIC_CHARGE,prefixes:x.LONG,value:1,offset:0},C:{name:"C",base:F.ELECTRIC_CHARGE,prefixes:x.SHORT,value:1,offset:0},farad:{name:"farad",base:F.ELECTRIC_CAPACITANCE,prefixes:x.LONG,value:1,offset:0},F:{name:"F",base:F.ELECTRIC_CAPACITANCE,prefixes:x.SHORT,value:1,offset:0},volt:{name:"volt",base:F.ELECTRIC_POTENTIAL,prefixes:x.LONG,value:1,offset:0},V:{name:"V",base:F.ELECTRIC_POTENTIAL,prefixes:x.SHORT,value:1,offset:0},ohm:{name:"ohm",base:F.ELECTRIC_RESISTANCE,prefixes:x.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:F.ELECTRIC_INDUCTANCE,prefixes:x.LONG,value:1,offset:0},H:{name:"H",base:F.ELECTRIC_INDUCTANCE,prefixes:x.SHORT,value:1,offset:0},siemens:{name:"siemens",base:F.ELECTRIC_CONDUCTANCE,prefixes:x.LONG,value:1,offset:0},S:{name:"S",base:F.ELECTRIC_CONDUCTANCE,prefixes:x.SHORT,value:1,offset:0},weber:{name:"weber",base:F.MAGNETIC_FLUX,prefixes:x.LONG,value:1,offset:0},Wb:{name:"Wb",base:F.MAGNETIC_FLUX,prefixes:x.SHORT,value:1,offset:0},tesla:{name:"tesla",base:F.MAGNETIC_FLUX_DENSITY,prefixes:x.LONG,value:1,offset:0},T:{name:"T",base:F.MAGNETIC_FLUX_DENSITY,prefixes:x.SHORT,value:1,offset:0},b:{name:"b",base:F.BIT,prefixes:x.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:F.BIT,prefixes:x.BINARY_LONG,value:1,offset:0},B:{name:"B",base:F.BIT,prefixes:x.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:F.BIT,prefixes:x.BINARY_LONG,value:8,offset:0}},Re={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function Le(D){if(D.number==="BigNumber"){var E=Wf(v);Q.rad.value=new v(1),Q.deg.value=E.div(180),Q.grad.value=E.div(200),Q.cycle.value=E.times(2),Q.arcsec.value=E.div(648e3),Q.arcmin.value=E.div(10800)}else Q.rad.value=1,Q.deg.value=Math.PI/180,Q.grad.value=Math.PI/200,Q.cycle.value=Math.PI*2,Q.arcsec.value=Math.PI/648e3,Q.arcmin.value=Math.PI/10800;Q.radian.value=Q.rad.value,Q.degree.value=Q.deg.value,Q.gradian.value=Q.grad.value}Le(r),t&&t("config",function(D,E){D.number!==E.number&&Le(D)});var ue={si:{NONE:{unit:he,prefix:x.NONE[""]},LENGTH:{unit:Q.m,prefix:x.SHORT[""]},MASS:{unit:Q.g,prefix:x.SHORT.k},TIME:{unit:Q.s,prefix:x.SHORT[""]},CURRENT:{unit:Q.A,prefix:x.SHORT[""]},TEMPERATURE:{unit:Q.K,prefix:x.SHORT[""]},LUMINOUS_INTENSITY:{unit:Q.cd,prefix:x.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:Q.mol,prefix:x.SHORT[""]},ANGLE:{unit:Q.rad,prefix:x.SHORT[""]},BIT:{unit:Q.bits,prefix:x.SHORT[""]},FORCE:{unit:Q.N,prefix:x.SHORT[""]},ENERGY:{unit:Q.J,prefix:x.SHORT[""]},POWER:{unit:Q.W,prefix:x.SHORT[""]},PRESSURE:{unit:Q.Pa,prefix:x.SHORT[""]},ELECTRIC_CHARGE:{unit:Q.C,prefix:x.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:Q.F,prefix:x.SHORT[""]},ELECTRIC_POTENTIAL:{unit:Q.V,prefix:x.SHORT[""]},ELECTRIC_RESISTANCE:{unit:Q.ohm,prefix:x.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:Q.H,prefix:x.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:Q.S,prefix:x.SHORT[""]},MAGNETIC_FLUX:{unit:Q.Wb,prefix:x.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:Q.T,prefix:x.SHORT[""]},FREQUENCY:{unit:Q.Hz,prefix:x.SHORT[""]}}};ue.cgs=JSON.parse(JSON.stringify(ue.si)),ue.cgs.LENGTH={unit:Q.m,prefix:x.SHORT.c},ue.cgs.MASS={unit:Q.g,prefix:x.SHORT[""]},ue.cgs.FORCE={unit:Q.dyn,prefix:x.SHORT[""]},ue.cgs.ENERGY={unit:Q.erg,prefix:x.NONE[""]},ue.us=JSON.parse(JSON.stringify(ue.si)),ue.us.LENGTH={unit:Q.ft,prefix:x.NONE[""]},ue.us.MASS={unit:Q.lbm,prefix:x.NONE[""]},ue.us.TEMPERATURE={unit:Q.degF,prefix:x.NONE[""]},ue.us.FORCE={unit:Q.lbf,prefix:x.NONE[""]},ue.us.ENERGY={unit:Q.BTU,prefix:x.BTU[""]},ue.us.POWER={unit:Q.hp,prefix:x.NONE[""]},ue.us.PRESSURE={unit:Q.psi,prefix:x.NONE[""]},ue.auto=JSON.parse(JSON.stringify(ue.si));var me=ue.auto;g.setUnitSystem=function(D){if(Be(ue,D))me=ue[D];else throw new Error("Unit system "+D+" does not exist. Choices are: "+Object.keys(ue).join(", "))},g.getUnitSystem=function(){for(var D in ue)if(Be(ue,D)&&ue[D]===me)return D},g.typeConverters={BigNumber:function(E){return E!=null&&E.isFraction?new v(E.n).div(E.d).times(E.s):new v(E+"")},Fraction:function(E){return new w(E)},Complex:function(E){return E},number:function(E){return E!=null&&E.isFraction?m(E):E}},g.prototype._numberConverter=function(){var D=g.typeConverters[this.valueType()];if(D)return D;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},g._getNumberConverter=function(D){if(!g.typeConverters[D])throw new TypeError('Unsupported type "'+D+'"');return g.typeConverters[D]};for(var je in Q)if(Be(Q,je)){var Ae=Q[je];Ae.dimensions=Ae.base.dimensions}for(var ye in Re)if(Be(Re,ye)){var et=Q[Re[ye]],$e={};for(var C in et)Be(et,C)&&($e[C]=et[C]);$e.name=ye,Q[ye]=$e}g.isValidAlpha=function(E){return/^[a-zA-Z]$/.test(E)};function B(D){for(var E=0;E<D.length;E++){if(y=D.charAt(E),E===0&&!g.isValidAlpha(y))throw new Error('Invalid unit name (must begin with alpha character): "'+D+'"');if(E>0&&!(g.isValidAlpha(y)||R(y)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+D+'"')}}return g.createUnit=function(D,E){if(typeof D!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(E&&E.override){for(var S in D)if(Be(D,S)&&g.deleteUnit(S),D[S].aliases)for(var L=0;L<D[S].aliases.length;L++)g.deleteUnit(D[S].aliases[L])}var V;for(var U in D)Be(D,U)&&(V=g.createUnitSingle(U,D[U]));return V},g.createUnitSingle=function(D,E){if((typeof E>"u"||E===null)&&(E={}),typeof D!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Be(Q,D))throw new Error('Cannot create unit "'+D+'": a unit with that name already exists');B(D);var S=null,L=[],V=0,U,j,G;if(E&&E.type==="Unit")S=E.clone();else if(typeof E=="string")E!==""&&(U=E);else if(typeof E=="object")U=E.definition,j=E.prefixes,V=E.offset,G=E.baseName,E.aliases&&(L=E.aliases.valueOf());else throw new TypeError('Cannot create unit "'+D+'" from "'+E.toString()+'": expecting "string" or "Unit" or "Object"');if(L){for(var b=0;b<L.length;b++)if(Be(Q,L[b]))throw new Error('Cannot create alias "'+L[b]+'": a unit with that name already exists')}if(U&&typeof U=="string"&&!S)try{S=g.parse(U,{allowNoUnits:!0})}catch(_e){throw _e.message='Could not create unit "'+D+'" from "'+U+'": '+_e.message,_e}else U&&U.type==="Unit"&&(S=U.clone());L=L||[],V=V||0,j&&j.toUpperCase?j=x[j.toUpperCase()]||x.NONE:j=x.NONE;var N={};if(S){N={name:D,value:S.value,dimensions:S.dimensions.slice(0),prefixes:j,offset:V};var k=!1;for(var J in F)if(Be(F,J)){for(var Z=!0,re=0;re<K.length;re++)if(Math.abs((N.dimensions[re]||0)-(F[J].dimensions[re]||0))>1e-12){Z=!1;break}if(Z){k=!0,N.base=F[J];break}}if(!k){G=G||D+"_STUFF";var ee={dimensions:S.dimensions.slice(0)};ee.key=G,F[G]=ee,me[G]={unit:N,prefix:x.NONE[""]},N.base=F[G]}}else{if(G=G||D+"_STUFF",K.indexOf(G)>=0)throw new Error('Cannot create new base unit "'+D+'": a base unit with that name already exists (and cannot be overridden)');K.push(G);for(var O in F)Be(F,O)&&(F[O].dimensions[K.length-1]=0);for(var z={dimensions:[]},q=0;q<K.length;q++)z.dimensions[q]=0;z.dimensions[K.length-1]=1,z.key=G,F[G]=z,N={name:D,value:1,dimensions:F[G].dimensions.slice(0),prefixes:j,offset:V,base:F[G]},me[G]={unit:N,prefix:x.NONE[""]}}g.UNITS[D]=N;for(var we=0;we<L.length;we++){var Ee=L[we],Oe={};for(var Fe in N)Be(N,Fe)&&(Oe[Fe]=N[Fe]);Oe.name=Ee,g.UNITS[Ee]=Oe}return delete te.cache,new g(null,D)},g.deleteUnit=function(D){delete g.UNITS[D],delete te.cache},g.PREFIXES=x,g.BASE_DIMENSIONS=K,g.BASE_UNITS=F,g.UNIT_SYSTEMS=ue,g.UNITS=Q,g},{isClass:!0}),Vu="unit",cv=["typed","Unit"],dv=ae(Vu,cv,e=>{var{typed:t,Unit:r}=e;return t(Vu,{Unit:function(i){return i.clone()},string:function(i){return r.isValuelessUnit(i)?new r(null,i):r.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new r(i,a)},"number | BigNumber | Fraction":function(i){return new r(i)},"Array | Matrix":t.referToSelf(n=>i=>nt(i,n))})}),$u="add",hv=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],pv=ae($u,hv,e=>{var{typed:t,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:s,concat:f}=e,c=Yf({typed:t}),h=g1({typed:t,equalScalar:i}),o=jf({typed:t,DenseMatrix:a}),u=ls({typed:t,matrix:r,concat:f});return t($u,{"any, any":n,"any, any, ...any":t.referToSelf(l=>(d,m,p)=>{for(var v=l(d,m),w=0;w<p.length;w++)v=l(v,p[w]);return v})},u({elop:n,DS:c,SS:h,Ss:o}))}),Hu="dot",mv=["typed","addScalar","multiplyScalar","conj","size"],vv=ae(Hu,mv,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:i,size:a}=e;return t(Hu,{"Array | DenseMatrix, Array | DenseMatrix":f,"SparseMatrix, SparseMatrix":c});function s(o,u){var l=h(o),d=h(u),m,p;if(l.length===1)m=l[0];else if(l.length===2&&l[1]===1)m=l[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+l.join(", ")+")");if(d.length===1)p=d[0];else if(d.length===2&&d[1]===1)p=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(m!==p)throw new RangeError("Vectors must have equal length ("+m+" != "+p+")");if(m===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return m}function f(o,u){var l=s(o,u),d=Je(o)?o._data:o,m=Je(o)?o._datatype||o.getDataType():void 0,p=Je(u)?u._data:u,v=Je(u)?u._datatype||u.getDataType():void 0,w=h(o).length===2,T=h(u).length===2,g=r,M=n;if(m&&v&&m===v&&typeof m=="string"&&m!=="mixed"){var A=m;g=t.find(r,[A,A]),M=t.find(n,[A,A])}if(!w&&!T){for(var y=M(i(d[0]),p[0]),I=1;I<l;I++)y=g(y,M(i(d[I]),p[I]));return y}if(!w&&T){for(var _=M(i(d[0]),p[0][0]),R=1;R<l;R++)_=g(_,M(i(d[R]),p[R][0]));return _}if(w&&!T){for(var P=M(i(d[0][0]),p[0]),Y=1;Y<l;Y++)P=g(P,M(i(d[Y][0]),p[Y]));return P}if(w&&T){for(var $=M(i(d[0][0]),p[0][0]),ne=1;ne<l;ne++)$=g($,M(i(d[ne][0]),p[ne][0]));return $}}function c(o,u){s(o,u);for(var l=o._index,d=o._values,m=u._index,p=u._values,v=0,w=r,T=n,g=0,M=0;g<l.length&&M<m.length;){var A=l[g],y=m[M];if(A<y){g++;continue}if(A>y){M++;continue}A===y&&(v=w(v,T(d[g],p[M])),g++,M++)}return v}function h(o){return Je(o)?o.size():a(o)}}),qu="det",gv=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Dv=ae(qu,gv,e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:i,divideScalar:a,isZero:s,unaryMinus:f}=e;return t(qu,{any:function(o){return He(o)},"Array | Matrix":function(o){var u;switch(Je(o)?u=o.size():Array.isArray(o)?(o=r(o),u=o.size()):u=[],u.length){case 0:return He(o);case 1:if(u[0]===1)return He(o.valueOf()[0]);if(u[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+We(u)+")");case 2:{var l=u[0],d=u[1];if(l===d)return c(o.clone().valueOf(),l);if(d===0)return 1;throw new RangeError("Matrix must be square (size: "+We(u)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+We(u)+")")}}});function c(h,o,u){if(o===1)return He(h[0][0]);if(o===2)return n(i(h[0][0],h[1][1]),i(h[1][0],h[0][1]));for(var l=!1,d=new Array(o).fill(0).map((I,_)=>_),m=0;m<o;m++){var p=d[m];if(s(h[p][m])){var v=void 0;for(v=m+1;v<o;v++)if(!s(h[d[v]][m])){p=d[v],d[v]=d[m],d[m]=p,l=!l;break}if(v===o)return h[p][m]}for(var w=h[p][m],T=m===0?1:h[d[m-1]][m-1],g=m+1;g<o;g++)for(var M=d[g],A=m+1;A<o;A++)h[M][A]=a(n(i(h[M][A],w),i(h[M][m],h[p][A])),T)}var y=h[d[o-1]][o-1];return l?f(y):y}}),Gu="inv",yv=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],bv=ae(Gu,yv,e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:i,multiply:a,unaryMinus:s,det:f,identity:c,abs:h}=e;return t(Gu,{"Array | Matrix":function(l){var d=Je(l)?l.size():wt(l);switch(d.length){case 1:if(d[0]===1)return Je(l)?r([n(1,l.valueOf()[0])]):[n(1,l[0])];throw new RangeError("Matrix must be square (size: "+We(d)+")");case 2:{var m=d[0],p=d[1];if(m===p)return Je(l)?r(o(l.valueOf(),m,p),l.storage()):o(l,m,p);throw new RangeError("Matrix must be square (size: "+We(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+We(d)+")")}},any:function(l){return n(1,l)}});function o(u,l,d){var m,p,v,w,T;if(l===1){if(w=u[0][0],w===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,w)]]}else if(l===2){var g=f(u);if(g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(u[1][1],g),n(s(u[0][1]),g)],[n(s(u[1][0]),g),n(u[0][0],g)]]}else{var M=u.concat();for(m=0;m<l;m++)M[m]=M[m].concat();for(var A=c(l).valueOf(),y=0;y<d;y++){var I=h(M[y][y]),_=y;for(m=y+1;m<l;)h(M[m][y])>I&&(I=h(M[m][y]),_=m),m++;if(I===0)throw Error("Cannot calculate inverse, determinant is zero");m=_,m!==y&&(T=M[y],M[y]=M[m],M[m]=T,T=A[y],A[y]=A[m],A[m]=T);var R=M[y],P=A[y];for(m=0;m<l;m++){var Y=M[m],$=A[m];if(m!==y){if(Y[y]!==0){for(v=n(s(Y[y]),R[y]),p=y;p<d;p++)Y[p]=i(Y[p],a(v,R[p]));for(p=0;p<d;p++)$[p]=i($[p],a(v,P[p]))}}else{for(v=R[y],p=y;p<d;p++)Y[p]=n(Y[p],v);for(p=0;p<d;p++)$[p]=n($[p],v)}}}return A}}}),wv="divide",Ev=["typed","matrix","multiply","equalScalar","divideScalar","inv"],xv=ae(wv,Ev,e=>{var{typed:t,matrix:r,multiply:n,equalScalar:i,divideScalar:a,inv:s}=e,f=Ln({typed:t,equalScalar:i}),c=Ur({typed:t});return t("divide",ff({"Array | Matrix, Array | Matrix":function(o,u){return n(o,s(u))},"DenseMatrix, any":function(o,u){return c(o,u,a,!1)},"SparseMatrix, any":function(o,u){return f(o,u,a,!1)},"Array, any":function(o,u){return c(r(o),u,a,!1).valueOf()},"any, Array | Matrix":function(o,u){return n(o,s(u))}},a.signatures))}),sn=Ap({config:Rt}),Pn=Sp({}),cs=Pp({}),ds=Vp({}),Xt=tm({Matrix:ds}),be=Nh({BigNumber:sn,Complex:Pn,DenseMatrix:Xt,Fraction:cs}),Zf=Bm({typed:be}),zn=Im({typed:be}),Av=T1({typed:be}),qt=dm({config:Rt,typed:be}),Ei=jm({typed:be}),Cv=j1({typed:be}),Fv=nm({typed:be}),Nv=om({equalScalar:qt,typed:be}),hs=E1({typed:be}),ps=bm({typed:be}),ms=mm({Matrix:ds,equalScalar:qt,typed:be}),vs=Lm({typed:be}),Mv=xm({BigNumber:sn,typed:be}),gs=_m({typed:be}),Kf=Fm({Fraction:cs,typed:be}),Sv=sm({typed:be}),pt=Mm({DenseMatrix:Xt,Matrix:ds,SparseMatrix:ms,typed:be}),_v=K1({bignumber:Mv,fraction:Kf,number:ps}),Tv=V1({matrix:pt,config:Rt,typed:be}),Hi=H1({BigNumber:sn,config:Rt,matrix:pt,typed:be}),Ds=O1({isInteger:Fv,matrix:pt,typed:be}),Un=X1({numeric:_v,typed:be}),Bv=sv({DenseMatrix:Xt,concat:Ds,equalScalar:qt,matrix:pt,typed:be}),Jf=R1({BigNumber:sn,DenseMatrix:Xt,SparseMatrix:ms,config:Rt,matrix:pt,typed:be}),ys=rv({BigNumber:sn,DenseMatrix:Xt,config:Rt,equalScalar:qt,matrix:pt,typed:be,zeros:Hi}),ot=F1({DenseMatrix:Xt,concat:Ds,equalScalar:qt,matrix:pt,subtractScalar:vs,typed:be,unaryMinus:gs}),Kr=pv({DenseMatrix:Xt,SparseMatrix:ms,addScalar:zn,concat:Ds,equalScalar:qt,matrix:pt,typed:be}),Ov=vv({addScalar:zn,conj:Av,multiplyScalar:hs,size:Tv,typed:be}),Iv=Qm({DenseMatrix:Xt,config:Rt,equalScalar:qt,matrix:pt,round:ys,typed:be,zeros:Hi}),xi=iv({Complex:Pn,config:Rt,divideScalar:Un,typed:be}),lt=A1({addScalar:zn,dot:Ov,equalScalar:qt,matrix:pt,multiplyScalar:hs,typed:be}),Rv=km({DenseMatrix:Xt,config:Rt,equalScalar:qt,matrix:pt,round:ys,typed:be,zeros:Hi}),Lv=Dv({divideScalar:Un,isZero:Nv,matrix:pt,multiply:lt,subtractScalar:vs,typed:be,unaryMinus:gs}),Pv=Km({Complex:Pn,DenseMatrix:Xt,ceil:Rv,equalScalar:qt,floor:Iv,matrix:pt,typed:be,zeros:Hi}),Xf=bv({abs:Zf,addScalar:zn,det:Lv,divideScalar:Un,identity:Jf,matrix:pt,multiply:lt,typed:be,unaryMinus:gs}),_n=ev({Complex:Pn,config:Rt,fraction:Kf,identity:Jf,inv:Xf,matrix:pt,multiply:lt,number:ps,typed:be}),zv=lv({BigNumber:sn,Complex:Pn,Fraction:cs,abs:Zf,addScalar:zn,config:Rt,divideScalar:Un,equal:Bv,fix:Pv,format:Cv,isNumeric:Sv,multiplyScalar:hs,number:ps,pow:_n,round:ys,subtractScalar:vs}),Jr=xv({divideScalar:Un,equalScalar:qt,inv:Xf,matrix:pt,multiply:lt,typed:be}),Ze=dv({Unit:zv,typed:be});const Uv=(e,t=Ze(0,"V"),r=Ze(5,"V"),n=Ze(0,"V"))=>{const i=ot(e,n),a=ot(t,n),s=ot(r,n),f=Ze(25.6,"mV"),c=Ze(.648,"V"),h=.8051,o=Ze(164e-8,"A"),u=Jr(ot(lt(h,ot(i,c)),a),lt(2,f)),l=Kr(lt(o,_n(xi(Kr(1,Ei(u))),2)),Ze(1,"fA")),d=Jr(ot(lt(h,ot(i,c)),s),lt(2,f)),m=lt(o,_n(xi(Kr(1,Ei(d))),2)),p=ot(l,m),v=Jr(p,l);return{I:p,IF:l,saturationLevel:v}},Vv=(e,t=Ze(5,"V"),r=Ze(0,"V"),n=Ze(5,"V"))=>{const i=ot(n,e),a=ot(n,t),s=ot(n,r),f=Ze(25.6,"mV"),c=Ze(.7283,"V"),h=.7609,o=Ze(6108e-10,"A"),u=Jr(ot(lt(h,ot(i,c)),a),lt(2,f)),l=Kr(lt(o,_n(xi(Kr(1,Ei(u))),2)),Ze(1,"fA")),d=Jr(ot(lt(h,ot(i,c)),s),lt(2,f)),m=lt(o,_n(xi(Kr(1,Ei(d))),2)),p=ot(l,m),v=Jr(p,l);return{I:p,IF:l,saturationLevel:v}};function qi(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}function Gi(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}Gi(qi("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Gi(qi("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));var $v=Gi(qi("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));Gi(qi("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function hn(e,t,r){this.k=e,this.x=t,this.y=r}hn.prototype={constructor:hn,scale:function(e){return e===1?this:new hn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new hn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};hn.prototype;class Qf{constructor(t=[]){ie(this,"dotPath");ie(this,"dotPercentage");ie(this,"dotSize");ie(this,"dotSpacing");ie(this,"gradientSize");this.dotPath=t,this.dotPercentage=0,this.dotSize=8,this.dotSpacing=20,t.length==0?this.gradientSize=0:this.gradientSize=Math.sqrt((t[t.length-1].end.x-t[0].start.x)**2+(t[t.length-1].end.y-t[0].start.y)**2)/2}draw(t){const r=this.getMovingDotPositions(this.dotPath,this.dotSpacing).map(i=>({center:i,outerDiameter:this.dotSize})),n=t.createRadialGradient(0,0,0,0,0,this.gradientSize);n.addColorStop(0,"rgba(0, 0, 255, 1)"),n.addColorStop(1,"rgba(0, 0, 255, 0)"),_d(t,r,this.dotSize/2,n)}updateDotPositionBasedOnTimestamp(t,r=10){const n=this.getDotSpeedFromCurrent(t);this.dotPercentage=Ea(this.dotPercentage+n*(r/1e3),1)}getMovingDotPositions(t,r){const n=Qo(t),i=[],a=Math.floor(n/r);for(let s=0;s<a;s++){const f=(s+this.dotPercentage)/a,c=Nd(t,f);i.push(c)}return i}getDotSpeedFromCurrent(t){let i=1,a=!1;return t==0?0:(t<0&&(t=Math.abs(t),a=!0),t>1e-4?i=(Math.log10(t/1e-4)+1)**2*1:i=1/(1-Math.log10(t/1e-4))**2*1,i>5*1?i=5*1:i<.001*1&&(i=.001*1),a?-i:i)}}class tt extends Mt{constructor(r,n,i,a,s,f,c,h,o=3,u=5,l=!1,d=pe.Visible,m=pe.Visible){super(r.translate({x:i,y:a}).scale(1/30).mirror(l,!1));ie(this,"mosfetType");ie(this,"mirror");ie(this,"currentDots");ie(this,"gradientSize");ie(this,"schematicEffects");ie(this,"vgs");ie(this,"vds");ie(this,"Vg");ie(this,"Vs");ie(this,"Vd");ie(this,"Vb");this.mosfetType=n,this.mirror=l,this.gradientSize=100,this.schematicEffects={gate:{node:s,origin:{x:30,y:0},color:"red",gradientSize:2},saturation:{node:c,origin:{x:0,y:30*(n=="nmos"?-1:1)},color:"red",gradientSize:100}},this.currentDots=new Qf([{start:{x:-15,y:-60},end:{x:-15,y:60}}]),this.Vg=s,this.Vs=f,this.Vd=c,this.Vb=h,this.mosfetType=="nmos"?(this.vgs=new qr(this.transformationMatrix,f,s,10,10,60,Ft(75),Ft(70),!0,0,o,"Vgs",d),this.vds=new qr(this.transformationMatrix,f,c,30,0,75,Ft(140),Ft(80),!1,0,u,"Vds",m)):(this.vgs=new qr(this.transformationMatrix,f,s,10,-10,60,Ft(-5),Ft(70),!0,-o,0,"Vsg",d,!0),this.vds=new qr(this.transformationMatrix,f,c,30,0,75,Ft(140),Ft(80),!1,-u,0,"Vsd",m,!0))}draw(r){this.transformationMatrix.transformCanvas(r);const n=[{start:{x:0,y:20},end:{x:0,y:59}},{start:{x:0,y:20},end:{x:26,y:20}},{start:{x:0,y:-20},end:{x:0,y:-59}},{start:{x:0,y:-20},end:{x:26,y:-20}},{start:{x:26,y:-40},end:{x:26,y:40}}],i=this.mosfetType=="nmos"?[{start:{x:40,y:30},end:{x:40,y:-30}},{start:{x:40,y:0},end:{x:60,y:0}}]:[{start:{x:40,y:30},end:{x:40,y:-30}},{start:{x:50,y:0},end:{x:60,y:0}}],a=this.mosfetType=="nmos"?[]:[{center:{x:45,y:0},outerDiameter:10}];this.gradientSize=this.getGradientSizeFromSaturationLevel();const s={x:0,y:-60*(this.mosfetType=="nmos"?1:-1)},f=ef(r,s,this.gradientSize,"rgba(200, 200, 200, 1)"),c=this.getForwardCurrentScaled(),h=this.getGateColorFromForwardCurrent();Rr(r,n,this.localLineThickness,"black"),Rr(r,i,this.localLineThickness,h),rs(r,a,this.localLineThickness,h),nf(r,n,this.localLineThickness,f),this.schematicEffects.saturation.gradientSize=this.gradientSize/30*3.5,this.schematicEffects.saturation.color="rgba(200, 200, 200, 1)",this.schematicEffects.gate.gradientSize=c*3.5,this.schematicEffects.gate.color=h,this.currentDots.draw(r);const o=ns(this.current,"A");let u="";for(const m of o)"-0123456789.".indexOf(m)>-1&&(u+=m);const l=o.slice(u.length);r.fillStyle="black",r.font="14px sans-serif";const d=this.fillTextGlobalReferenceFrame(r,{x:20,y:-3},u,!0,!0,14);r.font="14px sans-serif",this.fillTextGlobalReferenceFrame(r,d,l,!0,!0),this.vgs.draw(r),this.vds.draw(r)}get current(){return this.getMosfetCurrent()}get saturationLevel(){return this.getMosfetSaturationLevel()}get forwardCurrent(){return this.getMosfetForwardCurrent()}getMosfetEkvResult(){return this.mosfetType=="pmos"?Vv(Ze(this.Vg.value.voltage,"V"),Ze(this.Vs.value.voltage,"V"),Ze(this.Vd.value.voltage,"V"),Ze(this.Vb.value.voltage,"V")):Uv(Ze(this.Vg.value.voltage,"V"),Ze(this.Vs.value.voltage,"V"),Ze(this.Vd.value.voltage,"V"),Ze(this.Vb.value.voltage,"V"))}getMosfetCurrent(){return this.getMosfetEkvResult().I.toNumber("A")}getMosfetSaturationLevel(){return this.getMosfetEkvResult().saturationLevel}getMosfetForwardCurrent(){return this.getMosfetEkvResult().IF.toNumber("A")}getGradientSizeFromSaturationLevel(){return this.getRelativeScaling()*60*(1-this.saturationLevel)}getForwardCurrentScaled(){return di(0,1,Math.log10(this.forwardCurrent/.005)*.2+1)}getGateColorFromForwardCurrent(){const r=this.getForwardCurrentScaled();return $v(r)}}class Ht extends Mt{constructor(r,n,i,a,s,f,c=!1){super(r.translate(n).mirror(c,!1).scale(1/30));ie(this,"voltageDrop");ie(this,"vplus");ie(this,"vminus");ie(this,"schematicEffects");ie(this,"current");ie(this,"fixedAt");this.vplus=a,this.vminus=i,this.fixedAt=f,f=="gnd"?this.voltageDrop=new qr(this.transformationMatrix.mirror(!1,!1),i,a,0,0,50,Ft(40),Ft(80),!0,0,5,s,pe.Visible):this.voltageDrop=new qr(this.transformationMatrix.mirror(!1,!1),a,i,0,0,50,Ft(40),Ft(80),!0,-5,0,s,pe.Visible,!0),this.schematicEffects={},this.current=0}draw(r){this.transformationMatrix.transformCanvas(r);const n=30,i=11,a=10;r.strokeStyle="black",r.lineWidth=this.localLineThickness;const s=[{start:{x:0,y:n},end:{x:0,y:60}},{start:{x:0,y:-n},end:{x:0,y:-60}}],f=[{start:{x:i/2,y:-a},end:{x:-i/2,y:-a}},{start:{x:0,y:-a-i/2},end:{x:0,y:-a+i/2}},{start:{x:i/2,y:a},end:{x:-i/2,y:a}}],c=[{center:{x:0,y:0},outerDiameter:2*n}];Rr(r,s,this.localLineThickness,"black"),Rr(r,f,this.localLineThickness*.8,"black"),rs(r,c,this.localLineThickness,"black"),this.voltageDrop.draw(r)}}const Hv=()=>{const e=new On({x:0,y:-3},10,20);return e.nodes={[xe]:De(new Ne(rn,!0)),[Ye]:De(new Ne(nn,!0)),M1_drain:De(new Ne(5,!1,[{start:{x:0,y:-2},end:{x:0,y:-4}}])),M1_gate:De(new Ne(1,!1))},e.devices.mosfets={M1:new tt(e.transformationMatrix,"nmos",0,0,e.nodes.M1_gate,e.nodes[xe],e.nodes.M1_drain,e.nodes[xe])},e.devices.voltageSources={Vd:new Ht(e.transformationMatrix,{x:0,y:-6},e.nodes.M1_drain,e.nodes[Ye],"Vdd-Vd","vdd",!0)},e.schematic=new Zt(e.transformationMatrix,[{x:0,y:2}],[{x:0,y:-8}],[],Object.values(e.devices.mosfets),Object.values(e.nodes)),e},qv=()=>{const e=new On({x:0,y:4},25,20);return e.nodes={[xe]:De(new Ne(rn,!0,[{start:{x:0,y:8},end:{x:0,y:9}}])),[Ye]:De(new Ne(nn,!0,[{start:{x:-4,y:-2},end:{x:-4,y:-3}},{start:{x:4,y:-2},end:{x:4,y:-3}}])),M1_gate:De(new Ne(2,!1,[{start:{x:-8,y:1},end:{x:-8,y:0}},{start:{x:-8,y:0},end:{x:-6,y:0}}])),M2_gate:De(new Ne(2,!1,[{start:{x:8,y:1},end:{x:8,y:0}},{start:{x:8,y:0},end:{x:6,y:0}}])),Mb_gate:De(new Ne(.7,!1,[{start:{x:4,y:7},end:{x:4,y:6}},{start:{x:4,y:6},end:{x:2,y:6}}])),Vnode:De(new Ne(1,!1,[{start:{x:-4,y:2},end:{x:-4,y:3}},{start:{x:4,y:2},end:{x:4,y:3}},{start:{x:-4,y:3},end:{x:4,y:3}},{start:{x:0,y:3},end:{x:0,y:4}}],"V",[{x:-1,y:2.5}]))},e.devices.mosfets={Mb:new tt(e.transformationMatrix,"nmos",0,6,e.nodes.Mb_gate,e.nodes[xe],e.nodes.Vnode,e.nodes[xe],void 0,void 0,!1,pe.Locked,pe.Locked),M1:new tt(e.transformationMatrix,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes[Ye],e.nodes[xe],void 0,void 0,!0,pe.Locked,pe.Locked),M2:new tt(e.transformationMatrix,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes[Ye],e.nodes[xe],void 0,void 0,!1,pe.Locked,pe.Locked)},e.devices.voltageSources={V1:new Ht(e.transformationMatrix,{x:-8,y:3},e.nodes[xe],e.nodes.M1_gate,"V1","gnd",!0),V2:new Ht(e.transformationMatrix,{x:8,y:3},e.nodes[xe],e.nodes.M2_gate,"V2","gnd"),Vb:new Ht(e.transformationMatrix,{x:4,y:9},e.nodes[xe],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new Zt(e.transformationMatrix,[{x:0,y:9},{x:4,y:11},{x:-8,y:5},{x:8,y:5}],[{x:-4,y:-3},{x:4,y:-3}],[],Object.values(e.devices.mosfets),Object.values(e.nodes)),e};class el extends Mt{constructor(r,n,i,a){super(r.translate(i).scale(1/30));ie(this,"node");ie(this,"extraNodeLines");ie(this,"currentDots");this.node=n,this.extraNodeLines=a,this.currentDots=new Qf([{start:{x:10,y:-60},end:{x:10,y:60}}])}draw(r){this.transformationMatrix.scale(.5).transformCanvas(r);const n=7,i=[{start:{x:0,y:50},end:{x:0,y:n}},{start:{x:-30,y:n},end:{x:30,y:n}},{start:{x:-30,y:-n},end:{x:30,y:-n}},{start:{x:0,y:-60},end:{x:0,y:-n}}],a=this.transformationMatrix.transformPath(this.extraNodeLines);Rr(r,i,this.localLineThickness,"black"),Rr(r,a,this.localLineThickness,"black"),r.clearRect(-30-this.localLineThickness,-n+this.localLineThickness/2,60+2*this.localLineThickness,2*n-2*this.localLineThickness/2),Zt.drawGnd(r,{x:0,y:50},this.localLineThickness,30),this.currentDots.draw(r)}}ie(el,"displayCurrent",!1);const Gv=()=>{const e=new On({x:0,y:0},25,28);return e.nodes={[xe]:De(new Ne(rn,!0,[{start:{x:0,y:8},end:{x:0,y:9}}])),[Ye]:De(new Ne(nn,!0,[{start:{x:-4,y:-11},end:{x:-4,y:-12}},{start:{x:4,y:-11},end:{x:4,y:-12}}])),M1_gate:De(new Ne(2,!1,[{start:{x:-8,y:1},end:{x:-8,y:0}},{start:{x:-8,y:0},end:{x:-6,y:0}}])),M1_drain:De(new Ne(4,!1,[{start:{x:-4,y:-2},end:{x:-4,y:-7}},{start:{x:-4,y:-6},end:{x:-1,y:-6}},{start:{x:-1,y:-6},end:{x:-1,y:-9}},{start:{x:-2,y:-9},end:{x:2,y:-9}}])),M2_gate:De(new Ne(2,!1,[{start:{x:8,y:1},end:{x:8,y:0}},{start:{x:8,y:0},end:{x:6,y:0}}])),Vout:De(new Ne(4,!1,[{start:{x:4,y:-2},end:{x:4,y:-7}},{start:{x:4,y:-5},end:{x:6,y:-5}}],"Vout",[{x:6.5,y:-5}])),Mb_gate:De(new Ne(.7,!1,[{start:{x:4,y:7},end:{x:4,y:6}},{start:{x:4,y:6},end:{x:2,y:6}}])),Vnode:De(new Ne(1,!1,[{start:{x:-4,y:2},end:{x:-4,y:3}},{start:{x:4,y:2},end:{x:4,y:3}},{start:{x:-4,y:3},end:{x:4,y:3}},{start:{x:0,y:3},end:{x:0,y:4}}],"V",[{x:-1,y:2.5}]))},e.devices.mosfets={Mb:new tt(e.transformationMatrix,"nmos",0,6,e.nodes.Mb_gate,e.nodes[xe],e.nodes.Vnode,e.nodes[xe],void 0,void 0,!1,pe.Locked,pe.Locked),M1:new tt(e.transformationMatrix,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes.M1_drain,e.nodes[xe],void 0,void 0,!0,pe.Locked,pe.Locked),M2:new tt(e.transformationMatrix,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes.Vout,e.nodes[xe],void 0,void 0,!1,pe.Locked,pe.Locked),M3:new tt(e.transformationMatrix,"pmos",-4,-9,e.nodes.M1_drain,e.nodes[Ye],e.nodes.M1_drain,e.nodes[Ye],void 0,void 0,!1,pe.Locked,pe.Locked),M4:new tt(e.transformationMatrix,"pmos",4,-9,e.nodes.M1_drain,e.nodes[Ye],e.nodes.Vout,e.nodes[Ye],void 0,void 0,!0,pe.Locked,pe.Locked)},e.devices.voltageSources={V1:new Ht(e.transformationMatrix,{x:-8,y:3},e.nodes[xe],e.nodes.M1_gate,"V1","gnd",!0),V2:new Ht(e.transformationMatrix,{x:8,y:3},e.nodes[xe],e.nodes.M2_gate,"V2","gnd"),Vb:new Ht(e.transformationMatrix,{x:4,y:9},e.nodes[xe],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new Zt(e.transformationMatrix,[{x:0,y:9},{x:4,y:11},{x:-8,y:5},{x:8,y:5}],[{x:-4,y:-12},{x:4,y:-12}],[new el(e.transformationMatrix,e.nodes.Vout,{x:6,y:-4},[{start:{x:6,y:-5},end:{x:6,y:-4}}])],Object.values(e.devices.mosfets),Object.values(e.nodes)),e},kv=()=>{const e=new On({x:10,y:-2},50,30);return e.nodes={[xe]:De(new Ne(rn,!0,[{start:{x:0,y:8},end:{x:0,y:9}},{start:{x:24,y:8},end:{x:24,y:9}},{start:{x:16,y:8},end:{x:16,y:9}}])),[Ye]:De(new Ne(nn,!0,[{start:{x:-4,y:-14},end:{x:-4,y:-15}},{start:{x:4,y:-9},end:{x:4,y:-10}},{start:{x:16,y:-9},end:{x:16,y:-10}},{start:{x:24,y:-14},end:{x:24,y:-15}}])),M1_gate:De(new Ne(2,!1,[{start:{x:-8,y:1},end:{x:-8,y:0}},{start:{x:-8,y:0},end:{x:-6,y:0}}])),M1_drain:De(new Ne(4,!1,[{start:{x:-4,y:-2},end:{x:-4,y:-10}},{start:{x:-4,y:-9},end:{x:-1,y:-9}},{start:{x:-1,y:-9},end:{x:-1,y:-12}},{start:{x:-2,y:-12},end:{x:22,y:-12}}])),M2_gate:De(new Ne(2,!1,[{start:{x:8,y:1},end:{x:8,y:0}},{start:{x:8,y:0},end:{x:6,y:0}}])),M2_drain:De(new Ne(4,!1,[{start:{x:4,y:-2},end:{x:4,y:-5}},{start:{x:4,y:-4},end:{x:7,y:-4}},{start:{x:7,y:-4},end:{x:7,y:-7}},{start:{x:6,y:-7},end:{x:14,y:-7}}])),M7_drain:De(new Ne(1,!1,[{start:{x:16,y:-5},end:{x:16,y:4}},{start:{x:16,y:3},end:{x:19,y:3}},{start:{x:19,y:3},end:{x:19,y:6}},{start:{x:18,y:6},end:{x:22,y:6}}])),Vout:De(new Ne(2.5,!1,[{start:{x:24,y:4},end:{x:24,y:-10}},{start:{x:24,y:-3},end:{x:26,y:-3}}],"Vout",[{x:26.5,y:-3}])),Mb_gate:De(new Ne(1.1,!1,[{start:{x:4,y:7},end:{x:4,y:6}},{start:{x:4,y:6},end:{x:2,y:6}}])),Vnode:De(new Ne(1,!1,[{start:{x:-4,y:2},end:{x:-4,y:3}},{start:{x:4,y:2},end:{x:4,y:3}},{start:{x:-4,y:3},end:{x:4,y:3}},{start:{x:0,y:3},end:{x:0,y:4}}],"V",[{x:-1,y:2.5}]))},e.devices.mosfets={Mb:new tt(e.transformationMatrix,"nmos",0,6,e.nodes.Mb_gate,e.nodes[xe],e.nodes.Vnode,e.nodes[xe],void 0,void 0,!1,pe.Locked,pe.Locked),M1:new tt(e.transformationMatrix,"nmos",-4,0,e.nodes.M1_gate,e.nodes.Vnode,e.nodes.M1_drain,e.nodes[xe],void 0,void 0,!0,pe.Locked,pe.Locked),M2:new tt(e.transformationMatrix,"nmos",4,0,e.nodes.M2_gate,e.nodes.Vnode,e.nodes.M2_drain,e.nodes[xe],void 0,void 0,!1,pe.Locked,pe.Locked),M3:new tt(e.transformationMatrix,"pmos",-4,-12,e.nodes.M1_drain,e.nodes[Ye],e.nodes.M1_drain,e.nodes[Ye],void 0,void 0,!1,pe.Locked,pe.Locked),M4:new tt(e.transformationMatrix,"pmos",24,-12,e.nodes.M1_drain,e.nodes[Ye],e.nodes.Vout,e.nodes[Ye],void 0,void 0,!0,pe.Locked,pe.Locked),M5:new tt(e.transformationMatrix,"pmos",4,-7,e.nodes.M2_drain,e.nodes[Ye],e.nodes.M2_drain,e.nodes[Ye],void 0,void 0,!1,pe.Locked,pe.Locked),M6:new tt(e.transformationMatrix,"pmos",16,-7,e.nodes.M2_drain,e.nodes[Ye],e.nodes.M7_drain,e.nodes[Ye],void 0,void 0,!0,pe.Locked,pe.Locked),M7:new tt(e.transformationMatrix,"nmos",16,6,e.nodes.M7_drain,e.nodes[xe],e.nodes.M7_drain,e.nodes[xe],void 0,void 0,!1,pe.Locked,pe.Locked),M8:new tt(e.transformationMatrix,"nmos",24,6,e.nodes.M7_drain,e.nodes[xe],e.nodes.Vout,e.nodes[xe],void 0,void 0,!0,pe.Locked,pe.Locked)},e.devices.voltageSources={V1:new Ht(e.transformationMatrix,{x:-8,y:3},e.nodes[xe],e.nodes.M1_gate,"V1","gnd",!0),V2:new Ht(e.transformationMatrix,{x:8,y:3},e.nodes[xe],e.nodes.M2_gate,"V2","gnd"),Vb:new Ht(e.transformationMatrix,{x:4,y:9},e.nodes[xe],e.nodes.Mb_gate,"Vb","gnd")},e.schematic=new Zt(e.transformationMatrix,[{x:0,y:9},{x:4,y:11},{x:-8,y:5},{x:8,y:5},{x:24,y:9},{x:16,y:9}],[{x:-4,y:-15},{x:4,y:-10},{x:16,y:-10},{x:24,y:-15}],[],Object.values(e.devices.mosfets),Object.values(e.nodes)),e},Yv=()=>{const e=new On({x:0,y:3},10,20);return e.nodes={[xe]:De(new Ne(rn,!0)),[Ye]:De(new Ne(nn,!0)),M1_drain:De(new Ne(5,!1,[{start:{x:0,y:2},end:{x:0,y:4}}])),M1_gate:De(new Ne(1,!1))},e.devices.mosfets={M1:new tt(e.transformationMatrix,"pmos",0,0,e.nodes.M1_gate,e.nodes[Ye],e.nodes.M1_drain,e.nodes[Ye])},e.devices.voltageSources={Vd:new Ht(e.transformationMatrix,{x:0,y:6},e.nodes[xe],e.nodes.M1_drain,"Vd","gnd",!0)},e.schematic=new Zt(e.transformationMatrix,[{x:0,y:8}],[{x:0,y:-2}],[],Object.values(e.devices.mosfets),Object.values(e.nodes)),e},sa={nMosSingle:Hv(),nMosDiffPair:qv(),pMosSingle:Yv(),nMos5TransistorOpAmp:Gv(),nMos9TransistorOpAmp:kv()},tl=e=>(Mc("data-v-da9d9f3c"),e=e(),Sc(),e),jv={style:{position:"absolute",top:"10px",left:"10px"}},Wv=tl(()=>ft("h3",{style:{"text-align":"center"}},"Circuits",-1)),Zv=tl(()=>ft("div",{style:{border:"1px solid grey"}},null,-1)),Kv=["onClick"],Jv=["width","height"],Xv=Za({__name:"Diagram",setup(e){const t=De(null),r=De(null);let n=0;const i=De(null),a=De(!1),s=g=>{i.value&&!i.value.contains(g.target)&&(a.value=!1)},f=De("nMos9TransistorOpAmp"),c=Object.keys(sa),h=Dc(sa[f.value]),o=g=>{f.value=g,h.value=sa[g]},u=()=>{h.value.allSliders.forEach(g=>{g.updateSliderBasedOnNodeVoltages()})},l=()=>{h.value.allSliders.forEach(g=>{g.updateNodeVoltagesBasedOnSlider()})},d=g=>{if(!t.value)return{mouseX:0,mouseY:0};const M=t.value.getBoundingClientRect(),A=g.clientX-M.left,y=g.clientY-M.top;return{mouseX:A,mouseY:y}},m=g=>{const{mouseX:M,mouseY:A}=d(g);h.value.allSliders.forEach(y=>{y.checkDrag({x:M,y:A},g.button==1)}),p(g),document.addEventListener("mousemove",p),document.addEventListener("mouseup",v)},p=g=>{const{mouseX:M,mouseY:A}=d(g);for(const y in h.value.nodes){const I=h.value.nodes[y].value;I.capacitance=I.originalCapacitance}h.value.allSliders.forEach(y=>{y.dragSlider({x:M,y:A})}),l()},v=()=>{h.value.allSliders.forEach(g=>{g.releaseSlider()}),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",v)},w=()=>{!r.value||!t.value||(r.value.resetTransform(),r.value.clearRect(0,0,t.value.width,t.value.height),u(),h.value.draw(r.value))},T=g=>{const M=g-n;n=g,h.value.allSliders.forEach(A=>{A.adjustPreciseSlider(M),l()}),bd(h.value,M),Object.values(h.value.devices.mosfets).forEach(A=>{A.currentDots.updateDotPositionBasedOnTimestamp(A.current,M)}),Object.values(h.value.schematic.parasiticCapacitors).forEach(A=>{A.currentDots.updateDotPositionBasedOnTimestamp(A.node.value.netCurrent,M)}),w(),requestAnimationFrame(T)};return Ka(()=>{t.value&&(r.value=t.value.getContext("2d"),document.addEventListener("click",s),w(),requestAnimationFrame(T))}),Ja(()=>{}),(g,M)=>(Ir(),yn(Tt,null,[ft("div",jv,[ft("button",{onClick:M[0]||(M[0]=tu(A=>a.value=!a.value,["stop"]))},"Menu")]),vt(ts,null,{default:xo(()=>[Vc(ft("div",{ref_key:"sideBar",ref:i,style:{display:"flex","flex-direction":"column",width:"250px",height:"100vh",padding:"10px","background-color":"whitesmoke",position:"absolute"}},[Wv,Zv,(Ir(!0),yn(Tt,null,e0(ei(c),A=>(Ir(),yn("button",{onClick:tu(y=>o(A),["prevent"]),style:Tn(`margin-bottom: 10px; background-color: ${A===f.value?"rgb(200, 200, 200)":""};`)},ua(A),13,Kv))),256)),ft("button",{onClick:M[1]||(M[1]=A=>a.value=!1),style:{position:"absolute",bottom:"40px",right:"15px"}},"Close")],512),[[Y0,a.value]])]),_:1}),ft("canvas",{ref_key:"canvas",ref:t,width:ei(er).x,height:ei(er).y,onMousedown:m},null,40,Jv)],64))}}),Qv=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},eg=Qv(Xv,[["__scopeId","data-v-da9d9f3c"]]),tg={key:0},rg={style:{color:"white"}},ng={style:{color:"white"}},ig={style:{display:"flex","justify-content":"space-around"}},ag=Za({__name:"Tutorial",props:{setTutorialStep:{type:Function},data:{}},setup(e){const t=e;return(r,n)=>t.data.title!==""?(Ir(),yn("div",tg,[ft("div",{style:Tn(`background-color: #FF7F7F; border-radius: 10px; border: 2px solid red; position: absolute; max-width: 400px; padding: 20px; ${t.data.location?t.data.location.y:"top: 45vh"}; ${t.data.location?t.data.location.x:"left: calc(50vw - 200px"}); box-shadow: rgba(0, 0, 0, 0.4) 0px 8px 24px;`)},[ft("h3",rg,ua(t.data.title),1),ft("p",ng,ua(t.data.text),1),ft("div",ig,[ft("button",{onClick:n[0]||(n[0]=i=>r.setTutorialStep())},"Ok"),ft("button",{onClick:n[1]||(n[1]=i=>r.setTutorialStep(!0))},"Skip")])],4)])):Yo("",!0)}}),sg=Za({__name:"App",setup(e){const t=[{title:"",text:""},{title:"Welcome to Mosfets",text:"This will show you around the program."},{title:"Side Bar",text:"These buttons allow you to switch circuits.",location:{x:"left: 200px;",y:"top: 50px;"}},{title:"Circuits",text:"Highlighted sliders allow you to manipulate the voltages on each voltage source. Move one to see how they work.",location:{x:"right: 45vw;",y:"top: 200px;"}},{title:"Current",text:"Blue dots move relative to the current flowing through the mosfet. Move the orange voltage sliders to see it change.",location:{x:"right: 45vw;",y:"top: 200px;"}}],r=De(1),n=(f=!1)=>{f?r.value=t.length:r.value++,r.value>t.length-1&&(r.value=0)},a=De((()=>{const f="firstTimeLoad",c=localStorage.getItem(f)===null;return c&&localStorage.setItem(f,"false"),c})()),s=()=>{a.value=!0,r.value=1};return document.body.onmousedown=function(f){if(f.button==1)return f.preventDefault(),!1},(f,c)=>(Ir(),yn("div",null,[vt(eg),a.value?(Ir(),Go(ag,{key:0,data:t[r.value],setTutorialStep:n},null,8,["data"])):Yo("",!0),ft("button",{onClick:s,style:{position:"absolute",bottom:"5px",left:"5px"}},"?")]))}});hd(sg).mount("#app");
